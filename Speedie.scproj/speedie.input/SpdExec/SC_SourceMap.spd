

// now what?
// we don't need to go by line... actually.
// byteposes are good enough. Perry can store byteposes on the textviewline
// how does perry get them? Well... it starts off with it? collect before compile.

// so how to actually.... dump the actual byteposes?

module SourceMap
	|int|		 LastLength
	|faststring| Positions

	function Align (|jbin| j, |int| T, |&uint|)
		opt norefcounts
		|| p = .positions
			|| L = .LastLength
				p <~ (0|byte|, j.Length - (L+T))
			.LastLength = j.Length
			return p.Reserve(T)|&uint|
