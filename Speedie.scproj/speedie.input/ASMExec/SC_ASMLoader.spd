
/*
	Jeebox internals. By Theodore H. Smith...
*/


extend_module ASM

	function Init
		instruction.SET1.const
		instruction.SETK.const
		instruction.SETN.const	
		
	function ListInstructions
		|| fs = faststring()
		fs <~ "Opcodes:\n"
		|| n = 0
		debugger
		for opcode in Instruction.typelistsize
			|instruction--| inst = Instruction.typelist[opcode]
			fs.AppendIntegerAsText(opcode, 2)
			fs <~ " = ${inst.name}"
			fs <~ (' ', 4-inst.name.length)
			n++
			if n >= 7
				fs <~ "\n"
				n = 0
			  else
				fs <~ ",  "
			
		printline fs


