
/*
	Jeebox internals. By Theodore H. Smith...
*/


class SCObject
	|dictionary of SCBase|		LinkFrom
	|string|					Name
	|Message|					Source
	|uint16|					TableId
	|byte|						NoAutoComplete
	|Byte|						Dummy
	
	render
		|| cname = ((.class.name|uint64|)+2)|cstring|
		fs <~ cname
		fs <~ ": "
		fs <~ .name
	
	function SyntaxExpect ( |string| Error )
		cpp_part Fail
		printline .objectid
		StdErr.NewError( .source, Error )

	syntax equals (|string| s, |bool| aware, |bool|)
		return .name ~= s

	function File (|SCFile|)
		opt norefcounts
		|| src = .Source
			return src.SCFile
		if self isa SCModule
			return .cls.file?
	
	function AnySource (|message|)
		opt norefcounts
		|| s = .source
			return s
		if self isa scmodule
			|| c = .cls
				return c.sourcearg
