
// Auto-generated file, by speedie.

/* jeebox-licence:
    By Theodore H. Smith, 2019, theo@jeebox.org
	
    This software is provided 'as-is', without any warranty.
    In no event will the author be held liable for any damages
    arising from the use of this software.

    Permission is granted to anyone to use this software for any purpose,
    including commercially, and to alter it and redistribute it
    freely, subject to the following restrictions:

    1. The origin of this software must not be misrepresented; you must not
        claim that you wrote the original software.
    2. If you use this software or portions of this software in a product, you
        are required to acknowledge this in at least one of:
        About-window / launch-screen / help-files / read-me-file
    3. Altered source vershions must be plainly marked as such, and must not be
        misrepresented as being the original software.
    4. Any jeebox-licence note may not be removed/altered from any source distribution.
*/
#include "JB_Umbrella.hpp"
#include "JB.h"
#pragma GCC visibility push(hidden) // hidden

extern "C" {

extern JB_StringC* JB_LUB[2407];

extern Object_Behaviour JB_Object_FuncTable_;

int SC_ASMExamples__Init_() {
	{
	}
	;
	return 0;
}


JB_String* JB_App__AppPath() {
	if (JB_Platform__OSX()) {
		JB_String* _tmPf0 = JB_App__OrigPath();
		JB_Incr(_tmPf0);
		JB_String* _tmPf1 = JB_Str_BackToApp(_tmPf0);
		JB_Incr(_tmPf1);
		JB_EarlyDecr(_tmPf0);
		JB_SafeDecr(_tmPf1);
		return _tmPf1;
	}
	return JB_App__OrigPath();
}

JB_String* JB_App__Conf(JB_String* Name) {
	return JB_Msg_Value(JB_Msg_GetConf(JB__App__Conf, Name, false));
}

void JB_App__Crash(JB_String* Reason) {
	if (JB_Str_Exists(Reason)) {
		JB_PrintLine(Reason);
	}
	((byte*)-1)[0] = 0;
	JB_App__Quit(nil, -1);
}

ErrorInt JB_App__CWDSet(JB_String* Value) {
	JB_StringC* _tmPf0 = JB_File_PathFix(Value);
	JB_Incr(_tmPf0);
	ErrorInt _tmPf1 = JB_File__chdir(_tmPf0);
	JB_EarlyDecr(_tmPf0);
	return _tmPf1;
}

JB_String* JB_App__FileName() {
	JB_String* _tmPf0 = JB_App__OrigPath();
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = JB_Str_Name(_tmPf0);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

int JB_App__Init_() {
	{
		JB_SetRef(JB__App_Usage, JB_LUB[0]);
	}
	;
	return 0;
}

bool JB_App__IsMainThread() {
	return (!JB_LibIsThreaded());
}

ErrorInt JB_Main() {
	//cpp_name;
	//visible;
	SC_Comp__SetupEnv();
	SC_Comp__MiniTests();
	if (SC_Comp__EnterCompile()) {
		if (true) {
			JB_String* _tmPf2 = JB_Str_OperatorPlus(JB_LUB[1854], SC__Options_Variant);
			JB_Incr(_tmPf2);
			FlowControlStopper __varf1 = JB_Flow__Attempt(_tmPf2);
			JB_Decr(_tmPf2);
			FlowControlStopper _usingf0 = JB_flow_SyntaxUsing(__varf1);
			SC_Comp__CompileTime();
			DTWrap* _tmPf3 = JB_Wrap_ConstructorInt(nil, __varf1);
			JB_Incr(_tmPf3);
			JB_flow_SyntaxUsingComplete(_usingf0, _tmPf3);
			JB_Decr(_tmPf3);
		}
	}
	SC_Comp__PrintResults();
	return 0;
}

JB_String* JB_App__MemoryUsage(int Over, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	Array* Items = JB_Array_Constructor0(nil);
	JB_Incr(Items);
	{
		JB_Class* _LoopSrcf1 = JB_AllClasses();
		JB_Class* Cls = _LoopSrcf1;
		while (Cls) {
			int64 Mem = JB_Class_MemoryUsed(Cls);
			if (Mem > Over) {
				JB_String* _tmPf4 = JB_cstring_Wrap(Cls->Name);
				JB_Incr(_tmPf4);
				Message* S = JB_Msg_Constructor(nil, nil, kJB_SyxStr, _tmPf4);
				JB_Incr(S);
				JB_Decr(_tmPf4);
				S->Position = Mem;
				JB_Array_SyntaxAppend(Items, S);
				JB_Decr(S);
			}
			Cls = Cls->NextClass;
		};
	}
	;
	JB_Array_Sort(Items, ((FP_SorterComparer)((&JB_Msg__Sorter))));
	JB_FS_AppendByte(Fs, '\n');
	{
		int _if2 = 0;
		while (true) {
			Message* I = ((Message*)JB_Array_Value(Items, _if2));
			JB_Incr(I);
			if (I == nil) {
				JB_EarlyDecr(I);
				break;
			}
			JB_FS_MemoryReport(Fs, I->Name, I->Position);
			JB_Decr(I);
			(++_if2);
		};
	}
	;
	JB_Decr(Items);
	JB_FS_AppendByte(Fs, '\n');
	JB_FS_MemoryReport(Fs, JB_LUB[596], JB_MemCount());
	JB_FS_MemoryReport(Fs, JB_LUB[597], JB_MemUsedString());
	JB_FS_MemoryReport(Fs, JB_LUB[598], JB_MemUsedOther());
	JB_String* _tmPf5 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf5);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf5);
	return _tmPf5;
}

SpdProcess* JB_App__Parent(bool Expect) {
	if (JB__Proc_CheckedParent) {
		return JB__Proc__Parent;
	}
	JB__Proc_CheckedParent = true;
	if (PicoHasParentSocket()) {
		PicoComms* Comms = JB_Pico__New(JB_LUB[0], kJB__PicoNoise_Events);
		if (Comms) {
			return JB_Pico_UseAsParent(Comms);
		}
	}
	if (Expect) {
		if (true) {
			JB_Str_Fail(JB_LUB[1044]);
		}
	}
	return nil;
}

JB_String* JB_App__OrigPath() {
	//cpp_part;
	//visible;
	JB_String* P = JB__App__Path;
	if (P != nil) {
		return P;
	}
	P = ((JB_String*)JB_Dict_Value0(JB_App__Env(), JB_LUB[135]));
	if (P == nil) {
		P = JB_App__Path();
	}
	JB_SetRef(JB__App__Path, P);
	return P;
}

Message* JB_App__Prefs() {
	Message* P = JB__App__Prefs;
	if (!P) {
		JB_String* Path = JB_App__Conf(JB_LUB[2041]);
		if (!JB_Str_Exists(Path)) {
			Path = JB_Str_OperatorPlus(JB_Str_LowerCase(JB_App__FileName()), JB_LUB[2042]);
		}
		if (JB_Str_First(Path) != '/') {
			Path = JB_File__Prefs(Path);
		}
		P = JB_config__Create(Path);
		JB_SetRef(JB__App__Prefs, P);
	}
	return P;
}

void JB_PrintStackTrace() {
	//visible;
	//cpp_name;
	JB_String* Str = JB_App__StackTrace(2, nil);
	JB_Incr(Str);
	JB_Print(Str);
	JB_Decr(Str);
}

ExitCode JB_App__Say(JB_String* S, bool Print) {
	if (Print) {
		JB_PrintLine(S);
	}
	Array* _tmPf0 = (JB_Array_Constructor0(nil));
	JB_Incr(_tmPf0);
	JB_Array_SyntaxAppend(_tmPf0, S);
	ExitCode _tmPf1 = JB_Str_Execute(JB_LUB[136], _tmPf0, nil, nil, kJB__PIDM_StdOutPassThru, 0);
	JB_EarlyDecr(_tmPf0);
	return _tmPf1;
}

JB_String* JB_App__ArgValue(JB_String* Name) {
	JB_String* Rz = JB_LUB[0];
	//cpp_part;
	{
		Array* _LoopSrcf2 = JB_App__Args();
		int _if0 = 0;
		while (true) {
			JB_String* R = ((JB_String*)JB_Array_Value(_LoopSrcf2, _if0));
			if (R == nil) {
				break;
			}
			if (JB_Str_Equals(JB_Str_ArgName(R), Name, true)) {
				Rz = JB_Str_ArgValue(R);
				break;
			}
			(++_if0);
		};
	}
	;
	return Rz;
}

bool JB_App__Yes(JB_String* Name) {
	return JB_Str_Yes(JB_App__ArgValue(Name), nil);
}


int SC_AutoComplete__Init_() {
	{
		JB_SetRef(SC__AutoComplete_function_cls_only, JB_LUB[625]);
		JB_SetRef(SC__AutoComplete_function_anywhere, JB_LUB[626]);
		JB_SetRef(SC__AutoComplete_function_names, JB_Str_OperatorPlus(SC__AutoComplete_function_cls_only, JB_Str_OperatorPlus(JB_LUB[3], JB_Str_OperatorPlus(SC__AutoComplete_function_anywhere, JB_LUB[627]))));
		JB_SetRef(SC__AutoComplete_Functions, JB_Str_Dict(SC__AutoComplete_function_names, '/'));
	}
	;
	return 0;
}


SortComparison SC_CodeSorter__FPackID(SCObject* Self, SCObject* B) {
	int fA = ((int)Self->FPackID);
	int fB = ((int)B->FPackID);
	if ((!fA) or (!fB)) {
		if ((!fA) and (!fB)) {
			return ((SortComparison)(JB_Str_Compare(Self->ExportName, B->ExportName, false) <= -1));
		}
		return ((SortComparison)(!fB));
	}
	return ((SortComparison)(fB - fA));
}

SortComparison SC_CodeSorter__GPackID(SCDecl* Self, SCDecl* B) {
	int fA = ((int)Self->GPackID);
	int fB = ((int)B->GPackID);
	if ((!fA) or (!fB)) {
		if ((!fA) and (!fB)) {
			return SC_Decl__Sorter(Self, B);
		}
		return ((SortComparison)(!fB));
	}
	return ((SortComparison)(fB - fA));
}

SortComparison SC_CodeSorter__Leafness(SCFunction* Self, SCFunction* B) {
	int X = ((int)Self->LinkDepth) - ((int)B->LinkDepth);
	if (X < 0) {
		return ((SortComparison)1);
	}
	if (X == 0) {
		return ((SortComparison)(JB_Str_Compare(Self->ExportName, B->ExportName, false) <= -1));
	}
	return ((SortComparison)0);
}

void SC_CodeSorter__LeafsFirst() {
	{
		Array* _LoopSrcf2 = SC__Comp_FuncList;
		int _if0 = 0;
		while (true) {
			SCFunction* F = ((SCFunction*)JB_Array_Value(_LoopSrcf2, _if0));
			if (F == nil) {
				break;
			}
			SC_Func_FindDepths(F);
			(++_if0);
		};
	}
	;
	JB_Array_Sort(SC__Comp_FuncList, ((FP_SorterComparer)(SC_CodeSorter__Leafness)));
}

FP_SorterComparer SC_CodeSorter__PackID(bool IsFunc) {
	if (IsFunc) {
		return ((FP_SorterComparer)((&SC_CodeSorter__FPackID)));
	}
	return ((FP_SorterComparer)((&SC_CodeSorter__GPackID)));
}


void SC_Comp__AddFunny(Message* Msg, Message* Curr) {
	if (SC__Comp_HasFunny) {
		return;
	}
	SC__Comp_HasFunny = true;
	(JB_Msg_SyntaxProblem(Curr, JB_LUB[929]));
	Message* _tmPf0 = JB_Msg_Msg(Msg, kJB_SyxTmp, JB_LUB[930]);
	JB_Incr(_tmPf0);
	JB_Msg_AppendString(_tmPf0, JB_LUB[931]);
	JB_Decr(_tmPf0);
}

SCDecl* SC_Comp__AddGlobalConst(JB_String* Name, SCClass* C, uint /*NilState*/ Dcl) {
	SCDecl* D = SC_Decl_Constructor(nil, C);
	(SC_Decl_SyntaxIsSet(D, kSC__SCDeclInfo_Const, true));
	(SC_Decl_SyntaxIsSet(D, kSC__SCDeclInfo_NumberConst, true));
	D->NilDeclared = Dcl;
	JB_SetRef(D->IsLookupOnly, JB_LUB[0]);
	(SC_Decl_NameSet(D, Name));
	JB_SetRef(D->Default, JB_Syx_OperatorPlus(kJB_SyxThg, Name));
	SC_Base_TryAdd(SC__Comp_Program, nil, D, Name);
	return D;
}

void SC_Comp__AddGlobalConstFloat(JB_String* Name, SCClass* C, JB_String* Value) {
	SCDecl* D = SC_Comp__AddGlobalConst(Name, C, kSC__NilState_Real);
	JB_Incr(D);
	JB_SetRef(D->IsLookupOnly, JB_Syx_OperatorPlus(kJB_SyxNum, Value));
	(SC_Decl_NumberConstSet(D, JB_dbl_AsInt(JB_Str_Float(Value, false))));
	JB_Decr(D);
}

void SC_Comp__AddGlobalConstNum(JB_String* Name, SCClass* C, int64 Value) {
	SCDecl* D = SC_Comp__AddGlobalConst(Name, C, kSC__NilState_Real);
	JB_Incr(D);
	JB_SetRef(D->IsLookupOnly, JB_int64_Msg(Value));
	(SC_Decl_NumberConstSet(D, Value));
	JB_Decr(D);
}

bool SC_Comp__AddMain(int Mark) {
	SCFunction* F = SC__Comp_MainFunc;
	if (F) {
		F->BlindCasts = kJB__ErrorSeverity_Error;
	}
	 else {
		JB_PrintLine(JB_LUB[2231]);
		SC__Options_ProjectIsLibrary = true;
		JB_FreeIfDead(SC_Base_CollectStr(SC__Comp_Program, JB_LUB[2232]));
	}
	Message* Conf = SC__Comp_ConfMsg;
	if (Conf) {
		//using;
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Conf, (&_usingf0));
		Message* P = JB_Str_ParseJbin(((JB_LUB[2233])), 1073741824);
		Message* Abc = JB_Msg_FindNested(P, kJB_SyxStr, JB_LUB[640], false);
		if (Abc) {
			JB_SetRef(Abc->Name, JB_Msg_RenderJbin(SC__Comp_ConfMsg, JB_LUB[0], nil));
		}
		(JB_Ring_FirstSet(SC__Comp_AppInitCode, P));
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Conf);
		JB_MsgPos_Destructor((&_usingf0));
	}
	SCDecl* B = ((SCDecl*)JB_Ternary(SC__Options_ProjectIsLibrary, SC_TrueBool, SC_FalseBool));
	SC_Base_TryAdd(SC__Comp_Program, nil, B, JB_LUB[2234]);
	JB_StdErr->LowerErrorsTo = 0;
	return Mark == JB_StdErr->ErrorCount;
}

JB_String* SC_Comp__AddSCProj(JB_String* Path) {
	JB_String* Name = JB_Str_Name(Path);
	JB_Incr(Name);
	Ind Dot = JB_Str_FindByte(Name, '.', kJB__int_Max, 0);
	JB_Decr(Name);
	if (Dot > 0) {
		return Path;
	}
	return JB_Str_OperatorPlus(Path, JB_LUB[70]);
}

Dictionary* SC_Comp__Adj(Message* F) {
	Dictionary* D = SC__Comp_AdjDicts;
	if (JB_Msg_EqualsSyx(F, kJB_SyxThg)) {
		return ((Dictionary*)JB_Dict_Expect(D, F));
	}
	return ((Dictionary*)JB_Dict_Value0(D, JB_LUB[1076]));
}

void SC_Comp__AppBuildLibs(JB_File* Inner) {
	{
		Message* _LoopSrcf2 = SC__Linkage_OSXFrameworks;
		Message* Lib = ((Message*)JB_Ring_First(_LoopSrcf2));
		while (Lib) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Lib));
			if (JB_Msg_Expect(Lib, kJB_SyxStr, nil)) {
				SC_Comp__AppBuildOneLib(Inner, Lib->Name);
			}
			Lib = _Nf1;
		};
		;
	};
}

void SC_Comp__AppBuildOneLib(JB_File* Inner, JB_String* Name) {
	JB_File* _tmPf0 = JB_File_Parent(Inner);
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = JB_Str_OperatorPlus(JB_LUB[856], Name);
	JB_Incr(_tmPf1);
	JB_File* Ldest = JB_File_Sibling(_tmPf0, _tmPf1);
	JB_Incr(Ldest);
	JB_Decr(_tmPf0);
	JB_Decr(_tmPf1);
	if (JB_File_FileExistance(Ldest)) {
		JB_File_Delete(Ldest);
	}
	JB_String* _tmPf2 = JB_File__SpeedieDir();
	JB_Incr(_tmPf2);
	JB_String* Prefered = JB_Str_Child(_tmPf2, JB_LUB[857]);
	JB_Incr(Prefered);
	JB_Decr(_tmPf2);
	if (!SC_Comp__TryCopyLib(Ldest, Name, Prefered)) {
		SC_Comp__TryCopyLib(Ldest, Name, JB_LUB[858]);
	}
	JB_Decr(Ldest);
	JB_Decr(Prefered);
}

void SC_Comp__AppendCompilerTime(JB_String* S, int Durr) {
	SC_FS_AppendWidth(SC__Comp_TimerOutput, S, kSC__Comp_kTimeWidth);
	if (SC_Options__Color()) {
		JB_FS_AppendString(SC__Comp_TimerOutput, kJB__TerminalColor_Good);
	}
	JB_FS_AppendDurr(SC__Comp_TimerOutput, Durr);
	if (SC_Options__Color()) {
		JB_FS_AppendString(SC__Comp_TimerOutput, kJB__TerminalColor_Normal);
	}
	JB_FS_AppendByte2(SC__Comp_TimerOutput, '\n');
}

void SC_Comp__AppleBuildApp(JB_File* Product, JB_File* Project) {
	JB_String* Dest = JB_File_LinkToGet(Product);
	JB_Incr(Dest);
	if ((((JB_String*)JB_Str_Exists(Dest)))) {
		JB_Object_FailStr(Dest, JB_LUB[2092]);
		JB_EarlyDecr(Dest);
		return;
	}
	JB_Decr(Dest);
	SC_Comp__Stage(JB_LUB[2093]);
	JB_String* Name = SC_Comp__IdealName();
	JB_Incr(Name);
	JB_String* Prefered_name = JB_Str_OperatorPlus(Name, JB_LUB[2094]);
	JB_Incr(Prefered_name);
	JB_File* Final_app = JB_File_Sibling(Product, Prefered_name);
	JB_Incr(Final_app);
	JB_String* _tmPf0 = JB_Str_OperatorPlus(JB_LUB[2095], Prefered_name);
	JB_Incr(_tmPf0);
	JB_Decr(Prefered_name);
	JB_File* Copy_from = JB_File_Child(Project, _tmPf0);
	JB_Incr(Copy_from);
	JB_Decr(_tmPf0);
	JB_String* _tmPf1 = JB_Str_OperatorPlus(JB_LUB[2096], Name);
	JB_Incr(_tmPf1);
	JB_Decr(Name);
	JB_File* Inner = JB_File_SyntaxAccess(Final_app, _tmPf1);
	JB_Incr(Inner);
	JB_Decr(_tmPf1);
	if (JB_File_FileExistance(Copy_from)) {
		JB_File_CopyAll(Copy_from, Final_app, false);
	}
	JB_Decr(Copy_from);
	if (JB_ErrorInt_SyntaxCast(JB_File_MoveTo(Product, Inner))) {
		JB_SetRef(SC__Options_exe_path, Inner);
		SC_Comp__AppBuildLibs(Inner);
		SC_Comp__CodeSign(Final_app);
		JB_SetRef(SC__Options_output_path, Final_app);
		JB_File_Touch(Final_app);
	}
	JB_Decr(Final_app);
	JB_Decr(Inner);
}

bool SC_Comp__Banned(JB_String* Name) {
	Dictionary* B = SC__Options_BannedClasses;
	if (B) {
		return ((bool)JB_Dict_ValueLower(B, Name));
	}
	return false;
}

JB_File* SC_Comp__BuildFolder() {
	JB_File* B = SC__Comp__BuildFolder;
	if (!JB_File_FileExistance(B)) {
		JB_Str_MakeDir(B);
	}
	return B;
}

void SC_Comp__Bundle() {
	if (!((!SC_Comp__IsTest()) and (!SC__Options_ExternalCompile))) {
		return;
	}
	if (!SC_SC_Targets__SyntaxAccess(JB_LUB[1299])) {
		return;
	}
	if (SC_Linkage__SyntaxAccess(JB_LUB[2111])) {
		return;
	}
	JB_File* Pd = SC_Comp__ProductFile();
	JB_Incr(Pd);
	JB_File* Pj = SC__Comp_BaseProjectPath;
	JB_Incr(Pj);
	if (Pj) {
		SC_Comp__AppleBuildApp(Pd, Pj);
	}
	JB_Decr(Pd);
	JB_Decr(Pj);
}

JB_String* SC_Comp__CakeExt() {
	if (SC__Options_TargetDebug and SC__Options_CompileDebugSeparately) {
		return JB_LUB[8];
	}
	return JB_LUB[9];
}

JB_File* SC_Comp__CanTryModes() {
	JB_File* Rz = nil;
	if (!((!JB_Str_Exists(JB_App__ArgValue(JB_LUB[659]))) and (!JB_Str_Exists(JB_App__ArgValue(JB_LUB[660]))))) {
		return nil;
	}
	JB_String* P = ((JB_String*)JB_Array_Value(JB_App__Args(), 0));
	if (JB_Str_Exists(P) and (!JB_Str_Exists(JB_Str_ArgName(P)))) {
		Rz = JB_Str_AsFile(P);
	}
	return Rz;
}

void SC_Comp__CheckIsGoodLibrary() {
	if (SC__Options_ProjectIsLibrary) {
		if (!SC__Comp_API_Place) {
			JB_Str_Fail(JB_LUB[932]);
			return;
		}
	}
}

void SC_Comp__ClearEnvs() {
	Array* Allowed = JB_Str_OperatorDivide(JB_LUB[661], ' ');
	JB_Incr(Allowed);
	{
		Dictionary* _LoopSrcf2 = JB_App__Env();
		JB_Incr(_LoopSrcf2);
		DictionaryReader* _navf0 = JB_Dict_Navigate(_LoopSrcf2);
		JB_Incr(_navf0);
		JB_Decr(_LoopSrcf2);
		while (true) {
			JB_String* V = ((JB_String*)JB_DictionaryReader_NextValue(_navf0));
			JB_Incr(V);
			if (V == nil) {
				JB_EarlyDecr(V);
				break;
			}
			JB_Decr(V);
			JB_String* K = JB_Nav_Name(_navf0);
			JB_Incr(K);
			if (!JB_Ind_SyntaxCast(JB_Str_OpInList(K, Allowed))) {
				JB_StringC* _tmPf3 = JB_Str_CastZero(K);
				JB_Incr(_tmPf3);
				(JB_App__SetEnv(_tmPf3, nil));
				JB_Decr(_tmPf3);
			}
			JB_Decr(K);
		};
		JB_Decr(_navf0);
	}
	;
	JB_Decr(Allowed);
}

void SC_Comp__CodeSign(JB_File* Gui_exe) {
	Message* _tmPf0 = JB_App__Prefs();
	JB_Incr(_tmPf0);
	Message* Sign = JB_Msg_GetConf(_tmPf0, kJB_codesign_native, false);
	JB_Incr(Sign);
	if (Sign) {
		JB_String* _tmPf1 = JB_config_AsString(Sign);
		JB_Incr(_tmPf1);
		SC_File_CodeSign(Gui_exe, _tmPf1);
		JB_Decr(_tmPf1);
	}
	 else {
		JB_String* _tmPf3 = JB_File_Path(Gui_exe);
		JB_Incr(_tmPf3);
		JB_String* _tmPf2 = JB_Str_OperatorPlus(JB_LUB[2067], _tmPf3);
		JB_Incr(_tmPf2);
		JB_Decr(_tmPf3);
		JB_Rec__NewWarning(nil, _tmPf2, nil);
		JB_Decr(_tmPf2);
	}
	JB_Decr(Sign);
	JB_Decr(_tmPf0);
}

void SC_Comp__CollectConstants() {
	(SC_Func__CurrFuncSet(nil));
	{
		Message* _LoopSrcf2 = SC__Comp_ConstantsList;
		Message* Ch = ((Message*)JB_Ring_First(_LoopSrcf2));
		while (Ch) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Ch));
			SCNode* B = ((SCNode*)JB_Object_As(Ch->Obj, &SCNodeData));
			if (B) {
				SC_Base_CollectOneConstants(B, Ch);
			}
			Ch = _Nf1;
		};
		;
	};
}

void SC_Comp__CollectInbuiltSizes() {
	{
		JB_Class* _LoopSrcf1 = JB_AllClasses();
		JB_Class* Cd = _LoopSrcf1;
		while (Cd) {
			JB_String* Name = JB_cstring_Wrap(Cd->Name);
			JB_Incr(Name);
			if (JB_Str_Exists(Name)) {
				JB_Class* P = Cd->Parent;
				if (P and (P->Parent and ((JB_Str_Equals(Name, JB_LUB[733], true))))) {
					Cd = Cd->NextClass;
					JB_EarlyDecr(Name);
					continue;
				}
				SCClass* Cls = ((SCClass*)SC_Comp__FindClassName(Name, kSC__SCNodeFindMode_NoErrors));
				if (Cls) {
					if (Cls != SC_TypeTask) {
						Cls->ClsSize = Cd->Size;
					}
				}
			}
			JB_Decr(Name);
			Cd = Cd->NextClass;
		};
	};
}

bool SC_Comp__CollectIsaTests(Message* S) {
	S = SC_Msg_UnBra(S);
	if (JB_Msg_EqualsSyx(S, kJB_SyxRel)) {
		Message* L = ((Message*)JB_Ring_First(S));
		Message* Op = ((Message*)JB_Ring_NextSib(L));
		if (!(L and Op)) {
			JB_Msg_Fail(S, JB_LUB[831]);
			return nil;
		}
		if (JB_Msg_SyntaxEquals(Op, JB_LUB[479], false)) {
			Message* R2 = ((Message*)JB_Ring_Last(S));
			bool A2 = SC_Comp__CollectIsaTests(L);
			bool B2 = SC_Comp__CollectIsaTests(R2);
			return A2 or B2;
		}
		return ((!JB_Msg_SyntaxEquals(Op, JB_LUB[465], false)));
	}
	if (!JB_Msg_EqualsSyx(S, kJB_SyxFunc)) {
		return true;
	}
	Message* List = ((Message*)JB_Ring_Last(S));
	SCFunction* F = SC_Msg_AsFunc(List);
	if (!((JB_Object_Isa(F, &SCFunctionData)) and (SC_Func_SyntaxIs(F, kSC__FunctionType_TypeTest)))) {
		return true;
	}
	Message* L1 = ((Message*)JB_Ring_First(List));
	if (L1) {
		Message* R1 = ((Message*)JB_Ring_NextSib(L1));
		if (R1) {
			SCClass* Cls = SC_Msg_ObjCls(R1);
			if (Cls) {
				if (F == SC__Comp_fnIsa) {
					if (!SC_Class_SyntaxIs(Cls, kSC__ClassInfo_HasSubClass)) {
						JB_SetRef(List->Obj, SC__Comp_fnFastIsa);
					}
				}
				if (JB_Msg_EqualsSyx(L1, kJB_SyxThg)) {
					SC_IsaTester__SyntaxAppend(S);
					return true;
				}
			}
		}
	}
	return false;
}

void SC_Comp__CompileAll() {
	if (!SC_Comp__Stage(JB_LUB[2339])) {
		return;
	}
	SC_Comp__InitCompiler();
	SC_Comp__ImportAll();
	SC_Rec_ReturnErrors(SC_ErrorDelayer, JB_StdErr);
	if (!SC__Comp_InitedOK) {
		return;
	}
	SC_Comp__CheckIsGoodLibrary();
	if (SC_Comp__Stage(JB_LUB[2340])) {
		SC_Comp__DeadStrip();
	}
	if (SC_Comp__Stage(JB_LUB[2341])) {
		SC_Comp__Timer(JB_LUB[2341]);
		SC_nil__LaunchMothership();
	}
	if (!SC_Comp__Stage(JB_LUB[2342])) {
		return;
	}
	SC_Comp__Timer(JB_LUB[2342]);
	SC_Comp__DoRefAnalysis();
	if (!SC_Comp__Stage(JB_LUB[2343])) {
		return;
	}
	SC_Crkt__CorrectConsts();
	SC__Comp_Successfulness = (SC__Comp_Successfulness | JB_Rec_OK(JB_StdErr));
	SC_Intrinsics__Process();
	if (SC__Comp_InPerry or SC_Options__ModeCake()) {
		SC_Comp__Timer(JB_LUB[2344]);
		SC_PackMaker__MakePack();
	}
	if (!SC__Comp_InPerry) {
		SC_Intrinsics__Process();
		if (SC_Options__ModeCpp()) {
			SC__Comp_During = kSC__CompilerStage_CppExport;
			SC_Comp__Timer(JB_LUB[2345]);
			SC_Cpp__ExportAllSource();
		}
		SC_Imp__ExportShaders();
		if (SC_Comp__Stage(JB_LUB[2346])) {
			SC_Comp__TimerSub(JB_LUB[2347], SC__Comp_stParseTimeTotal);
			SC_Comp__Timer(JB_LUB[0]);
		}
	}
	SC__Comp_Successfulness = (SC__Comp_Successfulness | (JB_Rec_OK(JB_StdErr) << 1));
}

void SC_Comp__CompileTime() {
	if ((!JB_Str_Exists(SC__Options_output_path)) and SC__Options_HideawayScripts) {
		JB_SetRef(SC__Options_output_path, SC_Str_ScriptLocation(SC__Comp_OriginalInputPath, JB_LUB[2113]));
	}
	if (!SC__Options_Scripting) {
		if (SC__Options_SelfReplacement) {
			SC_Comp__FileSanityTests();
		}
		SC_Comp__VariousSelfTests();
	}
	JB_Duration Elapsed = ({
		Date Starttime = JB_Date__Now();
		(SC_Comp__CompileAll());
		 (JB_Date_Ago(Starttime));
	});
	SC_Comp__PrintCompileTime(Elapsed);
	if (!JB_Rec_OK(JB_StdErr)) {
		return;
	}
	SC_Ext__ExportAndInstall(Elapsed);
	if ((!SC__Options_Scripting) and JB_Rec_OK(JB_StdErr)) {
		SC_Crkt__CorrectStrings();
	}
}

bool SC_Comp__ConfBool(JB_String* Name, bool Default) {
	Message* _tmPf0 = JB_Msg_GetConf(SC__Comp_ConfMsg, Name, false);
	JB_Incr(_tmPf0);
	bool _tmPf1 = JB_Msg_Yes(_tmPf0, Default);
	JB_EarlyDecr(_tmPf0);
	return _tmPf1;
}

void SC_Comp__CreateDisambiguation() {
	JB_SetRef(SC__Comp_DisamClasses, SC_Mod__NewContainer(JB_LUB[1491]));
	JB_SetRef(SC__Comp_DisamModules, SC_Mod__NewContainer(JB_LUB[1492]));
	SC_Base_TryAdd(SC__Comp_Program, nil, SC__Comp_Program, JB_LUB[1493]);
}

void SC_Comp__CreateInitsAndMore() {
	{
		Array* _LoopSrcf2 = SC__Comp_ModuleList;
		int _if0 = 0;
		while (true) {
			SCModule* M = ((SCModule*)JB_Array_Value(_LoopSrcf2, _if0));
			if (M == nil) {
				break;
			}
			SC_Mod_Use(M);
			SC_SCBetterNode_LoadExportName(M);
			SC_Mod_CreateInitFunc(M);
			(++_if0);
		};
	};
}

void SC_Comp__CreateRoot() {
	SCModule* M = SC__Comp_InternalFile->Proj->Mod;
	JB_Incr(M);
	JB_SetRef(SC__Comp_Program, M);
	JB_SetRef(M->ExportName, JB_LUB[10]);
	JB_SetRef(M->Name, JB_LUB[11]);
	M->Parent = nil;
	JB_Decr(M);
}

void SC_Comp__DeadStrip() {
	{
		SCFunction* _t = SC__Comp_MainFunc;
		if (_t) {
			SC_Func_DetectIfReached(_t);
		}
	}
	;
	{
		Array* _LoopSrcf2 = SC__Comp_FuncList;
		int _if0 = 0;
		while (true) {
			SCFunction* F = ((SCFunction*)JB_Array_Value(_LoopSrcf2, _if0));
			if (F == nil) {
				break;
			}
			SC_Func_DetectIfReached(F);
			(++_if0);
		};
	}
	;
	{
		Array* _LoopSrcf5 = SC__PackMaker_LibGlobs;
		int _if3 = 0;
		while (true) {
			SCDecl* F = ((SCDecl*)JB_Array_Value(_LoopSrcf5, _if3));
			if (F == nil) {
				break;
			}
			SC_Decl_StoreExport(F);
			SC_Decl_Reach(F);
			(++_if3);
		};
	}
	;
	{
		Array* _LoopSrcf8 = SC__PackMaker_PackGlobs;
		int _if6 = 0;
		while (true) {
			SCDecl* F = ((SCDecl*)JB_Array_Value(_LoopSrcf8, _if6));
			if (F == nil) {
				break;
			}
			SC_Decl_Reach(F);
			(++_if6);
		};
	}
	;
	if (SC__Options_MakeExec) {
		{
			Array* _LoopSrcf11 = SC__Comp_ClassList;
			int _if9 = 0;
			while (true) {
				SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf11, _if9));
				if (C == nil) {
					break;
				}
				SC_Class_Reach(C, SC__Comp_Interpreter, nil);
				(++_if9);
			};
		};
	}
	{
		Array* _LoopSrcf14 = SC__Comp_ClassList;
		int _if12 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf14, _if12));
			if (C == nil) {
				break;
			}
			if (C->MyReacher) {
				SC_Class_ReachBehaviours(C);
			}
			(++_if12);
		};
	}
	;
	SC_CodeSorter__LeafsFirst();
	JB_Array_Sort(SC__Comp_ReachedClassTable, ((FP_SorterComparer)((&SC_Class__Sorter))));
	{
		Array* _LoopSrcf17 = SC__Comp_ReachedClassTable;
		int _if15 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf17, _if15));
			if (C == nil) {
				break;
			}
			int I = _if15;
			C->TableID = (I + 1);
			(++_if15);
		};
	};
}

void SC_Comp__DoRefAnalysis() {
	SC__Comp_During = kSC__CompilerStage_RefCounts;
	Array* List = JB_Array_Constructor0(nil);
	{
		Array* _LoopSrcf2 = SC__Comp_FuncList;
		int _if0 = 0;
		while (true) {
			SCFunction* F = ((SCFunction*)JB_Array_Value(_LoopSrcf2, _if0));
			if (F == nil) {
				break;
			}
			if (SC_Func_IsARealSpdFunc(F)) {
				JB_Array_Clear(List);
				SC_Func_AnalyseRefs(F, List);
			}
			(++_if0);
		};
	}
	;
	(SC_Func__CurrFuncSet(nil));
}

bool SC_Comp__EnterCompile() {
	if (SC_Comp__TryVariousStartModes()) {
		return nil;
	}
	if (!SC_FB__ParseArgs()) {
		return nil;
	}
	if (JB_Str_Exists(JB_App__ArgValue(JB_LUB[659])) and JB_App__Yes(JB_LUB[463])) {
		if (SC_AC__EnterAutoComplete()) {
			return false;
		}
	}
	return true;
}

JB_String* SC_Comp__exe() {
	JB_String* _tmP0 = SC__Options_exe_path;
	if (!JB_Str_Exists(_tmP0)) {
		_tmP0 = SC__Options_output_path;
	}
	return _tmP0;
}

void SC_Comp__FileSanityTests() {
	JB_File* A = JB_Str_AsFile(JB_LUB[1281]);
	JB_Incr(A);
	JB_File* B = JB_Str_AsFile(JB_LUB[1282]);
	JB_Incr(B);
	JB_String* _tmPf1 = JB_File_Path(A);
	JB_Incr(_tmPf1);
	JB_String* C = JB_Str_Child(_tmPf1, JB_LUB[1283]);
	JB_Incr(C);
	JB_Decr(_tmPf1);
	JB_String* _tmPf2 = JB_File_Path(B);
	JB_Incr(_tmPf2);
	JB_String* D = JB_Str_Child(_tmPf2, JB_LUB[1283]);
	JB_Incr(D);
	{
		int I = 0;
		while (I < 3) {
			if (JB_Rec_OK(JB_StdErr)) {
				SC_Comp__FileTestsSub(A, B, C, D);
			}
			(++I);
		};
		JB_Decr(_tmPf2);
	}
	;
	JB_Decr(C);
	JB_Decr(D);
	JB_File_DeleteAll(A, false);
	JB_Decr(A);
	JB_File_DeleteAll(B, false);
	JB_Decr(B);
}

void SC_Comp__FileTestsSub(JB_File* Dest, JB_File* Src, JB_String* A, JB_String* B) {
	JB_File_DeleteAll(Dest, false);
	JB_File_DeleteAll(Src, false);
	JB_String* Q = JB_LUB[1194];
	JB_Incr(Q);
	if (!((!JB_File_FileExistance(Dest)) and (!JB_File_FileExistance(Src)))) {
		JB_Str_Fail(Q);
		JB_EarlyDecr(Q);
		return;
	}
	JB_File_LinkToSet(Src, Dest);
	JB_Str_WriteAll(A, Q);
	JB_File* _tmPf0 = JB_Str_AsFile(B);
	JB_Incr(_tmPf0);
	JB_String* ReadBack = JB_File_ReadAll(_tmPf0, 134217728, true);
	JB_Incr(ReadBack);
	JB_Decr(_tmPf0);
	if ((!JB_Str_Equals(ReadBack, Q, false))) {
		JB_String* _tmPf1 = JB_Str_OperatorPlus(JB_LUB[1195], ReadBack);
		JB_Incr(_tmPf1);
		JB_Str_Fail(_tmPf1);
		JB_Decr(_tmPf1);
	}
	JB_Decr(Q);
	JB_Decr(ReadBack);
}

Message* SC_Comp__FindAdj(Message* Exp, Array* Prms) {
	Message* F = JB_Msg_NeedFirst(Exp);
	if (!F) {
		return nil;
	}
	Dictionary* D = SC_Comp__Adj(F);
	if (!D) {
		return nil;
	}
	Message* Name = JB_Msg_NeedSyxInt(Exp, kJB_SyxThg, 1);
	if (!Name) {
		return nil;
	}
	JB_SetRef(Name->Name, JB_Str_LowerCase(Name->Name));
	if ((Prms != nil) and ((!JB_Msg_EqualsSyx(F, kJB_SyxThg)))) {
		JB_Array_SyntaxAppend(Prms, F);
	}
	return ((Message*)JB_Dict_Expect(D, Name));
}

SCDecl* SC_Comp__FindClassType(Message* N) {
	SCModule* M = SC__Mod_Curr;
	if (!M) {
		M = SC__Comp_Program;
	}
	SCClass* C = SC_Base_FindClassMsg(M, N, kSC__SCNodeFindMode_WantAType);
	if (C) {
		return C->TypeNormal;
	}
	return nil;
}

SCFunction* SC_Comp__FindFunction(JB_String* Name) {
	return SC_Base_FindFunction(SC__Comp_Program, Name, nil);
}

SCModule* SC_Comp__FindModuleMsg(Message* Where, SCNodeFindMode Mode) {
	return SC_Base_FindModuleMsg(SC__Comp_Program, Where, Mode);
}

SCNode* SC_Comp__FindModuleOrClass(Message* Mod, bool Retry) {
	SCNode* Rz = nil;
	if ((JB_Msg_EqualsSyx(Mod, kJB_SyxName)) and (JB_Msg_SyntaxEquals(Mod, JB_LUB[11], false))) {
		return SC__Comp_Program;
	}
	SCModule* Module = SC_Comp__FindModuleMsg(Mod, kSC__SCNodeFindMode_NoErrors);
	if (!Module) {
		return nil;
	}
	if ((JB_Msg_EqualsSyx(Mod, kJB_SyxThg))) {
		Rz = Module->Cls;
		if (!(Rz or Retry)) {
			return nil;
		}
	}
	if (!Rz) {
		Rz = Module;
	}
	return Rz;
}

JB_File* SC_Comp__FindProject(JB_String* Path) {
	JB_File* P = JB_File_Parent(SC__Comp_BaseProjectPath);
	JB_Incr(P);
	JB_File* B = SC_Comp__FindProjectSub(P, Path);
	JB_Incr(B);
	JB_Decr(P);
	if (B) {
		JB_SafeDecr(B);
		return B;
	}
	JB_Decr(B);
	JB_String* _tmPf0 = SC_Comp__Projects();
	JB_Incr(_tmPf0);
	JB_File* A = SC_Comp__FindProjectSub(_tmPf0, Path);
	JB_Incr(A);
	JB_Decr(_tmPf0);
	if (A) {
		JB_SafeDecr(A);
		return A;
	}
	JB_EarlyDecr(A);
	return nil;
}

JB_File* SC_Comp__FindProjectSub(JB_String* Base, JB_String* Path) {
	JB_File* Rz = nil;
	JB_Incr(Rz);
	if (JB_Str_First(Path) == '/') {
		JB_EarlyDecr(Rz);
		return JB_Str_FileThatExists(Path, JB_LUB[1196]);
	}
	JB_String* First = Path;
	JB_Incr(First);
	Ind SlashPos = JB_Str_FindByte(Path, '/', 0, kJB__int_Max);
	if (JB_Ind_SyntaxCast(SlashPos)) {
		JB_SetRef(First, JB_Str_Range(Path, 0, SlashPos, false));
	}
	JB_SetRef(First, SC_Comp__AddSCProj(First));
	if (JB_Ind_SyntaxCast(SlashPos)) {
		JB_String* _tmPf0 = JB_Str_Range(Path, (SlashPos), kJB__int_Max, false);
		JB_Incr(_tmPf0);
		JB_SetRef(First, JB_Str_OperatorPlus(First, _tmPf0));
		JB_Decr(_tmPf0);
	}
	JB_SetRef(Rz, JB_Str_ChildFile(Base, First));
	JB_Decr(First);
	if (!JB_File_FileExistance(Rz)) {
		JB_SetRef(Rz, nil);
	}
	JB_SafeDecr(Rz);
	return Rz;
}

JB_String* SC_Comp__FindProjNoSuffix(JB_String* Path) {
	JB_String* Spd = JB_Str_OperatorPlus(Path, JB_LUB[69]);
	JB_Incr(Spd);
	if (JB_File_Exists(Spd)) {
		JB_SafeDecr(Spd);
		return Spd;
	}
	JB_EarlyDecr(Spd);
	return JB_Str_OperatorPlus(Path, JB_LUB[70]);
}

JB_File* SC_Comp__GeneratedCppsFolder() {
	if (!SC__Options_ExternalCompile) {
		return SC__Comp_TempFolder;
	}
	if (SC__Options_SelfReplacement) {
		return SC_Comp__BuildFolder();
	}
	return JB_File_SyntaxAccess(SC__Comp_BaseProjectPath, JB_LUB[1197]);
}

SCDecl* SC_Comp__GetTypeVoid() {
	SCDecl* Rz = nil;
	Rz = SC_TypeVoid;
	if (Rz) {
		return Rz;
	}
	Message* Msg = JB_Str_ParseJbin(((JB_LUB[1563])), 1073741824);
	SC_Base_CollectOne(SC__Comp_Program, Msg, false);
	SCClass* Vc = SC_Comp__FindClassName(JB_LUB[1431], 0);
	JB_SetRef(SC_TypeVoid_, Vc);
	if (!Vc) {
		JB_App__Quit(JB_LUB[1564], -1);
		return nil;
	}
	Rz = Vc->TypeNormal;
	JB_SetRef(SC_TypeVoid, Rz);
	JB_SetRef(SC_TypeVoidPtr, SC_Decl_GetAddress(Rz, kSC__DeclMode_Always));
	return Rz;
}

JB_String* SC_Comp__IdealName() {
	if (JB_Str_Exists(SC__Options_output_path)) {
		return JB_Str_TrimExtAndPath(SC__Options_output_path, true);
	}
	Message* S = JB_Msg_GetConf(SC__Comp_ConfMsg, JB_LUB[737], false);
	JB_Incr(S);
	if (S) {
		JB_String* _tmPf2 = S->Name;
		JB_Incr(_tmPf2);
		JB_EarlyDecr(S);
		JB_SafeDecr(_tmPf2);
		return _tmPf2;
	}
	JB_String* _tmPf0 = SC_Ext__ProductBaseName();
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = JB_Str_TrimExtAndPath(_tmPf0, true);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_EarlyDecr(S);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

void SC_Comp__ImportAll() {
	SC__Comp_During = kSC__CompilerStage_Import;
	SC_Comp__Timer(JB_LUB[2310]);
	if (!SC_Comp__Stage(JB_LUB[2311])) {
		return;
	}
	if (SC__Options_SelfReplacement) {
		if (!SC_VM_Builder__MakeTheVM()) {
			return;
		}
	}
	SC_Comp__ImportLibs();
	SC_Comp__ImportProj();
	JB_Array_Sort(SC__Imp_AllFiles, ((FP_SorterComparer)((&SC_File__Sorter))));
	SC_Comp__PrepareAST();
	if (!SC_Comp__Stage(JB_LUB[2312])) {
		return;
	}
	SC_Comp__Timer(JB_LUB[2312]);
	{
		Array* _LoopSrcf2 = SC__Imp_AllFiles;
		JB_Incr(_LoopSrcf2);
		int _if0 = 0;
		while (true) {
			SCFile* L = ((SCFile*)JB_Array_Value(_LoopSrcf2, _if0));
			JB_Incr(L);
			if (L == nil) {
				JB_EarlyDecr(L);
				break;
			}
			SC_Imp_Use(L->Proj);
			SC_Base_ImportFile(SC__Comp_Program, L);
			JB_Decr(L);
			(++_if0);
		};
		JB_Decr(_LoopSrcf2);
	}
	;
	SC_Comp__Stage(JB_LUB[2313]);
	int Mark = SC_Comp__InitBasicStuff();
	if (!(SC_Comp__AddMain(Mark) and SC__Comp_InitedOK)) {
		return;
	}
	JB__Tk_Using.Flags = kJB__MsgParseFlags_Inserted;
	SC_Imp__NoProj();
	SC_SCTasks__CollectAll();
	{
		Array* _LoopSrcf5 = SC__Comp_ClassList;
		JB_Incr(_LoopSrcf5);
		int _if3 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf5, _if3));
			JB_Incr(C);
			if (C == nil) {
				JB_EarlyDecr(C);
				break;
			}
			SC_Class_TryAddToProject(C);
			JB_Decr(C);
			(++_if3);
		};
		JB_Decr(_LoopSrcf5);
	}
	;
	if (!SC_Comp__Stage(JB_LUB[2314])) {
		return;
	}
	{
		Message* _LoopSrcf8 = SC__Comp_ExtendList;
		JB_Incr(_LoopSrcf8);
		Message* L = ((Message*)JB_Ring_First(_LoopSrcf8));
		JB_Incr(L);
		while (L) {
			Message* _Nf7 = ((Message*)JB_Ring_NextSib(L));
			JB_Incr(_Nf7);
			JB_FreeIfDead(SC_Class__ProcessExtend(L, true, nil));
			JB_SetRef(L, _Nf7);
			JB_Decr(_Nf7);
		};
		JB_Decr(L);
		;
		JB_Decr(_LoopSrcf8);
	}
	;
	{
		Array* _LoopSrcf11 = SC__Comp_ExtendModuleList;
		JB_Incr(_LoopSrcf11);
		int _if9 = 0;
		while (true) {
			Message* L = ((Message*)JB_Array_Value(_LoopSrcf11, _if9));
			JB_Incr(L);
			if (L == nil) {
				JB_EarlyDecr(L);
				break;
			}
			JB_FreeIfDead(SC_Class__ProcessExtend(L, false, nil));
			JB_Decr(L);
			(++_if9);
		};
		JB_Decr(_LoopSrcf11);
	}
	;
	if (!SC_Comp__InitBasicFuncs()) {
		return;
	}
	if (!SC_Comp__Stage(JB_LUB[2315])) {
		return;
	}
	{
		Array* _LoopSrcf14 = SC__Comp_ClassList;
		JB_Incr(_LoopSrcf14);
		int _if12 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf14, _if12));
			JB_Incr(C);
			if (C == nil) {
				JB_EarlyDecr(C);
				break;
			}
			SC_Class_CreateBehaviour(C);
			JB_Decr(C);
			(++_if12);
		};
		JB_Decr(_LoopSrcf14);
	}
	;
	if (!SC_Comp__Stage(JB_LUB[2316])) {
		return;
	}
	SC_Comp__LoadSuperClasses();
	if (!SC_Comp__Stage(JB_LUB[2317])) {
		return;
	}
	if (!SC_Comp__SortModulesAndClasses()) {
		return;
	}
	if (!SC_Comp__Stage(JB_LUB[2318])) {
		return;
	}
	{
		Array* _LoopSrcf17 = SC__Comp_ClassList;
		JB_Incr(_LoopSrcf17);
		int _if15 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf17, _if15));
			JB_Incr(C);
			if (C == nil) {
				JB_EarlyDecr(C);
				break;
			}
			SC_Class_DataTypePostLoad(C);
			JB_Decr(C);
			(++_if15);
		};
		JB_Decr(_LoopSrcf17);
	}
	;
	if (!SC_Comp__Stage(JB_LUB[2319])) {
		return;
	}
	{
		Array* _LoopSrcf20 = SC__Comp_ClassList;
		JB_Incr(_LoopSrcf20);
		int _if18 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf20, _if18));
			JB_Incr(C);
			if (C == nil) {
				JB_EarlyDecr(C);
				break;
			}
			SC_Class_ProcessBehaviours(C);
			JB_Decr(C);
			(++_if18);
		};
		JB_Decr(_LoopSrcf20);
	}
	;
	if (!JB_Rec_OK(JB_StdErr)) {
		return;
	}
	{
		Array* _LoopSrcf23 = SC__Comp_ClassList;
		JB_Incr(_LoopSrcf23);
		int _if21 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf23, _if21));
			JB_Incr(C);
			if (C == nil) {
				JB_EarlyDecr(C);
				break;
			}
			SC_Class_LoadClassType(C);
			SC_Class_ProcessInterfaces(C);
			JB_Decr(C);
			(++_if21);
		};
		JB_Decr(_LoopSrcf23);
	}
	;
	if (!SC_Comp__Stage(JB_LUB[2320])) {
		return;
	}
	{
		Array* _LoopSrcf26 = SC__Comp_ClassList;
		JB_Incr(_LoopSrcf26);
		int _if24 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf26, _if24));
			JB_Incr(C);
			if (C == nil) {
				JB_EarlyDecr(C);
				break;
			}
			SC_Class_ContainedTypeLoad(C);
			JB_Decr(C);
			(++_if24);
		};
		JB_Decr(_LoopSrcf26);
	}
	;
	if (!SC_Comp__Stage(JB_LUB[2321])) {
		return;
	}
	{
		Array* _LoopSrcf29 = SC__Comp_ClassList;
		JB_Incr(_LoopSrcf29);
		int _if27 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf29, _if27));
			JB_Incr(C);
			if (C == nil) {
				JB_EarlyDecr(C);
				break;
			}
			SC_Class_CollectProperties(C);
			JB_Decr(C);
			if (SC_Rec_TooMany(JB_StdErr)) {
				JB_EarlyDecr(_LoopSrcf29);
				return;
			}
			(++_if27);
		};
		JB_Decr(_LoopSrcf29);
	}
	;
	if (!SC_Comp__SortModulesAndClasses()) {
		return;
	}
	SC_Comp__CollectInbuiltSizes();
	{
		Array* _LoopSrcf32 = SC__Comp_ClassList;
		JB_Incr(_LoopSrcf32);
		int _if30 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf32, _if30));
			JB_Incr(C);
			if (C == nil) {
				JB_EarlyDecr(C);
				break;
			}
			SC_Class_CalculateSize(C, 0);
			SC_Class_LoadConstructors(C);
			JB_Decr(C);
			(++_if30);
		};
		JB_Decr(_LoopSrcf32);
	}
	;
	if (!SC_Comp__Stage(JB_LUB[2322])) {
		return;
	}
	SC_Comp__CollectConstants();
	JB_ClassData_Restore((&MessageData));
	SC_Imp__NoProj();
	if (SC__Comp_API_Place) {
		Message* Proj = JB_Msg_NeedSyx(SC__Comp_API_Place, kJB_SyxThg);
		JB_Incr(Proj);
		if (Proj) {
			{
				Array* _LoopSrcf35 = SC__Comp_API_List;
				JB_Incr(_LoopSrcf35);
				int _if33 = 0;
				while (true) {
					Message* M = ((Message*)JB_Array_Value(_LoopSrcf35, _if33));
					JB_Incr(M);
					if (M == nil) {
						JB_EarlyDecr(M);
						break;
					}
					SC_SC_API__DelayedClassAPI(M, Proj->Name);
					JB_Decr(M);
					(++_if33);
				};
				JB_Decr(_LoopSrcf35);
			};
		}
		JB_Decr(Proj);
	}
	if (!SC_Comp__Stage(JB_LUB[2323])) {
		return;
	}
	{
		Array* _LoopSrcf38 = SC__Comp_ClassList;
		JB_Incr(_LoopSrcf38);
		int _if36 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf38, _if36));
			JB_Incr(C);
			if (C == nil) {
				JB_EarlyDecr(C);
				break;
			}
			SC_SCBetterNode_LoadExportName(C);
			JB_Decr(C);
			(++_if36);
		};
		JB_Decr(_LoopSrcf38);
	}
	;
	if (!SC_Comp__Stage(JB_LUB[2324])) {
		return;
	}
	SC_Comp__CreateInitsAndMore();
	SC_Imp__NoProj();
	if (!SC_Comp__Stage(JB_LUB[2325])) {
		return;
	}
	{
		Array* _LoopSrcf41 = SC__Comp_ProtoTypes;
		JB_Incr(_LoopSrcf41);
		int _if39 = 0;
		while (true) {
			SCFunction* F = ((SCFunction*)JB_Array_Value(_LoopSrcf41, _if39));
			JB_Incr(F);
			if (F == nil) {
				JB_EarlyDecr(F);
				break;
			}
			SC_Func_ProtoExportName(F);
			SC_Func_FuncParamsLoad(F);
			SC_Func_MakeParamsReal(F);
			JB_Decr(F);
			(++_if39);
		};
		JB_Decr(_LoopSrcf41);
	}
	;
	(SC_Func__CurrFuncSet(nil));
	if (!JB_Rec_OK(JB_StdErr)) {
		return;
	}
	if (!SC_Comp__Stage(JB_LUB[2326])) {
		return;
	}
	{
		Array* _LoopSrcf44 = SC__Comp_FuncList;
		JB_Incr(_LoopSrcf44);
		int _if42 = 0;
		while (true) {
			SCFunction* F = ((SCFunction*)JB_Array_Value(_LoopSrcf44, _if42));
			JB_Incr(F);
			if (F == nil) {
				JB_EarlyDecr(F);
				break;
			}
			SC_Func_FuncParamsLoad(F);
			SC_SCBetterNode_LoadExportName(F);
			SC_Func_StoreExport(F);
			SC_Func_StatelessAccumulate(F);
			JB_Decr(F);
			if (SC_Rec_TooMany(JB_StdErr)) {
				JB_EarlyDecr(_LoopSrcf44);
				return;
			}
			(++_if42);
		};
		JB_Decr(_LoopSrcf44);
	}
	;
	(SC_Func__CurrFuncSet(nil));
	SCFunction* Fn = SC_Comp__XFunc(JB_LUB[2327], nil);
	JB_Incr(Fn);
	if (Fn) {
		(SC_Func_SyntaxIsSet(Fn, kSC__FunctionType_Killer, true));
	}
	JB_Decr(Fn);
	if (!SC_Comp__Stage(JB_LUB[2328])) {
		return;
	}
	{
		Array* _LoopSrcf47 = SC__Comp_ClassList;
		JB_Incr(_LoopSrcf47);
		int _if45 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf47, _if45));
			JB_Incr(C);
			if (C == nil) {
				JB_EarlyDecr(C);
				break;
			}
			JB_SetRef(C->ExportName, SC_Class_StructName(C));
			SC_Class_AfterFuncsDecled(C);
			JB_Decr(C);
			(++_if45);
		};
		JB_Decr(_LoopSrcf47);
	}
	;
	if (!SC_Comp__Stage(JB_LUB[2329])) {
		return;
	}
	{
		Array* _LoopSrcf50 = SC__Comp_ClassList;
		JB_Incr(_LoopSrcf50);
		int _if48 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf50, _if48));
			JB_Incr(C);
			if (C == nil) {
				JB_EarlyDecr(C);
				break;
			}
			SC_Class_AfterAfterFuncs(C);
			JB_Decr(C);
			(++_if48);
		};
		JB_Decr(_LoopSrcf50);
	}
	;
	if (!SC_Comp__Stage(JB_LUB[2330])) {
		return;
	}
	{
		Array* _LoopSrcf53 = SC__Comp_ModuleList;
		JB_Incr(_LoopSrcf53);
		int _if51 = 0;
		while (true) {
			SCModule* M = ((SCModule*)JB_Array_Value(_LoopSrcf53, _if51));
			JB_Incr(M);
			if (M == nil) {
				JB_EarlyDecr(M);
				break;
			}
			SC_Mod_InitDecls(M);
			JB_Decr(M);
			(++_if51);
		};
		JB_Decr(_LoopSrcf53);
	}
	;
	{
		Array* _LoopSrcf56 = SC__Imp_AllFiles;
		JB_Incr(_LoopSrcf56);
		int _if54 = 0;
		while (true) {
			SCFile* F = ((SCFile*)JB_Array_Value(_LoopSrcf56, _if54));
			JB_Incr(F);
			if (F == nil) {
				JB_EarlyDecr(F);
				break;
			}
			SC_File_CollectGlobals(F, SC__Comp_Program);
			JB_Decr(F);
			(++_if54);
		};
		JB_Decr(_LoopSrcf56);
	}
	;
	SC_Imp__NoProj();
	JB_ClassData_Restore((&MessageData));
	{
		Array* _LoopSrcf59 = SC__Comp_ModuleList;
		JB_Incr(_LoopSrcf59);
		int _if57 = 0;
		while (true) {
			SCModule* M = ((SCModule*)JB_Array_Value(_LoopSrcf59, _if57));
			JB_Incr(M);
			if (M == nil) {
				JB_EarlyDecr(M);
				break;
			}
			if (M != SC__Comp_Program) {
				SC_Mod_BaseDecls(M);
			}
			SC_Mod_GlobalsFix(M);
			SCClass* C = M->Cls;
			JB_Incr(C);
			JB_Decr(M);
			if (C) {
				SC_Class_RenameInterfaces(C);
			}
			JB_Decr(C);
			(++_if57);
		};
		JB_Decr(_LoopSrcf59);
	}
	;
	{
		Array* _LoopSrcf62 = SC_SortInitOrder(SC__Comp_ModuleList);
		JB_Incr(_LoopSrcf62);
		int _if60 = 0;
		while (true) {
			SCModule* M = ((SCModule*)JB_Array_Value(_LoopSrcf62, _if60));
			JB_Incr(M);
			if (M == nil) {
				JB_EarlyDecr(M);
				break;
			}
			SC_Mod_CallOurInitsByTheBiggerInitFunc(M);
			JB_Decr(M);
			(++_if60);
		};
		JB_Decr(_LoopSrcf62);
	}
	;
	SC_Comp__PostInitCodeCall();
	SC_Comp__Stage(JB_LUB[2331]);
	{
		Array* _LoopSrcf65 = SC__Comp_FuncList;
		JB_Incr(_LoopSrcf65);
		int _if63 = 0;
		while (true) {
			SCFunction* F = ((SCFunction*)JB_Array_Value(_LoopSrcf65, _if63));
			JB_Incr(F);
			if (F == nil) {
				JB_EarlyDecr(F);
				break;
			}
			SC_Func_BeforeTransform(F);
			JB_Decr(F);
			(++_if63);
		};
		JB_Decr(_LoopSrcf65);
	}
	;
	SC_Comp__Stage(JB_LUB[2332]);
	{
		Array* _LoopSrcf68 = SC__Comp_ClassList;
		JB_Incr(_LoopSrcf68);
		int _if66 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf68, _if66));
			JB_Incr(C);
			if (C == nil) {
				JB_EarlyDecr(C);
				break;
			}
			SC_Class_CheckIterator(C);
			JB_Decr(C);
			(++_if66);
		};
		JB_Decr(_LoopSrcf68);
	}
	;
	SC_Comp__Timer(JB_LUB[2333]);
	SC_Comp__Stage(JB_LUB[2334]);
	JB_String* _tmPf69 = SC_Func__NameList();
	JB_Incr(_tmPf69);
	JB_Flow__InputLine(_tmPf69, JB_LUB[2335]);
	JB_Decr(_tmPf69);
	SC_Func__TransformAll();
	SC_Comp__Stage(JB_LUB[2336]);
	SC_LinkMap__CollectAll();
	(SC_Func__CurrFuncSet(nil));
}

void SC_Comp__ImportLibs() {
	SC__Imp_STDLibTime = true;
	JB_SetRef(SC__Comp_Library, JB_Str_ChildFile(SC_Comp__Projects(), JB_LUB[2112]));
	SCImport* Lib = SC_Imp__ImportPath(JB_LUB[2112], SC__Comp_Library, 1, true);
	JB_FreeIfDead(SC_Imp__ImportPath(JB_LUB[1986], SC_Comp__Jeebox(), 1, true));
	SC__Comp_VisibleFuncs->Project = Lib;
	SC__Imp_STDLibTime = false;
	JB_File* ToUse = ((JB_File*)JB_Ternary(JB_Str_Exists(SC__Options_SingleFileInput), JB_Str_AsFile(SC__Options_SingleFileInput), SC__Comp_BaseProjectPath));
	JB_SetRef(SC__Comp_Project, SC_Imp_Constructor(nil, ToUse, false));
	SC__Imp_Curr = SC__Comp_Project;
	SC__Base_CurrVisibility = false;
	SC_Mod_CreateInitFuncSub(SC__Comp_Program, SC__Comp_AppInitGlobals, JB_LUB[2214]);
	SC__Base_CurrVisibility = true;
	SC_Mod_CreateInitFuncSub(SC__Comp_Program, SC__Comp_AppInitCode, JB_LUB[2296]);
}

void SC_Comp__ImportProj() {
	SC__Imp_STDLibTime = false;
	SCImport* Proj = SC__Comp_Project;
	JB_File* F = Proj->Where;
	if (!JB_Str_Equals(JB_File_Path(F), SC_Comp__Jeebox(), true)) {
		if (!SC_Imp__ImportPathSub(JB_LUB[0], F, Proj, JB_Str_LowerCase(JB_File_Path(F)))) {
			return;
		}
	}
}

int SC_Comp__Init_() {
	{
		JB_SetRef(SC__Comp_VisibleFuncs, SC_Base_ConstructorStr(nil, JB_LUB[1928]));
		JB_SetRef(SC__Comp_Interpreter, SC_Base_ConstructorStr(nil, JB_LUB[1929]));
		JB_SetRef(SC__Comp_OriginalInputPath, JB_LUB[0]);
		JB_SetRef(SC__Comp_InternalFile, SC_File_Constructor(nil, nil, SC_Imp_Constructor(nil, nil, true)));
		JB_SetRef(SC__Comp_ProjectName, JB_LUB[0]);
		JB_SetRef(SC__Comp_Numbers, JB_Dict_Constructor(nil));
		JB_SetRef(SC__Comp_TodoList, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Comp_ImportedList, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Comp_ImportedNames, JB_Dict_Constructor(nil));
		JB_SetRef(SC__Comp_AppInitCode, SC_Msg_WipePos((JB_Str_ParseJbin(((JB_LUB[1930])), 1073741824)), 0));
		JB_SetRef(SC__Comp_AppInitGlobals, SC_Msg_WipePos((JB_Str_ParseJbin(((JB_LUB[1931])), 1073741824)), 0));
		JB_SetRef(SC__Comp_Program, SC__Comp_InternalFile->Proj->Mod);
		JB_SetRef(SC__Comp_ClassList, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Comp_ReachedClassTable, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Comp_ModuleList, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Comp_FuncList, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Comp_ProtoTypes, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Comp_ActualSyxes, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Comp_ExportNames, JB_Dict_Constructor(nil));
		JB_SetRef(SC__Comp_ExportGlobs, JB_Dict_Constructor(nil));
		JB_SetRef(SC__Comp_AdjDicts, JB_Dict_Constructor(nil));
		JB_SetRef(SC__Comp_SyxArray, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Comp_ExtendList, JB_Msg_ConstructorEmpty(nil));
		JB_SetRef(SC__Comp_ConstantsList, JB_Msg_ConstructorEmpty(nil));
		JB_SetRef(SC__Comp_DeclConstants, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Comp_TasksList, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Comp_TasksTodo, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Comp_ExtendModuleList, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Comp_API_List, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Comp_API_Funcs, JB_Array_Constructor0(nil));
		SC__Comp_InitedOK = true;
		JB_SetRef(SC__Comp_StageName, JB_LUB[0]);
		JB_SetRef(SC__Comp_LastTimeName, JB_LUB[0]);
		JB_SetRef(SC__Comp_TimerOutput, JB_FS_Constructor(nil));
	}
	;
	return 0;
}

bool SC_Comp__InitBasicFuncs() {
	JB_SetRef(SC__Comp_RefSetRef, SC_Comp__LoadRefFunc(JB_LUB[1565]));
	JB_SetRef(SC__Comp_RefIncr, SC_Comp__LoadRefFunc(JB_LUB[1566]));
	JB_SetRef(SC__Comp_RefIncr2, SC_Comp__LoadRefFunc(JB_LUB[670]));
	JB_SetRef(SC__Comp_RefDecr, SC_Comp__LoadRefFunc(JB_LUB[826]));
	JB_SetRef(SC__Comp_RefEarlyDecr, SC_Comp__LoadRefFunc(JB_LUB[825]));
	JB_SetRef(SC__Comp_RefClear, SC_Comp__LoadRefFunc(JB_LUB[824]));
	JB_SetRef(SC__Comp_RefDecrMulti, SC_Comp__LoadRefFunc(JB_LUB[1567]));
	JB_SetRef(SC__Comp_RefEarlyDecrMulti, SC_Comp__LoadRefFunc(JB_LUB[1568]));
	JB_SetRef(SC__Comp_RefFreeIfDead, SC_Comp__LoadRefFunc(JB_LUB[1539]));
	JB_SetRef(SC__Comp_RefSafeDecr, SC_Comp__LoadRefFunc(JB_LUB[827]));
	JB_SetRef(SC__Comp_RefNew, SC_Comp__LoadRefFunc(JB_LUB[1569]));
	JB_SetRef(SC__Comp_SwapFunc, SC_Comp__FindFunction(JB_LUB[1289]));
	JB_SetRef(SC__Comp_TernaryFunc, SC_Comp__FindFunction(JB_LUB[1504]));
	JB_SetRef(SC__Comp_fnAs, SC_Comp__LoadTypeTest(JB_LUB[1570]));
	JB_SetRef(SC__Comp_fnFastAs, SC_Comp__LoadTypeTest(JB_LUB[1571]));
	JB_SetRef(SC__Comp_fnFastIsa, SC_Comp__LoadTypeTest(JB_LUB[1572]));
	JB_SetRef(SC__Comp_fnIsa, SC_Comp__LoadTypeTest(JB_LUB[1573]));
	JB_FreeIfDead(SC_Comp__LoadTypeTest(JB_LUB[587]));
	JB_FreeIfDead(SC_Comp__LoadTypeTest(JB_LUB[1574]));
	return JB_Rec_OK(JB_StdErr);
}

int SC_Comp__InitBasicStuff() {
	int Rz = 0;
	Rz = JB_StdErr->ErrorCount;
	if (Rz > 0) {
		JB_StdErr->LowerErrorsTo = kJB__ErrorSeverity_Warning;
		SC__Comp_InitedOK = false;
	}
	JB_ClassData_Restore((&MessageData));
	JB_Array_SyntaxAppend(SC__Comp_ModuleList, SC__Comp_Program);
	if (!SC_Comp__InitTypes()) {
		SC__Comp_InitedOK = false;
	}
	JB_SetRef(SC_TypeNil, SC_Comp__AddGlobalConst(JB_LUB[100], SC_TypeObject, kSC__NilState_ActuallyNil));
	JB_SetRef(SC_TrueBool, SC_Comp__AddGlobalConst(JB_LUB[6], SC_TypeBool, kSC__NilState_Real | kSC__NilState_TrueValue));
	JB_SetRef(SC_FalseBool, SC_Comp__AddGlobalConst(JB_LUB[7], SC_TypeBool, kSC__NilState_Real | kSC__NilState_FalseValue));
	(SC_Decl_NumberConstSet(SC_TrueBool, 1));
	SC_Comp__AddGlobalConstNum(JB_LUB[1871], SC_TypeInt, JB_Date_TimeID(SC__Imp_Recent));
	SC_Comp__AddGlobalConstNum(JB_LUB[1872], SC_TypeDate, JB_Date__Now());
	SC_Comp__AddGlobalConstNum(JB_LUB[1873], SC_TypeDate, SC__Imp_Recent);
	SC_Comp__AddGlobalConstFloat(JB_LUB[1822], SC_TypeFloat64, JB_LUB[1874]);
	SC_Comp__AddGlobalConstFloat(JB_LUB[1823], SC_TypeFloat64, JB_LUB[1875]);
	if (JB_StdErr->ErrorCount > Rz) {
		SC__Comp_InitedOK = false;
	}
	return Rz;
}

void SC_Comp__InitCompiler() {
	SC__Comp_During = kSC__CompilerStage_Initialising;
	if (!((({
		JB_String* _tmPf2 = SC_Comp__Projects();
		JB_Incr(_tmPf2);
		JB_File* _tmPf1 = JB_Str_ChildFile(_tmPf2, JB_LUB[2112]);
		JB_Incr(_tmPf1);
		JB_Decr(_tmPf2);
		bool _tmPf0 = JB_File_MustExist(_tmPf1, JB_LUB[0]);
		JB_EarlyDecr(_tmPf1);
		 _tmPf0;
	})) and JB_Rec_OK(JB_StdErr))) {
		return;
	}
	SC_Opp__Init();
	SC_Cpp__Init();
	if (!SC__Comp_Files) {
		JB_SetRef(SC__Comp_Files, JB_Dict_Constructor(nil));
	}
	JB_FS_AppendByte(SC__Comp_TimerOutput, '\n');
	Message* _tmPf3 = JB_Syx_Msg(kJB_SyxStr, JB_LUB[0]);
	JB_Incr(_tmPf3);
	SC_Crkt__CollectString(_tmPf3);
	JB_Decr(_tmPf3);
	SC__Comp_CurrStage = 1;
	SC__SC_UniqueNum = 100;
	if (JB_Str_Exists(SC__Options_SingleFileInput)) {
		if (JB_FreeIfDead(JB_App__Parent(false))) {
			JB_String* _tmPf4 = SC_Str_ScriptContainer(SC__Comp_OriginalInputPath, JB_LUB[2113]);
			JB_Incr(_tmPf4);
			JB_SetRef(SC__Comp__BuildFolder, JB_Str_AsFile(_tmPf4));
			JB_Decr(_tmPf4);
		}
		 else {
			JB_SetRef(SC__Comp__BuildFolder, SC__Comp_BaseProjectPath);
		}
	}
	 else {
		JB_String* _tmPf6 = SC_Comp__VariantSuffix();
		JB_Incr(_tmPf6);
		JB_String* _tmPf5 = JB_Str_OperatorPlus(JB_LUB[1214], _tmPf6);
		JB_Incr(_tmPf5);
		JB_Decr(_tmPf6);
		JB_SetRef(SC__Comp__BuildFolder, JB_File_SyntaxAccess(SC__Comp_BaseProjectPath, _tmPf5));
		JB_Decr(_tmPf5);
	}
	JB_String* _tmPf7 = SC_Ext__ProjTmpPath();
	JB_Incr(_tmPf7);
	JB_File* T = JB_Str_AsFile(_tmPf7);
	JB_Incr(T);
	JB_Decr(_tmPf7);
	JB_SetRef(SC__Comp_TempFolder, T);
	JB_Str_MakeEntirePath(T, true);
	JB_Decr(T);
	JB_File* _tmPf8 = SC_Comp__GeneratedCppsFolder();
	JB_Incr(_tmPf8);
	JB_Str_MakeEntirePath(_tmPf8, true);
	JB_Decr(_tmPf8);
	SC_Comp__CreateRoot();
	SC_Comp__CreateDisambiguation();
	JB_Array_SyntaxAppend(SC__Imp_AllFiles, SC__Comp_InternalFile);
}

bool SC_Comp__InitTypes() {
	SC__Comp_InBuiltType = kSC__SCNodeInfo_InBuiltDataType;
	JB_SetRef(SC_TypeInt, SC_Comp__FindClassName(JB_LUB[167], 0));
	JB_SetRef(SC_TypeInt16, SC_Comp__FindClassName(JB_LUB[180], 0));
	JB_SetRef(SC_TypeInt64, SC_Comp__FindClassName(JB_LUB[168], 0));
	JB_SetRef(SC_TypeuInt, SC_Comp__FindClassName(JB_LUB[193], 0));
	JB_SetRef(SC_TypeuInt16, SC_Comp__FindClassName(JB_LUB[179], 0));
	JB_SetRef(SC_TypeuInt64, SC_Comp__FindClassName(JB_LUB[184], 0));
	JB_FreeIfDead(SC_Comp__FindClassName(JB_LUB[188], 0));
	JB_SetRef(SC_Typefloat, SC_Comp__FindClassName(JB_LUB[164], 0));
	JB_SetRef(SC_TypeFloat64, SC_Comp__FindClassName(JB_LUB[1844], 0));
	JB_SetRef(SC_TypeBool, SC_Comp__FindClassName(JB_LUB[159], 0));
	JB_SetRef(SC_TypeString, SC_Comp__FindClassName(JB_LUB[124], 0));
	JB_SetRef(SC_TypeStringZero, SC_Comp__FindClassName(JB_LUB[1845], 0));
	JB_SetRef(SC_TypeByte, SC_Comp__FindClassName(JB_LUB[162], 0));
	JB_SetRef(SC_TypeChar, SC_Comp__FindClassName(JB_LUB[200], 0));
	JB_SetRef(SC_TypeCodePoint, SC_Comp__FindClassName(JB_LUB[1846], 0));
	JB_SetRef(SC_TypeVec2, SC_Comp__FindClassName(JB_LUB[190], 0));
	JB_SetRef(SC_TypeVec3, SC_Comp__FindClassName(JB_LUB[191], 0));
	JB_SetRef(SC_TypeVec4, SC_Comp__FindClassName(JB_LUB[192], 0));
	JB_SetRef(SC_TypeiVec2, SC_Comp__FindClassName(JB_LUB[185], 0));
	JB_SetRef(SC_TypeiVec3, SC_Comp__FindClassName(JB_LUB[186], 0));
	JB_SetRef(SC_TypeiVec4, SC_Comp__FindClassName(JB_LUB[187], 0));
	JB_SetRef(SC_TypeDate, SC_Comp__FindClassName(JB_LUB[1847], 0));
	JB_SetRef(SC_TypeDuration, SC_Comp__FindClassName(JB_LUB[1848], 0));
	JB_SetRef(SC_TypeJBClass, SC_Comp__FindClassName(JB_LUB[1849], 0));
	JB_SetRef(SC_TypeTask, SC_Comp__FindClassName(JB_LUB[1161], 0));
	JB_SetRef(SC_TypeObject, SC_Comp__FindClassName(JB_LUB[572], 0));
	JB_SetRef(SC_TypeSyntax, SC_Comp__FindClassName(JB_LUB[639], 0));
	JB_SetRef(SC_TypeWrapper, SC_Comp__FindClassName(JB_LUB[1813], 0));
	JB_SetRef(SC_TypeDictionary, SC_Comp__FindClassName(JB_LUB[1850], 0));
	JB_FreeIfDead(SC_Comp__FindClassName(JB_LUB[1851], 0));
	JB_SetRef(SC_TypeArray, SC_Comp__FindClassName(JB_LUB[1852], 0));
	if (JB_Rec_OK(JB_StdErr) and SC_Comp__GetTypeVoid()) {
		JB_SetRef(SC_TypeStringZero->DowngradeTo, SC_TypeString);
		(SC_Class_SyntaxIsSet(SC_TypeString, kSC__ClassInfo_HasSubClass, true));
		{
			Array* _LoopSrcf2 = SC__Comp_ActualSyxes;
			JB_Incr(_LoopSrcf2);
			int _if0 = 0;
			while (true) {
				SCDecl* S = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
				JB_Incr(S);
				if (S == nil) {
					JB_EarlyDecr(S);
					break;
				}
				JB_SetRef(S->Type, SC_TypeSyntax);
				JB_Decr(S);
				(++_if0);
			};
			JB_Decr(_LoopSrcf2);
		};
	}
	SC__Comp_InBuiltType = 0;
	return JB_Rec_OK(JB_StdErr);
}

JB_File* SC_Comp__InputFile(JB_String* S, Message* Where) {
	if ((JB_Str_ContainsString(S, JB_LUB[1284]))) {
		JB_Msg_Fail(Where, JB_LUB[1285]);
		return nil;
	}
	return SC_Comp__InputFileAlways(S);
}

JB_File* SC_Comp__InputFileAlways(JB_String* S) {
	JB_File* Rz = nil;
	SCImport* C = SC__Imp_Curr;
	if (C) {
		JB_File* Found = ((JB_File*)JB_Dict_ValueLower(C->Resources, S));
		if (Found) {
			return Found;
		}
	}
	int Best = kJB__int_Max;
	{
		Array* _LoopSrcf2 = SC__Comp_ImportedList;
		int _if0 = 0;
		while (true) {
			SCImport* Imp = ((SCImport*)JB_Array_Value(_LoopSrcf2, _if0));
			if (Imp == nil) {
				break;
			}
			if (Imp->Depth < Best) {
				JB_File* F = ((JB_File*)JB_Dict_ValueLower(Imp->Resources, S));
				if (F) {
					Rz = F;
					Best = Imp->Depth;
				}
			}
			(++_if0);
		};
	}
	;
	if (!Rz) {
		Rz = JB_File_SyntaxAccess(SC__Comp_BaseProjectPath, S);
	}
	return Rz;
}

bool SC_Comp__IsTest() {
	JB_String* _tmPf0 = JB_App__FileName();
	JB_Incr(_tmPf0);
	bool _tmPf1 = (JB_Str_ContainsString(_tmPf0, JB_LUB[71]));
	JB_EarlyDecr(_tmPf0);
	return _tmPf1;
}

JB_File* SC_Comp__Jeebox() {
	return ({
		JB_File* _X = SC__Comp_JeeboxProj_;
		if (_X == nil) {
			_X = JB_Str_ChildFile(SC_Comp__Projects(), JB_LUB[685]);
			JB_SetRef(SC__Comp_JeeboxProj_, _X);
		}
		 _X;
	});
}

SCFunction* SC_Comp__LoadRefFunc(JB_String* Name) {
	SCFunction* O = SC_Comp__FindFunction(Name);
	if (O) {
		(SC_Func_SyntaxIsSet(O, kSC__FunctionType_Reffer, true));
		return O;
	}
	return nil;
}

void SC_Comp__LoadSuperClasses() {
	{
		Array* _LoopSrcf2 = SC__Comp_ClassList;
		int _if0 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf2, _if0));
			if (C == nil) {
				break;
			}
			SC_Class_LoadSuperClass(C);
			(++_if0);
		};
	}
	;
	{
		Array* _LoopSrcf5 = SC__Comp_ClassList;
		int _if3 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf5, _if3));
			if (C == nil) {
				break;
			}
			SC_Class_LoadSuperBehaviours(C);
			(++_if3);
		};
	};
}

SCFunction* SC_Comp__LoadTypeTest(JB_String* S) {
	SCObject* F = SC_Base_SyntaxAccessWithStr(SC_TypeObject, S);
	if (JB_Object_FastIsa(F, &SCFunctionData)) {
		(SC_Func_SyntaxIsSet(((SCFunction*)F), kSC__FunctionType_TypeTest, true));
		return ((SCFunction*)F);
	}
	return nil;
}

void SC_Comp__MiniTests() {
	SC_Comp__TestDate();
}

void SC_Comp__NewConst(SCDecl* D) {
	D->NilDeclared = kSC__NilState_Real;
	SC_Decl_SyntaxAppend(D, kSC__SCDeclInfo_Const);
	JB_Array_SyntaxAppend(SC__Comp_DeclConstants, D);
}

void SC_Comp__PostInitCodeCall() {
	if (SC__Comp_Program->InitCodeArg) {
		Message* _tmPf0 = JB_Str_ParseJbin(((JB_LUB[1494])), 1073741824);
		JB_Incr(_tmPf0);
		JB_Tree_SyntaxAppend(SC__Comp_Program->InitVarsArg, _tmPf0);
		JB_Decr(_tmPf0);
	}
}

void SC_Comp__PrepareAST() {
	{
		Array* _LoopSrcf2 = SC__Comp_ImportedList;
		int _if0 = 0;
		while (true) {
			SCImport* Rz = ((SCImport*)JB_Array_Value(_LoopSrcf2, _if0));
			if (Rz == nil) {
				break;
			}
			SC_Imp_PrepareAll(Rz);
			(++_if0);
		};
	};
}

void SC_Comp__PrintCompileErrors() {
	if (SC__Options_Warnings) {
		if (!JB_Rec_HasAnything(JB_StdErr)) {
			return;
		}
	}
	 else {
		if (!JB_Rec_HasProblems(JB_StdErr)) {
			return;
		}
	}
	SC_Rec_PrePrintErrors(JB_StdErr);
	uint MinSev = ((ErrorSeverity)JB_Ternary(SC__Options_Warnings, kJB__ErrorSeverity_Warning, kJB__ErrorSeverity_Problem));
	if (SC__Comp_Successfulness >= 2) {
		MinSev = kJB__ErrorSeverity_Error;
	}
	SC_Comp__PrintErrors(MinSev);
	JB_Rec_Clear(JB_StdErr);
}

void SC_Comp__PrintCompileTime(Date Durr) {
	if (!(JB_Rec_OK(JB_StdErr) and (!SC__Options_Silent))) {
		return;
	}
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	SC_FS_Normal(Fs, JB_LUB[1077]);
	JB_FS_AppendInt32(Fs, SC__Comp_CurrStage);
	SC_FS_Normal(Fs, JB_LUB[1078]);
	JB_FS_AppendInt32(Fs, SC_Comp__ReachedClassCount());
	SC_FS_Normal(Fs, JB_LUB[1079]);
	//;
	JB_FS_AppendInt32(Fs, SC__Comp_stReachedFunc);
	JB_FS_AppendString(Fs, JB_LUB[445]);
	JB_FS_AppendInt32(Fs, JB_Array_Size(SC__Comp_FuncList));
	JB_FS_AppendString(Fs, JB_LUB[1080]);
	JB_FS_AppendInt32(Fs, SC__Comp_stLibFuncs);
	JB_FS_AppendString(Fs, JB_LUB[1081]);
	//;
	SC_FS_Normal(Fs, JB_LUB[1082]);
	int N = JB_Array_Size(SC__Crkt_CppStrings);
	float Avg = JB_int_OperatorDiv(SC__Crkt_TotalSize, N);
	//;
	JB_FS_AppendInt32(Fs, N);
	JB_FS_AppendString(Fs, JB_LUB[1083]);
	//;
	JB_FreeIfDead(JB_int_RenderSize(SC__Crkt_TotalSize, Fs));
	JB_FS_AppendString(Fs, JB_LUB[1084]);
	JB_FS_AppendFloat(Fs, Avg, 1, false);
	JB_FS_AppendByte(Fs, ')');
	SC_FS_Normal(Fs, JB_LUB[1085]);
	JB_FS_AppendString(Fs, JB_LUB[1086]);
	JB_FreeIfDead(JB_int_RenderSize(SC__PackMaker_LibGlobSize, Fs));
	Array* G = SC__PackMaker_PackGlobs;
	JB_Incr(G);
	if (JB_Array_SyntaxCast(G)) {
		JB_FS_AppendString(Fs, JB_LUB[1087]);
		int Gs = SC_PackMaker__GlobalsSize(G);
		JB_FreeIfDead(JB_int_RenderSize(Gs, Fs));
	}
	JB_Decr(G);
	int Vm_ops = SC__VM_Builder_Total;
	if (Vm_ops) {
		SC_FS_Normal(Fs, JB_LUB[1088]);
		JB_FS_AppendInt32(Fs, Vm_ops);
	}
	int ASM_Ops = SC__Comp_stTotalASMOps;
	if (ASM_Ops) {
		SC_FS_Normal(Fs, JB_LUB[1089]);
		JB_FreeIfDead(JB_int_RenderSize((ASM_Ops * 4), Fs));
		if (SC__PackMaker_PackSaved.Savings) {
			SC_FS_Normal(Fs, JB_LUB[1090]);
			SC_HairyMan_Churn((&SC__PackMaker_PackSaved), Fs);
		}
		if (SC__Comp_stDebugInfo) {
			SC_FS_Normal(Fs, JB_LUB[1091]);
			JB_FreeIfDead(JB_int_RenderSize(SC__Comp_stDebugInfo, Fs));
		}
	}
	SC_FS_Normal(Fs, JB_LUB[1092]);
	JB_FreeIfDead(JB_Date_RenderDurr(Durr, Fs));
	JB_FS_AppendByte(Fs, 's');
	SC_FS_Normal(Fs, JB_LUB[1093]);
	JB_FreeIfDead(JB_int64_StrSize(SC__Comp_stTotalSourceSize, Fs));
	if (SC_Options__Color()) {
		JB_FS_AppendString(Fs, kJB__TerminalColor_Normal);
	}
	if (SC__Options_PrintMemoryUsage) {
		JB_FS_AppendByte(Fs, '\n');
		JB_FreeIfDead(JB_App__MemoryUsage(32768, Fs));
	}
	JB_String* _tmPf2 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf2);
	JB_Decr(Fs);
	JB_PrintLine(_tmPf2);
	JB_Decr(_tmPf2);
}

void SC_Comp__PrintErrors(uint /*ErrorSeverity*/ MinSev) {
	JB_StdErr->BlockErrors = true;
	JB_String* S = SC_Comp__RenderErrors(JB_StdErr, MinSev);
	JB_Incr(S);
	JB_StdErr->BlockErrors = false;
	if (JB_StdErr->ErrorCount) {
		if (SC__Options_PerryOutput == 2) {
			JB_SetRef(S, JB_Str_Digest(S));
		}
		JB_Str_PrintError(S);
	}
	 else {
		JB_Print(S);
	}
	JB_Decr(S);
}

void SC_Comp__PrintResults() {
	bool OK = JB_Rec_OK(JB_StdErr);
	SC_Comp__PrintStats();
	SC_Comp__PrintCompileErrors();
	if (JB_FreeIfDead(JB_App__Parent(false)) != nil) {
		FastString* _fsf0 = JB_FS_Constructor(nil);
		JB_FS_AppendString(_fsf0, JB_LUB[2046]);
		JB_FS_AppendInt32(_fsf0, JB_App__ID());
		JB_String* _tmPf1 = JB_FS_GetResult(_fsf0);
		JB_Incr(_tmPf1);
		JB_PrintLine(_tmPf1);
		JB_Decr(_tmPf1);
	}
	if (SC__Options_SelfReplacement and JB_IsTerminal(kJB__FileDes_StdOut)) {
		if (OK and (!JB_Rec_OK(JB_StdErr))) {
		}
		JB_String* _tmPf2 = SC_Comp__VariantSuffix();
		JB_Incr(_tmPf2);
		if (JB_Str_Equals(_tmPf2, JB_LUB[71], true)) {
			JB_String* Msg = ((JB_StringC*)JB_Ternary(OK, JB_LUB[2047], JB_LUB[2048]));
			JB_Incr(Msg);
			JB_App__Say(Msg, false);
			JB_Decr(Msg);
		}
		JB_Decr(_tmPf2);
	}
	if (SC__Options_Beep) {
		JB_PrintLine(JB_LUB[209]);
	}
}

void SC_Comp__PrintStats() {
	if (!SC__Options_ArgStats) {
		return;
	}
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, JB_LUB[386]);
	{
		int I = 0;
		while (I < 12) {
			int C = SC__Func_FuncStats[I];
			if (C) {
				if (I) {
					JB_FS_AppendString(Fs, JB_LUB[47]);
				}
				JB_FS_AppendInt32(Fs, I);
				JB_FS_AppendByte(Fs, ':');
				JB_FS_AppendInt32(Fs, C);
			}
			(++I);
		};
	}
	;
	JB_String* _tmPf1 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf1);
	JB_Decr(Fs);
	JB_PrintLine(_tmPf1);
	JB_Decr(_tmPf1);
}

JB_File* SC_Comp__ProductFile() {
	JB_String* _tmPf0 = SC_Comp__ProductPath();
	JB_Incr(_tmPf0);
	JB_File* _tmPf1 = JB_Str_AsFile(_tmPf0);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

JB_String* SC_Comp__ProductPath() {
	if (JB_Str_Exists(SC__Options_output_path)) {
		return SC__Options_output_path;
	}
	JB_String* Prod = SC_Ext__ProductNameFull();
	JB_Incr(Prod);
	if (SC__Options_SelfReplacement) {
		JB_String* Proj = SC_Comp__Projects();
		JB_String* _tmPf0 = JB_Str_OperatorPlus(JB_LUB[1094], Prod);
		JB_Incr(_tmPf0);
		JB_String* _tmPf1 = JB_Str_Child(Proj, _tmPf0);
		JB_Incr(_tmPf1);
		JB_EarlyDecr(_tmPf0);
		JB_EarlyDecr(Prod);
		JB_SafeDecr(_tmPf1);
		return _tmPf1;
	}
	JB_File* Build = SC_Comp__BuildFolder();
	JB_File* _tmPf2 = JB_File_Child(Build, Prod);
	JB_Incr(_tmPf2);
	JB_EarlyDecr(Prod);
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

JB_String* SC_Comp__Projects() {
	return ({
		JB_String* _X = SC__Comp__Projects;
		JB_Incr(_X);
		if (_X == nil) {
			JB_SetRef(_X, JB_File__SpeedieDir());
			JB_SetRef(SC__Comp__Projects, _X);
		}
		JB_SafeDecr(_X);
		 _X;
	});
}

bool SC_Comp__Reached(JB_String* S) {
	//;
	SCClass* Obj = SC_Comp__SoftClass(S);
	JB_Incr(Obj);
	if (Obj) {
		bool _tmPf0 = ((bool)(Obj->MyReacher));
		JB_EarlyDecr(Obj);
		return _tmPf0;
	}
	JB_EarlyDecr(Obj);
	return false;
}

int SC_Comp__ReachedClassCount() {
	int Rz = 0;
	{
		Array* _LoopSrcf2 = SC__Comp_ClassList;
		int _if0 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf2, _if0));
			if (C == nil) {
				break;
			}
			Rz = (Rz + ((C->MyReacher) and SC_Class_IsObject(C)));
			(++_if0);
		};
	}
	;
	return Rz;
}

JB_String* SC_Comp__RenderErrors(JB_ErrorReceiver* Stderr, uint /*ErrorSeverity*/ MinSev) {
	int Printable = Stderr->ProblemCount + Stderr->ErrorCount;
	if (Printable and (MinSev < kJB__ErrorSeverity_Problem)) {
		MinSev = kJB__ErrorSeverity_Problem;
	}
	int Count = 0;
	int Problems = 0;
	FastString* Msg = JB_FS_Constructor(nil);
	JB_Incr(Msg);
	{
		JB_Error* Err = ((JB_Error*)JB_Ring_First(Stderr->Errors));
		JB_Incr(Err);
		while (Err) {
			JB_Error* _Nf1 = ((JB_Error*)JB_Ring_NextSib(Err));
			JB_Incr(_Nf1);
			if (Err->Severity >= MinSev) {
				(++Count);
				if ((Err->Severity != kJB__ErrorSeverity_Problem) or ((++Problems) <= 10)) {
					JB_FreeIfDead(SC_Err_SCRender(Err, Msg));
				}
			}
			JB_SetRef(Err, _Nf1);
			JB_Decr(_Nf1);
		};
		JB_Decr(Err);
	}
	;
	JB_String* _tmPf2 = JB_FS_SyntaxCast(Msg);
	JB_Incr(_tmPf2);
	JB_EarlyDecr(Msg);
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

bool SC_Comp__ScriptRecompile(JB_File* F, JB_File* Script_build) {
	if (!JB_File_FileExistance(Script_build)) {
		return true;
	}
	if (JB_File_Modified(Script_build) < JB_File_Modified(F)) {
		return true;
	}
	return false;
}

void SC_Comp__SetConf(SCImport* Proj, Message* Conf) {
	Message* Arg = JB_Msg_NeedSyx(Conf, kJB_SyxArg);
	if (Arg) {
		JB_SetRef(SC__Comp_ConfMsg, Arg);
		SC_Msg_MakeComment(Conf);
	}
}

void SC_Comp__SetupEnv() {
	if (!SC_FAT__VerifyNumbers()) {
		JB_Str_Fail(JB_LUB[2068]);
		return;
	}
	JB_FreeIfDead(JB_App__Parent(false));
	SC_Comp__ClearEnvs();
	SC__Options_Dev = JB_Msg_Int(JB_Msg_GetConf(JB_App__Prefs(), JB_LUB[2069], false), 0);
	if (!JB_App__IsMainThread()) {
		(JB_App__SetThreadName(JB_LUB[2070]));
	}
	JB__TerminalColor_Enabled = JB_IsTerminal(kJB__FileDes_StdOut);
	JB__Err_AutoPrint = 1;
	if (JB_App__Parent(false)) {
		JB__Err_AutoPrint = 0;
		JB__TerminalColor_Enabled = false;
	}
}

SCClass* SC_Comp__SoftClass(JB_String* Name) {
	return SC_Comp__FindClassName(Name, kSC__SCNodeFindMode_NoErrors);
}

bool SC_Comp__SortModulesAndClasses() {
	{
		Array* _LoopSrcf2 = SC__Comp_ClassList;
		int _if0 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf2, _if0));
			if (C == nil) {
				break;
			}
			C->Depth = 0;
			(++_if0);
		};
	}
	;
	{
		Array* _LoopSrcf5 = SC__Comp_ClassList;
		int _if3 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf5, _if3));
			if (C == nil) {
				break;
			}
			SC_Class_GetDepth(C);
			(++_if3);
		};
	}
	;
	JB_Array_Sort(SC__Comp_ModuleList, ((FP_SorterComparer)((&SC_Mod__Sorter))));
	{
		Array* _LoopSrcf8 = SC__Comp_ModuleList;
		int _if6 = 0;
		while (true) {
			SCModule* M = ((SCModule*)JB_Array_Value(_LoopSrcf8, _if6));
			if (M == nil) {
				break;
			}
			int I = _if6;
			M->ModuleNum = (I + 1);
			(++_if6);
		};
	}
	;
	JB_Array_Sort(SC__Comp_ClassList, ((FP_SorterComparer)((&SC_Class__Sorter))));
	return JB_Rec_OK(JB_StdErr);
}

JB_File* SC_Comp__SpeedieDir(JB_String* S) {
	JB_String* _tmPf1 = JB_File__SpeedieDir();
	JB_Incr(_tmPf1);
	JB_String* _tmPf0 = JB_Str_Child(_tmPf1, S);
	JB_Incr(_tmPf0);
	JB_Decr(_tmPf1);
	JB_File* _tmPf2 = JB_Str_AsFile(_tmPf0);
	JB_Incr(_tmPf2);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

JB_String* SC_Comp__SpeedieProj() {
	return ({
		JB_String* _X = SC__Comp__SpeedieProj;
		JB_Incr(_X);
		if (_X == nil) {
			JB_String* _tmPf0 = SC_Comp__Projects();
			JB_Incr(_tmPf0);
			JB_SetRef(_X, JB_Str_SyntaxAccess(_tmPf0, JB_LUB[686]));
			JB_Decr(_tmPf0);
			JB_SetRef(SC__Comp__SpeedieProj, _X);
		}
		JB_SafeDecr(_X);
		 _X;
	});
}

bool SC_Comp__Stage(JB_String* Name) {
	if (!JB_Rec_OK(JB_StdErr)) {
		return nil;
	}
	if (SC__Options_PrintStages) {
		JB_String* Space = JB_Str_MulBool(JB_LUB[60], (SC__Comp_CurrStage <= 9));
		JB_Incr(Space);
		FastString* _fsf0 = JB_FS_Constructor(nil);
		JB_FS_AppendByte(_fsf0, ' ');
		JB_FS_AppendInt32(_fsf0, SC__Comp_CurrStage);
		JB_FS_AppendString(_fsf0, Space);
		JB_Decr(Space);
		JB_FS_AppendString(_fsf0, JB_LUB[387]);
		JB_FS_AppendString(_fsf0, Name);
		JB_FS_AppendString(_fsf0, JB_LUB[388]);
		JB_String* _tmPf1 = JB_FS_GetResult(_fsf0);
		JB_Incr(_tmPf1);
		JB_PrintLine(_tmPf1);
		JB_Decr(_tmPf1);
	}
	(++SC__Comp_CurrStage);
	JB_SetRef(SC__Comp_StageName, Name);
	return true;
}

SCClass* SC_Comp__FindClassName(JB_String* Name, SCNodeFindMode Mode) {
	//cpp_part;
	return SC_Base_FindClass(SC__Comp_Program, Name, nil, Mode);
}

SCClass* SC_Comp__SyntaxAccess(Message* Name) {
	if (Name) {
		return SC_Base_FindClassMsg(SC__Comp_Program, Name, 0);
	}
	return nil;
}

bool SC_Comp__SyntaxIs(CompilerStage Type) {
	return Type == SC__Comp_During;
}

void SC_Comp__SyntaxIsSet(CompilerStage Type, bool Value) {
	SC__Comp_During = Type;
	;
}

void SC_Comp__TestDate() {
	int64 Day = 5662310400;
	int64 Hour = 235929600;
	int64 Min = 3932160;
	int64 Sec = 64 * 1024;
	if (Sec != 65536) {
	}
	if (Min != 3932160) {
	}
	if (Hour != 235929600) {
	}
	if (Day != 5662310400) {
	}
}

void SC_Comp__Timer(JB_String* Name) {
	Date Curr = JB_Date__Now();
	if (SC__Comp_LastTime) {
		SC_Comp__TimerSub(SC__Comp_LastTimeName, ((int)(JB_Date_OperatorMinus(Curr, SC__Comp_LastTime))));
	}
	if ((!JB_Str_Exists(Name)) and (!SC__Options_Silent)) {
		JB_Obj_Print(SC__Comp_TimerOutput);
	}
	JB_SetRef(SC__Comp_LastTimeName, Name);
	SC__Comp_LastTime = JB_Date__Now();
}

void SC_Comp__TimerSub(JB_String* S, int Durr) {
	Durr = (Durr - SC__Comp_stParseTime);
	SC__Comp_stParseTimeTotal = (SC__Comp_stParseTimeTotal + SC__Comp_stParseTime);
	SC__Comp_stParseTime = 0;
	if (!SC__Options_Silent) {
		SC_Comp__AppendCompilerTime(S, Durr);
	}
}

bool SC_Comp__TimeTest(Date Elapsed) {
	//;
	bool CanInstall = true;
	JB_Flow__DisabledIncr(1);
	if ((SC__Options_SelfReplacement) and (((JB_Str_Equals(SC__Options_Variant, JB_LUB[71], true))) and (JB_Platform__Release()))) {
		int ReliableTime = ((int)(64.0f * (1024.0f * 2.5f)));
		CanInstall = (Elapsed < ReliableTime);
		if ((!CanInstall)) {
			JB_Str_Fail(JB_LUB[933]);
		}
	}
	JB_Flow__DisabledIncr(-1);
	return CanInstall;
}

bool SC_Comp__TryCopyLib(JB_File* Ldest, JB_String* Name, JB_String* Base) {
	bool Rz = false;
	JB_String* _tmPf0 = JB_Str_Child(Base, Name);
	JB_Incr(_tmPf0);
	JB_File* Lib = JB_Str_AsFile(_tmPf0);
	JB_Incr(Lib);
	JB_Decr(_tmPf0);
	if (JB_File_FileExistance(Lib)) {
		JB_StringC* _tmPf1 = JB_Str_CastZero(Ldest);
		JB_Incr(_tmPf1);
		JB_File_HardLinkTo(Lib, _tmPf1);
		JB_Decr(_tmPf1);
		Rz = true;
	}
	JB_EarlyDecr(Lib);
	return Rz;
}

bool SC_Comp__TryVariousStartModes() {
	bool Rz = false;
	JB_File* F = SC_Comp__CanTryModes();
	JB_Incr(F);
	if (!F) {
		JB_EarlyDecr(F);
		return nil;
	}
	JB_File* It = SC_Comp__UsingScript(F);
	JB_Incr(It);
	if (It) {
		JB_String* Cwd = JB_File__CWD();
		JB_Incr(Cwd);
		if (SC_Comp__ScriptRecompile(F, It)) {
			SC_Comp__CompileTime();
		}
		if (JB_Rec_OK(JB_StdErr)) {
			(JB_App__CWDSet(Cwd));
			JB_StringC* _tmPf0 = JB_Str_CastZero(F);
			JB_Incr(_tmPf0);
			(JB_App__SetEnv(JB_LUB[135], _tmPf0));
			JB_Decr(_tmPf0);
			JB_String* _tmPf1 = SC_Comp__exe();
			JB_Incr(_tmPf1);
			Array* _tmPf2 = JB_App__Args();
			JB_Incr(_tmPf2);
			JB_App__TurnInto(_tmPf1, _tmPf2);
			JB_Decr(_tmPf1);
			JB_Decr(_tmPf2);
		}
		JB_Decr(Cwd);
		Rz = true;
	}
	JB_Decr(F);
	JB_EarlyDecr(It);
	return Rz;
}

JB_File* SC_Comp__UsingScript(JB_File* F) {
	JB_File* Rz = nil;
	JB_Incr(Rz);
	if (!((SC__Options_Mode) and SC__Options_Compile)) {
		JB_EarlyDecr(Rz);
		return nil;
	}
	if (JB_File_IsDir(F)) {
		JB_EarlyDecr(Rz);
		return nil;
	}
	JB_String* _tmPf0 = JB_File_Read(F, 16, true);
	JB_Incr(_tmPf0);
	if (!JB_Str_OperatorStarts(_tmPf0, JB_LUB[152])) {
		JB_EarlyDecr(_tmPf0);
		JB_EarlyDecr(Rz);
		return nil;
	}
	JB_Decr(_tmPf0);
	JB_String* _tmPf2 = SC_FB__TryUseProject(F, true);
	JB_Incr(_tmPf2);
	JB_String* _tmPf1 = SC_Str_ScriptLocation(_tmPf2, JB_LUB[2113]);
	JB_Incr(_tmPf1);
	JB_Decr(_tmPf2);
	JB_SetRef(Rz, JB_Str_AsFile(_tmPf1));
	JB_Decr(_tmPf1);
	if (JB__Err_AutoPrint == kJB__ErrorFlags_PrintAndKeep) {
		JB__Err_AutoPrint = 0;
	}
	JB_SetRef(SC__Options_output_path, Rz);
	SC__Options_Scripting = true;
	SC__Options_Silent = true;
	SC__Options_PrintCompileString = false;
	(++SC__Options_OperationCount);
	Array* _tmPf3 = JB_App__Args();
	JB_Incr(_tmPf3);
	JB_Array_Remove(_tmPf3, 0);
	JB_EarlyDecr(_tmPf3);
	JB_SafeDecr(Rz);
	return Rz;
}

JB_String* SC_Comp__VariantSuffix() {
	if ((SC__Options_SelfReplacement) and SC__Options_Compile) {
		return JB_Str_OperatorPlus(JB_LUB[71], SC__Options_Variant);
	}
	return SC__Options_Variant;
}

void SC_Comp__VariousSelfTests() {
	JB_FreeIfDead(JB_Constants__TestJB());
	if ((SC__Options_PerryOutput < 2) and ((!SC__Options_Scripting) and (!JB_FreeIfDead(JB_App__Parent(false))))) {
		if (SC__Options_PrintLibraries) {
			JB_String* _tmPf0 = JB_Str_OperatorMul(SC__Cpp_FindGlobalsCpp, 12);
			JB_Incr(_tmPf0);
			if (JB_Str_CompressTest_((_tmPf0), false, 3)) {
				JB_PrintLine(JB_LUB[2049]);
			}
			JB_Decr(_tmPf0);
		}
	}
	JB_CompFreeNow();
}

SCNode* SC_Comp__WrongConf(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	if ((SC__Comp_ConfMsg)) {
		JB_Msg_Fail(Node, JB_LUB[934]);
		return nil;
	}
	if (true) {
		JB_Msg_Fail(Node, JB_LUB[935]);
	}
	return nil;
}

SCFunction* SC_Comp__XFunc(JB_String* Name, Message* M) {
	SCObject* Fn = ((SCObject*)JB_Dict_Value0(SC__Comp_ExportNames, Name));
	if (JB_Object_FastIsa(Fn, &SCFunctionData)) {
		return ((SCFunction*)Fn);
	}
	if (M) {
		if (Fn) {
			if (true) {
				JB_Msg_Fail(M, JB_LUB[936]);
			}
		}
		 else {
			if (true) {
				JB_Msg_Fail(M, JB_LUB[937]);
			}
		}
	}
	return nil;
}




void SC_FastStringOpts__FS(Message* Exp, Message* GetResult) {
	Message* Fs2 = ((Message*)JB_Ring_First(((Message*)JB_Ring_Last(GetResult))));
	SCDecl* T2 = SC_TypeOfExpr(Fs2, nil, nil);
	if (!SC_Decl_SyntaxIs(T2, kSC__SCDeclInfo_CompilerCreated)) {
		return;
	}
	Message* Place = SC_Msg_UpToArg(T2->Default);
	Message* Arg = ((Message*)JB_Ring_Parent(Place));
	if (!JB_Msg_Expect(Arg, kJB_SyxArg, nil)) {
		return;
	}
	Message* Fs1 = ((Message*)JB_Ring_PrevSib(GetResult));
	if (Fs1->Func != kJB_SyxThg) {
		return;
	}
	JB_String* Name2 = Fs2->Name;
	{
		Message* Ch = Arg;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Arg));
		while ((Ch) and (Ch != _afterf1)) {
			Message* _N_f2 = ((Message*)JB_Ring_FlatNext0(Ch));
			if (SC_Msg_OperatorIsThing(Ch, Name2)) {
				JB_SetRef(Ch->Name, Fs1->Name);
				JB_SetRef(Ch->Obj, Fs1->Obj);
			}
			Ch = _N_f2;
		};
		;
	}
	;
	SC_Msg_SafeRemove(Place, kJB_SyxSheb);
	SC_Msg_SafeRemove(Exp, kJB_SyxSheb);
	(++SC__FastStringOpts_FSRemoved);
}

void SC_FastStringOpts__FSOptInit(JB_String* Name, Message* S) {
	SCFunction* Fn = SC_Comp__XFunc(Name, S);
	if (Fn) {
		Fn->FSOpt = (++SC__FastStringOpts_VargCount);
	}
}

bool SC_FastStringOpts__Init(Message* S) {
	bool Rz = false;
	if (SC__FastStringOpts_InitedOK != 0) {
		return nil;
	}
	ErrorMarker M = JB_Rec_Mark(JB_StdErr);
	JB_SetRef(SC__FastStringOpts_FnByte, SC_Comp__XFunc(JB_LUB[1218], S));
	JB_SetRef(SC__FastStringOpts_FnGetResult, SC_Comp__XFunc(JB_LUB[1219], S));
	JB_SetRef(SC__FastStringOpts_FnAppend, SC_Comp__XFunc(JB_LUB[1220], S));
	JB_SetRef(SC__FastStringOpts_FnAppend4, SC_Comp__XFunc(JB_LUB[1221], S));
	JB_SetRef(SC__FastStringOpts_FnAppend6, SC_Comp__XFunc(JB_LUB[1222], S));
	JB_SetRef(SC__FastStringOpts_FnPlus, SC_Comp__XFunc(JB_LUB[1223], S));
	SC_FastStringOpts__FSOptInit(JB_LUB[1224], S);
	SC_FastStringOpts__FSOptInit(JB_LUB[1225], S);
	SC_FastStringOpts__FSOptInit(JB_LUB[1218], S);
	SC_FastStringOpts__FSOptInit(JB_LUB[1226], S);
	SC_FastStringOpts__FSOptInit(JB_LUB[1227], S);
	SC_FastStringOpts__FSOptInit(JB_LUB[1220], S);
	SC_FastStringOpts__FSOptInit(JB_LUB[1228], S);
	SC_FastStringOpts__FSOptInit(JB_LUB[1229], S);
	SC_FastStringOpts__FSOptInit(JB_LUB[1230], S);
	Rz = JB_ErrorMarker_SyntaxCast(M);
	SC__FastStringOpts_InitedOK = (2 - Rz);
	return Rz;
}

int SC_FastStringOpts__Init_() {
	{
	}
	;
	return 0;
}

void SC_FastStringOpts__Optimise(Message* S) {
	if (SC__FastStringOpts_InitedOK != 1) {
		if (!SC_FastStringOpts__Init(S)) {
			return;
		}
	}
	SCFunction* Fn = SC_Msg_MsgFunc(S);
	Message* Prms = ((Message*)JB_Tree_Second(S));
	if (!Prms) {
		return;
	}
	if (Fn == SC__FastStringOpts_FnAppend) {
		Message* Item = ((Message*)JB_Ring_Last(Prms));
		if (SC_Msg_MsgFunc(Item) == SC__FastStringOpts_FnGetResult) {
			SC_FastStringOpts__FS(S, Item);
		}
		 else {
			SC_FastStringOpts__StringToByte(Item);
		}
	}
	 else if (Fn == SC__FastStringOpts_FnGetResult) {
		SC_FastStringOpts__TryStringAppend(S);
	}
}

void SC_FastStringOpts__StringToByte(Message* Str) {
	if (!(((JB_Msg_EqualsSyx(Str, kJB_SyxStr)) or ((JB_Msg_EqualsSyx(Str, kJB_SyxSStr)) or (JB_Msg_EqualsSyx(Str, kJB_SyxBack)))) and ((JB_Str_EqualsInt(Str->Name, 1))))) {
		return;
	}
	JB_SetRef(Str->Obj, SC_TypeByte->TypeNormal);
	JB_SetRef(((Message*)JB_Ring_Parent(Str))->Obj, SC__FastStringOpts_FnByte);
	Str->Func = kJB_SyxChar;
	JB_FreeIfDead(SC_TypeOfChar(Str, nil, nil));
	(++SC__FastStringOpts_StrRemoved);
}

void SC_FastStringOpts__TryStringAppend(Message* S) {
	JB_Object* desiredObj = SC_Msg_FirstPrmObj(S);
	Message* S2 = SC_Msg_UpToArg(S);
	int Count = 0;
	Message* P = S2;
	while (true) {
		P = ((Message*)JB_Ring_PrevSib(P));
		if (!P) {
			return;
		}
		SCFunction* Fn = SC_Msg_MsgFunc(P);
		if ((Fn == SC__FastStringOpts_FnAppend) or (Fn == SC__FastStringOpts_FnByte)) {
			if (SC_Msg_FirstPrmObj(P) != desiredObj) {
				return;
			}
			(++Count);
			if (Count > 6) {
				return;
			}
		}
		 else {
			if (!((JB_Msg_EqualsSyx(P, kJB_SyxDecl)) and (P->Obj == desiredObj))) {
				return;
			}
			break;
		}
	};
	if (Count < 2) {
		return;
	}
	Message* Prms = ((Message*)JB_Tree_Second(S));
	JB_Tree_Remove(((Message*)JB_Ring_First(Prms)));
	if (Count == 2) {
		SC_Msg_BecomeWithFunc(S, SC__FastStringOpts_FnPlus);
	}
	 else if ((Count >= 3) and (Count <= 4)) {
		SC_Msg_BecomeWithFunc(S, SC__FastStringOpts_FnAppend4);
	}
	 else {
		SC_Msg_BecomeWithFunc(S, SC__FastStringOpts_FnAppend6);
	}
	while (true) {
		Message* N = ((Message*)JB_Ring_NextSib(P));
		JB_Tree_Remove(P);
		P = N;
		if (P == S2) {
			break;
		}
		Message* Oof = ((Message*)JB_Ring_Last(((Message*)JB_Ring_Last(P))));
		if (JB_Msg_EqualsSyx(Oof, kJB_SyxChar)) {
			Oof->Func = kJB_SyxSStr;
			JB_SetRef(Oof->Obj, SC_TypeString->TypeNormal);
			(--SC__FastStringOpts_StrRemoved);
		}
		JB_Tree_SyntaxAppend(Prms, Oof);
	};
	if (Count & 1) {
		JB_SetRef(JB_Msg_Msg(Prms, kJB_SyxThg, JB_LUB[100])->Obj, SC_TypeNil);
	}
}


bool SC_FB__AppOptions_alive(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[0])) {
		return nil;
	}
	JB_PrintLine(JB_LUB[416]);
	return true;
}

bool SC_FB__AppOptions_arch(JB_String* Name, JB_String* Value, FastString* Purpose) {
	JB_String* Str = JB_LUB[666];
	JB_Incr(Str);
	JB_String* _tmPf3 = JB_Str_OperatorPlus(JB_LUB[667], Str);
	JB_Incr(_tmPf3);
	SC_FB__Explain(Purpose, _tmPf3);
	{
		Array* _LoopSrcf2 = JB_Str_OperatorDivide(Str, '/');
		JB_Incr(_LoopSrcf2);
		int _if0 = 0;
		while (true) {
			JB_String* V = ((JB_String*)JB_Array_Value(_LoopSrcf2, _if0));
			JB_Incr(V);
			if (V == nil) {
				JB_EarlyDecr(V);
				break;
			}
			if (JB_Str_Equals(V, Value, true)) {
				JB_SetRef(SC__Options_Arch, V);
			}
			JB_Decr(V);
			(++_if0);
		};
		JB_Decr(_LoopSrcf2);
		JB_Decr(_tmPf3);
	}
	;
	JB_EarlyDecr(Str);
	return false;
}

bool SC_FB__AppOptions_b(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[417])) {
		return nil;
	}
	SC__Options_Silent = true;
	SC__Options_Mode = kSC__Options_cake;
	return false;
}

bool SC_FB__AppOptions_bake(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[418])) {
		return nil;
	}
	if (SC_Str_OptionBool(Value)) {
		SC__Options_Mode = kSC__Options_cake;
	}
	return false;
}

bool SC_FB__AppOptions_beep(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[419])) {
		return nil;
	}
	SC__Options_Beep = SC_Str_OptionBool(Value);
	return false;
}

bool SC_FB__AppOptions_breakonerr(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[0])) {
		return nil;
	}
	JB__Err_AutoPrint = SC_Str_OptionInt(Value);
	return false;
}

bool SC_FB__AppOptions_cake(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[0])) {
		return nil;
	}
	if (true) {
		JB_Str_Fail(JB_LUB[957]);
	}
	return true;
}

bool SC_FB__AppOptions_check(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[420])) {
		return nil;
	}
	SC__Options_Compile = ((bool)0);
	SC__Options_Mode = 0;
	return false;
}

bool SC_FB__AppOptions_clean(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[1329])) {
		return nil;
	}
	if (SC_Ext__Clean()) {
		JB_PrintLine(JB_LUB[1330]);
	}
	return true;
}

bool SC_FB__AppOptions_codesign(JB_String* Name, JB_String* Value, FastString* Purpose) {
	JB_Incr(Value);
	if (!SC_FB__Explain(Purpose, JB_LUB[2071])) {
		JB_EarlyDecr(Value);
		return nil;
	}
	if ((JB_Str_Equals(Value, JB_LUB[0], true)) or (JB_Str_Equals(Value, JB_LUB[6], true))) {
		Message* _tmPf3 = JB_App__Prefs();
		JB_Incr(_tmPf3);
		Message* _tmPf2 = JB_Msg_GetConf(_tmPf3, kJB_codesign_native, false);
		JB_Incr(_tmPf2);
		JB_String* _tmPf1 = JB_Msg_Render(_tmPf2, nil);
		JB_Incr(_tmPf1);
		JB_String* _tmPf0 = JB_Str_OperatorPlus(JB_LUB[2072], _tmPf1);
		JB_Incr(_tmPf0);
		JB_Decr(_tmPf1);
		JB_PrintLine(_tmPf0);
		JB_Decr(_tmPf0);
		JB_EarlyDecr(Value);
		JB_EarlyDecr(_tmPf2);
		JB_EarlyDecr(_tmPf3);
		return true;
	}
	if ((JB_Str_Equals(Value, JB_LUB[2073], false)) or ((JB_Str_Equals(Value, JB_LUB[100], false)) or (JB_Str_Equals(Value, JB_LUB[551], false)))) {
		JB_SetRef(Value, JB_LUB[0]);
	}
	Message* _tmPf4 = JB_App__Prefs();
	JB_Incr(_tmPf4);
	(JB_Msg_SetStr(_tmPf4, kJB_codesign_native, Value));
	Message* _tmPf5 = JB_App__Prefs();
	JB_Incr(_tmPf5);
	JB_config_Save(_tmPf5);
	JB_String* _tmPf6 = JB_Str_OperatorPlus(JB_LUB[2074], Value);
	JB_Incr(_tmPf6);
	JB_Decr(Value);
	JB_PrintLine(_tmPf6);
	JB_EarlyDecr(_tmPf6);
	JB_EarlyDecr(_tmPf5);
	JB_EarlyDecr(_tmPf4);
	return true;
}

bool SC_FB__AppOptions_cpp(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[421])) {
		return nil;
	}
	if (SC_Str_OptionBool(Value)) {
		SC__Options_Mode = kSC__Options_cpp;
	}
	return false;
}

bool SC_FB__AppOptions_crash(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[581])) {
		return nil;
	}
	JB_App__Crash(nil);
	return nil;
}

bool SC_FB__AppOptions_d(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[0])) {
		return nil;
	}
	SC__Options_TargetDebug = SC_Str_OptionBool(Value);
	return false;
}

bool SC_FB__AppOptions_directtest(JB_String* Name, JB_String* Value, FastString* Purpose) {
	SC_FB__Explain(Purpose, JB_LUB[692]);
	SC__Options_IsDirectTest = SC_Str_OptionBool(Value);
	(SC_SC_Targets__SyntaxAccessSet(JB_LUB[693], SC__Options_IsDirectTest));
	return false;
}

bool SC_FB__AppOptions_dosign(JB_String* Name, JB_String* Value, FastString* Purpose) {
	SC_FB__Explain(Purpose, JB_LUB[422]);
	return true;
}

bool SC_FB__AppOptions_elf(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[958])) {
		return nil;
	}
	JB_App__Say(JB_LUB[959], true);
	if (true) {
		JB_Str_Fail(JB_LUB[960]);
	}
	return true;
}

bool SC_FB__AppOptions_env(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[423])) {
		return nil;
	}
	{
		Dictionary* _LoopSrcf2 = JB_App__Env();
		JB_Incr(_LoopSrcf2);
		DictionaryReader* _navf0 = JB_Dict_Navigate(_LoopSrcf2);
		JB_Incr(_navf0);
		JB_Decr(_LoopSrcf2);
		while (true) {
			JB_String* S = ((JB_String*)JB_DictionaryReader_NextValue(_navf0));
			JB_Incr(S);
			if (S == nil) {
				JB_EarlyDecr(S);
				break;
			}
			JB_String* K = JB_Nav_Name(_navf0);
			JB_Incr(K);
			JB_String* _tmPf4 = JB_Str_OperatorPlus(JB_LUB[121], S);
			JB_Incr(_tmPf4);
			JB_Decr(S);
			JB_String* _tmPf3 = JB_Str_OperatorPlus(K, _tmPf4);
			JB_Incr(_tmPf3);
			JB_Decr(K);
			JB_Decr(_tmPf4);
			JB_PrintLine(_tmPf3);
			JB_Decr(_tmPf3);
		};
		JB_Decr(_navf0);
	}
	;
	return true;
}

bool SC_FB__AppOptions_flow(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[694])) {
		return nil;
	}
	bool B = SC_Str_OptionBool(Value);
	SC__Options_GenFlowControlCode = B;
	(SC_SC_Targets__SyntaxAccessSet(JB_LUB[695], B));
	return false;
}

bool SC_FB__AppOptions_flowmode(JB_String* Name, JB_String* Value, FastString* Purpose) {
	0;
	return false;
}

bool SC_FB__AppOptions_force(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[424])) {
		return nil;
	}
	SC__Options_ForceRecompile = true;
	return false;
}

bool SC_FB__AppOptions_gcc(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[425])) {
		return nil;
	}
	JB_SetRef(SC__Ext_CppCompilerPath, Value);
	return false;
}

bool SC_FB__AppOptions_help(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[863])) {
		return nil;
	}
	SC_FB__Help();
	return true;
}

bool SC_FB__AppOptions_hideaway(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[426])) {
		return nil;
	}
	SC__Options_HideawayScripts = true;
	return false;
}

bool SC_FB__AppOptions_inlinelib(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[0])) {
		return nil;
	}
	SC__Options_InlineLib = SC_Str_OptionBool(Value);
	return false;
}

bool SC_FB__AppOptions_keepallerrors(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[427])) {
		return nil;
	}
	SC__Options_KeepAllErrors = SC_Str_OptionBool(Value);
	return false;
}

bool SC_FB__AppOptions_mem(JB_String* Name, JB_String* Value, FastString* Purpose) {
	SC_FB__Explain(Purpose, JB_LUB[1115]);
	SC__Options_PrintMemoryUsage = JB_Str_Yes(Value, nil);
	return false;
}

bool SC_FB__AppOptions_nocolor(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[428])) {
		return nil;
	}
	(SC_Options__ColorSet(false));
	return false;
}

bool SC_FB__AppOptions_nocompile(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[429])) {
		return nil;
	}
	SC__Options_Compile = false;
	return false;
}

bool SC_FB__AppOptions_noisy(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[430])) {
		return nil;
	}
	JB_PrintLine(JB_LUB[431]);
	SC__Options_PrintCompileString = true;
	SC__Options_PrintLibraries = true;
	SC__Options_ArgStats = true;
	return false;
}

bool SC_FB__AppOptions_optimise(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[432])) {
		return nil;
	}
	SC__Options_Optimise = JB_Str_TextIntegerValid(Value, nil);
	return false;
}

bool SC_FB__AppOptions_output_path(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[1116])) {
		return nil;
	}
	SC_FB__SetOutputPath(Value);
	return false;
}

bool SC_FB__AppOptions_path(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[0])) {
		return nil;
	}
	JB_String* _tmPf0 = JB_App__Path();
	JB_Incr(_tmPf0);
	JB_PrintLine(_tmPf0);
	JB_EarlyDecr(_tmPf0);
	return false;
}

bool SC_FB__AppOptions_perry(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[0])) {
		return nil;
	}
	SC__Options_PerryOutput = 1;
	bool RealPerry = (JB_Str_Equals(Value, JB_LUB[630], true));
	SC__Options_PerryOutput = (SC__Options_PerryOutput + RealPerry);
	JB_File* _tmPf1 = JB_File__Prefs(JB_LUB[631]);
	JB_Incr(_tmPf1);
	JB_String* _tmPf0 = JB_File_ReadAll(_tmPf1, 134217728, true);
	JB_Incr(_tmPf0);
	JB_Decr(_tmPf1);
	JB_SetRef(SC__Comp_InsecureWords, JB_Str_Dict(_tmPf0, '\n'));
	JB_EarlyDecr(_tmPf0);
	return false;
}

bool SC_FB__AppOptions_print(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[0])) {
		return nil;
	}
	JB_Print(Value);
	return true;
}

bool SC_FB__AppOptions_quiet(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[433])) {
		return nil;
	}
	SC__Options_Silent = true;
	return false;
}

bool SC_FB__AppOptions_self(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[2121])) {
		return nil;
	}
	if (JB_App__No(JB_LUB[660])) {
		SC__Options_PerryOutput = 1;
	}
	JB_String* _tmPf0 = SC_Comp__SpeedieProj();
	JB_Incr(_tmPf0);
	JB_FreeIfDead(SC_FB__TryUseProject(_tmPf0, false));
	JB_EarlyDecr(_tmPf0);
	return true;
}

bool SC_FB__AppOptions_single(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[0])) {
		return nil;
	}
	SC__Options_SingleCppOutput = SC_Str_OptionBool(Value);
	return false;
}

bool SC_FB__AppOptions_stages(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[434])) {
		return nil;
	}
	SC__Options_PrintStages = SC_Str_OptionBool(Value);
	return false;
}

bool SC_FB__AppOptions_strip(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[0])) {
		return nil;
	}
	SC__Options_StripNames = SC_Str_OptionBool(Value);
	return false;
}

bool SC_FB__AppOptions_target(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[961])) {
		return nil;
	}
	if (JB_Str_Equals(Value, JB_LUB[530], true)) {
		if (true) {
			JB_Str_Fail(JB_LUB[962]);
		}
	}
	(SC_SC_Targets__SyntaxAccessSet(Value, true));
	return false;
}

bool SC_FB__AppOptions_targetdebug(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[435])) {
		return nil;
	}
	SC__Options_TargetDebug = SC_Str_OptionBool(Value);
	return false;
}

bool SC_FB__AppOptions_variant(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[0])) {
		return nil;
	}
	JB_SetRef(SC__Options_Variant, JB_int_RenderFS(((int)JB_Str_TextIntegerValid(Value, nil)), nil));
	SC__Options_PerryOutput = 1;
	(SC_Options__ColorSet(false));
	if (SC__Options_Optimise < 0) {
		SC__Options_Optimise = 1;
	}
	return false;
}

bool SC_FB__AppOptions_warn(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[436])) {
		return nil;
	}
	SC__Options_Warnings = SC_Str_OptionBool(Value);
	return false;
}

bool SC_FB__AppTransCompile(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[437])) {
		return nil;
	}
	SC__Options_ExternalCompile = true;
	(SC_Options__ColorSet(false));
	return false;
}

bool SC_FB__AppVersionNumber(JB_String* Name, JB_String* Value, FastString* Purpose) {
	if (!SC_FB__Explain(Purpose, JB_LUB[582])) {
		return nil;
	}
	return SC_FB__CompilerInfo();
}

void SC_FB__CheckSelfModifying() {
	if (((JB_String*)JB_Str_Exists(SC__Options_SingleFileInput))) {
		return;
	}
	if (SC__Options_SelfReplacement) {
		return;
	}
	JB_File* P = SC__Comp_BaseProjectPath;
	JB_Incr(P);
	if (!P) {
		JB_EarlyDecr(P);
		return;
	}
	JB_String* _tmPf0 = SC_Comp__Projects();
	JB_Incr(_tmPf0);
	JB_File* Spd = JB_Str_ChildFile(_tmPf0, JB_LUB[686]);
	JB_Incr(Spd);
	JB_Decr(_tmPf0);
	JB_File* _tmPf1 = SC_Comp__Jeebox();
	JB_Incr(_tmPf1);
	if (JB_File_SyntaxEquals(P, Spd, true)) {
		SC__Options_SelfReplacement = true;
		SC__Options_ExternalCompile = true;
		SC__Options_ForceRecompile = true;
		SC_FB__SetFlow();
		(SC_SC_Targets__SyntaxAccessSet(JB_LUB[401], true));
	}
	 else if (JB_File_SyntaxEquals(P, _tmPf1, true)) {
		SC__Options_ProjectIsMiniLib = true;
	}
	JB_Decr(P);
	JB_Decr(Spd);
	JB_Decr(_tmPf1);
}

bool SC_FB__CompilerInfo() {
	FastString* _fsf0 = JB_FS_Constructor(nil);
	JB_FS_AppendString(_fsf0, JB_LUB[438]);
	JB_FS_AppendInt32(_fsf0, (2026021818));
	JB_String* _tmPf1 = JB_FS_GetResult(_fsf0);
	JB_Incr(_tmPf1);
	JB_PrintLine(_tmPf1);
	JB_EarlyDecr(_tmPf1);
	return true;
}

bool SC_FB__Explain(FastString* Purpose, JB_String* Name) {
	if (!Purpose) {
		return true;
	}
	JB_FS_AppendString(Purpose, Name);
	return false;
}

void SC_FB__Help() {
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	FastString* Fs_tester = JB_FS_Constructor(nil);
	JB_Incr(Fs_tester);
	JB_FS_AppendString(Fs, JB_LUB[815]);
	JB_String* _tmPf7 = JB_App__FileName();
	JB_Incr(_tmPf7);
	JB_FS_AppendString(Fs, _tmPf7);
	JB_Decr(_tmPf7);
	JB_FS_AppendString(Fs, JB_LUB[816]);
	//;
	JB_FS_AppendString(Fs, JB_LUB[817]);
	JB_String* _tmPf9 = SC_Comp__SpeedieProj();
	JB_Incr(_tmPf9);
	JB_String* _tmPf8 = JB_Str_Parent(_tmPf9);
	JB_Incr(_tmPf8);
	JB_Decr(_tmPf9);
	JB_FS_AppendString(Fs, _tmPf8);
	JB_Decr(_tmPf8);
	//;
	//;
	JB_FS_AppendString(Fs, JB_LUB[818]);
	JB_String* _tmPf10 = JB_Platform();
	JB_Incr(_tmPf10);
	JB_FS_AppendString(Fs, _tmPf10);
	JB_Decr(_tmPf10);
	JB_FS_AppendByte(Fs, '+');
	JB_String* _tmPf11 = JB_Platform__CPU_Name();
	JB_Incr(_tmPf11);
	JB_FS_AppendString(Fs, _tmPf11);
	JB_Decr(_tmPf11);
	//;
	//;
	JB_FS_AppendString(Fs, JB_LUB[819]);
	JB_FS_AppendBool(Fs, false);
	//;
	//;
	JB_FS_AppendString(Fs, JB_LUB[820]);
	JB_FS_AppendInt32(Fs, ((int)kJB_Syxmax));
	//;
	{
		Dictionary* _LoopSrcf6 = SC__FB_AppOptions;
		JB_Incr(_LoopSrcf6);
		DictionaryReader* _navf4 = JB_Dict_Navigate(_LoopSrcf6);
		JB_Incr(_navf4);
		JB_Decr(_LoopSrcf6);
		while (true) {
			DTWrap* V = ((DTWrap*)JB_DictionaryReader_NextValue(_navf4));
			JB_Incr(V);
			if (V == nil) {
				JB_EarlyDecr(V);
				break;
			}
			JB_String* K = JB_Nav_Name(_navf4);
			JB_Incr(K);
			(((FP_ShellOption)JB_Wrap_SyntaxAccess(V)))(JB_LUB[0], JB_LUB[0], Fs_tester);
			FP_ShellOption Val = ((FP_ShellOption)JB_Wrap_Value(V));
			JB_Decr(V);
			if (Val and Fs_tester->Length) {
				Fs_tester->Length = 0;
				JB_FS_AppendString(Fs, JB_LUB[821]);
				JB_FS_AppendString(Fs, K);
				JB_FS_AppendMultiByte(Fs, ' ', 17 - JB_Str_LengthUTF8(K));
				(Val)(JB_LUB[0], JB_LUB[0], Fs);
			}
			JB_Decr(K);
		};
		JB_Decr(_navf4);
	}
	;
	JB_Decr(Fs_tester);
	JB_String* _tmPf12 = JB_FS_GetResult(Fs);
	JB_Incr(_tmPf12);
	JB_Decr(Fs);
	JB_PrintLine(_tmPf12);
	JB_Decr(_tmPf12);
}

int SC_FB__Init_() {
	{
		Dictionary* _tmPf0 = (JB_Dict_Constructor(nil));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[660], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_nocompile)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2162], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_breakonerr)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[1971], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_path)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2163], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_beep)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2164], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_keepallerrors)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2165], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_env)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[883], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_FB__AppTransCompile))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2166], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_arch)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2167], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_gcc)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[659], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_perry)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2168], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_hideaway)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[463], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_check)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[650], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_flowmode)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[695], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_flow)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2169], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_noisy)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2170], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_alive)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2171], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_quiet)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2172], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_stages)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2173], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_print)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2174], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_directtest)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2175], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_single)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2176], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_elf)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[401], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_self)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2177], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_crash)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[127], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_cpp)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2178], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_b)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2179], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_strip)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2180], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_bake)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[1356], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_cake)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2181], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_inlinelib)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[1150], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_d)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2182], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_targetdebug)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[1808], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_target)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[461], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_warn)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2183], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_nocolor)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2184], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_optimise)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[1252], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_output_path)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2185], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_force)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2186], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_variant)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2187], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_codesign)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2188], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_dosign)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2189], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_mem)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2190], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_clean)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2191], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_FB__AppVersionNumber))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2192], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_FB__AppVersionNumber))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[95], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FB__AppOptions_help)))));
		JB_SetRef(SC__FB_AppOptions, _tmPf0);
	}
	;
	return 0;
}

bool SC_FB__ParseArgs() {
	SC_FB__StopStripping();
	Array* Args = JB_App__Args();
	if (!JB_Array_SyntaxCast(Args)) {
		SC_FB__CompilerInfo();
		SC_FB__Help();
		return false;
	}
	JB_String* AskSelf = JB_LUB[0];
	JB_Incr(AskSelf);
	{
		int _if0 = 0;
		while (true) {
			JB_String* S = ((JB_String*)JB_Array_Value(Args, _if0));
			JB_Incr(S);
			if (S == nil) {
				JB_EarlyDecr(S);
				break;
			}
			JB_String* _tmPf2 = JB_Str_ArgName(S);
			JB_Incr(_tmPf2);
			if (!JB_Str_Equals(_tmPf2, JB_LUB[401], false)) {
				SC_FB__ParseOption(S);
			}
			 else {
				JB_SetRef(AskSelf, S);
			}
			JB_Decr(S);
			JB_Decr(_tmPf2);
			(++_if0);
		};
	}
	;
	if (JB_Str_Exists(AskSelf)) {
		SC_FB__ParseOption(AskSelf);
	}
	JB_Decr(AskSelf);
	if (SC__Options_OperationCount <= 0) {
		JB_Rec__Latchkum(nil, JB_LUB[2193], nil);
	}
	 else if (SC__Options_OperationCount >= 2) {
		JB_Rec__Latchkum(nil, JB_LUB[2194], nil);
	}
	return JB_Rec_OK(JB_StdErr) and JB_File_FileExistance(SC__Comp_BaseProjectPath);
}

void SC_FB__ParseOption(JB_String* Arg) {
	JB_String* Name = JB_Str_ArgName(Arg);
	JB_Incr(Name);
	JB_String* Value = JB_Str_ArgValue(Arg);
	JB_Incr(Value);
	if (JB_Str_Exists(Name)) {
		DTWrap* Opt = ((DTWrap*)JB_Dict_Value0(SC__FB_AppOptions, Name));
		JB_Incr(Opt);
		if (Opt) {
			SC__Options_OperationCount = (SC__Options_OperationCount + ((((FP_ShellOption)JB_Wrap_SyntaxAccess(Opt)))(Name, Value, nil)));
		}
		 else {
			JB_String* _tmPf0 = JB_Str_OperatorPlus(JB_LUB[2122], Name);
			JB_Incr(_tmPf0);
			JB_App__Quit(_tmPf0, 0);
			JB_Decr(_tmPf0);
		}
		JB_Decr(Opt);
	}
	 else if (JB_Ind_SyntaxCast(JB_Str_IsJbin(Value))) {
		0;
	}
	 else if (SC__Options_OperationCount == 1) {
		if (true) {
			Array* _tmPf3 = JB_App__Args();
			JB_Incr(_tmPf3);
			JB_String* _tmPf2 = JB_Array_Render(_tmPf3, nil);
			JB_Incr(_tmPf2);
			JB_Decr(_tmPf3);
			JB_String* _tmPf1 = JB_Str_OperatorPlus(JB_LUB[2123], _tmPf2);
			JB_Incr(_tmPf1);
			JB_Decr(_tmPf2);
			JB_Str_Fail(_tmPf1);
			JB_Decr(_tmPf1);
		}
	}
	 else {
		JB_FreeIfDead(SC_FB__TryUseProject(Value, false));
		(++SC__Options_OperationCount);
	}
	JB_Decr(Name);
	JB_Decr(Value);
}

void SC_FB__SetFlow() {
	JB_String* _tmPf0 = JB_App__ArgValue(JB_LUB[695]);
	JB_Incr(_tmPf0);
	if (JB_Str_Exists(_tmPf0)) {
		JB_String* V = JB_bool_Render0(SC__Options_GenFlowControlCode);
		JB_Incr(V);
		Message* _tmPf2 = JB_App__Prefs();
		JB_Incr(_tmPf2);
		Message* _tmPf1 = JB_Msg_GetConf(_tmPf2, JB_LUB[2075], false);
		JB_Incr(_tmPf1);
		if (!JB_Msg_SyntaxEquals(_tmPf1, V, false)) {
			Message* _tmPf3 = JB_App__Prefs();
			JB_Incr(_tmPf3);
			(JB_Msg_SetStr(_tmPf3, JB_LUB[2075], V));
			Message* _tmPf4 = JB_App__Prefs();
			JB_Incr(_tmPf4);
			JB_config_Save(_tmPf4);
			JB_Decr(_tmPf4);
			JB_Decr(_tmPf3);
		}
		JB_Decr(V);
		JB_Decr(_tmPf1);
		JB_Decr(_tmPf2);
	}
	 else {
		Message* _tmPf6 = JB_App__Prefs();
		JB_Incr(_tmPf6);
		Message* _tmPf5 = JB_Msg_GetConf(_tmPf6, JB_LUB[2075], false);
		JB_Incr(_tmPf5);
		SC__Options_GenFlowControlCode = JB_Msg_Yes(_tmPf5, false);
		JB_Decr(_tmPf5);
		JB_Decr(_tmPf6);
	}
	JB_Decr(_tmPf0);
	(SC_SC_Targets__SyntaxAccessSet(JB_LUB[695], SC__Options_GenFlowControlCode));
}

void SC_FB__SetOutputPath(JB_String* Path) {
	JB_String* Value = SC_Str_PathFixSpd(Path);
	JB_Incr(Value);
	if (!JB_Str_Equals(SC__Options_output_path, Value, false)) {
		if ((((JB_String*)JB_Str_Exists(SC__Options_output_path)))) {
			JB_String* _tmPf0 = JB_Str_OperatorPlus(JB_LUB[963], SC__Options_output_path);
			JB_Incr(_tmPf0);
			JB_Str_Fail(_tmPf0);
			JB_Decr(_tmPf0);
		}
		JB_SetRef(SC__Options_output_path, Value);
		SC__Options_ForceRecompile = true;
	}
	JB_Decr(Value);
}

void SC_FB__StopStripping() {
	Message* M = ((Message*)nil);
	JB_Incr(M);
	if (0) {
		SC_Msg_FEET(M, nil, nil, nil);
	}
	JB_Decr(M);
}

JB_String* SC_FB__TryUseProject(JB_String* Path, bool IsScript) {
	JB_Incr(Path);
	if (!(JB_Str_ContainsByte(Path, '/') or (JB_Str_ContainsByte(Path, '.') or JB_Str_ContainsByte(Path, '~')))) {
		JB_SetRef(Path, SC_Comp__FindProjNoSuffix(Path));
	}
	JB_String* _tmPf0 = SC_Str_PathFixSpd(Path);
	JB_Incr(_tmPf0);
	JB_String* Path2 = JB_Str_RegularPath(_tmPf0);
	JB_Incr(Path2);
	JB_Decr(_tmPf0);
	if (JB_Str_Exists(Path2) and (!JB_Str_Equals(Path2, Path, false))) {
		JB_SetRef(Path, Path2);
	}
	JB_Decr(Path2);
	JB_File* F = JB_Str_AsFile(Path);
	JB_Incr(F);
	JB_SetRef(SC__Comp_OriginalInputPath, F);
	JB_SetRef(SC__Comp_BaseProjectPath, F);
	JB_SetRef(SC__Comp_ProjectName, JB_Str_TrimExtAndPath(F, true));
	bool Exists = JB_File_FileExistance(F);
	bool IsSpd = ({
		JB_String* _tmPf2 = JB_Str_Name(F);
		JB_Incr(_tmPf2);
		bool _tmPf1 = SC_Str_IsSpeedieSrc(_tmPf2);
		JB_EarlyDecr(_tmPf2);
		 _tmPf1;
	}) or IsScript;
	if ((Exists and (!JB_File_IsDir(F))) or ((!Exists) and IsSpd)) {
		JB_SetRef(SC__Options_SingleFileInput, JB_File_Path(F));
		if (!JB_File_MustExist(F, JB_LUB[0])) {
			JB_EarlyDecr(Path);
			JB_EarlyDecr(F);
			return JB_LUB[0];
		}
		JB_SetRef(F, JB_File_Parent(F));
		JB_SetRef(SC__Comp_BaseProjectPath, F);
	}
	SC_FB__CheckSelfModifying();
	JB_String* _tmPf4 = JB_Str_OperatorPlus(SC__Comp_ProjectName, JB_LUB[156]);
	JB_Incr(_tmPf4);
	JB_String* _tmPf3 = JB_Str_OperatorPlus(JB_LUB[2114], _tmPf4);
	JB_Incr(_tmPf3);
	JB_Decr(_tmPf4);
	(SC_SC_Targets__SyntaxAccessSet(_tmPf3, true));
	JB_Decr(_tmPf3);
	if (!JB_Str_Exists(SC__Options_SingleFileInput)) {
		JB_File_MustExist(F, JB_LUB[0]);
	}
	JB_Decr(F);
	if (Exists and (IsSpd and JB_Rec_OK(JB_StdErr))) {
		JB_SafeDecr(Path);
		return Path;
	}
	JB_EarlyDecr(Path);
	return JB_LUB[0];
}


JB_String* JB_ImageHelper__ConvertPNGToVOI(JB_String* P, Message* Where) {
	int X = 0;
	int Y = 0;
	int Comp = 0;
	byte* Img = JB_Img__LoadPNG(P->Addr, JB_Str_Length(P), &X, &Y, &Comp);
	if (!Img) {
		return (JB_Str__Error());
	}
	int N = 0;
	byte* Qoi = JB_Img__WriteQOI(Img, X, Y, &N);
	JB_Free(Img);
	if (!Qoi) {
		return (JB_Str__Error());
	}
	JB_String* O = JB_Str__Freeable(Qoi, N);
	JB_Incr(O);
	JB_String* C = JB_Str_Compress(O, kJB__MZLab_Strong, nil, nil);
	JB_Incr(C);
	JB_String* D = JB_Str_Decompress(C, nil, 268435456, nil);
	JB_Incr(D);
	if ((!JB_Str_Equals(O, D, false))) {
		if (true) {
			JB_Msg_Fail(Where, JB_LUB[1836]);
		}
		JB_SetRef(C, O);
	}
	JB_Decr(O);
	JB_EarlyDecr(D);
	JB_SafeDecr(C);
	return C;
}


bool SC_AC__Active() {
	return SC__AC_Total < SC__AC_Max_Total;
}

void SC_AC__ActualDefine(Message* M, Message* S) {
	JB_String* F = JB_Msg_OriginalFilePath(S);
	JB_Incr(F);
	if (!JB_Str_Exists(F)) {
		JB_Str_Fail(JB_LUB[903]);
		JB_EarlyDecr(F);
		return;
	}
	JB_Msg_AppendSyx(M, kJB_SyxSStr, F);
	JB_Decr(F);
	JB_Msg_AppendNum(M, S->Position);
}

Message* SC_AC__AllTmps() {
	Message* Rz = nil;
	Message* X = SC__AC_all_tmp_src;
	if (JB_Macro_Cleaned(X)) {
		return JB_Macro_Source(X);
	}
	(JB_Macro_CleanedSet(X, true));
	Rz = JB_Macro_Source(X);
	int State = 0;
	{
		Message* Ch = ((Message*)JB_Ring_First(Rz));
		while (Ch) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Ch));
			if (JB_Msg_EqualsSyx(Ch, kJB_SyxName)) {
				State = SC_Msg_Autocomplete_State(Ch);
				JB_Tree_Remove(Ch);
			}
			 else {
				Ch->Tag = State;
			}
			Ch = _Nf1;
		};
		;
	}
	;
	return Rz;
}

bool SC_AC__ASM(Message* Msg, SCFunction* Fn) {
	bool Rz = false;
	SC_Pac_ASMInit((&SC__Pac_Sh));
	JB_Mrap_Zero(SC__Pac_JSM);
	(JB_Mrap_LengthSet(SC__Pac_JSM, 0));
	if (SC_Pac_FatterCompile((&SC__Pac_Sh), Fn)) {
		FastString* Fs = JB_FS_Constructor(nil);
		JB_Incr(Fs);
		Rz = SC_AC__FeedBackViewASMSub(Msg, Fn, Fs, false);
		JB_Decr(Fs);
	}
	return Rz;
}

Message* SC_AC__ASMFail(SCFunction* Fn, Message* Ret) {
	JB_Error* Err = Fn->SavedError;
	if (Err) {
		JB_Rec_AppendErr(JB_StdErr, Err);
	}
	 else {
		Err = JB_Rec_LastError(JB_StdErr);
	}
	Message* Errtmp = JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[463]);
	JB_Tree_SyntaxAppend(Errtmp, SC_AC__MiniErrors(JB_StdErr, kJB__ErrorSeverity_Warning));
	JB_Proc_Send(JB_App__Parent(false), Errtmp);
	return Ret;
}

Message* SC_AC__AutoComplete(Message* Ff, JB_String* Name, JB_String* Purpose) {
	if (!Ff) {
		return nil;
	}
	Syntax F = Ff->Func;
	if ((F != kJB_SyxBra) and ((F != kJB_SyxPrm) and ((F != kJB_SyxList) and ((F != kJB_SyxArg) and ((F != kJB_SyxArr) and ((F != kJB_SyxAcc) and ((F != kJB_SyxDecl) and (F != kJB_SyxRel)))))))) {
		Message* Tmp = JB_Syx_Msg(kJB_SyxTmp, Purpose);
		JB_Incr(Tmp);
		Message* Arg = JB_Msg_Msg(Tmp, kJB_SyxArg, Name);
		JB_Incr(Arg);
		SC_AC__AutoCompleteSub(Ff, Name, Arg);
		JB_EarlyDecr(Arg);
		JB_SafeDecr(Tmp);
		return Tmp;
	}
	return nil;
}

void SC_AC__AutoCompleteSub(Message* Ff, JB_String* Name, Message* Into) {
	SC__AC_Total = 0;
	int Types = -1;
	SCNode* Scope = SC_AC__GetScope(Ff, Types);
	JB_Incr(Scope);
	if (Scope) {
		Message* NeedTypeLimit = SC_Msg_GetTypeLimiter(Ff);
		JB_Incr(NeedTypeLimit);
		Array* Arr = JB_Array_Constructor0(nil);
		JB_Incr(Arr);
		while (Scope and SC_AC__Active()) {
			SC_AC__AutoSub(Scope, Name, Arr, Types, NeedTypeLimit);
			if ((!JB_Str_Exists(Name)) and JB_Object_FastIsa(Scope, &SCArgData)) {
				break;
			}
			JB_SetRef(Scope, SC_Base_UpClass(Scope, Ff));
		};
		JB_Decr(NeedTypeLimit);
		JB_Array_Sort(Arr, ((FP_SorterComparer)((&SC_AutoItem__Sorter))));
		AutoItem* Prev = nil;
		JB_Incr(Prev);
		{
			int _if0 = 0;
			while (true) {
				AutoItem* I = ((AutoItem*)JB_Array_Value(Arr, _if0));
				JB_Incr(I);
				if (I == nil) {
					JB_EarlyDecr(I);
					break;
				}
				if (SC_AutoItem_OKBy(I, Prev)) {
					Message* Tmp = JB_Msg_Msg(Into, kJB_SyxTmp, I->Insert);
					JB_Incr(Tmp);
					JB_Msg_AppendSyx(Tmp, kJB_SyxStr, I->Display);
					JB_Decr(Tmp);
					JB_SetRef(Prev, I);
				}
				JB_Decr(I);
				(++_if0);
			};
		}
		;
		JB_Decr(Arr);
		JB_Decr(Prev);
	}
	JB_Decr(Scope);
}

Message* SC_AC__AutoJump(Message* Cmd) {
	Message* C = ((Message*)JB_Ring_Last(Cmd));
	if (JB_Msg_EqualsSyx(C, kJB_SyxName)) {
		if (JB_Msg_OperatorStarts(Cmd, JB_LUB[2295])) {
			return SC_AC__AutoComplete(((Message*)JB_Ring_First(C)), C->Name, Cmd->Name);
		}
		return SC_AC__DefineOrCall(C, Cmd->Name, nil);
	}
	if (JB_Msg_OperatorStarts(Cmd, JB_LUB[2295])) {
		return SC_AC__RootTmpComplete(Cmd);
	}
	if (JB_Msg_SyntaxEquals(C, JB_LUB[930], true)) {
		return SC_AC__JumpImport(Cmd);
	}
	return nil;
}

void SC_AC__AutoSub(SCNode* Scope, JB_String* Name, Array* Found, int Types, Message* NeedTypeLimit) {
	DictionaryReader* Nav = JB_Dict_Navigate(Scope->Access);
	JB_Incr(Nav);
	SC_AC__AutoSub2(Scope, Name, Found, Types, NeedTypeLimit, Nav);
	JB_Decr(Nav);
}

void SC_AC__AutoSub2(SCNode* Scope, JB_String* Name, Array* Found, int Types, Message* NeedTypeLimit, DictionaryReader* Within) {
	SCDecl* TypeLimiter = nil;
	if (NeedTypeLimit) {
		TypeLimiter = SC_TypeOfExpr(NeedTypeLimit, Scope, nil);
	}
	while (true) {
		SCObject* Value = ((SCObject*)JB_DictionaryReader_NextValue(Within));
		if ((!Value)) {
			break;
		}
		JB_String* Key = JB_Nav_Name(Within);
		SC_AC__AutoSub3(Value, Key, Found, Name, Types, TypeLimiter);
	};
	if (SC_SCObject_SyntaxIs(Scope, kSC__SCNodeInfo_AllowLinkedLists)) {
		SCDecl* Value = Scope->LocalVarList;
		while (Value) {
			SC_AC__AutoSub3(Value, Value->Name, Found, Name, Types, TypeLimiter);
			Value = Value->LocalVarList;
		};
	}
}

void SC_AC__AutoSub3(SCObject* Value, JB_String* Key, Array* Found, JB_String* SearchedName, int Types, SCDecl* TypeLimiter) {
	JB_Incr(Value);
	JB_String* Orig = SC_SCObject_CanAuto(Value, SearchedName);
	JB_Incr(Orig);
	if (!(JB_Str_Exists(Orig) and ((!JB_Str_Exists(SearchedName)) or JB_Str_OperatorStarts(Orig, SearchedName)))) {
		JB_EarlyDecr(Value);
		JB_EarlyDecr(Orig);
		return;
	}
	bool Exact = (JB_Str_Equals(SearchedName, Orig, true));
	while (Value and SC_AC__Active()) {
		if (!(((JB_Str_Equals(Key, JB_LUB[401], true))) and (JB_Object_Isa(Value, &SCModuleData)))) {
			if (Types & SC_SCObject_AutoCompleteType(Value)) {
				bool OK = true;
				if (TypeLimiter) {
					SCDecl* Mine = SC_Object_AsDecl(Value);
					JB_Incr(Mine);
					if (Mine) {
						OK = SC_Decl_MiniMatch(Mine, TypeLimiter, 0);
					}
					JB_Decr(Mine);
				}
				if (OK) {
					JB_String* Sub_name = SC_SCObject_Display(Value, Exact);
					JB_Incr(Sub_name);
					if (JB_Str_Exists(Sub_name)) {
						(++SC__AC_Total);
						JB_String* _tmPf0 = SC_SCObject_BaseIcon(Value);
						JB_Incr(_tmPf0);
						JB_String* _tmPf1 = JB_Str_OperatorPlus(JB_LUB[60], Sub_name);
						JB_Incr(_tmPf1);
						JB_SetRef(Sub_name, JB_Str_OperatorPlus(_tmPf0, _tmPf1));
						JB_Decr(_tmPf0);
						JB_Decr(_tmPf1);
						AutoItem* _tmPf2 = SC_AutoItem_ConstructorAuto(nil, Key, Orig, Value, Sub_name, Exact, SC_SCObject_Auto_Type(Value));
						JB_Incr(_tmPf2);
						JB_Array_SyntaxAppend(Found, _tmPf2);
						JB_Decr(_tmPf2);
					}
					JB_Decr(Sub_name);
				}
			}
		}
		JB_SetRef(Value, SC_SCObject_NextDisplay(Value, Exact));
	};
	JB_Decr(Orig);
	JB_Decr(Value);
}

Message* SC_AC__CallFrom(Message* Msg, JB_Object* Found) {
	Message* Rz = nil;
	SCFunction* Fn = SC_Msg_AutoMsgFuncFn(Msg);
	if (Fn) {
		Rz = SC_AC__CallFromDefine(Msg, Fn, Found);
		SC_AC__CallFromSub(((Message*)JB_Ring_First(Rz)), Fn);
	}
	return Rz;
}

Message* SC_AC__CallFromDefine(Message* Msg, SCFunction* Fn, JB_Object* Found) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[2090]));
	Message* Arg = JB_Msg_Msg(Rz, kJB_SyxArg, JB_LUB[0]);
	JB_Incr(Arg);
	Message* Define = SC_AC__Define(Msg, JB_LUB[2044], Found);
	JB_Incr(Define);
	if (!Define) {
		JB_SetRef(Define, JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[2091]));
	}
	JB_Msg_AppendString(Define, Fn->Name);
	JB_Tree_SyntaxAppend(Arg, Define);
	JB_Decr(Arg);
	JB_EarlyDecr(Define);
	JB_SafeDecr(Rz);
	return Rz;
}

void SC_AC__CallFromSub(Message* Arg, SCFunction* Fn) {
	{
		Array* _LoopSrcf2 = Fn->LinkFrom;
		int _if0 = 0;
		while (true) {
			SCFunction* Call_point = ((SCFunction*)JB_Array_Value(_LoopSrcf2, _if0));
			if (Call_point == nil) {
				break;
			}
			Message* S = Call_point->Source;
			if (S) {
				Message* Item = JB_Msg_Msg(Arg, kJB_SyxTmp, JB_LUB[109]);
				int Pos = -1;
				JB_String* F = SC_Msg_FuncPos(S, Fn, Pos);
				JB_Msg_AppendSyx(Item, kJB_SyxSStr, F);
				JB_Msg_AppendString(Item, SC_SCObject_CallFromName(Call_point));
				JB_Msg_AppendNum(Item, Pos);
				if (Call_point == SC__AC_OrigFn) {
					JB_SetRef(Item->Name, JB_LUB[1987]);
				}
			}
			(++_if0);
		};
	};
}

bool SC_AC__CanUseName(SCNode* L) {
	if (JB_Object_FastIsa(L, &SCModuleData)) {
		return (!((SCModule*)L)->IsImport);
	}
	return true;
}

Message* SC_AC__Check(Message* Cmd) {
	if (Cmd) {
		return SC_AC__CheckSub(Cmd);
	}
	Message* _tmPf0 = JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[463]);
	JB_Incr(_tmPf0);
	Message* _tmPf1 = SC_AC__CheckSub(_tmPf0);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

Message* SC_AC__CheckSub(Message* Cmd) {
	if (JB_Rec_HasProblems(SC__AC_Errors)) {
		return SC_Msg_SendPerryErrors(Cmd);
	}
	JB_SetRef(Cmd->Name, JB_LUB[463]);
	JB_Msg_AppendSyx(Cmd, kJB_SyxThg, JB_LUB[2043]);
	return Cmd;
}

Message* SC_AC__CmdCleanUp(Message* Arg) {
	JB_Incr(Arg);
	if (!JB_Msg_EqualsSyx(Arg, kJB_SyxArg)) {
		JB_PrintLine(JB_LUB[621]);
		Message* Tmp = JB_Syx_OperatorPlus(kJB_SyxArg, JB_LUB[622]);
		JB_Incr(Tmp);
		JB_Tree_SyntaxAppend(Tmp, Arg);
		JB_SetRef(Arg, Tmp);
		JB_Decr(Tmp);
	}
	Message* Date = ((Message*)JB_Ring_First(Arg));
	JB_Incr(Date);
	if (!JB_Msg_EqualsSyx(Date, kJB_SyxNum)) {
		JB_PrintLine(JB_LUB[623]);
		JB_SetRef(Date, JB_Syx_PlusNum(kJB_SyxNum, 0));
		(JB_Ring_FirstSet(Arg, Date));
	}
	Message* Cmd = ((Message*)JB_Tree_Second(Arg));
	JB_Incr(Cmd);
	JB_Decr(Arg);
	if (!JB_Msg_EqualsSyx(Cmd, kJB_SyxTmp)) {
		JB_PrintLine(JB_LUB[624]);
		JB_SetRef(Cmd, JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[462]));
		(JB_Ring_NextSibSet(Date, Cmd));
	}
	JB_Decr(Date);
	JB_Tree_RemoveAfter(Cmd);
	JB_SafeDecr(Cmd);
	return Cmd;
}

bool SC_AC__CmdWrap(Message* Arg) {
	if (JB_Msg_ContainsStr(Arg, SC__AC_TestCrash)) {
		JB_App__Crash(nil);
		return nil;
	}
	Message* Cmd = SC_AC__CmdCleanUp(Arg);
	JB_Incr(Cmd);
	Message* Response = ((Message*)JB_Ternary((!JB_Msg_SyntaxEquals(Cmd, JB_LUB[462], false)), SC_AC__DoCmd(Cmd), nil));
	JB_Incr(Response);
	if (!Response) {
		JB_SetRef(Response, SC_AC__WriteError(Cmd->Name));
	}
	if (Cmd != Response) {
		JB_FreeIfDead(SC_Msg_ReplaceWith(Cmd, Response));
	}
	JB_Decr(Cmd);
	JB_Decr(Response);
	SpdProcess* _tmPf0 = JB_App__Parent(false);
	JB_Incr(_tmPf0);
	JB_Proc_Send(_tmPf0, Arg);
	JB_Rec_Clear(JB_StdErr);
	JB_EarlyDecr(_tmPf0);
	return true;
}

Message* SC_AC__CppASM(Message* Msg, SCFunction* Fn) {
	Message* Rz = nil;
	JB_Error* Err = Fn->SavedError;
	if (Err) {
		JB_Rec_AppendErr(JB_StdErr, Err);
		return nil;
	}
	Message* Src = Fn->Source;
	if (!Src) {
		JB_Object_Fail(Fn);
		return nil;
	}
	SCFile* Path = SC_Msg_File(Src);
	if (!Path) {
		JB_Msg_Fail(Src, nil);
		return nil;
	}
	Rz = JB_Syx_Msg(kJB_SyxTmp, Msg->Name);
	JB_FreeIfDead(JB_Msg_Msg(Rz, kJB_SyxThg, Fn->Name));
	Message* Rzarg = JB_Msg_Msg(Rz, kJB_SyxArg, JB_LUB[0]);
	if (!SC_AC__ASM(Rzarg, Fn)) {
		Rz = nil;
		JB_FreeIfDead(SC_AC__ASMFail(Fn, Rz));
	}
	return Rz;
}

void SC_AC__CppView(Message* Out, SCFunction* Fn) {
	JB_FreeIfDead(JB_Msg_Msg(Out, kJB_SyxTmp, JB_LUB[0]));
	{
		JB_String* _LoopSrcf2 = SC_Func_RenderSheBless(Fn);
		JB_Incr(_LoopSrcf2);
		int _Prevf0 = 0;
		while (((JB_String*)JB_Str_Exists((_LoopSrcf2)))) {
			Ind _Curr_f1 = JB_Str_FindCharset(_LoopSrcf2, kJB__CharSet_Line, _Prevf0, kJB__int_Max);
			JB_String* S = JB_Str_Range(_LoopSrcf2, _Prevf0, _Curr_f1, false);
			JB_Incr(S);
			if (!JB_Str_Exists(S)) {
				JB_SetRef(S, JB_LUB[60]);
			}
			JB_FreeIfDead(JB_Msg_Msg(Out, kJB_SyxTmp, S));
			JB_Decr(S);
			_Prevf0 = (_Curr_f1 + 1);
			if (!JB_Ind_SyntaxCast(_Curr_f1)) {
				break;
			}
		};
		JB_Decr(_LoopSrcf2);
	};
}

Message* SC_AC__Define(Message* Msg, JB_String* Purpose, JB_Object* Found) {
	JB_Incr(Found);
	bool IsDisplay = JB_Str_OperatorStarts(Purpose, JB_LUB[2016]);
	bool IsDefine = JB_Str_OperatorStarts(Purpose, JB_LUB[2044]);
	if (!(IsDisplay or IsDefine)) {
		JB_Str_Fail(JB_LUB[2065]);
		JB_EarlyDecr(Found);
		return nil;
	}
	if (!JB_Object_Isa(Found, &SCObjectData)) {
		JB_SetRef(Found, nil);
	}
	if (JB_Msg_EqualsSyx(Msg, kJB_SyxPrm)) {
		Msg = ((Message*)JB_Ring_Parent(Msg));
	}
	Message* S = SC_AC__LocateDefinition(Msg, ((SCObject*)Found), IsDisplay);
	JB_Incr(S);
	JB_Decr(Found);
	if (S) {
		Message* _tmPf0 = SC_AC__RespondDefine(Msg, S, Purpose);
		JB_Incr(_tmPf0);
		JB_EarlyDecr(S);
		JB_SafeDecr(_tmPf0);
		return _tmPf0;
	}
	JB_Decr(S);
	if (true) {
		JB_Str_Fail(JB_LUB[2066]);
	}
	return nil;
}

Message* SC_AC__Define_Behaviour(SCFunction* Fn, JB_String* Purpose) {
	Message* Rz = nil;
	JB_Incr(Rz);
	SCClass* Cls = Fn->Cls;
	JB_Incr(Cls);
	if (!Cls) {
		JB_EarlyDecr(Cls);
		JB_EarlyDecr(Rz);
		return nil;
	}
	JB_String* Name = JB_Str_Moat(Fn->Name);
	JB_Incr(Name);
	SCObject* Found = SC_Base_UpCheck(Cls, Name, true);
	JB_Incr(Found);
	JB_Decr(Cls);
	JB_Decr(Name);
	if (JB_Object_FastIsa(Found, &SCFunctionData)) {
		JB_SetRef(Rz, SC_AC__DefineOrCall(((SCFunction*)Found)->Source, Purpose, ((SCFunction*)Found)));
	}
	JB_EarlyDecr(Found);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* SC_AC__Define_Something(SCFile* Myfile, int F, Message* Thg, JB_String* Purpose) {
	if (!Thg) {
		Thg = SC_File_GetMsg(Myfile, F);
	}
	if (!Thg) {
		JB_Str_Fail(JB_LUB[2270]);
		return nil;
	}
	Thg = SC_Msg_CmdImprove(Thg);
	return SC_AC__DefineOrCall(Thg, Purpose, Myfile);
}

Message* SC_AC__DefineOrCall(Message* Msg, JB_String* Purpose, JB_Object* Found) {
	if (JB_Str_OperatorStarts(Purpose, JB_LUB[2090])) {
		return SC_AC__CallFrom(Msg, Found);
	}
	return SC_AC__Define(Msg, Purpose, Found);
}

Message* SC_AC__Diissplay(Message* Msg, Message* S, JB_String* Purpose) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Syx_Msg(kJB_SyxArg, JB_LUB[0]));
	SCFunction* Fn = SC_Msg_IdentifyFunc(S);
	JB_Incr(Fn);
	if (JB_Msg_EqualsSyx(Msg, kJB_SyxName)) {
		if ((JB_Str_Equals(Purpose, JB_LUB[2016], false)) and SC_Msg_OperatorIsTmp(S, JB_LUB[1140])) {
			JB_EarlyDecr(Fn);
			JB_EarlyDecr(Rz);
			return S;
		}
		Msg->Func = kJB_SyxThg;
		SCNode* Obj = SC_Comp__FindModuleOrClass(Msg, true);
		JB_Incr(Obj);
		if (Obj) {
			Message* _tmPf4 = SC_Base_DiissplayObj(Obj, Rz);
			JB_Incr(_tmPf4);
			JB_EarlyDecr(Obj);
			JB_EarlyDecr(Fn);
			JB_EarlyDecr(Rz);
			JB_SafeDecr(_tmPf4);
			return _tmPf4;
		}
		JB_Decr(Obj);
	}
	if (((JB_Msg_EqualsSyx(S, kJB_SyxDecl))) and ((!Fn) or ({
		Message* _tmPf1 = SC_Msg_DeclName(S);
		JB_Incr(_tmPf1);
		bool _tmPf0 = JB_Msg_DeepEquals(Msg, _tmPf1, false);
		JB_EarlyDecr(_tmPf1);
		 _tmPf0;
	}))) {
		JB_String* _tmPf2 = SC_Msg_AutoCompleteDecl(S);
		JB_Incr(_tmPf2);
		JB_Msg_AppendSyx(Rz, kJB_SyxEmb, _tmPf2);
		JB_EarlyDecr(_tmPf2);
		JB_EarlyDecr(Fn);
		JB_SafeDecr(Rz);
		return Rz;
	}
	if (!Fn) {
		JB_Object* Obj = S->Obj;
		JB_Incr(Obj);
		if (JB_Object_Isa(Obj, &SCNodeData)) {
			Message* _tmPf3 = SC_Base_DiissplayObj(((SCNode*)Obj), Rz);
			JB_Incr(_tmPf3);
			JB_EarlyDecr(Obj);
			JB_EarlyDecr(Fn);
			JB_EarlyDecr(Rz);
			JB_SafeDecr(_tmPf3);
			return _tmPf3;
		}
		JB_Decr(Obj);
	}
	if (JB_Str_Equals(Purpose, JB_LUB[2017], true)) {
		if (Fn and ((!Fn->NextFunc) and (!JB_Array_SyntaxCast(Fn->Args)))) {
			JB_EarlyDecr(Fn);
			JB_SafeDecr(Rz);
			return Rz;
		}
	}
	if (!Fn) {
		JB_EarlyDecr(Fn);
		JB_EarlyDecr(Rz);
		return JB_Msg_Copy(S, nil);
	}
	while (Fn) {
		Message* Copy = SC_Msg_CutifyCopy(Fn->Source);
		JB_Incr(Copy);
		JB_Tree_SyntaxAppend(Rz, Copy);
		JB_String* Desc = Fn->Description;
		JB_Incr(Desc);
		if (JB_Str_Exists(Desc)) {
			JB_Msg_AppendSyx(Rz, kJB_SyxEmb, JB_LUB[0]);
			JB_Msg_AppendSyx(Rz, kJB_SyxBack, Desc);
			if (Fn->NextFunc) {
				JB_Msg_AppendSyx(Rz, kJB_SyxEmb, JB_LUB[0]);
			}
		}
		JB_Decr(Desc);
		SCNode* L = Fn->Parent;
		JB_Incr(L);
		if (L) {
			if (SC_AC__CanUseName(L)) {
				SC_AC__IdentifyBetter(Copy, L->Name);
			}
		}
		 else {
			JB_EarlyDecr(L);
			JB_EarlyDecr(Copy);
			break;
		}
		JB_Decr(Copy);
		JB_Decr(L);
		if (!JB_Str_OperatorStarts(Purpose, JB_LUB[2017])) {
			break;
		}
		JB_SetRef(Fn, Fn->NextFunc);
	};
	JB_EarlyDecr(Fn);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* SC_AC__DoCmd(Message* Cmd) {
	Message* Rz = nil;
	JB_Incr(Rz);
	if (!JB_Msg_EqualsSyx(Cmd, kJB_SyxTmp)) {
		JB_EarlyDecr(Rz);
		return nil;
	}
	if (!SC_AC__InitedOK()) {
		JB_EarlyDecr(Rz);
		return SC_Msg_SendPerryErrors(Cmd);
	}
	if (JB_Msg_SyntaxEquals(Cmd, JB_LUB[2363], true)) {
		JB_EarlyDecr(Rz);
		return SC_AC__UnusedStuff(Cmd);
	}
	if (JB_Msg_SyntaxEquals(Cmd, JB_LUB[463], true)) {
		JB_EarlyDecr(Rz);
		return SC_AC__Check(Cmd);
	}
	if (JB_Msg_SyntaxEquals(Cmd, JB_LUB[2189], true)) {
		JB_EarlyDecr(Rz);
		return SC_AC__ReportMemory(Cmd);
	}
	if ((JB_Tree_SyntaxEquals(Cmd, 1)) or (({
		Message* _tmPf1 = ((Message*)JB_Ring_Last(Cmd));
		JB_Incr(_tmPf1);
		bool _tmPf0 = JB_Msg_EqualsSyx(_tmPf1, kJB_SyxName);
		JB_EarlyDecr(_tmPf1);
		 _tmPf0;
	}))) {
		JB_EarlyDecr(Rz);
		return SC_AC__AutoJump(Cmd);
	}
	Message* _tmPf2 = JB_Msg_NeedSyx(Cmd, kJB_SyxStr);
	JB_Incr(_tmPf2);
	JB_String* Req = JB_Msg_Name(_tmPf2);
	JB_Incr(Req);
	JB_Decr(_tmPf2);
	SCFile* My_file = ((SCFile*)JB_Dict_ValueLower(SC__Comp_Files, Req));
	JB_Incr(My_file);
	JB_Decr(Req);
	if (My_file) {
		JB_SetRef(Rz, SC_AC__MainAct(Cmd, My_file));
	}
	 else {
		if (true) {
			JB_Str_Fail(JB_LUB[2364]);
		}
	}
	JB_EarlyDecr(My_file);
	JB_SafeDecr(Rz);
	return Rz;
}

bool SC_AC__EnterAutoComplete() {
	SpdProcess* Perry = JB_App__Parent(false);
	JB_Incr(Perry);
	if (!JB_Rec_OK(JB_StdErr)) {
		JB_EarlyDecr(Perry);
		return nil;
	}
	if (!JB_Proc_IsOpen(Perry)) {
		JB_EarlyDecr(Perry);
		return nil;
	}
	(JB_App__CrashOnInterupt(false));
	JB_PrintLine(JB_LUB[2391]);
	PicoGlobalConfig* Realm = PicoGlobalConf();
	Realm->TimeOut = 1966080;
	if (!JB_App__IsMainThread()) {
		JB_PrintLine(JB_LUB[2392]);
		Realm->TimeOut = 0;
	}
	if (SC__Options_PrintLibraries) {
		JB_PrintLine(JB_LUB[2393]);
		JB_Pico_Config(Perry->Pico)->Noise = -1;
	}
	SC__Comp_InPerry = 1;
	SC_AC__PerryTalk(Perry);
	JB_PrintLine(JB_LUB[2394]);
	JB_EarlyDecr(Perry);
	return true;
}

Message* SC_AC__ErrorsInAWayThatPerryLikes() {
	if (!SC__AC_Cleaned) {
		SC_Rec_PrePrintErrors(SC__AC_Errors);
		SC__AC_Cleaned = true;
	}
	return SC_AC__MiniErrors(SC__AC_Errors, kJB__ErrorSeverity_Warning);
}

bool SC_AC__FeedBackViewASMSub(Message* Out, SCFunction* Fn, FastString* Fs, bool RenderBlocks) {
	int Bb = 0;
	Message* Path = nil;
	int Lp = 0;
	Message* Top = SC_Func_SourceArg(Fn);
	int Count = 0;
	int Size = 0;
	{
		FatASM* _FirstInstf0 = SC_Func_FatFirst(Fn);
		FatASM* Fat = _FirstInstf0;
		FatASM* _AfterInstf2 = Fat + Fn->xC2xB5FATLength;
		while (Fat < _AfterInstf2) {
			if (SC_FAT_WillRenderFat(Fat)) {
				int Hisss = SC_FAT_GuessSize(Fat);
				Count = (Count + (Hisss > 0));
				Size = (Size + Hisss);
				if (RenderBlocks and (Fat->BasicBlock != Bb)) {
					Bb = Fat->BasicBlock;
					JB_Msg_AppendNum(Out, Bb);
				}
				JB_FS_AppendMultiByte(Fs, ' ', SC_Msg_AsmIndent(Fat->Msg, Top) * 2);
				SC_FAT_RenderFat(Fat, Fs, true);
				Message* Tmp = JB_Msg_Msg(Out, kJB_SyxTmp, JB_FS_SyntaxCast(Fs));
				Ind P = Fat->Msg->Position;
				if (P <= 0) {
					P = Lp;
				}
				JB_Msg_AppendNum(Tmp, P);
				Lp = P;
				Path = SC_Msg_NextPath(Fat->Msg, Tmp, Path);
			}
			(++Fat);
		};
	}
	;
	Message* Title = ((Message*)JB_Ring_First(Out));
	JB_Msg_AppendNum(Title, Count);
	JB_Msg_AppendNum(Title, Size * 4);
	SC_AC__CppView(Out, Fn);
	return true;
}

Message* SC_AC__FindAdj(Message* Msg) {
	Message* Adj = Msg;
	if (JB_Msg_OperatorIn(Msg, kJB_SyxAdj)) {
		Adj = ((Message*)JB_Ring_Parent(Msg));
	}
	if (!JB_Msg_OperatorIn(Adj, kJB_SyxDecl)) {
		Message* Found = SC_Comp__FindAdj(Adj, nil);
		if (Found) {
			return ((Message*)JB_Ring_First(Found));
		}
	}
	return nil;
}

Message* SC_AC__FuncTmps() {
	Message* Rz = nil;
	JB_Incr(Rz);
	if (JB_Macro_Cleaned(SC__AC_func_tmp_src)) {
		JB_EarlyDecr(Rz);
		return JB_Macro_Source(SC__AC_func_tmp_src);
	}
	(JB_Macro_CleanedSet(SC__AC_func_tmp_src, true));
	JB_SetRef(Rz, JB_Macro_Source(SC__AC_func_tmp_src));
	{
		Message* Ch = ((Message*)JB_Ring_First(Rz));
		JB_Incr(Ch);
		while (Ch) {
			if (!JB_Msg_EqualsSyx(Ch, kJB_SyxDot)) {
				JB_Msg_AppendSyx(Ch, kJB_SyxStr, Ch->Name);
			}
			if (!JB_Msg_EqualsSyx(Ch, kJB_SyxStr)) {
				Message* F = ((Message*)JB_Ring_First(Ch));
				JB_Incr(F);
				if (F) {
					if (JB_Str_Last(F->Name, 0) != '.') {
						JB_SetRef(F->Name, JB_Str_OperatorPlus(F->Name, JB_LUB[60]));
					}
				}
				JB_Decr(F);
			}
			Ch->Func = kJB_SyxDot;
			JB_SetRef(Ch, ((Message*)JB_Ring_NextSib(Ch)));
		};
		JB_Decr(Ch);
		;
	}
	;
	JB_SafeDecr(Rz);
	return Rz;
}

SCFunction* SC_AC__GetFunc(Message* Cmd, SCFile* Myfile, int Ff, int N) {
	Message* Src = ((Message*)JB_Ring_Last(Cmd));
	if (!JB_Msg_EqualsSyx(Src, kJB_SyxDot)) {
		return SC_AC__GetFunc2(Myfile, Ff, N);
	}
	SCFunction* Fn = ({
		SCFunction* _X = SC__AC_AnonFn;
		if (_X == nil) {
			_X = SC_Func_Constructor(nil, nil);
			JB_SetRef(SC__AC_AnonFn, _X);
		}
		 _X;
	});
	JB_MemoryLayer* Layer = ({
		JB_MemoryLayer* _X = SC__AC_ParseLayer;
		if (_X == nil) {
			_X = JB_Mem_Constructor(nil, &MessageData, nil);
			JB_SetRef(SC__AC_ParseLayer, _X);
		}
		 _X;
	});
	Message* Prm = ((Message*)JB_Tree_Second(Src));
	Message* Mpos = ((Message*)JB_Ring_First(Prm));
	Message* Str = ((Message*)JB_Tree_Second(Prm));
	if (!(Mpos and Str)) {
		JB_Str_Fail(JB_LUB[2308]);
		return nil;
	}
	Message* F = ((Message*)JB_Ring_First(Src));
	SCNode* Parent = SC_Comp__FindModuleOrClass(F, false);
	if (!Parent) {
		F->Func = kJB_SyxName;
		Parent = SC_Comp__FindModuleOrClass(F, true);
	}
	if (!Parent) {
		JB_Str_Fail(JB_LUB[2309]);
		return nil;
	}
	if ((Parent == SC__AC_AnonParent) and ((JB_Msg_SyntaxEquals(Str, ((JB_String*)Layer->Obj2), false)) and (Myfile == Layer->Obj))) {
		return Fn;
	}
	JB_SetRef(SC__AC_OrigFn, SC_Func_InsertIn(Fn, Parent, Src->Name));
	int64 Pos = JB_Msg_Int(Mpos, 0);
	JB__Tk__DotInsertAllow = true;
	JB_SetRef(Layer->Obj, Myfile);
	JB_SetRef(Layer->Obj2, Str->Name);
	JB_Mem_Use(Layer);
	if (SC_Func_Update_Source(Fn, Pos, Str->Name, Myfile)) {
		JB_SetRef(SC__AC_AnonParent, Parent);
		return Fn;
	}
	JB_SetRef(Layer->Obj, nil);
	JB_SetRef(Layer->Obj2, nil);
	return nil;
}

SCFunction* SC_AC__GetFunc2(SCFile* Myfile, int F, int N) {
	Message* Ast = SC_File_AST(Myfile);
	if (Ast) {
		Message* Src = SC_Msg_FindPos(Ast, F, N);
		if (Src) {
			return SC_Msg_InsideFunc(Src);
		}
	}
	return nil;
}

SCNode* SC_AC__GetScope(Message* Orig, int& Types) {
	if (!Orig) {
		return SC__Comp_Program;
	}
	if (JB_Msg_EqualsSyx(Orig, kJB_SyxAsk)) {
		Types = 8;
		return SC__Comp_Program;
	}
	Message* F = SC_Msg_CutifyCopy(Orig);
	JB_Incr(F);
	SCArg* Arg = SC_Msg_MsgArg(Orig);
	JB_Incr(Arg);
	Syntax Fn = F->Func;
	if (Arg and (Fn == kJB_SyxDot)) {
		Message* _tmPf1 = ((Message*)JB_Ring_First(F));
		JB_Incr(_tmPf1);
		SCObject* Decl = SC_TypeOfExprModulesOK(_tmPf1, Arg, nil);
		JB_Incr(Decl);
		JB_Decr(_tmPf1);
		if (!Decl) {
			if (true) {
				JB_Str_Fail(JB_LUB[2256]);
			}
			JB_EarlyDecr(Decl);
			JB_EarlyDecr(Arg);
			JB_EarlyDecr(F);
			return nil;
		}
		if (JB_Object_Isa(Decl, &SCNodeData)) {
			JB_EarlyDecr(Arg);
			JB_EarlyDecr(F);
			JB_SafeDecr(Decl);
			return ((SCNode*)Decl);
		}
		if (JB_Object_FastIsa(Decl, &SCDeclData)) {
			SCClass* _tmPf2 = ((SCDecl*)Decl)->Type;
			JB_Incr(_tmPf2);
			JB_EarlyDecr(Decl);
			JB_EarlyDecr(Arg);
			JB_EarlyDecr(F);
			JB_SafeDecr(_tmPf2);
			return _tmPf2;
		}
		JB_Decr(Decl);
	}
	JB_Decr(F);
	if (SC_Msg_ACInIsa(Orig)) {
		Types = 1;
		JB_EarlyDecr(Arg);
		return SC__Comp_Program;
	}
	if (Arg) {
		JB_SafeDecr(Arg);
		return Arg;
	}
	JB_Decr(Arg);
	if (JB_Msg_IsTypeOfDecl(Orig)) {
		Types = 1;
		return SC__Comp_Program;
	}
	SCArg* _tmPf0 = SC_Msg_MsgArg(Orig);
	JB_Incr(_tmPf0);
	if (!_tmPf0) {
		JB_Str_Fail(JB_LUB[2257]);
		JB_EarlyDecr(_tmPf0);
		return nil;
	}
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

void SC_AC__IdentifyBetter(Message* Node, JB_String* Name) {
	JB_Msg_BecomeStr(Node, kJB_SyxEmb, JB_LUB[0]);
	Node = ((Message*)JB_Ring_First(Node));
	Node->Func = kJB_SyxDot;
	JB_Msg_AppendSyx(Node, kJB_SyxThg, Name);
	JB_Msg_AppendSyx(Node, kJB_SyxEmb, JB_LUB[0]);
}

int SC_AC__Init_() {
	{
		SC__AC_Max_Total = 400;
		JB_SetRef(SC__AC_func_tmp_src, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1488])), 1073741824)));
		JB_SetRef(SC__AC_all_tmp_src, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1489])), 1073741824)));
		JB_SetRef(SC__AC_TestCrash, JB_Str_OperatorPlus(JB_LUB[1490], JB_LUB[385]));
	}
	;
	return 0;
}

bool SC_AC__InitedOK() {
	if (SC__Comp_InitedOK) {
		return true;
	}
	if (JB_Rec_OK(SC__AC_Errors)) {
		if (true) {
			JB_Str_Fail(JB_LUB[904]);
		}
	}
	return false;
}

Message* SC_AC__JumpImport(Message* Cmd) {
	Message* _tmPf0 = JB_Msg_NeedSyx(Cmd, kJB_SyxArg);
	JB_Incr(_tmPf0);
	Message* F = ((Message*)JB_Tree_Get(_tmPf0, 0));
	JB_Incr(F);
	JB_Decr(_tmPf0);
	if (F) {
		JB_Tree_Clear(Cmd);
		JB_File* Proj = SC_Comp__FindProject(F->Name);
		JB_Incr(Proj);
		if (!JB_File_FileExistance(Proj)) {
			JB_EarlyDecr(Proj);
			JB_EarlyDecr(F);
			return nil;
		}
		JB_String* _tmPf1 = JB_File_Path(Proj);
		JB_Incr(_tmPf1);
		JB_Decr(Proj);
		JB_Msg_AppendSyx(Cmd, kJB_SyxSStr, _tmPf1);
		JB_Decr(_tmPf1);
		JB_Msg_AppendNum(Cmd, 0);
		JB_EarlyDecr(F);
		return Cmd;
	}
	JB_EarlyDecr(F);
	return nil;
}

Message* SC_AC__LocateDefinition(Message* Msg, SCObject* Already_defined, bool DisplayOnly) {
	Message* Rz = nil;
	if ((JB_Msg_OperatorIn(Msg, kJB_SyxAdj)) or ((JB_Msg_EqualsSyx(Msg, kJB_SyxAdj)))) {
		Rz = SC_AC__FindAdj(Msg);
		if (Rz) {
			return Rz;
		}
	}
	SCDecl* Ty = SC_TypeOfExpr(Msg, SC_Msg_MsgArg(Msg), nil);
	Rz = SC_AC__LocateDefinitionSub(Msg, Already_defined, Ty, DisplayOnly);
	if (JB_Msg_EqualsSyx(Rz, kJB_SyxArg)) {
		Message* P = ((Message*)JB_Ring_Parent(Rz));
		if (P) {
			Rz = P;
		}
	}
	if (JB_Msg_OperatorIn(Msg, kJB_SyxTmp)) {
		Msg = ((Message*)JB_Ring_Parent(Msg));
	}
	if ((JB_Msg_EqualsSyx(Msg, kJB_SyxTmp))) {
		JB_Object* Fn = Msg->Obj;
		if (JB_Object_FastIsa(Fn, &SCFunctionData)) {
			return ((SCFunction*)Fn)->Source;
		}
	}
	return Rz;
}

Message* SC_AC__LocateDefinitionSub(Message* Msg, SCObject* Already_defined, SCDecl* Ty, bool DisplayOnly) {
	if (Already_defined) {
		return Already_defined->Source;
	}
	if ((JB_Msg_EqualsSyx(Msg, kJB_SyxThg)) and JB_Msg_OperatorIn(Msg, kJB_SyxFunc)) {
		Msg = ((Message*)JB_Ring_Parent(Msg));
	}
	SCFunction* Fn = SC_Msg_MsgFunc(Msg);
	if (Fn) {
		Message* It = Fn->Source;
		if (It) {
			return It;
		}
	}
	if (!Ty) {
		return SC_Msg_ModuleSrc(Msg);
	}
	if (SC_Class_EqualsType(Ty->Type, kSC__SCNodeType_ProtoType)) {
		JB_Object* L = Ty->IsLookupOnly;
		if (JB_Object_FastIsa(L, &SCFunctionData)) {
			return ((SCFunction*)L)->Source;
		}
	}
	if ((!DisplayOnly) and (JB_Msg_EqualsSyx(Msg, kJB_SyxDecl))) {
		return SC_Base_SourceArg(Ty->Type);
	}
	Message* Src = Ty->Source;
	if (Src) {
		if (DisplayOnly and SC_Decl_SyntaxIs(Ty, kSC__SCDeclInfo_Const)) {
			(SC_Decl_NameSet(Ty, Msg->Name));
			return SC_Decl_WriteDeclFull(Ty, JB_LUB[0], 1);
		}
		if ((JB_Msg_EqualsSyx(Src, kJB_SyxDecl)) and (JB_Msg_EqualsSyx(((Message*)JB_Ring_Last(Src)), kJB_SyxRel))) {
			Src = JB_Msg_Copy(Src, nil);
			Message* L = ((Message*)JB_Ring_Last(Src));
			JB_FreeIfDead(SC_Msg_ReplaceWith(L, ((Message*)JB_Ring_First(L))));
		}
		return Src;
	}
	if (DisplayOnly) {
		SCClass* T = Ty->Type;
		Message* _tmP0 = T->TypeNormal->Source;
		if (!_tmP0) {
			_tmP0 = T->Source;
		}
		return _tmP0;
	}
	SCNode* Found = SC_Object_ClassOrModule(Msg->Obj);
	if (Found) {
		return Found->Source;
	}
	return nil;
}

Message* SC_AC__MainAct(Message* Cmd, SCFile* My_file) {
	Message* Rz = nil;
	int F = ((int)JB_Msg_Int(JB_Msg_NeedSyxInt(Cmd, kJB_SyxNum, 1), 0));
	int N = ((int)JB_Msg_Int(JB_Msg_NeedSyxInt(Cmd, kJB_SyxNum, 2), 0));
	if (!N) {
		JB_Str_Fail(JB_LUB[2337]);
		return nil;
	}
	SC_File_Use(My_file);
	SCFunction* Fn = SC_AC__GetFunc(Cmd, My_file, F, N);
	JB_ClassData_Restore((&MessageData));
	if (!Fn) {
		return nil;
	}
	(SC_Func__CurrFuncSet(Fn));
	Message* Thg = SC_Msg_FindPos(Fn->Source, F, N);
	if (JB_Msg_OperatorStarts(Cmd, JB_LUB[2040])) {
		return SC_AC__CppASM(Cmd, Fn);
	}
	if (JB_Msg_OperatorStarts(Cmd, JB_LUB[2044]) or (JB_Msg_OperatorStarts(Cmd, JB_LUB[2016]) or JB_Msg_OperatorStarts(Cmd, JB_LUB[2090]))) {
		if ((!Thg) and (JB_Msg_SyntaxEquals(Cmd, JB_LUB[2090], false))) {
			Thg = Fn->Source;
		}
		if ((JB_Msg_EqualsSyx(Thg, kJB_SyxThg)) and (SC_Msg_IsBehaviour(Fn->Source) and JB_Tree_OperatorIn(Thg, Fn->Source))) {
			return SC_AC__Define_Behaviour(Fn, Cmd->Name);
		}
		return SC_AC__Define_Something(My_file, F, Thg, Cmd->Name);
	}
	if ((!Thg)) {
		JB_Str_Fail(JB_LUB[2270]);
		return nil;
	}
	if (!JB_Msg_OperatorStarts(Cmd, JB_LUB[2295])) {
		JB_Str_Fail(JB_LUB[2065]);
		return nil;
	}
	Message* Stuff = JB_Msg_NeedSyxInt(Cmd, kJB_SyxStr, 3);
	Message* Auto = SC_AC__MainActAutoComplete(Thg, JB_Msg_Name(Stuff), Cmd);
	if (Auto) {
		Rz = JB_Syx_OperatorPlus(kJB_SyxArg, JB_LUB[2338]);
		JB_Tree_SyntaxAppend(Rz, ((Message*)JB_Tree_Get(Stuff, 0)));
		JB_Tree_SyntaxAppend(Rz, Auto);
	}
	return Rz;
}

Message* SC_AC__MainActAutoComplete(Message* Thg, JB_String* Str, Message* Cmd) {
	if (JB_Msg_EqualsSyx(Thg, kJB_SyxTmp)) {
		return SC_AC__TmpAutoComplete(Thg, Str, Cmd->Name);
	}
	return SC_AC__AutoComplete(Thg, Str, Cmd->Name);
}

Message* SC_AC__MiniErrors(JB_ErrorReceiver* L, uint /*ErrorSeverity*/ Sev) {
	JB_String* _tmPf0 = SC_Comp__RenderErrors(L, Sev);
	JB_Incr(_tmPf0);
	Message* _tmPf1 = JB_Str_Parse(_tmPf0, kJB_SyxNil, true);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

void SC_AC__ParserRestore() {
	JB_SetRef(SC__AC_Errors, JB_StdErr);
	JB_SetRef(JB_StdErr, JB_Rec_Constructor(nil));
	JB_ClassData_Restore((&MessageData));
	JB__Tk_Using.Position = -1;
}

void SC_AC__PerryTalk(SpdProcess* Perry) {
	SC_Comp__CompileAll();
	SC__Comp_InPerry = 2;
	SC_AC__ParserRestore();
	Message* _tmPf1 = SC_AC__Check(nil);
	JB_Incr(_tmPf1);
	JB_Proc_Send(Perry, _tmPf1);
	{
		while (PicoCanGet(Perry->Pico)) {
			Message* Cmd = JB_Proc_Get(Perry, 10.0f);
			JB_Incr(Cmd);
			if (!Cmd) {
				JB_EarlyDecr(Cmd);
				continue;
			}
			if (!SC_AC__CmdWrap(Cmd)) {
				JB_EarlyDecr(Cmd);
				break;
			}
			JB_Decr(Cmd);
		};
		JB_Decr(_tmPf1);
	}
	;
	JB_PrintLine(JB_LUB[2369]);
	JB_Proc_Disconnect(Perry, JB_LUB[0]);
}

Message* SC_AC__ReportMemory(Message* Cmd) {
	JB_Tree_Clear(Cmd);
	Message* Arg = JB_Msg_Msg(Cmd, kJB_SyxArg, JB_LUB[0]);
	JB_Incr(Arg);
	JB_Msg_AppendNum(Arg, JB_MemCount());
	JB_Msg_AppendNum(Arg, JB_MemUsedString());
	JB_EarlyDecr(Arg);
	return Cmd;
}

Message* SC_AC__RespondDefine(Message* Msg, Message* S, JB_String* Purpose) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Syx_Msg(kJB_SyxTmp, Purpose));
	if (JB_Str_OperatorStarts(Purpose, JB_LUB[2044])) {
		SC_AC__ActualDefine(Rz, S);
	}
	 else {
		Message* _tmPf0 = SC_AC__Diissplay(Msg, S, Purpose);
		JB_Incr(_tmPf0);
		JB_Tree_SyntaxAppend(Rz, _tmPf0);
		JB_Decr(_tmPf0);
	}
	JB_SafeDecr(Rz);
	return Rz;
}

Message* SC_AC__RootTmpComplete(Message* Cmd) {
	Message* Rz = nil;
	Message* F = ((Message*)JB_Tree_Get(((Message*)JB_Tree_Get(Cmd, 0)), 0));
	JB_String* Req = JB_Msg_Name(((Message*)JB_Ring_NextSib(F)));
	int Flags = 0;
	Flags = (Flags + (SC_Msg_IsModuleType(F) << 1));
	Flags = (Flags + (SC_Msg_IsClassType(F) << 2));
	Flags = (Flags + (SC_Msg_IsLinkageType(F) << 3));
	if (!Flags) {
		Flags = 1;
	}
	Rz = JB_Syx_Msg(kJB_SyxTmp, Cmd->Name);
	Message* Arg = JB_Msg_Msg(Rz, kJB_SyxArg, Req);
	{
		Message* _LoopSrcf2 = SC_AC__AllTmps();
		Message* Ch = ((Message*)JB_Ring_First(_LoopSrcf2));
		while (Ch) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Ch));
			JB_String* Found = Ch->Name;
			if ((Ch->Tag & Flags) and (JB_Str_OperatorStarts(Found, Req))) {
				Message* Tmp = JB_Msg_Msg(Arg, kJB_SyxTmp, Found);
				JB_Msg_AppendSyx(Tmp, kJB_SyxStr, JB_Str_Before(Found, JB_LUB[36]));
			}
			Ch = _Nf1;
		};
		;
	}
	;
	return Rz;
}

Message* SC_AC__TmpAutoComplete(Message* F, JB_String* Name, JB_String* Type) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Syx_OperatorPlus(kJB_SyxTmp, Type));
	Message* Arg = JB_Msg_Msg(Rz, kJB_SyxArg, Name);
	JB_Incr(Arg);
	if (!JB_Str_Equals(Name, JB_LUB[2285], true)) {
		{
			Message* _LoopSrcf1 = SC_AC__FuncTmps();
			JB_Incr(_LoopSrcf1);
			Message* Ch = ((Message*)JB_Ring_First(_LoopSrcf1));
			JB_Incr(Ch);
			while (Ch) {
				if (JB_Msg_OperatorStarts(Ch, Name)) {
					if (!((JB_Str_CompareInt(Ch->Name, 2) >= 1) and (JB_Str_Equals(Ch->Name, Name, true)))) {
						Message* Cf = ((Message*)JB_Ring_First(Ch));
						JB_Incr(Cf);
						if (Cf) {
							Message* _tmPf2 = JB_Msg_Msg(Arg, kJB_SyxTmp, Cf->Name);
							JB_Incr(_tmPf2);
							JB_Msg_AppendSyx(_tmPf2, kJB_SyxStr, Cf->Name);
							JB_Decr(_tmPf2);
						}
						JB_Decr(Cf);
					}
				}
				JB_SetRef(Ch, ((Message*)JB_Ring_NextSib(Ch)));
			};
			JB_Decr(Ch);
			;
			JB_Decr(_LoopSrcf1);
		};
	}
	SC_AC__AutoCompleteSub(F, Name, Arg);
	JB_EarlyDecr(Arg);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* SC_AC__UnusedStuff(Message* Cmd) {
	Message* Path = JB_Msg_NeedSyx(Cmd, kJB_SyxStr);
	if (!Path) {
		return nil;
	}
	SCFile* Scf = ((SCFile*)JB_Dict_ValueLower(SC__Comp_Files, Path->Name));
	if (!Scf) {
		JB_Str_Fail(JB_Str_OperatorPlus(JB_LUB[1275], Path->Name));
		return nil;
	}
	Message* Unused_libs = ((Message*)JB_Ring_NextSib(Path));
	if (Unused_libs) {
		{
			Message* Lib = ((Message*)JB_Ring_First(Unused_libs));
			while (Lib) {
				Message* _Nf1 = ((Message*)JB_Ring_NextSib(Lib));
				if (JB_Msg_ExpectString(Lib)) {
					SC_Msg_HateUnusedFuncs(Lib);
				}
				Lib = _Nf1;
			};
			;
		};
	}
	JB_Tree_Clear(Cmd);
	if ((!SC__Comp_Successfulness) or Scf->Unfinished) {
		return Cmd;
	}
	Message* Arg = JB_Msg_GiveArg(Cmd);
	{
		Array* _LoopSrcf4 = SC__Comp_FuncList;
		int _if2 = 0;
		while (true) {
			SCFunction* Fn = ((SCFunction*)JB_Array_Value(_LoopSrcf4, _if2));
			if (Fn == nil) {
				break;
			}
			if (JB_File_SyntaxEquals(SC_SCObject_File(Fn), Scf, false)) {
				SC_Func_CheckUnused(Fn, Arg);
			}
			(++_if2);
		};
	}
	;
	{
		Array* _LoopSrcf7 = SC__Comp_DeclConstants;
		int _if5 = 0;
		while (true) {
			SCDecl* Konst = ((SCDecl*)JB_Array_Value(_LoopSrcf7, _if5));
			if (Konst == nil) {
				break;
			}
			if (JB_File_SyntaxEquals(SC_SCObject_File(Konst), Scf, false)) {
				SC_Decl_CheckUnusedDecl(Konst, Arg, 'K');
			}
			(++_if5);
		};
	}
	;
	{
		Array* _LoopSrcf10 = SC__PackMaker_PackGlobs;
		int _if8 = 0;
		while (true) {
			SCDecl* Glob = ((SCDecl*)JB_Array_Value(_LoopSrcf10, _if8));
			if (Glob == nil) {
				break;
			}
			if (JB_File_SyntaxEquals(SC_SCObject_File(Glob), Scf, false)) {
				SC_Decl_CheckUnusedDecl(Glob, Arg, 'G');
			}
			(++_if8);
		};
	}
	;
	{
		Array* _LoopSrcf13 = Scf->Types;
		int _if11 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf13, _if11));
			if (C == nil) {
				break;
			}
			SC_Class_CheckUnusedClass(C, Arg);
			(++_if11);
		};
	}
	;
	return Cmd;
}

Message* SC_AC__WriteError(JB_String* Name) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[462]));
	JB_Msg_AppendString(Rz, Name);
	if (JB_Rec_OK(JB_StdErr)) {
		JB_Msg_AppendString(Rz, JB_LUB[462]);
	}
	 else {
		Message* _tmPf0 = SC_AC__MiniErrors(JB_StdErr, kJB__ErrorSeverity_Problem);
		JB_Incr(_tmPf0);
		JB_Tree_SyntaxAppend(Rz, _tmPf0);
		JB_Decr(_tmPf0);
	}
	JB_SafeDecr(Rz);
	return Rz;
}


int SC_Intrinsics__Init_() {
	{
		JB_SetRef(SC__Intrinsics_Floats, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Intrinsics_Vectors, JB_Array_Constructor0(nil));
	}
	;
	return 0;
}

void SC_Intrinsics__Process() {
	if (!SC_Intrinsics__PullOutVecs()) {
		return;
	}
	if (SC__Comp_InPerry) {
		return;
	}
	FastString* Vm = JB_FS_Constructor(nil);
	JB_Incr(Vm);
	FastString* Cpp = JB_FS_Constructor(nil);
	JB_Incr(Cpp);
	JB_FS_AppendString(Cpp, JB_LUB[1862]);
	SC_Intrinsics__ProcessTrin(Vm, Cpp, SC__Intrinsics_Floats, 'F');
	SC_Intrinsics__ProcessTrin(Vm, Cpp, SC__Intrinsics_Vectors, 'V');
	JB_File* _tmPf0 = SC_VM_Builder__VMFile(JB_LUB[1863]);
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = JB_FS_SyntaxCast(Vm);
	JB_Incr(_tmPf1);
	JB_Decr(Vm);
	JB_File_DataSet(_tmPf0, _tmPf1);
	JB_Decr(_tmPf0);
	JB_Decr(_tmPf1);
	JB_FS_AppendByte(Cpp, '}');
	SC_VM_Builder__SafeWrite(JB_LUB[1864], Cpp);
	JB_Decr(Cpp);
}

void SC_Intrinsics__ProcessTrin(FastString* Vm, FastString* Cpp, Array* Codes, uint /*byte*/ T) {
	JB_Array_Sort(Codes, ((FP_SorterComparer)(SC_Intrinsics__TrinSort)));
	uint64 Map = 0;
	{
		int _if1 = 0;
		while (true) {
			Message* List = ((Message*)JB_Array_Value(Codes, _if1));
			if (List == nil) {
				break;
			}
			SCFunction* Fn = SC_Msg_MsgOwningFunc(List);
			Message* Num = ((Message*)JB_Ring_First(List));
			JB_String* Fn_name = Fn->ExportName;
			int64 Id = JB_Msg_Int(Num, 0);
			JB_String* AsmName = JB_Msg_Name(((Message*)JB_Ring_NextSib(Num)));
			uint RetType = SC_Decl_Trin(Fn->ReturnType);
			if ((Id & (~63))) {
				JB_Msg_Fail(Num, JB_LUB[1332]);
			}
			if (((1 << Id) & Map)) {
				JB_Msg_Fail(Num, JB_LUB[1333]);
			}
			Map = (Map | (1 << Id));
			int C = JB_Array_Size(Fn->Args);
			uint T2 = JB_byte_LowerCase(T);
			//;
			JB_FS_AppendString(Vm, JB_LUB[1334]);
			JB_FS_AppendByte2(Vm, T);
			JB_FS_AppendString(Vm, AsmName);
			JB_FS_AppendString(Vm, JB_LUB[1335]);
			JB_FS_AppendInt32(Vm, C + 1);
			JB_FS_AppendString(Vm, JB_LUB[1336]);
			JB_FS_AppendByte2(Vm, RetType);
			JB_FS_AppendString(Vm, JB_LUB[1337]);
			JB_FS_AppendString(Vm, Fn_name);
			JB_FS_AppendByte(Vm, '(');
			//;
			{
				int I = 0;
				while (I < C) {
					if (I > 0) {
						JB_FS_AppendString(Vm, JB_LUB[47]);
					}
					JB_FS_AppendByte2(Vm, T2);
					JB_FS_AppendInt32(Vm, (I + 2));
					(++I);
				};
			}
			;
			JB_FS_AppendString(Vm, JB_LUB[1338]);
			if (!Fn->IsCppInBuilt) {
				SC_Cpp__WriteFuncSub(Fn, Fn->ExportName, Cpp);
				JB_FS_AppendString(Cpp, JB_LUB[1202]);
			}
			(++_if1);
		};
	};
}

bool SC_Intrinsics__PullOutVecs() {
	if (!JB_Rec_OK(JB_StdErr)) {
		return nil;
	}
	Array* F = SC__Intrinsics_Floats;
	int I = JB_Array_Size(F);
	while (I > 0) {
		Message* S = ((Message*)JB_Array_Value(F, (--I)));
		SCFunction* Fn = SC_Msg_MsgOwningFunc(S);
		if (!Fn) {
			JB_Msg_Fail(S, nil);
			return nil;
		}
		SCDecl* Input = ((SCDecl*)JB_Array_Value(Fn->Args, 0));
		if (SC_Decl_IsNumeric(Input) > 1) {
			JB_Array_SyntaxAppend(SC__Intrinsics_Vectors, S);
			JB_Array_FastRemove(F, I + 1);
		}
		SC_Func_PostTrin(Fn, S);
	};
	return true;
}

SortComparison SC_Intrinsics__TrinSort(Message* Self, Message* B) {
	return ((SortComparison)(SC_Msg_TrinInt(B) - SC_Msg_TrinInt(Self)));
}


int JB_API__Init_() {
	{
	}
	;
	return 0;
}

void JB_API__NilCallBack(JB_String* ErrorMessage) {
	JB_PrintLine(ErrorMessage);
}

bool JB_API__NilHandler() {
	if (!JB_Rec_OK(JB_StdErr)) {
		return nil;
	}
	if ((++JB__API_NilHappened_) < 16) {
		JB_API__NilCallBack(JB_LUB[511]);
	}
	 else if (JB__API_NilHappened_ == 16) {
		JB_API__NilCallBack(JB_LUB[512]);
	}
	return false;
}


void JB_Constants__AddEscape(uint /*byte*/ I, FastString* Fs) {
	JB_String* F = JB_Str__Byte(I);
	if (!((!JB_Str_Exists(((JB_StringC*)JB_Dict_Value0(JB__Constants_EscapeStr, F)))) or (!JB_Str_Exists(((JB_String*)JB_Dict_Value0(JB__Constants_EscapeChr, F)))))) {
		return;
	}
	JB_FS_AppendByte2(Fs, '\\');
	JB_FS_AppendHex(Fs, I, 2);
	JB_String* T = JB_FS_GetResult(Fs);
	if (!JB_Str_Exists(((JB_StringC*)JB_Dict_Value0(JB__Constants_EscapeStr, F)))) {
		(JB_Dict_ValueSet(JB__Constants_EscapeStr, F, JB_Str_CastZero(T)));
	}
	if (!JB_Str_Exists(((JB_String*)JB_Dict_Value0(JB__Constants_EscapeChr, F)))) {
		(JB_Dict_ValueSet(JB__Constants_EscapeChr, F, T));
	}
}

int JB_Constants__Init_() {
	{
		JB_SetRef(JB__Constants__SyxDict, JB_Dict_Constructor(nil));
		Dictionary* _tmPf0 = (JB_Dict_Constructor(nil));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[16], JB_LUB[17]));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[18], JB_LUB[19]));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[20], JB_LUB[21]));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[22], JB_LUB[23]));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[24], JB_LUB[25]));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[26], JB_LUB[27]));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[28], JB_LUB[29]));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[30], JB_LUB[31]));
		JB_SetRef(JB__Constants_EscapeStr, _tmPf0);
		Dictionary* _tmPf1 = (JB_Dict_Constructor(nil));
		(JB_Dict_ValueSet(_tmPf1, JB_LUB[32], JB_LUB[33]));
		(JB_Dict_ValueSet(_tmPf1, JB_LUB[26], JB_LUB[34]));
		(JB_Dict_ValueSet(_tmPf1, JB_LUB[24], JB_LUB[35]));
		(JB_Dict_ValueSet(_tmPf1, JB_LUB[36], JB_LUB[37]));
		(JB_Dict_ValueSet(_tmPf1, JB_LUB[38], JB_LUB[39]));
		JB_SetRef(JB__Constants_XML_EscapeStr, _tmPf1);
		Dictionary* _tmPf2 = (JB_Dict_Constructor(nil));
		(JB_Dict_ValueSet(_tmPf2, JB_LUB[40], JB_LUB[41]));
		(JB_Dict_ValueSet(_tmPf2, JB_LUB[42], JB_LUB[43]));
		(JB_Dict_ValueSet(_tmPf2, JB_LUB[18], JB_LUB[19]));
		(JB_Dict_ValueSet(_tmPf2, JB_LUB[20], JB_LUB[21]));
		(JB_Dict_ValueSet(_tmPf2, JB_LUB[22], JB_LUB[23]));
		(JB_Dict_ValueSet(_tmPf2, JB_LUB[24], JB_LUB[25]));
		(JB_Dict_ValueSet(_tmPf2, JB_LUB[28], JB_LUB[29]));
		JB_SetRef(JB__Constants_JS_EscapeStr, _tmPf2);
	}
	;
	return 0;
}

int JB_Constants__InitCode_() {
	{
	}
	;
	JB_Constants__InitConstants();
	return 0;
}

void JB_Constants__InitConstants() {
	JB_Array_Constructor0(nil);
	JB_SetRef(JB__Constants_EscapeChr, JB_Dict__Copy(JB__Constants_EscapeStr));
	(JB_Dict_ValueSet(JB__Constants_EscapeStr, JB_LUB[456], JB_LUB[519]));
	JB_SetRef(JB__Constants_UnEscapeStr, JB_Dict__Reverse(JB__Constants_EscapeStr));
	JB_SetRef(JB__Constants_JS_UnEscapeStr, JB_Dict__Reverse(JB__Constants_JS_EscapeStr));
	JB_SetRef(JB__Constants_XML_UnEscapeStr, JB_Dict__Reverse(JB__Constants_XML_EscapeStr));
	(JB_Dict_ValueSet(JB__Constants_EscapeChr, JB_LUB[24], ((JB_String*)nil)));
	(JB_Dict_ValueSet(JB__Constants_EscapeChr, JB_LUB[456], ((JB_String*)nil)));
	(JB_Dict_ValueSet(JB__Constants_UnEscapeStr, JB_LUB[520], ((JB_String*)nil)));
	(JB_Dict_ValueSet(JB__Constants_UnEscapeStr, JB_LUB[28], JB_LUB[0]));
	(JB_Dict_ValueSet(JB__Constants_EscapeStr, JB_LUB[26], ((JB_StringC*)nil)));
	FastString* Tfs = JB_FS_Constructor(nil);
	JB_Incr(Tfs);
	{
		int I = 0;
		while (I < 256) {
			if ((I <= 31) or (((I == 127) or ((I == 192) or (I == 193))) or (I >= 245))) {
				JB_Constants__AddEscape(I, Tfs);
			}
			(++I);
		};
	}
	;
	JB_Decr(Tfs);
	JB_MSR_EscapeCodeSet(JB__Constants_UnEscapeStr, true);
	JB_MSR_DecodeEntitySet(JB__Constants_UnEscapeStr, true);
	JB_MSR_DecodeEntitySet(JB__Constants_XML_UnEscapeStr, true);
	(JB_Dict_ValueSet(JB__Constants_EscapeStr, JB_LUB[521], JB_LUB[522]));
}

JB_String* JB_Constants__TestJB() {
	JB_String* Rz = JB_LUB[0];
	JB_Incr(Rz);
	//cpp_part;
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	{
		int C = 0;
		while (C < 256) {
			JB_FS_AppendByte2(Fs, ((byte)C));
			(++C);
		};
	}
	;
	JB_String* Str = JB_FS_GetResult(Fs);
	JB_Incr(Str);
	JB_Decr(Fs);
	if (!JB_Str_EscapeTest(Str)) {
		JB_EarlyDecr(Str);
		JB_EarlyDecr(Rz);
		return JB_LUB[0];
	}
	JB_Decr(Str);
	JB_String* Natural_input = JB_LUB[1194];
	JB_String* Jbin_input = JB_LUB[1194];
	{
		LeakTester LKT = ((LeakTester){});
		JB_Lk__New(JB_LUB[2013], (&LKT));
		JB_FreeIfDead(JB_EntityTest());
		JB_Lk_Test((&LKT));
		JB_Lk_Destructor((&LKT));
	}
	;
	if (JB_Rec_OK(JB_StdErr)) {
		Message* Root = JB_Str_Parse(Natural_input, kJB_SyxNil, true);
		JB_Incr(Root);
		if (Root) {
			JB_Msg_jbinTest(Root);
			if (((JB_String*)JB_Str_Exists(Jbin_input))) {
				Message* _tmPf1 = JB_Msg_Copy(Root, nil);
				JB_Incr(_tmPf1);
				JB_Msg__TreeCompare(Root, _tmPf1, false);
				JB_Decr(_tmPf1);
				Message* _tmPf2 = JB_Str_Parse(Jbin_input, kJB_SyxNil, true);
				JB_Incr(_tmPf2);
				JB_Msg__TreeCompare(Root, _tmPf2, false);
				JB_String* _tmPf3 = JB_Msg_Render(Root, nil);
				JB_Incr(_tmPf3);
				JB_Msg_Test(Root, _tmPf3, JB_LUB[2014]);
				JB_Decr(_tmPf3);
				JB_String* _tmPf4 = JB_Msg_RenderJbin(Root, JB_LUB[0], nil);
				JB_Incr(_tmPf4);
				JB_Msg_Test(Root, _tmPf4, JB_LUB[2015]);
				JB_Decr(_tmPf4);
				JB_Decr(_tmPf2);
			}
			if (JB_Rec_OK(JB_StdErr)) {
				JB_SetRef(Rz, JB_EntityTest());
			}
		}
		JB_Decr(Root);
	}
	JB_SafeDecr(Rz);
	return Rz;
}



SCObject* SC_LibStability__Find(JB_String* Str, bool Funcs) {
	if (Funcs) {
		return ((SCObject*)JB_Dict_Value0(SC__Comp_ExportNames, Str));
	}
	return ((SCDecl*)JB_Dict_Value0(SC__Comp_ExportGlobs, Str));
}

int SC_LibStability__Init_() {
	{
	}
	;
	return 0;
}

void SC_LibStability__StabiliseFuncs() {
	if (!JB_Array_SyntaxCast(SC__PackMaker_LibFuncs)) {
		SC_PackMaker__AddAll();
	}
	SC_LibStability__StabiliseSub(JB_LUB[1344], SC__PackMaker_LibFuncs, true);
}

void SC_LibStability__StabiliseGlobs() {
	return SC_LibStability__StabiliseSub(JB_LUB[1345], SC__PackMaker_LibGlobs, false);
}

void SC_LibStability__StabiliseSub(JB_String* Name, Array* List, bool IsFuncs) {
	SC__LibStability_LastLibID = 0;
	JB_File* Funcs = JB_File_SyntaxAccess(SC__Comp_Library, Name);
	JB_Incr(Funcs);
	JB_String* _tmPf0 = JB_File_ReadAll(Funcs, 134217728, true);
	JB_Incr(_tmPf0);
	JB_String* Data = JB_Str_Trim(_tmPf0, (~kJB__CharSet_Trim));
	JB_Incr(Data);
	JB_Decr(_tmPf0);
	SC_LibStability__UseBank(Data, IsFuncs);
	FastString* Fs = ((FastString*)JB_Ternary(SC__Options_MakeExec, JB_FS_Constructor(nil), nil));
	JB_Incr(Fs);
	if (Fs) {
		JB_String* _tmPf1 = ((JB_String*)JB_Ternary(JB_Str_Exists(Data), Data, JB_LUB[1248]));
		JB_Incr(_tmPf1);
		JB_FS_AppendString(Fs, _tmPf1);
		JB_Decr(_tmPf1);
	}
	JB_Decr(Data);
	SC_LibStability__StabiliseSub2(Fs, List, IsFuncs);
	if (Fs and (!SC__Options_TargetDebug)) {
		(JB_File_SmartDataSet(Funcs, ((JB_String*)Fs)));
	}
	JB_Decr(Funcs);
	JB_Decr(Fs);
}

void SC_LibStability__StabiliseSub2(FastString* Fs, Array* List, bool IsFunc) {
	void** Table = nil;
	FP_SorterComparer ObjSort = SC_CodeSorter__PackID(IsFunc);
	JB_Array_Sort(List, ((FP_SorterComparer)(ObjSort)));
	{
		int _if0 = 0;
		while (true) {
			SCObject* Obj = ((SCObject*)JB_Array_Value(List, _if0));
			if (Obj == nil) {
				break;
			}
			if (((!SC_SCObject_SyntaxIs(Obj, kSC__SCNodeInfo_LibOnly))) and ((!IsFunc) or SC_Func_NeedsStableID(((SCFunction*)Obj)))) {
				SC_SCObject_MakeID(Obj, Fs, Table, IsFunc);
			}
			(++_if0);
		};
	};
}

void SC_LibStability__UseBank(JB_String* Data, bool Funcs) {
	int ID = SC__LibStability_LastLibID;
	{
		int _Prevf0 = 0;
		while (((JB_String*)JB_Str_Exists((Data)))) {
			Ind _Curr_f1 = JB_Str_FindCharset(Data, kJB__CharSet_Line, _Prevf0, kJB__int_Max);
			JB_String* Str = JB_Str_Range(Data, _Prevf0, _Curr_f1, false);
			JB_Incr(Str);
			if (JB_Str_ByteValue(Str, 0) != '/') {
				(++ID);
				SCObject* Fn = SC_LibStability__Find(Str, Funcs);
				if (Fn) {
					if ((SC_SCObject_PackID(Fn, Funcs))) {
						JB_String* _tmPf3 = JB_Str_OperatorPlus(Str, JB_LUB[988]);
						JB_Incr(_tmPf3);
						JB_Str_Fail(_tmPf3);
						JB_Decr(_tmPf3);
					}
					(SC_SCObject_PackIDSet(Fn, Funcs, ID));
				}
			}
			JB_Decr(Str);
			_Prevf0 = (_Curr_f1 + 1);
			if (!JB_Ind_SyntaxCast(_Curr_f1)) {
				break;
			}
		};
	}
	;
	SC__LibStability_LastLibID = ID;
}


void SC_LinkMap__CollectAll() {
	{
		Array* _LoopSrcf2 = SC__Comp_FuncList;
		int _if0 = 0;
		while (true) {
			SCFunction* S = ((SCFunction*)JB_Array_Value(_LoopSrcf2, _if0));
			if (S == nil) {
				break;
			}
			int I = _if0;
			S->LinkID = (I + 1);
			SC_LinkMap__CollectLinksInOne(S);
			(++_if0);
		};
	}
	;
	(SC_Func__CurrFuncSet(nil));
}

void SC_LinkMap__CollectFromSource(SCFunction* Self, Message* Src, bool InBranch) {
	{
		Message* Msg = ((Message*)JB_Ring_First(Src));
		while (Msg) {
			JB_Object* O = Msg->Obj;
			if (O) {
				SC_Func_CollectLinks(Self, O);
			}
			if (JB_Ring_HasChildren(Msg)) {
				if (!InBranch) {
					uint T = SC_Msg_ASMType(Msg);
					InBranch = ((T == kSC__ASMType_kIf) or ((T == kSC__ASMType_kWhile) or (T == kSC__ASMType_kTern)));
				}
				SC_LinkMap__CollectFromSource(Self, Msg, InBranch);
			}
			Msg = ((Message*)JB_Ring_NextSib(Msg));
		};
		;
	};
}

void SC_LinkMap__CollectLinksInOne(SCFunction* Self) {
	(SC_Func__CurrFuncSet(Self));
	{
		Array* _LoopSrcf2 = Self->LinkTo;
		int _if0 = 0;
		while (true) {
			SCNode* L = ((SCNode*)JB_Array_Value(_LoopSrcf2, _if0));
			if (L == nil) {
				break;
			}
			L->CurrFuncLink = Self->LinkID;
			(++_if0);
		};
	}
	;
	{
		Array* _LoopSrcf5 = Self->Args;
		int _if3 = 0;
		while (true) {
			SCDecl* D = ((SCDecl*)JB_Array_Value(_LoopSrcf5, _if3));
			if (D == nil) {
				break;
			}
			SC_Func_CollectLinks(Self, D);
			(++_if3);
		};
	}
	;
	SCDecl* R = Self->ReturnType;
	if (R) {
		SC_Func_CollectLinks(Self, R);
	}
	SC_LinkMap__CollectFromSource(Self, SC_Func_SourceArg(Self), false);
}


JB_String* SC_Linkage__CombineFlags(JB_String* Name) {
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	JB_FreeIfDead(SC_Linkage__GetFlag(Name, Fs));
	JB_String* _tmPf0 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

void SC_Linkage__CompilerCollect(Message* S) {
	JB_FreeIfDead(SC_Linkage__LinkCollect(S, SC__Comp_Program, nil));
	SC__Options_MakeExec = SC_Linkage__Interpreter();
	int Combo = SC__Options_MakeExec + SC_Options__ModeCake();
	if (Combo > 1) {
		JB_Str_Fail(JB_LUB[1346]);
	}
	JB_Tree_Remove(S);
}

JB_String* SC_Linkage__GetFlag(JB_String* Name, FastString* Fs) {
	{
		Message* _LoopSrcf2 = SC__Linkage_Flagz;
		Message* Ch = ((Message*)JB_Ring_First(_LoopSrcf2));
		while (Ch) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Ch));
			if (JB_Msg_SyntaxEquals(Ch, Name, true)) {
				if (!Fs) {
					return JB_Msg_FirstName(Ch);
				}
				JB_String* Str = JB_Msg_FirstName(Ch);
				if (JB_Str_Exists(Str)) {
					if (Fs->Length) {
						JB_FS_AppendByte2(Fs, ' ');
					}
					JB_FS_AppendString(Fs, Str);
				}
			}
			Ch = _Nf1;
		};
		;
	}
	;
	return JB_LUB[0];
}

int SC_Linkage__Init_() {
	{
		JB_SetRef(SC__Linkage_OSXFrameworks, JB_Msg_ConstructorEmpty(nil));
		JB_SetRef(SC__Linkage_Flagz, JB_Msg_ConstructorEmpty(nil));
	}
	;
	return 0;
}

bool SC_Linkage__Interpreter() {
	return SC_Linkage__SyntaxAccess(JB_LUB[1249]);
}

SCNode* SC_Linkage__LinkCollect(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	if (Name_space != SC__Comp_Program) {
		JB_Msg_Fail(Node, JB_LUB[1250]);
		return nil;
	}
	Message* Arg = JB_Msg_NeedSyx(Node, kJB_SyxArg);
	if (!Arg) {
		JB_Msg_Fail(ErrPlace, JB_LUB[1251]);
		return nil;
	}
	Message* Path = JB_Msg_GetConf(JB_Msg_GetConf(Arg, JB_LUB[1182], false), JB_LUB[1252], false);
	if (Path) {
		if ((!SC__Options_Silent) and SC__Options_PrintCompileString) {
			JB_Print(JB_LUB[1253]);
			JB_Print(JB_Msg_OriginalFilePath(Node));
			JB_Print(JB_LUB[1254]);
			JB_PrintLine(JB_config_AsString(Path));
		}
		SC_FB__SetOutputPath(JB_config_AsString(Path));
	}
	SC_Msg_ConfTake(Arg, SC__Linkage_Flagz, JB_LUB[1182]);
	SC_Msg_ConfTake(Arg, SC__Linkage_OSXFrameworks, JB_LUB[1255]);
	SC_Msg_ExpectEmpty(Arg);
	return SC__Comp_Program;
}

bool SC_Linkage__SyntaxAccess(JB_String* Name) {
	return JB_Str_Yes(SC_Linkage__GetFlag(Name, nil), nil);
}

bool SC_Linkage__VM() {
	return SC_Linkage__SyntaxAccess(JB_LUB[1256]);
}



int SC_Macros__Init_() {
	{
		JB_SetRef(SC__Macros_InitExpand, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1525])), 1073741824)));
		JB_SetRef(SC__Macros_WhileDecl, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1526])), 1073741824)));
		JB_SetRef(SC__Macros_MultiDecr, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1527])), 1073741824)));
		JB_SetRef(SC__Macros_MultiEarlyDecr, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1528])), 1073741824)));
		JB_SetRef(SC__Macros_ConstructorNew, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1529])), 1073741824)));
		JB_SetRef(SC__Macros_ConstructorNewTask, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1530])), 1073741824)));
		JB_SetRef(SC__Macros_MainArgBasic, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1531])), 1073741824)));
		JB_SetRef(SC__Macros_MainArgBasicReq, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1532])), 1073741824)));
		JB_SetRef(SC__Macros_MainArgDefault, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1533])), 1073741824)));
		JB_SetRef(SC__Macros_MainArgArray, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1534])), 1073741824)));
		JB_SetRef(SC__Macros_MainArgNoNE, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1535])), 1073741824)));
	}
	;
	return 0;
}



void SC_Options__ColorSet(bool Value) {
	JB__TerminalColor_Enabled = Value;
}

bool SC_Options__Color() {
	return JB__TerminalColor_Enabled;
}

int SC_Options__Init_() {
	{
		JB_SetRef(SC__Options_BannedClasses, ((Dictionary*)nil));
		JB_SetRef(SC__Options_exe_path, JB_LUB[0]);
		JB_SetRef(SC__Options_output_path, JB_LUB[0]);
		JB_SetRef(SC__Options_SingleFileInput, JB_LUB[0]);
		JB_SetRef(SC__Options_Variant, JB_LUB[0]);
		JB_SetRef(SC__Options_Arch, JB_LUB[0]);
		SC__Options_SingleCppOutput = true;
		SC__Options_NilTestAllocNeverFails = true;
		SC__Options_InlineLib = true;
		SC__Options_Mode = kSC__Options_cpp;
		SC__Options_Compile = true;
		SC__Options_Optimise = 1;
		SC__Options_SelfReplacement = ((bool)0);
	}
	;
	return 0;
}

bool SC_Options__ModeCake() {
	return SC__Options_Mode == kSC__Options_cake;
}

bool SC_Options__ModeCpp() {
	return SC__Options_Mode == kSC__Options_cpp;
}



void SC_PackMaker__AddAll() {
	{
		Array* _LoopSrcf2 = SC__Comp_FuncList;
		int _if0 = 0;
		while (true) {
			SCFunction* F = ((SCFunction*)JB_Array_Value(_LoopSrcf2, _if0));
			if (F == nil) {
				break;
			}
			if (SC_Func_CanLibLoad(F)) {
				SC_PackMaker__AddFunc(F);
			}
			(++_if0);
		};
	};
}

void SC_PackMaker__AddFunc(SCFunction* F) {
	if (SC_Base_IsLibrary(F)) {
		if (SC_Func_NeedsLibExport(F)) {
			JB_Array_SyntaxAppend(SC__PackMaker_LibFuncs, F);
		}
	}
	 else {
		SCNode* R = F->MyReacher;
		if (R) {
			if (SC_Func_SyntaxIs(F, kSC__FunctionType_ExternalLib)) {
				JB_Msg_Fail(R->Source, JB_LUB[1017]);
			}
		}
		if (R or SC__Comp_InPerry) {
			JB_Array_SyntaxAppend(SC__PackMaker_PackFuncs, F);
		}
	}
}

bool SC_PackMaker__AnyClassesNeeded() {
	{
		Array* _LoopSrcf2 = SC__Comp_ClassList;
		int _if0 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf2, _if0));
			if (C == nil) {
				break;
			}
			if (SC_Class_NeedsPackExport(C)) {
				return true;
			}
			(++_if0);
		};
	}
	;
	return false;
}

bool SC_PackMaker__BakeAllFuncs(FastString* J) {
	{
		Array* _LoopSrcf2 = SC__PackMaker_PackFuncs;
		int _if0 = 0;
		while (true) {
			SCFunction* F = ((SCFunction*)JB_Array_Value(_LoopSrcf2, _if0));
			if (F == nil) {
				break;
			}
			if (SC_HairyMan_AddOrShrink((&SC__PackMaker_PackSaved), J, F)) {
				(SC_Func__CurrFuncSet(F));
				if (!SC_bin_BakeASM(J, F)) {
					return nil;
				}
			}
			(++_if0);
		};
	}
	;
	return true;
}

bool SC_PackMaker__BakeASM(FastString* J) {
	JB_bin_Enter(J, kJB_SyxTmp, JB_LUB[591]);
	JB_bin_Enter(J, kJB_SyxArg, JB_LUB[0]);
	if (!SC_PackMaker__BakeAllFuncs(J)) {
		return nil;
	}
	JB_bin_Exit(J, 2);
	(SC_Func__CurrFuncSet(nil));
	return true;
}

void SC_PackMaker__BakeClasses(FastString* J) {
	if (SC_PackMaker__AnyClassesNeeded()) {
		JB_bin_TmpArg(J, JB_LUB[1815]);
		SC_PackMaker__PackClasses(J, false);
		SC_PackMaker__PackClasses(J, true);
		JB_bin_Exit(J, 2);
	}
}

void SC_PackMaker__BakeDebug(FastString* J) {
	FastString* P = SC__SourceMap_Positions;
	if (!P) {
		return;
	}
	int JL = J->Length;
	JB_bin_TmpArg(J, JB_LUB[530]);
	SC_Pac__DebugClassesAndGlobals(J);
	JB_bin_AddRow(J, kJB_SyxBin, JB_LUB[599], ((JB_String*)P));
	JB_String* _tmPf1 = JB_Array_join(SC__Imp_AllFiles, JB_LUB[18]);
	JB_Incr(_tmPf1);
	JB_String* _tmPf0 = JB_Str_Compress(_tmPf1, kJB__MZLab_Default, nil, nil);
	JB_Incr(_tmPf0);
	JB_Decr(_tmPf1);
	JB_bin_AddRow(J, kJB_SyxStr, JB_LUB[1816], _tmPf0);
	JB_Decr(_tmPf0);
	FastString* Breakable = SC__SourceMap_Breakable;
	FastString* Points = SC__SourceMap_BreakPoints;
	if (Breakable and Points) {
		SC_SourceMap__SortBreaks(Breakable);
		JB_bin_AddRow(J, kJB_SyxStr, JB_LUB[1817], ((JB_String*)Breakable));
		JB_bin_AddRow(J, kJB_SyxStr, JB_LUB[1476], ((JB_String*)Points));
	}
	JB_bin_Exit(J, 2);
	SC__Comp_stDebugInfo = (SC__Comp_stDebugInfo + (J->Length - JL));
}

void SC_PackMaker__BakePackToDisk() {
	JB_String* _tmPf0 = SC_Comp__ProductPath();
	JB_Incr(_tmPf0);
	FastString* J = JB_Str_OutputStream(_tmPf0, true);
	JB_Incr(J);
	JB_Decr(_tmPf0);
	if (!J) {
		JB_EarlyDecr(J);
		return;
	}
	JB_bin_RunHeader(J, JB_LUB[1898]);
	JB_bin_Enter(J, kJB_SyxTmp, JB_LUB[1356]);
	JB_bin_AddInt(J, JB_int_AlignUp(SC__PackMaker_PackGlobSize, 8));
	JB_bin_Enter(J, kJB_SyxArg, JB_LUB[0]);
	if (SC_PackMaker__BakeASM(J)) {
		SC_PackMaker__BakeStrings(J);
		SC_PackMaker__BakeClasses(J);
		SC_PackMaker__BakeDebug(J);
		JB_bin_Exit0(J);
	}
	JB_Decr(J);
}

void SC_PackMaker__BakeStrings(FastString* J) {
	FastString* Strs = JB_FS_Constructor(nil);
	JB_Incr(Strs);
	SC_PackMaker__DumpStringsSub(Strs);
	JB_FS_AppendByte2(Strs, ((byte)0));
	JB_bin_Enter(J, kJB_SyxTmp, JB_LUB[699]);
	JB_bin_AddFS(J, kJB_SyxStr, Strs, false);
	JB_Decr(Strs);
	JB_bin_Exit(J, 1);
}

bool SC_PackMaker__BuildGlobs() {
	if (!(SC_PackMaker__UseMain(JB_LUB[1413], 1) and SC_PackMaker__UseMain(JB_LUB[1414], 2))) {
		return nil;
	}
	SC_LibStability__StabiliseFuncs();
	SC_LibStability__StabiliseGlobs();
	SC_PackMaker__PackIDFuncs(SC__PackMaker_PackFuncs);
	JB_Array_Sort(SC__PackMaker_PackGlobs, ((FP_SorterComparer)((&SC_Decl__Sorter))));
	SC__PackMaker_PackGlobSize = SC_PackMaker__GlobalsSize(SC__PackMaker_PackGlobs);
	return true;
}

void SC_PackMaker__DumpStringsSub(FastString* Strs) {
	JB_FS_AppendHInt(Strs, JB_Array_Size(SC__PackMaker_PackStrings));
	{
		Array* _LoopSrcf2 = SC__PackMaker_PackStrings;
		int _if0 = 0;
		while (true) {
			MessageID* S = ((MessageID*)JB_Array_Value(_LoopSrcf2, _if0));
			if (S == nil) {
				break;
			}
			JB_FS_AppendHInt(Strs, JB_Str_Length(S));
			JB_FS_AppendString(Strs, S);
			(++_if0);
		};
	};
}

bool SC_PackMaker__FATCompile() {
	SC_PackMaker__FinalPrepare();
	(SC_Func__CurrFuncSet(nil));
	SC_Pac_FillDebugInfo((&SC__Pac_Sh));
	(SC_Comp__SyntaxIsSet(kSC__CompilerStage_Hungry, true));
	JB_Array_Sort(SC__PackMaker_PackFuncs, ((FP_SorterComparer)((&SC_CodeSorter__Leafness))));
	SC_PackMaker__FatCompileSub();
	JB_Array_Sort(SC__PackMaker_PackFuncs, ((FP_SorterComparer)((&SC_CodeSorter__FPackID))));
	return true;
}

void SC_PackMaker__FatCompileSub() {
	SC__PackMaker_PackFuncIndex = 0;
	while (true) {
		SCFunction* Fn = ((SCFunction*)JB_Array_Value(SC__PackMaker_PackFuncs, SC__PackMaker_PackFuncIndex++));
		if ((!Fn)) {
			break;
		}
		if (!SC_Pac_FatterCompile((&SC__Pac_Sh), Fn)) {
			return;
		}
	};
}

void SC_PackMaker__FinalPrepare() {
	(JB_Mrap_LengthSet(SC__Pac_JSM, 0));
	{
		Array* _LoopSrcf2 = SC__Comp_ClassList;
		int _if0 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf2, _if0));
			if (C == nil) {
				break;
			}
			if (C->IsRole) {
				SCDecl* T = C->ClassType;
				SCDecl* T2 = SC_Class_RealClass(C)->ClassType;
				(SC_Decl_ExportPositionSet(T, SC_Decl_ExportPosition(T2)));
			}
			(++_if0);
		};
	}
	;
	if (!SC__Options_InlineLib) {
		return;
	}
	{
		Array* _LoopSrcf5 = SC__PackMaker_LibFuncs;
		int _if3 = 0;
		while (true) {
			SCFunction* Fn = ((SCFunction*)JB_Array_Value(_LoopSrcf5, _if3));
			if (Fn == nil) {
				break;
			}
			if (SC_Func_CanPrepareInline(Fn)) {
				if (!SC_Pac_FatterCompile((&SC__Pac_Sh), Fn)) {
					return;
				}
				(JB_Mrap_LengthSet(SC__Pac_JSM, 0));
			}
			(++_if3);
		};
	};
}

int SC_PackMaker__GlobalsSize(Array* List) {
	int Globals = 1;
	{
		int _if0 = 0;
		while (true) {
			SCDecl* D = ((SCDecl*)JB_Array_Value(List, _if0));
			if (D == nil) {
				break;
			}
			int S = SC_Decl_CArraySize(D, 1);
			int S16 = JB_int_OperatorMin(S, 16);
			Globals = JB_int_OperatorAlign(Globals, S16);
			int64 X = SC_Decl_ExportPosition(D);
			if ((!X) or (X == Globals)) {
				(SC_Decl_ExportPositionSet(D, Globals));
			}
			 else if (SC__Options_MakeExec) {
				if (true) {
					JB_Msg_Fail(D->Source, JB_Str_OperatorPlus(D->Name, JB_LUB[1018]));
				}
			}
			 else if (X <= Globals) {
				if (true) {
					JB_Msg_Fail(D->Source, JB_Str_OperatorPlus(D->Name, JB_LUB[1019]));
				}
			}
			Globals = (Globals + S);
			(++_if0);
		};
	}
	;
	return JB_int_AlignUp((Globals + 7), 8);
}

int SC_PackMaker__Init_() {
	{
		JB_SetRef(SC__PackMaker_PackStrings, JB_Array_Constructor0(nil));
		JB_SetRef(SC__PackMaker_LibFuncs, JB_Array_Constructor0(nil));
		JB_SetRef(SC__PackMaker_LibGlobs, JB_Array_Constructor0(nil));
		JB_SetRef(SC__PackMaker_PackFuncs, JB_Array_Constructor0(nil));
		JB_SetRef(SC__PackMaker_PackGlobs, JB_Array_Constructor0(nil));
	}
	;
	return 0;
}

void SC_PackMaker__MakePack() {
	SC__Comp_During = kSC__CompilerStage_Packing;
	SC_PackMaker__OrderLibGlobs();
	SC_Pac_ASMInit((&SC__Pac_Sh));
	SC_PackMaker__AddAll();
	if (JB_Rec_OK(JB_StdErr) and SC_PackMaker__BuildGlobs()) {
		if (SC_PackMaker__FATCompile() and SC_Options__ModeCake()) {
			SC_PackMaker__BakePackToDisk();
		}
	}
	SC__Comp_During = 0;
}

void SC_PackMaker__OrderLibGlobs() {
	if (!SC__PackMaker_LibGlobSize) {
		JB_Array_Sort(SC__PackMaker_LibGlobs, ((FP_SorterComparer)(SC_SimplestFirst)));
		SC__PackMaker_LibGlobSize = SC_PackMaker__GlobalsSize(SC__PackMaker_LibGlobs);
	}
}

void SC_PackMaker__PackClasses(FastString* J, bool Pack) {
	{
		Array* _LoopSrcf2 = SC__Comp_ClassList;
		int _if0 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf2, _if0));
			if (C == nil) {
				break;
			}
			if ((SC_Base_IsLibrary(C) != Pack) and SC_Class_NeedsPackExport(C)) {
				SC_Class_DescribeInPack(C, J);
			}
			(++_if0);
		};
	};
}

void SC_PackMaker__PackIDFuncs(Array* List) {
	JB_Array_Sort(List, ((FP_SorterComparer)((&SC_CodeSorter__FPackID))));
	int ID = 0;
	while (true) {
		SCFunction* F = ((SCFunction*)JB_Array_Value(List, ID));
		if ((!F)) {
			break;
		}
		F->FPackID = (++ID);
	};
}

bool SC_PackMaker__UseMain(JB_String* Name, int Id) {
	SCFunction* Fn = SC_Comp__XFunc(Name, nil);
	if (Fn) {
		Fn->FPackID = Id;
		(SC_Func_SyntaxIsSet(Fn, kSC__FunctionType_UsedByASM, true));
		return true;
	}
	return false;
}


Message* JB_Tk__AddToOutput(Message* Output, Message* Curr, Message* Prev, int Pos) {
	Syntax F = Output->Func;
	if (Prev and ((!JB_Syx_IsList(F)) and (F != kJB_SyxMsg))) {
		int Extra = JB_Msg_PrevIndentCheck(Curr, Prev);
		if (Extra < 0) {
			return JB_Tk__LoweredIndent(Output, Curr);
		}
		if (Extra > 0) {
			if ((Extra == 2) and (JB_int_OperatorIsa(((int)Prev->Indent), 4))) {
				return JB_Tk__ElseIfAdder(Prev, Curr);
			}
			return JB_Msg_GoIntoInvisArg(Curr, Prev, Pos);
		}
	}
	JB_Tree_SyntaxAppend(Output, Curr);
	return Output;
}

void JB_Tk__AddXMLText(Message* XML, JB_String* S, int Start, int I) {
	Ind A = JB_Str_OutWhite(S, Start, kJB__int_Max);
	if (A >= I) {
		return;
	}
	JB_String* Str = JB_Str_Range(S, Start, I, false);
	JB_Incr(Str);
	JB_String* Str2 = JB_Str_Trim(Str, (~kJB__CharSet_Trim));
	JB_Incr(Str2);
	JB_Decr(Str);
	JB_String* Str3 = JB_Str_MultiReplaceAll(Str2, JB__Constants_XML_UnEscapeStr, JB_StdErr);
	JB_Incr(Str3);
	JB_Decr(Str2);
	JB_FreeIfDead(JB_Tk__NewParentName(XML, kJB_SyxXTxt, Start, Str3));
	JB_Decr(Str3);
}

Message* JB_Tk__BarThings(int Start, Syntax Syx) {
	Message* Rz = nil;
	JB_Incr(Rz);
	if (JB_Tk__NextByte() == '=') {
		JB_EarlyDecr(Rz);
		return nil;
	}
	JB__Tk__StopBars = (kJB__Tk_kTemporalSyx | kJB__Tk_kFuncAfterBar);
	Message* Item = JB_Tk__ProcessThingNoBar(kJB__Tk_kOppNoBar, false);
	JB_Incr(Item);
	if (Item) {
		JB_SetRef(Item, JB_Tk__ParseItem(Item, 0, kJB__Tk_kOppNoBar));
	}
	 else {
		JB_SetRef(Item, JB_Tk__NewEmpty(nil, kJB_SyxEmb, Start, Start));
	}
	JB__Tk__StopBars = 0;
	if (!JB_Tk__ExpectEndChar(JB_Tk__NextStart(), JB_LUB[506], true)) {
		JB_EarlyDecr(Item);
		JB_EarlyDecr(Rz);
		return nil;
	}
	JB_SetRef(Rz, JB_Tk__NewParentName(nil, Syx, Start, JB_LUB[0]));
	JB_Tree_SyntaxAppend(Rz, Item);
	JB_EarlyDecr(Item);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__BeforeRelSub(int Start, bool Mode) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Tk__NewParent(nil, kJB_SyxBRel, Start, JB_Tk__NextStart()));
	Message* _tmPf0 = JB_Tk__ProcessThing(0, Mode);
	JB_Incr(_tmPf0);
	if (!_tmPf0) {
		JB_EarlyDecr(_tmPf0);
		JB_EarlyDecr(Rz);
		return nil;
	}
	JB_Tree_SyntaxAppend(Rz, _tmPf0);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(Rz);
	return Rz;
}

bool JB_Tk__CanDot() {
	return JB_CharSet_SyntaxAccess(kJB__CharSet_AfterDot, JB_Tk__NextByte());
}

bool JB_Tk__CanStatement() {
	return JB_CharSet_SyntaxAccess(kJB__CharSet_AfterStatement, JB_Tk__NextByte());
}

Message* JB_Tk__ChainTemporalRels(Message* FirstThing, Message* Opp) {
	Message* Rz = nil;
	JB_Incr(Rz);
	if (JB_Msg_EqualsSyx(Opp, kJB_SyxSCom)) {
		JB_Tree_SyntaxAppend(Opp, FirstThing);
		JB_EarlyDecr(Rz);
		return Opp;
	}
	JB_SetRef(Rz, JB_Tk__NewParentName(nil, kJB_SyxTRel, FirstThing->Position, JB_LUB[0]));
	JB_Tree_SyntaxAppend(Rz, FirstThing);
	JB_Tree_SyntaxAppend(Rz, Opp);
	if (!JB_Tk__WillEnd()) {
		Message* Last = JB_Tk__ProcessThingOrTmp(kJB__Tk_kOpp);
		JB_Incr(Last);
		if (Last) {
			Message* _tmPf0 = JB_Tk__FixTRels(Rz, Last);
			JB_Incr(_tmPf0);
			JB_EarlyDecr(Last);
			JB_EarlyDecr(Rz);
			JB_SafeDecr(_tmPf0);
			return _tmPf0;
		}
		JB_Decr(Last);
	}
	JB_SafeDecr(Rz);
	return Rz;
}

JB_String* JB_Tk__CharName(int Start, uint /*byte*/ Find) {
	JB_String* _tmPf0 = JB_Tk__GetData();
	Ind After = JB_Str_JBFind(_tmPf0, Find, Start + 1, kJB__int_Max);
	if (JB_Ind_SyntaxCast(After)) {
		(JB_Tk__NextStartSet(After + 1));
		JB_String* _tmPf1 = JB_Tk__SyntaxAccess(Start + 1, After, kJB_SyxChar);
		JB_Incr(_tmPf1);
		JB_String* _tmPf2 = JB_Str_Unescape(_tmPf1);
		JB_Incr(_tmPf2);
		JB_EarlyDecr(_tmPf1);
		JB_SafeDecr(_tmPf2);
		return _tmPf2;
	}
	return nil;
}

Message* JB_Tk__CloseXML(Message* XML, int I, JB_String* S) {
	Ind CloseEnd = JB_Str_FindByte(S, '>', I + 2, kJB__int_Max);
	if ((!JB_Ind_SyntaxCast(CloseEnd))) {
		return JB_Tk__ErrorAdd(JB_LUB[834], I);
	}
	JB_String* CloseName = JB_Str_Range(S, I + 2, CloseEnd, false);
	JB_Incr(CloseName);
	if ((!JB_Str_Equals(CloseName, XML->Name, false))) {
		JB_String* _tmPf1 = JB_Str_Append6(JB_LUB[835], CloseName, JB_LUB[836], XML->Name, JB_LUB[38], nil);
		JB_Incr(_tmPf1);
		Message* _tmPf2 = JB_Tk__ErrorAdd(_tmPf1, I);
		JB_Incr(_tmPf2);
		JB_EarlyDecr(_tmPf1);
		JB_EarlyDecr(CloseName);
		JB_SafeDecr(_tmPf2);
		return _tmPf2;
	}
	JB_Decr(CloseName);
	(JB_Tk__NextStartSet((++CloseEnd)));
	XML->RangeLength = (XML->Position - CloseEnd);
	return XML;
}

Message* JB_Tk__DecorateThing(Message* R, int Ops) {
	JB_Incr(R);
	JB_SetRef(R, JB_Tk__GetFuncAfter(R));
	if (JB_Tk__WillEnd()) {
		JB_SafeDecr(R);
		return R;
	}
	int NotTemp = Ops & (~kJB__Tk_kOppTemporal);
	if (NotTemp and (!JB_Msg_EqualsSyx(R, kJB_SyxArg))) {
		JB_SetRef(R, JB_Tk__MakeRel(R, NotTemp));
	}
	if (Ops & kJB__Tk_kOppTemporal) {
		Message* Opp = JB_Tk__Process(kJB__Tk_kOppTemporal, false, nil);
		JB_Incr(Opp);
		if (Opp) {
			if (!JB_Msg_SyntaxEquals(Opp, JB_LUB[897], false)) {
				Message* _tmPf0 = JB_Tk__ChainTemporalRels(R, Opp);
				JB_Incr(_tmPf0);
				JB_EarlyDecr(R);
				JB_EarlyDecr(Opp);
				JB_SafeDecr(_tmPf0);
				return _tmPf0;
			}
			Message* A = JB_Tk__PostInnerAdj(R, Opp);
			JB_Incr(A);
			if (A) {
				JB_EarlyDecr(R);
				Message* _tmPf1 = JB_Tk__DecorateThing(A, Ops);
				JB_Incr(_tmPf1);
				JB_EarlyDecr(A);
				JB_EarlyDecr(Opp);
				JB_SafeDecr(_tmPf1);
				return _tmPf1;
			}
			JB_Decr(A);
		}
		JB_Decr(Opp);
	}
	JB_SafeDecr(R);
	return R;
}

Message* JB_Tk__DotSub(Syntax Fn, int Start, Message* Parent) {
	Message* Rz = nil;
	int After = JB_Tk__Byte((++Start));
	if (JB_CharSet_SyntaxAccess(kJB__CharSet_LettersUnderScore, After)) {
		After = JB_Tk__WordAfter(Start);
		if (!After) {
			return nil;
		}
	}
	 else if (JB__Tk__DotInsertAllow) {
		After = Start;
		JB__Tk__DotInsertAllow = false;
	}
	 else {
		return JB_Tk__ErrorAdd(JB_LUB[1869], Start);
	}
	Rz = JB_Tk__NewSkip(nil, Fn, Start - 1, Start, After);
	if (JB_Tk__EatString(JB_LUB[1870])) {
		JB_Tk__Params(Rz, After);
	}
	 else {
		Message* Prms = JB_Tk__NewEmpty(Rz, kJB_SyxEmb, After, After);
		if (((JB_Msg_EqualsSyx(Parent, kJB_SyxArg))) and JB_Tk__CanDot()) {
			Message* P = JB_Tk__ProcessSyxParent(Prms, kJB__Tk_kOpp, kJB__Tk_kThing);
			if (P) {
				JB_Tree_SyntaxAppend(Prms, P);
				Prms->Func = kJB_SyxPrm;
			}
		}
	}
	return Rz;
}

Message* JB_Tk__ElseIfAdder(Message* Prev, Message* Curr) {
	Syntax Cf = Curr->Func;
	if ((Prev->Func != kJB_SyxTmp) or ((Cf != kJB_SyxTmp) and (Cf != kJB_SyxBra))) {
		return JB_Tk__UnexpectedSyntax(Curr);
	}
	if (Curr->Indent & 1) {
		return JB_Tk__ErrorAdd(JB_LUB[898], Curr->Position);
	}
	JB_FreeIfDead(JB_Tk__NewParentName(Prev, kJB_SyxArg, Curr->Position, JB_LUB[0]));
	JB_Tree_SyntaxAppend(Prev, Curr);
	return Prev;
}

int JB_Tk__EmbeddedCode(JB_String* Close, Message* Dest, int TmpFlags) {
	JB_String* _tmPf2 = JB_Tk__GetData();
	Ind Result = JB_Str_InStr(_tmPf2, Close, JB_Tk__NextStart(), kJB__int_Max, false);
	if (!JB_Ind_SyntaxCast(Result)) {
		JB_String* _tmPf3 = JB_Str_OperatorPlus(JB_LUB[1560], Close);
		JB_Incr(_tmPf3);
		JB_FreeIfDead(JB_Tk__ErrorAdd(_tmPf3, JB_Tk__NextStart()));
		JB_EarlyDecr(_tmPf3);
		return Result;
	}
	JB_Tk__ParseLoop(Dest, TmpFlags);
	if (JB_Tk__NextStart() > Result) {
		JB_String* _tmPf4 = JB_Str_Append4(JB_LUB[1561], Close, JB_LUB[1562], nil);
		JB_Incr(_tmPf4);
		JB_FreeIfDead(JB_Tk__ErrorAdd(_tmPf4, Result));
		JB_EarlyDecr(_tmPf4);
		return Result;
	}
	Result = (Result + JB_Str_Length(Close));
	(JB_Tk__NextStartSet(Result));
	return Result;
}

Message* JB_Tk__ErrorAdd(JB_String* S, Ind Start) {
	if (JB_Tk__OK()) {
		return JB_Tk__ErrorAlwaysAdd(S, Start);
	}
	return nil;
}

Message* JB_Tk__ErrorAlwaysAdd(JB_String* S, Ind Start) {
	(JB_Tk__ErrorStartSet(Start));
	Message* _tmPf0 = JB_Msg_ConstructorEmpty(nil);
	JB_Incr(_tmPf0);
	JB_Error* Err = JB_Err_Constructor(nil, _tmPf0, JB_LUB[0], kJB__ErrorSeverity_Error, JB_LUB[0]);
	JB_Incr(Err);
	JB_Decr(_tmPf0);
	Err->Position = Start;
	(JB_Err_SyntaxIsSet(Err, kJB__ErrorFlags_DontStrip, true));
	(JB_Err_SyntaxIsSet(Err, kJB__ErrorFlags_Parse, true));
	JB_SetRef(Err->Name, S);
	JB_String* D = JB_Tk__GetData();
	JB_Incr(D);
	if (JB_Str_IsBinary(D, 512.0f)) {
		JB_SetRef(Err->Name, JB_Str_OperatorPlus(Err->Name, JB_LUB[684]));
	}
	 else {
		JB_SetRef(Err->OriginalData, D);
	}
	JB_Decr(D);
	JB_Rec_AppendErr(((JB_ErrorReceiver*)nil), Err);
	JB_EarlyDecr(Err);
	return nil;
}

void JB_Tk__ErrorEvent(int Start, int ExpectedBits, int RealBits) {
	//visible;
	FastString* Err = JB_FS_Constructor(nil);
	JB_Incr(Err);
	if (!(RealBits & kJB__Tk_kIllegalChar)) {
		if (!(ExpectedBits and (RealBits and JB_Tk__FindError(ExpectedBits)))) {
			JB_FS_AppendString(Err, JB_LUB[682]);
		}
		 else {
			{
				int _Valuef1 = 0;
				while (_Valuef1 < 5) {
					ExpectedBits = JB_Tk__MessageErrorSub(Err, ExpectedBits);
					(++_Valuef1);
					if ((!ExpectedBits)) {
						break;
					}
				};
			}
			;
			JB_FS_AppendString(Err, JB_LUB[829]);
		}
	}
	if (RealBits == kJB__Tk_kEndOfLine) {
		JB_FS_AppendString(Err, JB_LUB[837]);
	}
	 else if (!RealBits) {
		JB_FS_AppendString(Err, JB_LUB[838]);
	}
	 else {
		if (JB_Tk__NextStart() <= Start) {
			(JB_Tk__NextStartSet(Start + 1));
		}
		if (RealBits & kJB__Tk_kIllegalChar) {
			JB_FS_AppendString(Err, JB_LUB[839]);
			uint Illegal = JB_Tk__Byte(Start);
			if (JB_byte_CanPrintAsNormalChar(Illegal)) {
				JB_FS_AppendByte2(Err, '\'');
				JB_FS_AppendByte2(Err, JB_Tk__Byte(Start));
				JB_FS_AppendByte2(Err, '\'');
			}
			 else {
				JB_FS_AppendString(Err, JB_LUB[210]);
				JB_FS_AppendHex(Err, Illegal, 2);
				JB_FS_AppendByte2(Err, ' ');
			}
		}
		 else {
			JB_FS_AppendByte2(Err, '\'');
			Ind N = JB_int_OperatorMin(JB_Tk__NextStart(), (Start + 100));
			JB_String* _tmPf3 = JB_Tk__SyntaxAccess(Start, N, kJB_SyxNil);
			JB_Incr(_tmPf3);
			JB_String* _tmPf2 = JB_Str_Escape(_tmPf3);
			JB_Incr(_tmPf2);
			JB_Decr(_tmPf3);
			JB_FS_AppendString(Err, _tmPf2);
			JB_Decr(_tmPf2);
			JB_FS_AppendByte2(Err, '\'');
		}
	}
	JB_String* _tmPf4 = JB_FS_SyntaxCast(Err);
	JB_Incr(_tmPf4);
	JB_Decr(Err);
	JB_FreeIfDead(JB_Tk__ErrorAdd(_tmPf4, Start));
	JB_Decr(_tmPf4);
}

void JB_Tk__ErrorLetter(int Start) {
	JB_FreeIfDead(JB_Tk__ErrorAdd(JB_LUB[840], Start));
}

bool JB_Tk__ExpectEndChar(int Start, JB_String* S, bool Expect) {
	JB_Tk__CleanSpaces();
	if (JB_Tk__EatString(S)) {
		return true;
	}
	if (Expect) {
		JB_String* _tmPf1 = JB_Str_Append4(JB_LUB[841], S, JB_LUB[26], nil);
		JB_Incr(_tmPf1);
		JB_FreeIfDead(JB_Tk__ErrorAdd(_tmPf1, Start));
		JB_Decr(_tmPf1);
	}
	return false;
}

Message* JB_Tk__fAccess(int Start, Message* Parent) {
	Message* Rz = nil;
	JB_Incr(Rz);
	Ind Pos = ((Ind)JB_Ternary(Parent, Parent->Position, ((Ind)Start)));
	JB_SetRef(Rz, JB_Tk__NewParentName(nil, kJB_SyxAcc, Pos, JB_LUB[0]));
	Message* Prms = JB_Tk__NewParentName(Rz, kJB_SyxArr, Start, JB_LUB[0]);
	JB_Incr(Prms);
	JB_Tk__ParseLoopFlags(Prms, JB_LUB[1838], 0);
	(JB_Msg_AfterSet(Rz, JB_Msg_After(Prms)));
	JB_EarlyDecr(Prms);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__fAdjectiveOp(int Start, Message* Parent) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Tk__NewParentName(nil, kJB_SyxAdj, Start, JB_LUB[0]));
	Message* _tmPf0 = JB_Tk__Process(kJB__Tk_kOppChain, kJB__Tk_kExpect, nil);
	JB_Incr(_tmPf0);
	JB_Tree_SyntaxAppend(Rz, _tmPf0);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__fAdjectiveThing(int Start, Message* Parent) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Tk__NewParentName(nil, kJB_SyxAdj, Start, JB_LUB[0]));
	Message* _tmPf0 = JB_Tk__ProcessThing(0, kJB__Tk_kExpect);
	JB_Incr(_tmPf0);
	JB_Tree_SyntaxAppend(Rz, _tmPf0);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__fAfterRel(int Start, Message* Parent) {
	return JB_Tk__NewParent(nil, kJB_SyxARel, Start, JB_Tk__NextStart());
}

Message* JB_Tk__fArgColon(int Start, Message* Parent) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Tk__NewParentName(nil, kJB_SyxArg, Start, JB_LUB[0]));
	Rz->RangeLength = 1;
	while (true) {
		Message* Item = JB_Tk__Process(kJB__Tk_kTemporal, false, Rz);
		JB_Incr(Item);
		if (!Item) {
			JB_SetRef(Item, JB_Tk__ProcessThing(kJB__Tk_kOpp, false));
		}
		JB_Tree_SyntaxAppend(Rz, Item);
		if (!(Item and JB_Tk__Allow(kJB__Tk_kComma))) {
			JB_EarlyDecr(Item);
			break;
		}
		JB_Decr(Item);
	};
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__fArgName(int Start, Message* Parent) {
	if (Parent) {
		Syntax F = Parent->Func;
		if ((F == kJB_SyxArg) or ((F == kJB_SyxList) or ((F == kJB_SyxBra) or (F == kJB_SyxArr)))) {
			JB_String* Name = JB_Tk__CharName(Start + 1, '"');
			JB_Incr(Name);
			if (Name != nil) {
				JB_SetRef(Parent->Name, Name);
				JB_EarlyDecr(Name);
				return Parent;
			}
			JB_Decr(Name);
		}
	}
	return nil;
}

Message* JB_Tk__fArgOpen(int Start, Message* Parent) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Tk__NewParentName(nil, kJB_SyxArg, Start, JB_LUB[0]));
	JB_Tk__ParseLoopFlags(Rz, JB_LUB[1839], kJB__Tk_kTemporal);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__fArray(int Start, Message* Parent) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Tk__NewParentName(nil, kJB_SyxArr, Start, JB_LUB[0]));
	JB_Tk__ParseLoopFlags(Rz, JB_LUB[1838], kJB__Tk_kTemporalSyxNoBar);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__fAsk(int Start, Message* Parent) {
	return JB_Tk__fAskSub(Start, Parent, kJB_SyxAsk);
}

Message* JB_Tk__fAskSub(int Start, Message* Parent, Syntax F) {
	Message* Rz = nil;
	JB_Incr(Rz);
	Message* Opp = JB_Tk__Process(kJB__Tk_kOpp, kJB__Tk_kExpect, nil);
	JB_Incr(Opp);
	Message* First = JB_Tk__ProcessThing(kJB__Tk_kOppSyx, kJB__Tk_kExpect);
	JB_Incr(First);
	if (!(First and Opp)) {
		JB_EarlyDecr(First);
		JB_EarlyDecr(Opp);
		JB_EarlyDecr(Rz);
		return nil;
	}
	JB_SetRef(Rz, JB_Tk__NewParentName(nil, F, Start, JB_LUB[0]));
	JB_Tree_SyntaxAppend(Rz, First);
	JB_Decr(First);
	Message* NeedsAdj = JB_Tk__Process(kJB__Tk_kOpp, kJB__Tk_kAllow, nil);
	JB_Incr(NeedsAdj);
	if (!NeedsAdj) {
		JB_Tree_SyntaxAppend(Rz, Opp);
	}
	 else {
		Message* Adj = JB_Tk__NewParentName(Rz, kJB_SyxAdj, NeedsAdj->Position, JB_LUB[0]);
		JB_Incr(Adj);
		JB_Tree_SyntaxAppend(Adj, Opp);
		JB_Tree_SyntaxAppend(Adj, NeedsAdj);
		JB_Decr(Adj);
		Message* _tmPf0 = JB_Tk__ProcessSyxParent(Rz, kJB__Tk_kOppSyx, kJB__Tk_kThing);
		JB_Incr(_tmPf0);
		JB_Tree_SyntaxAppend(Rz, _tmPf0);
		JB_Decr(_tmPf0);
	}
	JB_Decr(Opp);
	JB_EarlyDecr(NeedsAdj);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__fAtName(int Start, Message* Parent) {
	return JB_Tk__NewWord(nil, kJB_SyxName, Start, JB_Tk__NextStart());
}

Message* JB_Tk__fAtNamedExp(int Start, Message* Parent) {
	if (!(Parent and JB_Tk__NeedName(Parent))) {
		return nil;
	}
	Parent->Func = kJB_SyxName;
	Message* _tmPf0 = JB_Tk__ProcessThing(0, kJB__Tk_kExpect);
	JB_Incr(_tmPf0);
	JB_Tree_SyntaxAppend(Parent, _tmPf0);
	JB_EarlyDecr(_tmPf0);
	return Parent;
}

Message* JB_Tk__fBackTick(int Start, Message* Parent) {
	JB_String* _tmPf0 = JB_Tk__GetData();
	Ind After = JB_Str_FindByte(_tmPf0, '`', JB_Tk__NextStart(), kJB__int_Max);
	if (!JB_Ind_SyntaxCast(After)) {
		return JB_Tk__ErrorAdd(JB_LUB[850], Start);
	}
	(JB_Tk__NextStartSet(After + 1));
	return JB_Tk__NewSkip(nil, kJB_SyxBack, Start, Start + 1, After);
}

Message* JB_Tk__fBAdjectiveOp(int Start, Message* Parent) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Tk__NewParentName(nil, kJB_SyxBadj, Start, JB_LUB[0]));
	Message* _tmPf0 = JB_Tk__Process(kJB__Tk_kOppChain, kJB__Tk_kExpect, nil);
	JB_Incr(_tmPf0);
	JB_Tree_SyntaxAppend(Rz, _tmPf0);
	JB_Decr(_tmPf0);
	JB_Tree_SyntaxAppend(Rz, Parent);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__fBAdjectiveThing(int Start, Message* Parent) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Tk__NewParentName(nil, kJB_SyxBadj, Start, JB_LUB[0]));
	Message* _tmPf0 = JB_Tk__ProcessThing(0, kJB__Tk_kExpect);
	JB_Incr(_tmPf0);
	JB_Tree_SyntaxAppend(Rz, _tmPf0);
	JB_Decr(_tmPf0);
	JB_Tree_SyntaxAppend(Rz, Parent);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__fBeforeRel(int Start, Message* Parent) {
	return JB_Tk__BeforeRelSub(Start, kJB__Tk_kAllow);
}

Message* JB_Tk__fBeforeRelMinus(int Start, Message* Parent) {
	uint C = JB_Tk__Byte(Start + 1);
	if (JB_byte_IsInt(C) and (JB_Tk__Byte(Start) == '-')) {
		return JB_Tk__NumberSub(Start + 1, Start);
	}
	return JB_Tk__BeforeRelSub(Start, kJB__Tk_kAllow);
}

Message* JB_Tk__fBinary(int Start, Message* Parent) {
	JB_String* _tmPf0 = JB_Tk__GetData();
	Ind End = JB_Str_InStr(_tmPf0, JB_LUB[147], Start + 2, kJB__int_Max, false);
	if (JB_Ind_SyntaxCast(End)) {
		JB_String* S = JB_Tk__SyntaxAccess(Start + 2, End, kJB_SyxBin);
		JB_Incr(S);
		(JB_Tk__NextStartSet(End + 2));
		JB_String* _tmPf1 = JB_Str_UnHex(S, nil);
		JB_Incr(_tmPf1);
		JB_Decr(S);
		Message* _tmPf2 = JB_Tk__NewParentName(nil, kJB_SyxBin, Start, _tmPf1);
		JB_Incr(_tmPf2);
		JB_EarlyDecr(_tmPf1);
		JB_SafeDecr(_tmPf2);
		return _tmPf2;
	}
	return JB_Tk__ErrorAdd(JB_LUB[851], Start);
}

Message* JB_Tk__fBracket(int Start, Message* Parent) {
	Message* Rz = nil;
	Rz = JB_Tk__NewParentName(nil, kJB_SyxList, Start, JB_LUB[0]);
	bool Lines = JB_Tk__ParseLoopFlags(Rz, JB_LUB[656], kJB__Tk_kTemporalSyxNoBar);
	if ((!Lines) and JB_Tree_HasOneChild(Rz)) {
		JB_Msg_BecomeStr(Rz, kJB_SyxBra, JB_LUB[0]);
	}
	return Rz;
}

Message* JB_Tk__fChar(int Start, Message* Parent) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Tk__fCharSub(Start, Start, '\''));
	if (!Rz) {
		JB_EarlyDecr(Rz);
		return JB_Tk__ErrorAdd(JB_LUB[852], JB_Tk__NextStart());
	}
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__fCharSub(int Pos, int Start, uint /*byte*/ Find) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_String* Name = JB_Tk__CharName(Start, Find);
	JB_Incr(Name);
	if (Name != nil) {
		JB_SetRef(Rz, JB_Tk__NewParentName(nil, kJB_SyxChar, Pos, Name));
	}
	JB_EarlyDecr(Name);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__fComment(int Start, Message* Parent) {
	int Count = 1;
	Ind I = JB_Tk__NextStart();
	JB_String* D = JB_Tk__GetData();
	JB_Incr(D);
	while (true) {
		I = JB_Str_FindByte(D, '/', I + 1, kJB__int_Max);
		if (!JB_Ind_SyntaxCast(I)) {
			JB_EarlyDecr(D);
			return JB_Tk__ErrorAdd(JB_LUB[853], Start);
		}
		 else if (JB_Str_ByteValue(D, I - 1) == '*') {
			(--Count);
		}
		 else if (JB_Str_ByteValue(D, I + 1) == '*') {
			(++Count);
			I = (I + 2);
		}
		if ((!Count)) {
			break;
		}
	};
	JB_Decr(D);
	(JB_Tk__NextStartSet(I + 1));
	return JB__Tk__EndOfLineMarker;
}

Message* JB_Tk__fCommentLine(int Start, Message* Parent) {
	JB_Tk__GotoEndOfLine(JB_Tk__NextStart());
	return JB__Tk__EndOfLineMarker;
}

Message* JB_Tk__fDecl(int Start, Message* Parent) {
	Message* Result = JB_Tk__BarThings(Start, kJB_SyxDecl);
	JB_Incr(Result);
	if (Result and (!JB_Tk__WillEnd())) {
		Message* Curr = JB_Tk__ProcessThing(kJB__Tk_kOppSyx | kJB__Tk_kOppTemporal, false);
		JB_Incr(Curr);
		if (Curr) {
			JB_Tree_SyntaxAppend(Result, Curr);
		}
		JB_Decr(Curr);
	}
	JB_SafeDecr(Result);
	return Result;
}

Message* JB_Tk__fDot(int Start, Message* Parent) {
	Message* _tmPf0 = ((Message*)JB_Ring_Parent(Parent));
	JB_Incr(_tmPf0);
	Message* _tmPf1 = JB_Tk__DotSub(kJB_SyxDot, Start, _tmPf0);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

Message* JB_Tk__fDotAccess(int Start, Message* Parent) {
	Message* Rz = nil;
	int N = JB_Tk__NextStart();
	Message* Name = JB_Tk__NewWord(nil, kJB_SyxStr, N, N);
	int After = JB_Tk__NextStart();
	JB_SetRef(Name->Name, JB_Str_ReplaceAll(Name->Name, JB_LUB[541], JB_LUB[60], false, nil));
	Rz = JB_Tk__NewEmpty(nil, kJB_SyxAcc, Start, After);
	Message* Prms = JB_Tk__NewEmpty(Rz, kJB_SyxArr, Start, Start);
	JB_Tree_SyntaxAppend(Prms, Name);
	return Rz;
}

Message* JB_Tk__fEndOfLine(int Start, Message* Parent) {
	return JB__Tk__EndOfLineMarker;
}

Message* JB_Tk__fError(int Start, Message* Parent) {
	return nil;
}

Message* JB_Tk__fError2(int Start, Message* Parent) {
	return JB_Tk__ErrorAdd(JB_LUB[846], Start);
}

Message* JB_Tk__fFuncCall(int Start, Message* Parent) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Tk__NewParentName(nil, kJB_SyxFunc, Parent->Position, JB_LUB[0]));
	JB_Tk__Params(Rz, Start);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__FillXML(Message* XML, Ind I) {
	JB_String* S = JB_Tk__GetData();
	JB_Incr(S);
	if (JB_Str_ByteValue(S, I - 1) == '/') {
		(JB_Tk__NextStartSet(I + 1));
		JB_EarlyDecr(S);
		return XML;
	}
	(JB_Tk__NextStartSet(I));
	while (true) {
		int Prev = JB_Tk__NextStart();
		I = JB_Str_FindByte(S, '<', Prev, kJB__int_Max);
		if (!JB_Ind_SyntaxCast(I)) {
			JB_EarlyDecr(S);
			return JB_Tk__ErrorAdd(JB_LUB[899], XML->Position);
		}
		JB_Tk__AddXMLText(XML, S, Prev, I);
		(JB_Tk__NextStartSet(I));
		uint Next = JB_Str_ByteValue(S, I + 1);
		if (Next == '/') {
			Message* _tmPf3 = JB_Tk__CloseXML(XML, I, S);
			JB_Incr(_tmPf3);
			JB_EarlyDecr(S);
			JB_SafeDecr(_tmPf3);
			return _tmPf3;
		}
		if (Next != '!') {
			Message* _tmPf0 = JB_Tk__fXML(I, nil);
			JB_Incr(_tmPf0);
			if (!_tmPf0) {
				JB_EarlyDecr(_tmPf0);
				JB_EarlyDecr(S);
				return nil;
			}
			JB_Tree_SyntaxAppend(XML, _tmPf0);
			JB_Decr(_tmPf0);
		}
		 else if (JB_Str_MidEquals(S, I, JB_LUB[53], false)) {
			Message* _tmPf1 = JB_Tk__XMLWhatever(I, 4, JB_LUB[54], kJB_SyxXCom);
			JB_Incr(_tmPf1);
			if (!_tmPf1) {
				JB_EarlyDecr(_tmPf1);
				JB_EarlyDecr(S);
				return nil;
			}
			JB_Tree_SyntaxAppend(XML, _tmPf1);
			JB_Decr(_tmPf1);
		}
		 else if (JB_Str_MidEquals(S, I, JB_LUB[51], false)) {
			Message* _tmPf2 = JB_Tk__XMLWhatever(I, 9, JB_LUB[52], kJB_SyxXCDT);
			JB_Incr(_tmPf2);
			if (!_tmPf2) {
				JB_EarlyDecr(_tmPf2);
				JB_EarlyDecr(S);
				return nil;
			}
			JB_Tree_SyntaxAppend(XML, _tmPf2);
			JB_Decr(_tmPf2);
		}
		 else {
			JB_EarlyDecr(S);
			return JB_Tk__ErrorAdd(JB_LUB[0], I);
		}
	};
	JB_Decr(S);
}

int JB_Tk__FindError(int Num) {
	if (Num == kJB__Tk_kThing) {
		return kJB__Tk_kThing;
	}
	{
		Dictionary* _LoopSrcf2 = JB__Tk__ErrorNames;
		JB_Incr(_LoopSrcf2);
		DictionaryReader* _navf0 = JB_Dict_Navigate(_LoopSrcf2);
		JB_Incr(_navf0);
		JB_Decr(_LoopSrcf2);
		while (true) {
			JB_String* _Valuef3 = ((JB_String*)JB_DictionaryReader_NextValue(_navf0));
			JB_Incr(_Valuef3);
			if (_Valuef3 == nil) {
				JB_EarlyDecr(_Valuef3);
				break;
			}
			JB_Decr(_Valuef3);
			JB_String* Key = JB_Nav_Name(_navf0);
			JB_Incr(Key);
			int I = ((int)JB_Str_TextIntegerValid(Key, nil));
			JB_Decr(Key);
			if ((Num & I) == I) {
				JB_EarlyDecr(_navf0);
				return I;
			}
		};
		JB_Decr(_navf0);
	}
	;
	return 0;
}

int JB_Tk__FinishParseLoop(int Lines, Message* Output, int After) {
	if ((Output->Func == kJB_SyxArg) and JB_Msg_SyntaxIs(Output, kJB__MsgParseFlags_Style2)) {
		(JB_Msg_AfterSet(Output, After));
		while (true) {
			Output = ((Message*)JB_Ring_Parent(Output));
			if (!Output) {
				break;
			}
			if (Output->Func == kJB_SyxArg) {
				if (!JB_Msg_SyntaxIs(Output, kJB__MsgParseFlags_Style2)) {
					break;
				}
				(JB_Msg_AfterSet(Output, After));
			}
		};
	}
	return Lines;
}

Message* JB_Tk__fInnerNiceAdj(int Start, Message* Parent) {
	return JB_Tk__fAskSub(Start, Parent, kJB_Syxbinn);
}

Message* JB_Tk__FixTRels(Message* Self, Message* Last) {
	if ((!Last)) {
		0;
	}
	 else if (!JB_Msg_EqualsSyx(Last, kJB_SyxTRel)) {
		JB_Tree_SyntaxAppend(Self, Last);
	}
	 else {
		Message* _tmPf0 = ((Message*)JB_Ring_First(Last));
		JB_Incr(_tmPf0);
		JB_Tree_SyntaxAppend(Self, _tmPf0);
		JB_Decr(_tmPf0);
		(JB_Ring_FirstSet(Last, Self));
		return Last;
	}
	return Self;
}

Message* JB_Tk__fMsgList(int Start, Message* Parent) {
	int NameStart = Start + 2;
	int NameAfter = JB_Tk__Byte(NameStart);
	if (!JB_CharSet_SyntaxAccess(kJB__CharSet_LettersUnderScore, NameAfter)) {
		return JB_Tk__ErrorAdd(JB_LUB[1840], Start);
	}
	NameAfter = JB_Tk__WordAfter(NameStart);
	if (!NameAfter) {
		return nil;
	}
	Message* Result = JB_Tk__NewSkip(Parent, kJB_SyxMsg, Start, NameStart, NameAfter);
	if (JB_Tk__Allow(kJB__Tk_kEndOfLine)) {
		JB_Msg_AppendSyx(Result, kJB_SyxStr, JB_LUB[0]);
	}
	JB_Tk__ParseLoopFlags(Result, JB_LUB[539], kJB__Tk_kTemporalSyxNoBar);
	return Result;
}

Message* JB_Tk__fNumber(int Start, Message* Parent) {
	return JB_Tk__NumberSub(Start, Start);
}

Message* JB_Tk__fOpAsThing(int Start, Message* Parent) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Tk__NewParentName(nil, kJB_SyxOat, Start, JB_LUB[0]));
	Message* _tmPf0 = JB_Tk__Process(kJB__Tk_kOpp, false, nil);
	JB_Incr(_tmPf0);
	JB_Tree_SyntaxAppend(Rz, _tmPf0);
	JB_Decr(_tmPf0);
	Message* _tmPf1 = JB_Tk__ProcessThing(kJB__Tk_kOpp, false);
	JB_Incr(_tmPf1);
	JB_Tree_SyntaxAppend(Rz, _tmPf1);
	JB_EarlyDecr(_tmPf1);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__fOppBracket(int Start, Message* Parent) {
	Message* Result = JB_Tk__NewParentName(nil, kJB_SyxBra, Start, JB_LUB[0]);
	JB_Incr(Result);
	Message* Opp1 = JB_Tk__Process(kJB__Tk_kOppChain, false, nil);
	JB_Incr(Opp1);
	Message* Opp2 = JB_Tk__Process(kJB__Tk_kOpp, false, nil);
	JB_Incr(Opp2);
	if (!Opp2) {
		JB_Tree_SyntaxAppend(Result, Opp1);
	}
	 else {
		Message* Rel = JB_Tk__NewParentName(Result, kJB_SyxRel, JB_Tk__NextStart() - 1, JB_LUB[0]);
		JB_Incr(Rel);
		JB_Tree_SyntaxAppend(Rel, Opp1);
		JB_Tree_SyntaxAppend(Rel, Opp2);
		Message* _tmPf0 = JB_Tk__Process(kJB__Tk_kOppChain, false, nil);
		JB_Incr(_tmPf0);
		JB_Tree_SyntaxAppend(Rel, _tmPf0);
		JB_Decr(Rel);
		JB_Decr(_tmPf0);
	}
	JB_Decr(Opp1);
	JB_Decr(Opp2);
	JB_Tk__ExpectEndChar(Start, JB_LUB[656], true);
	Message* _tmPf1 = JB_Tk__OppChain(Result);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(Result);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

Message* JB_Tk__fOppSyx(int Start, Message* Parent) {
	return JB_Tk__NewParent(nil, kJB_SyxOpp, Start, JB_Tk__NextStart());
}

Message* JB_Tk__fOppSyxNeq(int Start, Message* Parent) {
	Message* Result = JB_Tk__fOppSyx(Start, nil);
	JB_Incr(Result);
	if ('=' == JB_Tk__NextByte()) {
		JB_EarlyDecr(Result);
		return JB_Tk__ErrorAdd(JB_LUB[854], JB_Tk__NextStart());
	}
	JB_SafeDecr(Result);
	return Result;
}

Message* JB_Tk__fOppWord(int Start, Message* Parent) {
	int After = JB_Tk__WordAfter(Start);
	if (JB_Tk__Byte(After) != '.') {
		Message* Opp = JB_Tk__NewParent(nil, kJB_SyxOpp, Start, After);
		JB_Incr(Opp);
		Message* _tmPf0 = JB_Tk__OppChain(Opp);
		JB_Incr(_tmPf0);
		JB_EarlyDecr(Opp);
		JB_SafeDecr(_tmPf0);
		return _tmPf0;
	}
	return nil;
}

Message* JB_Tk__fQuestion(int Start, Message* Parent) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Tk__NewWord(nil, kJB_SyxQues, Start, JB_Tk__NextStart()));
	Message* _tmPf0 = JB_Tk__ProcessThing(kJB__Tk_kOpp, false);
	JB_Incr(_tmPf0);
	JB_Tree_SyntaxAppend(Rz, _tmPf0);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__fQuoteLang(int Start, Message* Parent) {
	Message* Rz = nil;
	Rz = JB_Tk__NewParentName(nil, kJB_SyxQuot, Start, JB_LUB[0]);
	JB_Tk__ParseLoopFlags(Rz, JB_LUB[537], kJB__Tk_kTemporalSyxNoBar);
	return Rz;
}

Message* JB_Tk__fSDot(int Start, Message* Parent) {
	if (Start > 0) {
		uint C = JB_Tk__Byte(Start - 1);
		if (JB_CharSet_SyntaxAccess(kJB__CharSet_NameMid, C)) {
			return nil;
		}
	}
	return JB_Tk__DotSub(kJB_SyxSDot, Start, Parent);
}

Message* JB_Tk__fShebang(int Start, Message* Parent) {
	Ind S = JB_Tk__NextStart();
	JB_String* _tmPf0 = JB_Tk__GetData();
	Ind S2 = JB_Str_FindCharset(_tmPf0, kJB__CharSet_Line, S, kJB__int_Max);
	(JB_Tk__NextStartSet(S2));
	return JB_Tk__NewSkip(Parent, kJB_SyxSheb, Start, S, S2);
}

Message* JB_Tk__fStatement(int Start, Message* Parent) {
	Message* Tmp = JB_Tk__fTmp(Start, kJB__Tk_kOpp & (~kJB__Tk_kOppBra), kJB__Tk_kThing, Parent);
	JB_Incr(Tmp);
	if (!JB_Msg_EqualsSyx(Tmp, kJB_SyxThg)) {
		JB_SafeDecr(Tmp);
		return Tmp;
	}
	JB_Tree_Remove(Tmp);
	JB_Decr(Tmp);
	(JB_Tk__NextStartSet(Start));
	return JB_Tk__ProcessThing(kJB__Tk_kOpp, false);
}

Message* JB_Tk__fStatementColon(int Start, Message* Parent) {
	return JB_Tk__fTmp(Start, kJB__Tk_kOpp & (~kJB__Tk_kOppBra), kJB__Tk_kThing | kJB__Tk_kColonArg, Parent);
}

Message* JB_Tk__fString(int Start, Message* Parent) {
	JB_String* _tmPf0 = JB_Tk__GetData();
	Ind After = JB_Str_JBFind(_tmPf0, '"', (JB_Tk__NextStart()), kJB__int_Max);
	if (!JB_Ind_SyntaxCast(After)) {
		return JB_Tk__ErrorAdd(JB_LUB[1841], JB_Tk__NextStart());
	}
	Ind StrPos = Start + 1;
	Message* Result = JB_Tk__NewParentName(nil, kJB_SyxStr, Start, JB_LUB[0]);
	JB_Incr(Result);
	while (JB_Ind_SyntaxCast((StrPos))) {
		JB_String* _tmPf1 = JB_Tk__GetData();
		Ind NewStrPos = JB_Str_JBFind(_tmPf1, '$', StrPos, After);
		if (!JB_Ind_SyntaxCast(NewStrPos)) {
			NewStrPos = After;
		}
		if (NewStrPos > StrPos) {
			Message* Str = JB_Tk__NewParent(Result, kJB_SyxEmb, StrPos, NewStrPos);
			JB_Incr(Str);
			JB_SetRef(Str->Name, JB_Str_Unescape(Str->Name));
			JB_Decr(Str);
		}
		if (NewStrPos >= After) {
			break;
		}
		(++NewStrPos);
		uint C0 = JB_Tk__Byte(NewStrPos);
		NewStrPos = (NewStrPos + (C0 == '{'));
		(JB_Tk__NextStartSet(NewStrPos));
		if (C0 == '{') {
			StrPos = JB_Tk__EmbeddedCode(JB_LUB[1839], Result, kJB__Tk_kTemporalSyx);
		}
		 else {
			Syntax Type = kJB_SyxThg;
			if (C0 == '.') {
				Type = kJB_SyxSDot;
				(++NewStrPos);
			}
			JB_String* _tmPf2 = JB_Tk__GetData();
			StrPos = JB_Str_OutCharSet(_tmPf2, kJB__CharSet_NameMid, NewStrPos + 1, After);
			if (!JB_Ind_SyntaxCast(StrPos)) {
				StrPos = After;
			}
			Message* Rr = JB_Tk__NewParent(Result, Type, NewStrPos, StrPos);
			JB_Incr(Rr);
			if (C0 == '.') {
				JB_FreeIfDead(JB_Tk__NewParentName(Rr, kJB_SyxEmb, NewStrPos - 1, JB_LUB[0]));
			}
			JB_Decr(Rr);
		}
		if (StrPos > After) {
			JB_EarlyDecr(Result);
			return JB_Tk__ErrorAdd(JB_LUB[1842], NewStrPos);
		}
	};
	(JB_Tk__NextStartSet((++After)));
	Result->RangeLength = (After - Start);
	JB_Msg_UnEmbedStr(Result);
	JB_SafeDecr(Result);
	return Result;
}

Message* JB_Tk__fSuperStr(int Start, Message* Parent) {
	JB_String* D = JB_Tk__GetData();
	int Nest = 1;
	while (true) {
		Ind After = JB_Str_FindByte(D, '`', JB_Tk__NextStart(), kJB__int_Max);
		if (!JB_Ind_SyntaxCast(After)) {
			break;
		}
		(JB_Tk__NextStartSet(After + 3));
		if (JB_Str_MidEquals(D, After - 2, JB_LUB[48], false)) {
			(++Nest);
		}
		 else if (JB_Str_MidEquals(D, After, JB_LUB[49], false)) {
			(--Nest);
			if (!Nest) {
				return JB_Tk__NewSkip(nil, kJB_SyxSStr, Start, Start + 3, After);
			}
		}
	};
	return JB_Tk__ErrorAdd(JB_LUB[850], Start);
}

Message* JB_Tk__fSyntacticComment(int Start, Message* Parent) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Tk__NewParentName(nil, kJB_SyxList, Start, JB_LUB[0]));
	JB_Tk__ParseLoopFlags(Rz, JB_LUB[1843], kJB__Tk_kTemporalSyxNoBar);
	Rz->Func = kJB_SyxSCom;
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__fTemporalHashThing(int Start, Message* Parent) {
	Message* Result = JB_Tk__NewParentName(Parent, kJB_SyxTril, Start, JB_LUB[0]);
	JB_Incr(Result);
	Ind S = JB_Tk__NextStart();
	JB_FreeIfDead(JB_Tk__NewParent(Result, kJB_SyxCnj, S, JB_Tk__WordAfter(S)));
	Message* X = JB_Tk__ProcessThingOrTmp(kJB__Tk_kOpp & (~kJB__Tk_kOppBra));
	JB_Incr(X);
	if (X) {
		JB_Tree_SyntaxAppend(Result, X);
		Message* _tmPf0 = JB_Tk__ProcessThing(kJB__Tk_kOpp, false);
		JB_Incr(_tmPf0);
		JB_Tree_SyntaxAppend(Result, _tmPf0);
		JB_Decr(_tmPf0);
	}
	JB_EarlyDecr(X);
	JB_SafeDecr(Result);
	return Result;
}

Message* JB_Tk__fTemporalRel(int Start, Message* Parent) {
	return JB_Tk__NewWord(nil, kJB_SyxCnj, Start, JB_Tk__CleanSpaces());
}

Message* JB_Tk__fTemporalRelSyx(int Start, Message* Parent) {
	return JB_Tk__NewParent(nil, kJB_SyxSCnj, Start, JB_Tk__NextStart());
}

Message* JB_Tk__fThingSyx(int Start, Message* Parent) {
	return JB_Tk__NewParent(nil, kJB_SyxSThg, Start, JB_Tk__NextStart());
}

Message* JB_Tk__fThingWord(int Start, Message* Parent) {
	int Name = JB_Tk__WordAfter(Start);
	return JB_Tk__NewParent(nil, kJB_SyxThg, Start, Name);
}

Message* JB_Tk__fTmp(int Start, int OpFlags, int ThingFlags, Message* Parent) {
	Message* Result = JB_Tk__NewWord(Parent, kJB_SyxTmp, Start, Start);
	return JB_Tk__fTmpSub(Result, OpFlags, ThingFlags);
}

Message* JB_Tk__fTmpPlus(int Start, Message* Parent) {
	int C = JB_Tk__NextByte();
	if (C == '\'') {
		Message* Tmp = JB_Tk__fCharSub(Start, Start + 1, C);
		if (Tmp) {
			Tmp->Func = kJB_SyxTmp;
			Tmp = JB_Tk__fTmpSub(Tmp, kJB__Tk_kOpp & (~kJB__Tk_kOppBra), kJB__Tk_kThing);
			if (!JB_Msg_EqualsSyx(Tmp, kJB_SyxThg)) {
				return Tmp;
			}
		}
	}
	return JB_Tk__fError2(Start, nil);
}

Message* JB_Tk__fTmpSection(int Start, Message* Parent) {
	Message* Tmp = JB_Tk__fTmpPlus(Start, Parent);
	if (Tmp) {
		(JB_Msg_SyntaxIsSet(Tmp, kJB__MsgParseFlags_SplitHere, true));
		return Tmp;
	}
	return nil;
}

Message* JB_Tk__fTmpSub(Message* Result, int OpFlags, int ThingFlags) {
	JB_Incr(Result);
	if (JB_Tk__WillEnd()) {
		JB_SafeDecr(Result);
		return Result;
	}
	if (JB_Tk__CanStatement()) {
		while (true) {
			Message* Item = JB_Tk__ProcessSyxParent(Result, OpFlags, ThingFlags);
			JB_Incr(Item);
			if (!Item) {
				JB_EarlyDecr(Item);
				break;
			}
			JB_Tree_SyntaxAppend(Result, Item);
			if (JB_Tk__WillEnd()) {
				JB_EarlyDecr(Item);
				JB_SafeDecr(Result);
				return Result;
			}
			if (JB_Msg_EqualsSyx(Item, kJB_SyxArg)) {
				Message* _tmPf0 = JB_Tk__UnTmpPlace(Result);
				JB_Incr(_tmPf0);
				Message* SubTmp = JB_Tk__Process(kJB__Tk_kTemporalWordColon, false, _tmPf0);
				JB_Incr(SubTmp);
				JB_Decr(_tmPf0);
				if (SubTmp or (JB_Msg_SyntaxEquals(Item, JB_LUB[1428], false))) {
					JB_EarlyDecr(SubTmp);
					JB_EarlyDecr(Item);
					JB_SafeDecr(Result);
					return Result;
				}
				JB_Decr(SubTmp);
			}
			JB_Decr(Item);
			ThingFlags = (ThingFlags | kJB__Tk_kColonArg);
		};
	}
	Result->Func = kJB_SyxThg;
	if (JB_Ring_HasChildren(Result)) {
		JB_SafeDecr(Result);
		return Result;
	}
	JB_SetRef(Result, JB_Tk__DecorateThing(Result, kJB__Tk_kOpp));
	Message* _tmPf1 = JB_Tk__ParseItem(Result, kJB__Tk_kTemporalSyx, kJB__Tk_kOpp);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(Result);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

Message* JB_Tk__fTypeCast(int Start, Message* Parent) {
	Message* _tmPf0 = JB_Tk__BarThings(Start, kJB_SyxType);
	JB_Incr(_tmPf0);
	if (!_tmPf0) {
		JB_EarlyDecr(_tmPf0);
		return nil;
	}
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

Message* JB_Tk__fURL(int Start, Message* Parent) {
	if (!JB_Tk__NeedName(Parent)) {
		return nil;
	}
	JB_String* _tmPf0 = JB_Tk__GetData();
	(JB_Tk__NextStartSet(JB_Str_InWhite(_tmPf0, Start, kJB__int_Max)));
	Parent->Func = kJB_SyxURL;
	Parent->RangeLength = (Parent->RangeLength + 3);
	Message* _tmPf1 = JB_Tk__NewParent(nil, kJB_SyxStr, Start + 3, JB_Tk__NextStart());
	JB_Incr(_tmPf1);
	JB_Tree_SyntaxAppend(Parent, _tmPf1);
	JB_EarlyDecr(_tmPf1);
	return Parent;
}

Message* JB_Tk__fXML(int Start, Message* Parent) {
	Message* Rz = nil;
	JB_Incr(Rz);
	Ind EndPos = JB_Tk__XMLWordEnd(Start + 1);
	if (JB_Ind_SyntaxCast(EndPos)) {
		Message* XML = JB_Tk__NewSkip(nil, kJB_SyxXML, Start, Start + 1, EndPos);
		JB_Incr(XML);
		EndPos = JB_Tk__XMLAttribs(XML, EndPos);
		if (EndPos > 0) {
			JB_SetRef(Rz, JB_Tk__FillXML(XML, EndPos + 1));
			if (Rz) {
				(JB_Msg_AfterSet(Rz, JB_Tk__NextStart()));
			}
		}
		JB_Decr(XML);
	}
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__fXML_Comment(int Start, Message* Parent) {
	return JB_Tk__XMLWhatever(Start, 4, JB_LUB[54], kJB_SyxXCom);
}

Message* JB_Tk__fXML_DTD(int Start, Message* Parent) {
	JB_String* D = JB_Tk__GetData();
	JB_DoAt(1);
	int I = JB_Tk__NextStart();
	while (true) {
		uint C = JB_Str_ByteValue(D, I++);
		if ((!C)) {
			break;
		}
		if (C == '>') {
			(JB_Tk__NextStartSet(I));
			return JB_Tk__NewSkip(nil, kJB_SyxXDTD, Start, Start + 2, I - 1);
		}
		if (C == '[') {
			Ind After = JB_Str_FindByte(D, ']', I, kJB__int_Max);
			if (After < 0) {
				break;
			}
			I = (After + 1);
		}
	};
	return JB_Tk__ErrorAdd(JB_LUB[855], Start);
}

Message* JB_Tk__fXML_PI(int Start, Message* Parent) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Tk__NewParentName(nil, kJB_SyxXPI, Start, JB_LUB[0]));
	JB_Tk__ParseLoopFlags(Rz, JB_LUB[613], kJB__Tk_kTemporal);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__fYoda(int Start, Message* Parent) {
	Message* Last = JB_Tk__ProcessThing(kJB__Tk_kOppSyx, true);
	JB_Incr(Last);
	Message* First = JB_Tk__ProcessThing(kJB__Tk_kOppSyx, true);
	JB_Incr(First);
	Message* Opp = JB_Tk__Process(kJB__Tk_kOpp, true, nil);
	JB_Incr(Opp);
	Message* Rel = JB_Tk__NewParentName(Parent, kJB_SyxYoda, Start, JB_LUB[0]);
	JB_Incr(Rel);
	JB_Tree_SyntaxAppend(Rel, First);
	JB_Decr(First);
	JB_Tree_SyntaxAppend(Rel, Opp);
	JB_Decr(Opp);
	JB_Tree_SyntaxAppend(Rel, Last);
	JB_Decr(Last);
	JB_SafeDecr(Rel);
	return Rel;
}

Message* JB_Tk__GetFuncAfter(Message* Result) {
	JB_Incr(Result);
	while (true) {
		uint ThisAfter = kJB__Tk_kFuncAfterAny & (~JB__Tk__StopBars);
		if (JB_Tk__NoFuncAfter(JB_Tk__NextByte())) {
			ThisAfter = (ThisAfter & (~kJB__Tk_kFuncAfterNoSpace));
		}
		Message* D = JB_Tk__Process(ThisAfter, false, Result);
		JB_Incr(D);
		if (!D) {
			JB_EarlyDecr(D);
			break;
		}
		Syntax Fn = D->Func;
		if ((Fn != kJB_SyxName) and ((Fn != kJB_SyxBadj) and (Fn != kJB_SyxURL))) {
			(JB_Ring_PrevSibSet(Result, D));
			(JB_Ring_FirstSet(D, Result));
		}
		JB_SetRef(Result, D);
		JB_Decr(D);
	};
	JB_SafeDecr(Result);
	return Result;
}

int JB_Tk__GotoEndOfLine(int From) {
	JB_String* _tmPf0 = JB_Tk__GetData();
	(JB_Tk__NextStartSet(JB_Str_FindCharset(_tmPf0, kJB__CharSet_Line, From, kJB__int_Max)));
	return JB_Tk__NextStart();
}

Message* JB_Tk__IndentBug(Message* Curr) {
	return JB_Tk__ErrorAlwaysAdd(JB_LUB[804], Curr->Position);
}

void JB_Tk__Init() {
	JB_Tk__TokenzFn(JB_LUB[1904], kJB__Tk_kEndOfLine, ((FP_ParseHandler)(JB_Tk__fEndOfLine)));
	TokHan* _tmPf1 = JB_Tk__Handler(kJB__Tk_kComma | kJB__Tk_kEndOfLine, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fEndOfLine))));
	JB_Incr(_tmPf1);
	(JB_Tk__TokenSet(JB_LUB[1905], _tmPf1));
	JB_Decr(_tmPf1);
	TokHan* _tmPf3 = JB_Tk__Handler(kJB__Tk_kColon, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fEndOfLine))));
	JB_Incr(_tmPf3);
	TokHan* _tmPf2 = JB_TH_Link(_tmPf3, kJB__Tk_kColonArg, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fArgColon))));
	JB_Incr(_tmPf2);
	JB_Decr(_tmPf3);
	(JB_Tk__TokenSet(JB_LUB[1428], _tmPf2));
	JB_Decr(_tmPf2);
	JB_SetRef(JB__Tk__EndOfLineMarker, JB_Msg_Constructor(nil, nil, kJB_SyxNil, JB_LUB[18]));
	JB_String* Op_comp = JB_LUB[1906];
	JB_Incr(Op_comp);
	JB_String* Op_math = JB_LUB[1907];
	JB_Incr(Op_math);
	JB_String* PFix = JB_LUB[1908];
	JB_Incr(PFix);
	TokHan* _tmPf6 = JB_Tk__Handler(kJB__Tk_kThingWord, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fThingWord))));
	JB_Incr(_tmPf6);
	TokHan* _tmPf5 = JB_TH_Link(_tmPf6, kJB__Tk_kTemporalWord, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fStatement))));
	JB_Incr(_tmPf5);
	JB_Decr(_tmPf6);
	TokHan* _tmPf4 = JB_TH_Link(_tmPf5, kJB__Tk_kTemporalWordColon, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fStatementColon))));
	JB_Incr(_tmPf4);
	JB_Decr(_tmPf5);
	TokHan* H = JB_TH_Link(_tmPf4, kJB__Tk_kOppWord, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fOppWord))));
	JB_Incr(H);
	JB_Decr(_tmPf4);
	JB_Tk__TokensChar(JB_LUB[1909], H);
	JB_Decr(H);
	TokHan* _tmPf9 = JB_Tk__Handler(kJB__Tk_kFuncAfterNoSpace, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fFuncCall))));
	JB_Incr(_tmPf9);
	TokHan* _tmPf8 = JB_TH_Link(_tmPf9, kJB__Tk_kThingSyx, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fBracket))));
	JB_Incr(_tmPf8);
	JB_Decr(_tmPf9);
	TokHan* _tmPf7 = JB_TH_Link(_tmPf8, kJB__Tk_kOppBra, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fOppBracket))));
	JB_Incr(_tmPf7);
	JB_Decr(_tmPf8);
	(JB_Tk__TokenSet(JB_LUB[1870], _tmPf7));
	JB_Decr(_tmPf7);
	TokHan* _tmPf11 = JB_Tk__Handler(kJB__Tk_kFuncAfterNoSpace, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fAccess))));
	JB_Incr(_tmPf11);
	TokHan* _tmPf10 = JB_TH_Link(_tmPf11, kJB__Tk_kThingSyx, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fArray))));
	JB_Incr(_tmPf10);
	JB_Decr(_tmPf11);
	(JB_Tk__TokenSet(JB_LUB[1910], _tmPf10));
	JB_Decr(_tmPf10);
	TokHan* _tmPf12 = JB_Tk__Handler(kJB__Tk_kThingSyx, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fMsgList))));
	JB_Incr(_tmPf12);
	(JB_Tk__TokenSet(JB_LUB[538], _tmPf12));
	JB_Decr(_tmPf12);
	TokHan* _tmPf14 = JB_Tk__Handler(kJB__Tk_kFuncAfterNoSpace, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fDot))));
	JB_Incr(_tmPf14);
	TokHan* _tmPf13 = JB_TH_Link(_tmPf14, kJB__Tk_kThingSyx, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fSDot))));
	JB_Incr(_tmPf13);
	JB_Decr(_tmPf14);
	(JB_Tk__TokenSet(JB_LUB[57], _tmPf13));
	JB_Decr(_tmPf13);
	TokHan* _tmPf15 = JB_Tk__Handler(kJB__Tk_kFuncAfterNoSpace, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fDotAccess))));
	JB_Incr(_tmPf15);
	(JB_Tk__TokenSet(JB_LUB[1911], _tmPf15));
	JB_Decr(_tmPf15);
	TokHan* _tmPf16 = JB_Tk__Handler(kJB__Tk_kFuncAfterNoSpace, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fURL))));
	JB_Incr(_tmPf16);
	(JB_Tk__TokenSet(JB_LUB[50], _tmPf16));
	JB_Decr(_tmPf16);
	TokHan* _tmPf19 = JB_Tk__Handler(kJB__Tk_kTemporalBar, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fDecl))));
	JB_Incr(_tmPf19);
	TokHan* _tmPf18 = JB_TH_Link(_tmPf19, kJB__Tk_kFuncAfterBar, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fTypeCast))));
	JB_Incr(_tmPf18);
	JB_Decr(_tmPf19);
	TokHan* _tmPf17 = JB_TH_Link(_tmPf18, kJB__Tk_kThingBar, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fDecl))));
	JB_Incr(_tmPf17);
	JB_Decr(_tmPf18);
	(JB_Tk__TokenSet(JB_LUB[506], _tmPf17));
	JB_Decr(_tmPf17);
	TokHan* _tmPf20 = JB_Tk__Handler(kJB__Tk_kThingSyx, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fArgName))));
	JB_Incr(_tmPf20);
	(JB_Tk__TokenSet(JB_LUB[1912], _tmPf20));
	JB_Decr(_tmPf20);
	TokHan* _tmPf21 = JB_Tk__Handler(kJB__Tk_kTemporalSyx, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fTmpPlus))));
	JB_Incr(_tmPf21);
	(JB_Tk__TokenSet(JB_LUB[550], _tmPf21));
	JB_Decr(_tmPf21);
	TokHan* _tmPf22 = JB_Tk__Handler(kJB__Tk_kTemporalSyx, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fTmpSection))));
	JB_Incr(_tmPf22);
	(JB_Tk__TokenSet(JB_LUB[1913], _tmPf22));
	JB_Decr(_tmPf22);
	TokHan* _tmPf24 = JB_Tk__Handler(kJB__Tk_kThingSyx, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fAtName))));
	JB_Incr(_tmPf24);
	TokHan* _tmPf23 = JB_TH_Link(_tmPf24, kJB__Tk_kFuncAfterNormal, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fAtNamedExp))));
	JB_Incr(_tmPf23);
	JB_Decr(_tmPf24);
	(JB_Tk__TokenSet(JB_LUB[1914], _tmPf23));
	JB_Decr(_tmPf23);
	TokHan* _tmPf26 = JB_Tk__Handler(kJB__Tk_kFuncAfterNormal, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fAdjectiveThing))));
	JB_Incr(_tmPf26);
	TokHan* _tmPf25 = JB_TH_Link(_tmPf26, kJB__Tk_kAdjectiveOp, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fAdjectiveOp))));
	JB_Incr(_tmPf25);
	JB_Decr(_tmPf26);
	(JB_Tk__TokenSet(JB_LUB[75], _tmPf25));
	JB_Decr(_tmPf25);
	JB_Tk__TokenzFn(JB_LUB[1915], kJB__Tk_kThingSyx, ((FP_ParseHandler)(JB_Tk__fBeforeRelMinus)));
	JB_Tk__TokenzFn(PFix, kJB__Tk_kThingSyx, ((FP_ParseHandler)(JB_Tk__fBeforeRel)));
	JB_Tk__TokenzFn(PFix, kJB__Tk_kFuncAfterNormal, ((FP_ParseHandler)(JB_Tk__fAfterRel)));
	JB_Decr(PFix);
	JB_Tk__TokenzFn(JB_LUB[32], kJB__Tk_kThingSyx, ((FP_ParseHandler)(JB_Tk__fBeforeRel)));
	JB_Tk__TokenzFn(JB_LUB[1916], kJB__Tk_kThingSyx, ((FP_ParseHandler)(JB_Tk__fArgOpen)));
	JB_Tk__TokenzFn(JB_LUB[1917], kJB__Tk_kTmpOpp, ((FP_ParseHandler)(JB_Tk__fTemporalRelSyx)));
	JB_Tk__TokenzFn(JB_LUB[1918], kJB__Tk_kTmpOpp, ((FP_ParseHandler)(JB_Tk__fSyntacticComment)));
	JB_Tk__TokenzFn(JB_LUB[504], kJB__Tk_kThingSyx, ((FP_ParseHandler)(JB_Tk__fOpAsThing)));
	TokHan* _tmPf27 = JB_Tk__Handler(kJB__Tk_kThingSyx, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fNumber))));
	JB_Incr(_tmPf27);
	JB_Tk__TokensChar(JB_LUB[1919], _tmPf27);
	JB_Decr(_tmPf27);
	JB_Tk__TokenzFn(JB_LUB[152], kJB__Tk_kTemporalSyxNoBar, ((FP_ParseHandler)(JB_Tk__fShebang)));
	JB_Tk__TokenzFn(JB_LUB[77], kJB__Tk_kEndOfLine, ((FP_ParseHandler)(JB_Tk__fCommentLine)));
	JB_Tk__TokenzFn(JB_LUB[1920], kJB__Tk_kEndOfLine, ((FP_ParseHandler)(JB_Tk__fComment)));
	JB_Tk__TokenzFn(Op_comp, kJB__Tk_kOppSNB, ((FP_ParseHandler)(JB_Tk__fOppSyxNeq)));
	JB_Decr(Op_comp);
	JB_Tk__TokenzFn(Op_math, kJB__Tk_kOppSNB, ((FP_ParseHandler)(JB_Tk__fOppSyx)));
	JB_Decr(Op_math);
	JB_Tk__TokenzFn(JB_LUB[506], kJB__Tk_kOppBar, ((FP_ParseHandler)(JB_Tk__fOppSyx)));
	JB_Tk__TokenzFn(JB_LUB[59], kJB__Tk_kThingSyx, ((FP_ParseHandler)(JB_Tk__fThingSyx)));
	JB_Tk__TokenzFn(JB_LUB[24], kJB__Tk_kThingSyx, ((FP_ParseHandler)(JB_Tk__fString)));
	JB_Tk__TokenzFn(JB_LUB[26], kJB__Tk_kThingSyx, ((FP_ParseHandler)(JB_Tk__fChar)));
	JB_Tk__TokenzFn(JB_LUB[1395], kJB__Tk_kThingSyx, ((FP_ParseHandler)(JB_Tk__fBackTick)));
	JB_Tk__TokenzFn(JB_LUB[48], kJB__Tk_kThingSyx, ((FP_ParseHandler)(JB_Tk__fSuperStr)));
	JB_Tk__TokenzFn(JB_LUB[146], kJB__Tk_kThingSyx, ((FP_ParseHandler)(JB_Tk__fBinary)));
	TokHan* _tmPf29 = JB_Tk__Handler(kJB__Tk_kFuncAfterNormal, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fBAdjectiveThing))));
	JB_Incr(_tmPf29);
	TokHan* _tmPf28 = JB_TH_Link(_tmPf29, kJB__Tk_kAdjectiveOp, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fBAdjectiveOp))));
	JB_Incr(_tmPf28);
	JB_Decr(_tmPf29);
	(JB_Tk__TokenSet(JB_LUB[1921], _tmPf28));
	JB_Decr(_tmPf28);
	TokHan* _tmPf31 = JB_Tk__Handler(kJB__Tk_kTmpOpp, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fTemporalRel))));
	JB_Incr(_tmPf31);
	TokHan* _tmPf30 = JB_TH_Link(_tmPf31, kJB__Tk_kTemporalSyxNoBar, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fTemporalHashThing))));
	JB_Incr(_tmPf30);
	JB_Decr(_tmPf31);
	(JB_Tk__TokenSet(JB_LUB[1913], _tmPf30));
	JB_Decr(_tmPf30);
	JB_Tk__TokenzFn(JB_LUB[1922], kJB__Tk_kThingSyx, ((FP_ParseHandler)(JB_Tk__fInnerNiceAdj)));
	JB_Tk__TokenzFn(JB_LUB[1923], kJB__Tk_kThingSyx, ((FP_ParseHandler)(JB_Tk__fYoda)));
	JB_Tk__TokenzFn(JB_LUB[542], kJB__Tk_kThingSyx, ((FP_ParseHandler)(JB_Tk__fQuoteLang)));
	JB_Tk__TokenzFn(JB_LUB[541], kJB__Tk_kThingSyx, ((FP_ParseHandler)(JB_Tk__fQuestion)));
	JB_Tk__TokenzFn(JB_LUB[607], kJB__Tk_kThingSyx, ((FP_ParseHandler)(JB_Tk__fAsk)));
	JB_Tk__TokenzFn(JB_LUB[36], kJB__Tk_kTemporalSyx, ((FP_ParseHandler)(JB_Tk__fXML)));
	JB_Tk__TokenzFn(JB_LUB[612], kJB__Tk_kTemporalSyx, ((FP_ParseHandler)(JB_Tk__fXML_PI)));
	JB_Tk__TokenzFn(JB_LUB[53], kJB__Tk_kTemporalSyx, ((FP_ParseHandler)(JB_Tk__fXML_Comment)));
	JB_Tk__TokenzFn(JB_LUB[55], kJB__Tk_kTemporalSyx, ((FP_ParseHandler)(JB_Tk__fXML_DTD)));
	JB_Tk__TokenzFn(JB_LUB[1924], kJB__Tk_kEndContainer, ((FP_ParseHandler)(JB_Tk__fEndOfLine)));
	JB_Tk__TokenzFn(JB_LUB[1925], kJB__Tk_kThingSyx, ((FP_ParseHandler)(JB_Tk__fError)));
	JB_Tk__TokenzFn(JB_LUB[1926], kJB__Tk_kOppSyx, ((FP_ParseHandler)(JB_Tk__fError2)));
	TokHan* IllegalHandler = JB_Tk__Handler(-1, ((TokenHandler_fp)(((TokenHandler_fp)JB_Tk__fError))));
	JB_Incr(IllegalHandler);
	{
		int I = 0;
		while (I < 256) {
			JB_String* _tmPf32 = JB_Str__Byte(I);
			(JB_Tk__TokenNilSet(_tmPf32, IllegalHandler));
			(++I);
		};
	}
	;
	JB_Decr(IllegalHandler);
}

int JB_Tk__Init_() {
	{
		JB__Tk_Splitter = (&JB_Tk__Range);
	}
	;
	return 0;
}

int JB_Tk__InitCode_() {
	{
	}
	;
	JB__Tk_Using.Position = -1;
	return 0;
}

Message* JB_Tk__LoweredIndent(Message* Output, Message* Curr) {
	Ind BackPos = JB_Str_FindCharset(JB_Tk__GetData(), kJB__CharSet_Line, Curr->Position, 0);
	int Chin = ((int)Curr->Indent);
	while (JB_Msg_IndentScore(Output) > Chin) {
		if (JB_Msg_EqualsSyx(Output, kJB_SyxArg)) {
			if (!JB_Msg_SyntaxIs(Output, kJB__MsgParseFlags_Style2)) {
				return JB_Tk__IndentBug(Curr);
			}
			 else {
				0;
			}
			if (BackPos > 0) {
				(JB_Msg_AfterSet(Output, BackPos));
			}
		}
		Output = ((Message*)JB_Ring_Parent(Output));
		if (!Output) {
			return JB_Tk__IndentBug(Curr);
		}
		if (JB_Msg_EqualsSyx(Output, kJB_SyxDecl)) {
			Output = ((Message*)JB_Ring_Parent(Output));
		}
	};
	JB_Tree_SyntaxAppend(Output, Curr);
	if (Chin & 3) {
		return Curr;
	}
	return Output;
}

Message* JB_Tk__MakeInvisArg(Message* Tmp) {
	Message* Rz = nil;
	if ((JB_Msg_EqualsSyx(Tmp, kJB_SyxItem))) {
		Message* Last = ((Message*)JB_Ring_Last(Tmp));
		if (!JB_Msg_EqualsSyx(Last, kJB_SyxEmb)) {
			return JB_Tk__UnexpectedSyntax(Last);
		}
		Last->Func = kJB_SyxArg;
		(JB_Msg_SyntaxIsSet(Last, kJB__MsgParseFlags_Style2, true));
		return Last;
	}
	Rz = JB_Tk__NewParentName(Tmp, kJB_SyxArg, Tmp->Position, JB_LUB[0]);
	(JB_Msg_SyntaxIsSet(Rz, kJB__MsgParseFlags_Style2, true));
	return Rz;
}

Message* JB_Tk__MakeRel(Message* First, int Bits) {
	Message* Opp = JB_Tk__Process(Bits, false, nil);
	if (!Opp) {
		return First;
	}
	Message* Rel = JB_Tk__NewParentName(nil, kJB_SyxRel, First->Position, JB_LUB[0]);
	JB_Tree_SyntaxAppend(Rel, First);
	JB_Tree_SyntaxAppend(Rel, Opp);
	if (JB_Tk__EatString(JB_LUB[455])) {
		Rel->Func = kJB_SyxERel;
		(++Opp->RangeLength);
	}
	bool Mode = kJB__Tk_kAllow;
	if (!JB_byte_IsLetter((JB_Str_First(Opp->Name)))) {
		Bits = (Bits | kJB__Tk_kOppWord);
	}
	JB_Tree_SyntaxAppend(Rel, JB_Tk__ProcessThing(Bits, Mode));
	(JB_Msg_AfterSet(Rel, JB_Msg_After(((Message*)JB_Ring_Last(Rel)))));
	return Rel;
}

int JB_Tk__MessageErrorSub(FastString* Fs, int Num) {
	Dictionary* E = JB__Tk__ErrorNames;
	JB_Incr(E);
	if (!E) {
		JB_SetRef(E, JB_Dict_Constructor(nil));
		JB_SetRef(JB__Tk__ErrorNames, E);
		(JB_Dict_SetInt(E, kJB__Tk_kTemporal, JB_LUB[552]));
		(JB_Dict_SetInt(E, kJB__Tk_kTemporalSyx, JB_LUB[553]));
		(JB_Dict_SetInt(E, kJB__Tk_kTemporalWord, JB_LUB[554]));
		(JB_Dict_SetInt(E, kJB__Tk_kEndOfLine, JB_LUB[555]));
		(JB_Dict_SetInt(E, kJB__Tk_kColon, JB_LUB[556]));
		(JB_Dict_SetInt(E, kJB__Tk_kOppSyx, JB_LUB[557]));
		(JB_Dict_SetInt(E, kJB__Tk_kOppWord, JB_LUB[557]));
		(JB_Dict_SetInt(E, kJB__Tk_kOpp, JB_LUB[557]));
		(JB_Dict_SetInt(E, kJB__Tk_kOppTemporal, JB_LUB[558]));
		(JB_Dict_SetInt(E, kJB__Tk_kThing, JB_LUB[559]));
		(JB_Dict_SetInt(E, kJB__Tk_kThingWord, JB_LUB[559]));
		(JB_Dict_SetInt(E, kJB__Tk_kThingSyx, JB_LUB[560]));
		(JB_Dict_SetInt(E, kJB__Tk_kIllegalChar, JB_LUB[561]));
	}
	if (Fs->Length) {
		JB_FS_AppendString(Fs, JB_LUB[445]);
	}
	 else {
		JB_FS_AppendString(Fs, JB_LUB[562]);
	}
	int BestValue = JB_Tk__FindError(Num);
	if (BestValue) {
		JB_String* S = ((JB_String*)JB_Dict_ValueInt(E, BestValue));
		JB_Incr(S);
		if (JB_Str_Exists(S)) {
			JB_FS_AppendString(Fs, S);
		}
		 else {
			JB_FS_AppendString(Fs, JB_LUB[563]);
		}
		JB_EarlyDecr(S);
		JB_EarlyDecr(E);
		return Num & (~BestValue);
	}
	JB_Decr(E);
	JB_FS_AppendString(Fs, JB_LUB[564]);
	return 0;
}

bool JB_Tk__NeedName(Message* Thg) {
	if ((JB_Msg_EqualsSyx(Thg, kJB_SyxThg))) {
		return true;
	}
	return ((bool)JB_FreeIfDead(JB_Tk__ErrorAdd(JB_LUB[842], Thg->Position)));
}

Message* JB_Tk__NewParentName(Message* Parent, Syntax Func, int Start, JB_String* Name) {
	Message* Rz = nil;
	//cpp_part;
	Rz = JB_Msg_ConstructorParser(nil, Parent, Func, Start, Name, JB_Tk__NextStart() - Start);
	return Rz;
}

Message* JB_Tk__NewParent(Message* Parent, Syntax Func, int Start, int End) {
	Message* Rz = nil;
	//cpp_part;
	JB_String* Name = JB_Tk__SyntaxAccess(Start, End, Func);
	Rz = JB_Msg_ConstructorParser(nil, Parent, Func, Start, Name, End - Start);
	return Rz;
}

Message* JB_Tk__NewEmpty(Message* P, Syntax F, int Start, int After) {
	Message* Rz = nil;
	Rz = JB_Msg_ConstructorParser(nil, P, F, Start, JB_LUB[0], After - Start);
	return Rz;
}

Message* JB_Tk__NewSkip(Message* P, Syntax F, int Start, int NameStart, int NameEnd) {
	Message* Rz = nil;
	JB_String* Name = JB_Tk__SyntaxAccess(NameStart, NameEnd, F);
	Rz = JB_Msg_ConstructorParser(nil, P, F, Start, Name, JB_Tk__NextStart() - Start);
	return Rz;
}

Message* JB_Tk__NewWord(Message* P, Syntax F, int Start, int SearchFrom) {
	Message* Rz = nil;
	int After = JB_Tk__WordAfter(SearchFrom);
	JB_String* Name = JB_Tk__SyntaxAccess(SearchFrom, After, F);
	Rz = JB_Msg_ConstructorParser(nil, P, F, Start, Name, After - Start);
	return Rz;
}

void JB_Tk__NextLineAndIndent(Message* Parent, ParserLineAndIndent* Rz) {
	int First = JB_Tk__NextStart();
	int N = First;
	JB_String* D = JB_Tk__GetData();
	int End = JB_Str_Length(D);
	byte* Addr = D->Addr;
	int State = 0;
	int Commas = 0;
	while (N < End) {
		uint C = Addr[N++];
		if (C == '\t') {
			Rz->Dentine = ((Rz->Dentine & (~3)) + (((!Commas)) << 2));
			if ((State & 1) and Rz->Lines) {
				JB_FreeIfDead(JB_Tk__ErrorAdd(JB_LUB[843], N - 1));
			}
		}
		 else if (C == ',') {
			(++Commas);
			Message* L = ((Message*)JB_Ring_Last(Parent));
			if (L) {
				Rz->Dentine = L->Indent;
			}
			 else {
				Rz->Dentine = 0;
			}
			State = 0;
		}
		 else if (C == ' ') {
			State = (State | 1);
			if (Rz->IsDebug != 3) {
				Rz->Dentine = (Rz->Dentine + (!Commas));
			}
			 else {
				if (Rz->Dentine < 4) {
					Rz->Dentine = (Rz->Dentine + (!Commas));
				}
				Rz->IsDebug = 2;
			}
		}
		 else if (C == '/') {
			uint C2 = JB_Str_ByteValue(D, N);
			if ((C2 != '/') and (C2 != '*')) {
				if (State & 2) {
					if (Rz->IsDebug > 1) {
						JB_FreeIfDead(JB_Tk__ErrorAdd(JB_LUB[844], N - 1));
					}
					Rz->IsDebug = 3;
					Rz->Dentine = (Rz->Dentine + (!Commas));
					continue;
				}
				(--N);
				break;
			}
			State = 2;
			if (C2 != '*') {
				N = JB_Tk__GotoEndOfLine(N + 1);
				continue;
			}
			(++Rz->Lines);
			Rz->Dentine = 0;
			(JB_Tk__NextStartSet(N - 1));
			Message* Line = JB_Tk__Process(kJB__Tk_kEndOfLine, kJB__Tk_kAllow, Parent);
			N = JB_Tk__NextStart();
			if (Line != JB__Tk__EndOfLineMarker) {
				break;
			}
		}
		 else {
			if ((C != '\n') and ((C != '\x0D') and (C != ';'))) {
				(--N);
				break;
			}
			(++Rz->Lines);
			if (!Rz->FirstLine) {
				Rz->FirstLine = (N - 1);
			}
			Rz->Position = (N - 1);
			Rz->Dentine = 0;
			Rz->IsDebug = 0;
			Commas = 0;
			State = 2;
			if (Parent->Func == kJB_SyxList) {
				(JB_Msg_SyntaxIsSet(Parent, kJB__MsgParseFlags_Style2, true));
			}
		}
	};
	Rz->Lines = (Rz->Lines + Commas);
	if ((!Rz->Lines) and ((Parent->Func == kJB_SyxArg) and (!JB_Msg_SyntaxIs(Parent, kJB__MsgParseFlags_Style2)))) {
		Rz->Dentine = 252;
	}
	(JB_Tk__NextStartSet(N));
}

bool JB_Tk__NoFuncAfter(uint /*byte*/ B) {
	return (B == '\t') or (B == ' ');
}

Message* JB_Tk__NumberSub(int Start, int RealStart) {
	Message* Rz = nil;
	int After = JB_Tk__NumEnd(JB_Tk__GetData(), Start);
	(JB_Tk__NextStartSet(After));
	int StartAt = JB_Str_IsHexLike(JB_Tk__GetData(), Start);
	Ind UnitPos2 = -1;
	if (StartAt == 0) {
		UnitPos2 = JB_Str_OutCharSet(JB_Tk__GetData(), kJB__CharSet_LettersOnly, After, Start + StartAt);
	}
	if (!JB_Ind_SyntaxCast(UnitPos2)) {
		UnitPos2 = (After - 1);
	}
	(++UnitPos2);
	Message* Num = JB_Tk__NewParent(nil, kJB_SyxNum, RealStart, UnitPos2);
	if (After <= UnitPos2) {
		return Num;
	}
	Rz = JB_Tk__NewSkip(nil, kJB_SyxUnit, RealStart, UnitPos2, After);
	JB_Tree_SyntaxAppend(Rz, Num);
	return Rz;
}

int JB_Tk__NumEnd(JB_String* NumStr, int Start) {
	int Rz = 0;
	Ind Dot = JB_Str_OutCharSet(NumStr, kJB__CharSet_NameMid, Start, kJB__int_Max);
	if (!JB_Ind_SyntaxCast(Dot)) {
		return JB_Str_Length(NumStr);
	}
	if (JB_Str_ByteValue(NumStr, Dot) != '.') {
		return Dot;
	}
	uint AfterDot = JB_Str_ByteValue(NumStr, Dot + 1);
	if (!JB_byte_IsInt(AfterDot)) {
		return Dot;
	}
	Rz = JB_Str_OutCharSet(NumStr, kJB__CharSet_NameMid, Dot + 1, kJB__int_Max);
	if (!Rz) {
		Rz = JB_Str_Length(NumStr);
	}
	return Rz;
}

bool JB_Tk__OK() {
	return (!JB_Ind_SyntaxCast(JB_Tk__ErrorStart()));
}

Message* JB_Tk__OppChain(Message* Opp) {
	Message* Result = JB_Tk__Process(kJB__Tk_kAdjectiveOp, false, Opp);
	JB_Incr(Result);
	if (Result) {
		if (!JB_FreeIfDead(((Message*)JB_Ring_Parent(Opp)))) {
			(JB_Ring_FirstSet(Result, Opp));
		}
		JB_SafeDecr(Result);
		return Result;
	}
	JB_EarlyDecr(Result);
	return Opp;
}

void JB_Tk__Params(Message* Parent, int N) {
	Message* Result = JB_Tk__NewParentName(Parent, kJB_SyxPrm, N, JB_LUB[0]);
	JB_Incr(Result);
	JB_Tk__ParseLoopFlags(Result, JB_LUB[656], kJB__Tk_kTemporalSyxNoBar);
	JB_Decr(Result);
}

Message* JB_Tk__ParseItem(Message* Ch, int TemporalFlags, int Ops) {
	int Ns = JB_Tk__NextStart();
	if (!JB_Tk__Allow(kJB__Tk_kColon)) {
		return Ch;
	}
	if (JB_Msg_OperatorIn(Ch, kJB_SyxArg)) {
		if (JB_Msg_EqualsSyx(Ch, kJB_SyxThg)) {
			Ch->Func = kJB_SyxTmp;
			Message* _tmPf0 = JB_Tk__fArgColon(Ns, Ch);
			JB_Incr(_tmPf0);
			JB_Tree_SyntaxAppend(Ch, _tmPf0);
			JB_Decr(_tmPf0);
		}
		return Ch;
	}
	Message* Result = JB_Tk__NewParentName(nil, kJB_SyxItem, Ch->Position, JB_LUB[0]);
	JB_Incr(Result);
	JB_Tree_SyntaxAppend(Result, Ch);
	Message* Ch2 = JB_Tk__Process(TemporalFlags, false, Result);
	JB_Incr(Ch2);
	if (!Ch2) {
		JB_SetRef(Ch2, JB_Tk__ProcessThing(Ops, false));
	}
	if (!Ch2) {
		JB_SetRef(Ch2, JB_Tk__NewParentName(Result, kJB_SyxEmb, Ns, JB_LUB[0]));
	}
	JB_Tree_SyntaxAppend(Result, Ch2);
	(JB_Msg_AfterSet(Result, JB_Msg_After(Ch2)));
	JB_EarlyDecr(Ch2);
	JB_SafeDecr(Result);
	return Result;
}

int JB_Tk__ParseLoop(Message* Output, int TmpoFlags) {
	int Rz = 0;
	Message* Prev = nil;
	ParserLineAndIndent Info = ((ParserLineAndIndent){});
	while (true) {
		JB_Tk__NextLineAndIndent(Output, (&(Info)));
		Rz = (Rz + Info.Lines);
		if (JB_Tk__WillEnd()) {
			int Nxt = JB_Tk__NextStart();
			if (!JB_Tk__Running()) {
				Nxt = JB_Str_Length(JB_Tk__GetData());
			}
			return JB_Tk__FinishParseLoop(Rz, Output, Nxt);
		}
		if (Prev and (!Info.Lines)) {
			return JB_Tk__FinishParseLoop(Rz, Output, JB_Tk__NextStart() - 1);
		}
		Message* Ch = JB_Tk__ParseLoopItem(Output, TmpoFlags, Prev, Info.Dentine);
		if (!Ch) {
			return JB_Tk__FinishParseLoop(Rz, Output, JB_Tk__NextStart() - 1);
		}
		if (Ch != Output) {
			Rz = (Rz + ((JB_Msg_EqualsSyx(Ch, kJB_SyxItem))));
			if (Info.IsDebug) {
				(JB_Msg_SyntaxIsSet(Ch, kJB__MsgParseFlags_BreakPoint, true));
			}
			Output = JB_Tk__AddToOutput(Output, Ch, Prev, JB_ParserLineAndIndent_ArgPos((&Info)));
			if (!Output) {
				break;
			}
			Prev = Ch;
		}
		Info = ((ParserLineAndIndent){});
	};
	return Rz;
}

bool JB_Tk__ParseLoopFlags(Message* Output, JB_String* Ender, int TmpFlags) {
	bool Rz = false;
	Ind Err = JB_Tk__NextStart();
	Rz = ((bool)JB_Tk__ParseLoop(Output, TmpFlags & (~JB__Tk__StopBars)));
	if (JB_Str_Exists(Ender)) {
		JB_Tk__ExpectEndChar(Err, Ender, true);
		(JB_Msg_AfterSet(Output, JB_Tk__NextStart()));
	}
	return Rz;
}

Message* JB_Tk__ParseLoopItem(Message* Output, int TmpoFlags, Message* Prev, int Indent) {
	Message* Ch = JB_Tk__Process(kJB__Tk_kTemporal & TmpoFlags, false, Output);
	JB_Incr(Ch);
	if ((!Ch)) {
		Message* Item = JB_Tk__ProcessSyxParent(Output, kJB__Tk_kOpp, kJB__Tk_kThing);
		JB_Incr(Item);
		if ((!Item) or (Item == Output)) {
			JB_EarlyDecr(Ch);
			JB_SafeDecr(Item);
			return Item;
		}
		TmpoFlags = (TmpoFlags & (kJB__Tk_kTemporal & (~kJB__Tk_kTemporalWord)));
		JB_SetRef(Ch, JB_Tk__ParseItem(Item, TmpoFlags, kJB__Tk_kOpp));
		JB_Decr(Item);
	}
	 else if ((JB_Msg_EqualsSyx(Ch, kJB_SyxCnj)) or (JB_Msg_EqualsSyx(Ch, kJB_SyxSCnj))) {
		JB_SetRef(Ch, JB_Tk__ReRoute(Output, Ch, Prev));
		if (!Ch) {
			JB_EarlyDecr(Ch);
			return nil;
		}
		Message* _tmPf0 = ((Message*)JB_Ring_First(Ch));
		JB_Incr(_tmPf0);
		Indent = _tmPf0->Indent;
		JB_Decr(_tmPf0);
	}
	Ch->Indent = Indent;
	JB_SafeDecr(Ch);
	return Ch;
}

Message* JB_Tk__PostInnerAdj(Message* Rel, Message* Opp) {
	JB_Incr(Rel);
	Message* F = ((Message*)JB_Ring_First(Rel));
	JB_Incr(F);
	if ((!((JB_Msg_EqualsSyx(Rel, kJB_SyxRel)))) and (!((JB_Msg_EqualsSyx(Rel, kJB_SyxBra)) and (JB_Msg_EqualsSyx(F, kJB_SyxRel))))) {
		Message* _tmPf1 = JB_Tk__ErrorAdd(JB_LUB[845], Rel->Position);
		JB_Incr(_tmPf1);
		JB_EarlyDecr(Rel);
		JB_EarlyDecr(F);
		JB_SafeDecr(_tmPf1);
		return _tmPf1;
	}
	if (JB_Msg_EqualsSyx(Rel, kJB_SyxBra)) {
		JB_SetRef(Rel, F);
		JB_SetRef(F, ((Message*)JB_Ring_First(F)));
	}
	Message* Adverb = JB_Tk__Process(kJB__Tk_kOppWord | kJB__Tk_kOppBra, kJB__Tk_kExpect, nil);
	JB_Incr(Adverb);
	if (!Adverb) {
		JB_EarlyDecr(Rel);
		JB_EarlyDecr(Adverb);
		JB_EarlyDecr(F);
		return nil;
	}
	Message* Adj = JB_Syx_Msg(kJB_SyxAdj, JB_LUB[0]);
	JB_Incr(Adj);
	(JB_Ring_NextSibSet(F, Adj));
	JB_Decr(F);
	JB_Tree_SyntaxAppend(Adj, Adverb);
	JB_Decr(Adverb);
	Message* _tmPf0 = ((Message*)JB_Ring_NextSib(Adj));
	JB_Incr(_tmPf0);
	JB_Tree_SyntaxAppend(Adj, _tmPf0);
	JB_Decr(Adj);
	JB_Decr(_tmPf0);
	Rel->Func = kJB_Syxpinn;
	JB_SafeDecr(Rel);
	return Rel;
}

Message* JB_Tk__ProcessSyxParent(Message* Parent, int Ops, int ThingFlags) {
	return JB_Tk__ProcessSyxSub(Parent, Ops, ThingFlags, false);
}

Message* JB_Tk__ProcessSyxSub(Message* Parent, int Ops, int KindOfThing, bool Expect) {
	Message* Result = JB_Tk__Process(KindOfThing, Expect, Parent);
	JB_Incr(Result);
	if ((!Result) or ((Result == Parent) or JB_Tk__WillEnd())) {
		JB_SafeDecr(Result);
		return Result;
	}
	Message* _tmPf0 = JB_Tk__DecorateThing(Result, Ops);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Result);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

Message* JB_Tk__ProcessThing(int Ops, bool Expect) {
	return JB_Tk__ProcessSyxSub(nil, Ops, kJB__Tk_kThing, Expect);
}

Message* JB_Tk__ProcessThingNoBar(int Ops, bool Expect) {
	return JB_Tk__ProcessSyxSub(nil, Ops, kJB__Tk_kThingSyx | kJB__Tk_kThingWord, Expect);
}

Message* JB_Tk__ProcessThingOrTmp(int Opps) {
	return JB_Tk__ProcessSyxSub(nil, Opps, kJB__Tk_kThingSyx | (kJB__Tk_kThingWord | kJB__Tk_kTemporalSyx), false);
}

Message* JB_Tk__ReRoute(Message* Output, Message* Cnj, Message* F) {
	Message* Rz = nil;
	JB_Incr(Rz);
	if ((!F)) {
		JB_EarlyDecr(Rz);
		return JB_Tk__ErrorAdd(JB_LUB[1268], JB_Tk__NextStart());
	}
	JB_SetRef(Rz, JB_Tk__ChainTemporalRels(F, Cnj));
	if (JB_Ring_HasChildCount(Rz, 2) and JB_Tk__Allow(kJB__Tk_kEndOfLine)) {
		Message* _tmPf0 = JB_Tk__ProcessThing(kJB__Tk_kOpp, false);
		JB_Incr(_tmPf0);
		JB_Tree_SyntaxAppend(Rz, _tmPf0);
		JB_Decr(_tmPf0);
	}
	JB_Tree_SyntaxAppend(Output, Rz);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Tk__ThingXMLAtt(int Start, Message* Parent) {
	int Name = JB_Tk__WordAfterSub(Start, kJB__CharSet_XMLNameMid);
	return JB_Tk__NewParent(Parent, kJB_SyxXAtt, Start, Name);
}

void JB_Tk__TokensChar(JB_String* Range, TokHan* H) {
	//cpp_part;
	int I = 0;
	while (JB_int_SyntaxCompare(I, Range) <= -1) {
		uint A = JB_Str_ByteValue(Range, I++);
		uint B = JB_Str_ByteValue(Range, I++);
		while (A <= B) {
			JB_String* _tmPf0 = JB_Str__Byte(A++);
			(JB_Tk__TokenSet(_tmPf0, H));
		};
	};
}

void JB_Tk__TokensFn(Array* Arr, int Bits, FP_ParseHandler Func) {
	//cpp_part;
	TokHan* _tmPf0 = JB_Tk__Handler(Bits, ((TokenHandler_fp)(((TokenHandler_fp)Func))));
	JB_Incr(_tmPf0);
	JB_Tk__TokensHan(Arr, _tmPf0);
	JB_Decr(_tmPf0);
}

void JB_Tk__TokensHan(Array* Arr, TokHan* H) {
	//cpp_part;
	{
		int _if0 = 0;
		while (true) {
			JB_String* S = ((JB_String*)JB_Array_Value(Arr, _if0));
			JB_Incr(S);
			if (S == nil) {
				JB_EarlyDecr(S);
				break;
			}
			(JB_Tk__TokenSet(S, H));
			JB_Decr(S);
			(++_if0);
		};
	};
}

void JB_Tk__TokenzFn(JB_String* S, int Bits, FP_ParseHandler Func) {
	//cpp_part;
	if (JB_Str_ContainsString(S, JB_LUB[60])) {
		Array* _tmPf0 = JB_Str_Words(S);
		JB_Incr(_tmPf0);
		JB_Tk__TokensFn(_tmPf0, Bits, ((FP_ParseHandler)(Func)));
		JB_Decr(_tmPf0);
	}
	 else {
		TokHan* _tmPf1 = JB_Tk__Handler(Bits, ((TokenHandler_fp)(((TokenHandler_fp)Func))));
		JB_Incr(_tmPf1);
		(JB_Tk__TokenSet(S, _tmPf1));
		JB_Decr(_tmPf1);
	}
}

Message* JB_Tk__UnexpectedSyntax(Message* Bad) {
	return JB_Tk__ErrorAdd(JB_LUB[846], Bad->Position);
}

Message* JB_Tk__UnTmpPlace(Message* R) {
	Message* P = ((Message*)JB_Ring_Parent(R));
	return ((Message*)JB_Ternary((JB_Msg_EqualsSyx(P, kJB_SyxTmp)), P, R));
}

bool JB_Tk__WillEnd() {
	return JB_Tk__CheckEnded(kJB__Tk_kEnd);
}

int JB_Tk__WordAfter(int Start) {
	return JB_Tk__WordAfterSub(Start, kJB__CharSet_NameMid);
}

int JB_Tk__WordAfterSub(int Start, CharSet Cs) {
	int N = JB_Str_Length(JB_Tk__GetData());
	if (Start < N) {
		Ind After = JB_Str_OutCharSet(JB_Tk__GetData(), Cs, Start, kJB__int_Max);
		if (!JB_Ind_SyntaxCast(After)) {
			After = N;
		}
		if (After > Start) {
			(JB_Tk__NextStartSet(After));
			return After;
		}
	}
	JB_Tk__ErrorLetter(Start);
	return 0;
}

int JB_Tk__XMLAttribs(Message* XML, int Start) {
	Message* AllAtts = JB_Tk__NewParentName(XML, kJB_SyxList, Start, JB_LUB[0]);
	JB_Incr(AllAtts);
	JB_String* S = JB_Tk__GetData();
	JB_Incr(S);
	while (true) {
		Ind I = JB_Str_OutWhite(S, JB_Tk__NextStart(), kJB__int_Max);
		if (!JB_Ind_SyntaxCast(I)) {
			break;
		}
		uint C = JB_Str_ByteValue(S, I);
		if ((C == '>') or ((C == '/') and (JB_Str_ByteValue(S, I + 1) == '>'))) {
			JB_EarlyDecr(S);
			JB_EarlyDecr(AllAtts);
			return I;
		}
		if (!JB_CharSet_SyntaxAccess(kJB__CharSet_LettersUnderScore, C)) {
			break;
		}
		Message* Attr = JB_Tk__ThingXMLAtt(I, AllAtts);
		JB_Incr(Attr);
		if (!JB_Tk__ExpectEndChar(JB_Tk__NextStart(), JB_LUB[455], true)) {
			JB_EarlyDecr(Attr);
			JB_EarlyDecr(S);
			JB_EarlyDecr(AllAtts);
			return 0;
		}
		I = JB_Tk__CleanSpaces();
		C = JB_Str_ByteValue(S, I);
		if (!((C == '\'') or (C == '"'))) {
			JB_FreeIfDead(JB_Tk__ErrorAdd(JB_LUB[1173], I));
			JB_EarlyDecr(Attr);
			JB_EarlyDecr(S);
			JB_EarlyDecr(AllAtts);
			return nil;
		}
		Ind After = JB_Str_FindByte(S, C, I + 1, kJB__int_Max);
		Message* Txt = JB_Tk__NewParentName(Attr, kJB_SyxXTxt, Start, JB_LUB[0]);
		JB_Incr(Txt);
		JB_Decr(Attr);
		JB_String* _tmPf0 = JB_Str_Range(S, I + 1, After, false);
		JB_Incr(_tmPf0);
		JB_SetRef(Txt->Name, JB_Str_MultiReplaceAll(_tmPf0, JB__Constants_XML_UnEscapeStr, JB_StdErr));
		JB_Decr(Txt);
		JB_Decr(_tmPf0);
		(JB_Tk__NextStartSet(After + 1));
	};
	JB_Decr(AllAtts);
	JB_Decr(S);
	JB_FreeIfDead(JB_Tk__ErrorAdd(JB_LUB[1174], JB_Tk__NextStart()));
	return 0;
}

Message* JB_Tk__XMLWhatever(int S, int Skip, JB_String* Ender, Syntax Fn) {
	Message* Rz = nil;
	JB_Incr(Rz);
	int I = S + Skip;
	JB_String* _tmPf0 = JB_Tk__GetData();
	Ind EndPos = JB_Str_InStr(_tmPf0, Ender, I, kJB__int_Max, false);
	if ((!JB_Ind_SyntaxCast(EndPos))) {
		JB_EarlyDecr(Rz);
		return JB_Tk__ErrorAdd(JB_LUB[847], I);
	}
	(JB_Tk__NextStartSet(EndPos + JB_Str_Length(Ender)));
	if (Fn) {
		JB_String* _tmPf2 = JB_Tk__GetData();
		JB_String* _tmPf1 = JB_Str_Range(_tmPf2, I, EndPos, false);
		JB_Incr(_tmPf1);
		JB_SetRef(Rz, JB_Tk__NewParentName(nil, Fn, I, _tmPf1));
		JB_Decr(_tmPf1);
		Rz->Position = S;
		(JB_Msg_AfterSet(Rz, JB_Tk__NextStart()));
	}
	JB_SafeDecr(Rz);
	return Rz;
}

Ind JB_Tk__XMLWordEnd(int From) {
	Ind Rz = -1;
	JB_String* _tmPf0 = JB_Tk__GetData();
	uint B = JB_Str_ByteValue(_tmPf0, From);
	if (!JB_CharSet_SyntaxAccess(kJB__CharSet_LettersUnderScore, B)) {
		JB_FreeIfDead(JB_Tk__ErrorAdd(JB_LUB[848], From));
	}
	 else {
		JB_String* _tmPf1 = JB_Tk__GetData();
		Rz = JB_Str_OutCharSet(_tmPf1, kJB__CharSet_XMLNameMid, From + 1, kJB__int_Max);
		if (Rz == -1) {
			JB_FreeIfDead(JB_Tk__ErrorAdd(JB_LUB[849], JB_Tk__NextStart()));
		}
		(JB_Tk__NextStartSet(Rz));
	}
	return Rz;
}



JB_String* JB_Platform__CPU_Name() {
	if (JB_Platform__CPU_Intel()) {
		return JB_LUB[153];
	}
	if (JB_Platform__CPU_ARM()) {
		return JB_LUB[154];
	}
	if (JB_Platform__CPU_Spd()) {
		return JB_LUB[155];
	}
	return JB_LUB[0];
}

int JB_Platform__Init_() {
	{
	}
	;
	return 0;
}

void JB_Platform__Log(JB_String* S) {
	//visible;
	JB_File* L = ({
		JB_File* _X = JB__Platform_Logger_;
		if (_X == nil) {
			_X = JB_Platform__OpenLog();
			JB_SetRef(JB__Platform_Logger_, _X);
		}
		 _X;
	});
	JB_File_Write(L, S);
	JB_File_Write(L, JB_LUB[18]);
}

JB_File* JB_Platform__OpenLog() {
	JB_File* Rz = nil;
	JB_Incr(Rz);
	JB_File* _tmPf0 = JB_File__Logs();
	JB_Incr(_tmPf0);
	JB_String* _tmPf2 = JB_App__AppName();
	JB_Incr(_tmPf2);
	JB_String* _tmPf1 = JB_Str_OperatorPlus(_tmPf2, JB_LUB[1172]);
	JB_Incr(_tmPf1);
	JB_Decr(_tmPf2);
	JB_SetRef(Rz, JB_File_SyntaxAccess(_tmPf0, _tmPf1));
	JB_Decr(_tmPf0);
	JB_Decr(_tmPf1);
	JB_SetRef(JB__Platform_Logger_, Rz);
	JB_File_OpenEmpty(Rz);
	JB_SafeDecr(Rz);
	return Rz;
}


void SC_PostIncrementNil__Check(Message* Ch) {
	SCDecl* D = SC_Msg_FastDecl(Ch);
	if (SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_PostIncremented)) {
		JB_Msg_Fail(Ch, JB_LUB[1899]);
	}
	(SC_Decl_SyntaxIsSet(D, kSC__SCDeclInfo_PostIncremented, true));
	SC_PostIncrementNil__SyntaxAppend(Ch);
}

void SC_PostIncrementNil__Clear() {
	{
		int _LoopSrcf1 = SC__PostIncrementNil_Size;
		int I = 0;
		while (I < _LoopSrcf1) {
			SCDecl* D = SC_Msg_FastDecl(SC__PostIncrementNil_Msgs[I]);
			JB_Incr(D);
			(SC_Decl_SyntaxIsSet(D, kSC__SCDeclInfo_PostIncremented, (!true)));
			JB_Decr(D);
			(++I);
		};
	}
	;
	SC__PostIncrementNil_Msgs[0] = nil;
	SC__PostIncrementNil_Size = 0;
	SC__PostIncrementNil_Sync = false;
}

int SC_PostIncrementNil__Init_() {
	{
	}
	;
	return 0;
}

void SC_PostIncrementNil__SyntaxAppend(Message* Ch) {
	int S = SC__PostIncrementNil_Size;
	if (S >= 32) {
		JB_Msg_Fail(Ch, JB_LUB[1020]);
		return;
	}
	SC__PostIncrementNil_Msgs[S] = Ch;
	SC__PostIncrementNil_Size = (S + 1);
}


int SC_SCGame3D__Init_() {
	{
		Dictionary* _tmPf0 = (JB_Dict_Constructor(nil));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[103], JB_LUB[104]));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[105], JB_LUB[106]));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[107], JB_LUB[108]));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[109], JB_LUB[110]));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[111], JB_LUB[112]));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[113], JB_LUB[114]));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[115], JB_LUB[116]));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[117], JB_LUB[118]));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[119], JB_LUB[120]));
		JB_SetRef(SC__SCGame3D_Types, _tmPf0);
	}
	;
	return 0;
}

SCNode* SC_SCGame3D__Love(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	if (JB_Rnd_Float(JB_Random) > (1.0f / 12.0f)) {
		JB_String* _tmPf1 = JB_Msg_Render(Node, nil);
		JB_Incr(_tmPf1);
		JB_String* _tmPf0 = JB_Str_Range(_tmPf1, (5), kJB__int_Max, false);
		JB_Incr(_tmPf0);
		JB_Decr(_tmPf1);
		JB_PrintLine(_tmPf0);
		JB_Decr(_tmPf0);
	}
	return SC__Comp_Program;
}

bool SC_SCGame3D__NeedShader(JB_String* Name) {
	if ((JB_Str_Equals(Name, JB_LUB[1025], true)) or (JB_Str_Equals(Name, JB_LUB[1026], true))) {
		return true;
	}
	JB_Object* F = JB_Dict_Value0(SC__Imp_Shaders, Name);
	JB_Incr(F);
	if (!JB_Object_Isa(F, &JB_StringData)) {
		JB_String* _tmPf1 = JB_Str_Append4(JB_LUB[1027], Name, JB_LUB[18], nil);
		JB_Incr(_tmPf1);
		JB_Str_Fail(_tmPf1);
		JB_EarlyDecr(_tmPf1);
		JB_EarlyDecr(F);
		return nil;
	}
	JB_EarlyDecr(F);
	return true;
}

SCNode* SC_SCGame3D__NeuModel(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	Message* Inst = SC_Msg_TranModel(Node);
	JB_Incr(Inst);
	if (!Inst) {
		JB_Msg_Fail(Node, JB_LUB[2039]);
		JB_EarlyDecr(Inst);
		return nil;
	}
	SCNode* M = SC_Class__NewStruct(Node, Name_space, ErrPlace);
	JB_Incr(M);
	if (JB_Object_FastIsa(M, &SCModuleData)) {
		JB_SetRef(((SCModule*)M)->Cls->IsModel, Inst);
	}
	JB_Decr(Inst);
	JB_SafeDecr(M);
	return M;
}


int SC__Init_() {
	{
	}
	;
	return 0;
}


void SC_Refs__DeclInit(Message* Dcl, SCFunction* Fn, bool IsJustAnArg) {
	int Basis = SC_Refs__RefBasis(Dcl, true);
	if (SC_Func_DoRefs(Fn)) {
		if (!Basis) {
			return;
		}
	}
	 else {
		if (!(Basis & kSC__Refs_kBasisDeSTRUCTable)) {
			return;
		}
	}
	Message* Arg = ((Message*)JB_Ring_Parent(Dcl));
	Message* Name = SC_Msg_DeclName(Dcl);
	Message* LastPlace = nil;
	if (Basis & kSC__Refs_kBasisObj) {
		LastPlace = SC_Refs__LastUsedRefPlace(Name, Arg);
	}
	Message* Blocker = SC_Msg_CausesUnReachable(Arg, Arg, Dcl, LastPlace);
	if (Basis == kSC__Refs_kBasisObj) {
		if (IsJustAnArg) {
			SC_Refs__RefIncr(Name, Dcl, IsJustAnArg);
		}
		 else {
			SC_Refs__RealRefIncr(Name, Dcl);
		}
	}
	if (!Blocker) {
		Blocker = LastPlace;
	}
	SC_Refs__ReturnHandle(Blocker, Arg, Name, Basis);
	Message* Curr = Dcl;
	Message* After = ((Message*)JB_Ring_FlatAfter(Arg));
	while ((Curr != After) and (Curr != LastPlace)) {
		if ((JB_Msg_EqualsSyx(Curr, kJB_SyxArg))) {
			Message* Block2 = SC_Msg_CausesUnReachable(Curr, Arg, nil, nil);
			if (Block2) {
				SC_Refs__ReturnHandle(Block2, nil, Name, Basis);
			}
		}
		Curr = ((Message*)JB_Ring_FlatNext0(Curr));
	};
}

Message* SC_Refs__DecrMulti(SCDecl* D, Message* M, bool IsReturn) {
	Message* Rz = nil;
	Message* Int = JB_int_Msg(D->C_Array);
	JB_SetRef(Int->Obj, SC_TypeInt->TypeNormal);
	if (IsReturn) {
		Rz = JB_Macro_CallFast(SC__Macros_MultiEarlyDecr, M, Int);
	}
	 else {
		Rz = JB_Macro_CallFast(SC__Macros_MultiDecr, M, Int);
	}
	(SC_Msg_ASMTypeSet(Rz, kSC__ASMType_kRefCount));
	Message* Prm = ((Message*)JB_Tree_Second(Rz));
	if (Prm) {
		if (IsReturn) {
			JB_SetRef(Prm->Obj, SC__Comp_RefEarlyDecrMulti);
		}
		 else {
			JB_SetRef(Prm->Obj, SC__Comp_RefDecrMulti);
		}
		JB_SetRef(Rz->Obj, SC_TypeVoid);
	}
	return Rz;
}

void SC_Refs__Destructable(Message* Blocker, Message* Arg, Message* Name) {
	SCDecl* Type = SC_TypeOfExpr(Name, nil, nil);
	if (Type) {
		(SC_Decl_SyntaxIsSet(Type, kSC__SCDeclInfo_ReadFrom, true));
		Message* Src = ((Message*)JB_Ternary(Blocker, Blocker, ((Message*)JB_Tree_FlatLast(Arg))));
		//using;
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Src, (&_usingf0));
		SCFunction* Fn = Type->Type->DestructorFunc;
		Message* FnMsg = SC_Refs__RefMsg0(Fn->ExportName, Fn);
		Message* Brel = JB_Msg_Msg(((Message*)JB_Ring_Last(FnMsg)), kJB_SyxBRel, JB_LUB[32]);
		Message* NewThg = JB_Msg_Msg(Brel, kJB_SyxThg, Name->Name);
		JB_SetRef(Brel->Obj, SC_Decl_GetAddress(Type, kSC__DeclMode_Always));
		JB_SetRef(NewThg->Obj, Name->Obj);
		if (Blocker) {
			(JB_Ring_PrevSibSet(Blocker, FnMsg));
		}
		 else {
			JB_Tree_SyntaxAppend(Arg, FnMsg);
		}
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Src);
		JB_MsgPos_Destructor((&_usingf0));
	}
}

bool SC_Refs__ExitHitsOrGoesPast(Message* Curr, Message* Arg) {
	while (true) {
		Curr = ((Message*)JB_Ring_Parent(Curr));
		if (Curr == Arg) {
			return true;
		}
		if (SC_Msg_OperatorIsTmp(Curr, JB_LUB[398])) {
			return false;
		}
	};
}

bool SC_Refs__ExprNeedsTemping(Message* Child, Message* Name) {
	if (SC_Refs__RefBasis(Name, false) != kSC__Refs_kBasisObj) {
		return nil;
	}
	{
		Message* S = Child;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Child));
		while ((S) and (S != _afterf1)) {
			Message* _N_f2 = ((Message*)JB_Ring_FlatNext0(S));
			if (SC_Msg_OperatorIsThing(S, Name->Name)) {
				return true;
			}
			S = _N_f2;
		};
		;
	}
	;
	return false;
}

Message* SC_Refs__LastUsedRefPlace(Message* Name, Message* Arg) {
	SCDecl* D = SC_Msg_AsDecl(Name);
	if (!D) {
		JB_Object_Fail(nil);
		return nil;
	}
	SCClass* Type = D->Type;
	if (SC_Class_SyntaxIs(Type, kSC__ClassInfo_NoEarlyFree)) {
		return nil;
	}
	JB_String* S = Name->Name;
	Message* Found = Name;
	{
		Message* C = Arg;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Arg));
		while ((C) and (C != _afterf1)) {
			Message* _N_f2 = ((Message*)JB_Ring_FlatNext0(C));
			if (SC_Msg_OperatorIsThing(C, S)) {
				Found = C;
			}
			C = _N_f2;
		};
		;
	}
	;
	Message* Curr = Found;
	while (Found != Arg) {
		Curr = Found;
		Found = ((Message*)JB_Ring_Parent(Found));
	};
	return SC_Msg_LastUsedFix(Curr);
}

void SC_Refs__RC_CheckFuncAllocOK(SCFunction* Self, Message* Dot) {
	if (!(JB_Msg_OperatorIn(Dot, kJB_SyxBra) and JB_Msg_OperatorIn(((Message*)JB_Ring_Parent(Dot)), kJB_SyxBra))) {
		SCFunction* Fn = SC_Msg_AsFunc(((Message*)JB_Ring_Last(Dot)));
		if (Fn) {
			if ((SC_Func_SyntaxIs(Fn, kSC__FunctionType_Destructor)) and (!SC_Func_SyntaxIs(Self, kSC__FunctionType_Destructor))) {
				if (true) {
					JB_Msg_Fail(Dot, JB_LUB[1021]);
				}
			}
		}
	}
}

void SC_Refs__RC_CheckNoObjPms(Message* Msg) {
	SCFunction* Fn = SC_Msg_MsgFunc(Msg);
	if (Fn) {
		Message* P = ((Message*)JB_Ring_First(((Message*)JB_Ring_Last(Msg))));
		{
			Array* _LoopSrcf2 = Fn->Args;
			int _if0 = 0;
			while (true) {
				SCDecl* I = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
				if (I == nil) {
					break;
				}
				SCDecl* Ty = SC_TypeOfExpr(P, nil, nil);
				if (Ty) {
					if (I->PointerCount and (!SC_Decl_CanGetAddressSafely(Ty))) {
						if ((SC_Class_IsObject(I->Type))) {
							JB_Msg_Fail(P, JB_Str_OperatorPlus(JB_Msg_Name(P), JB_LUB[1415]));
							return;
						}
					}
				}
				P = ((Message*)JB_Ring_NextSib(P));
				(++_if0);
			};
		};
	}
}

void SC_Refs__RC_DeclArg(SCDecl* AR, SCFunction* Fn) {
	Message* Src = AR->Source;
	if (!Src) {
		Src = SC_Func_SourceArg(Fn);
	}
	if (Src) {
		JB__Tk_Using.Position = Src->Position;
	}
	Message* Arg = SC_Func_SourceArg(Fn);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Arg, (&_usingf0));
	Message* Dcl = SC_Decl_WriteNilDecl(AR);
	(JB_Ring_FirstSet(Arg, Dcl));
	SC_Refs__DeclInit(Dcl, Fn, true);
	JB_Tree_Remove(Dcl);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Arg);
	JB_MsgPos_Destructor((&_usingf0));
}

void SC_Refs__RC_HandleDisappearing(Message* Msg, int Basis) {
	JB__Tk_Using.Position = Msg->Position;
	SC_Refs__RC_HandleDisappearingSub(Msg, Basis);
	JB__Tk_Using.Position = -1;
}

void SC_Refs__RC_HandleDisappearingSub(Message* Msg, int Basis) {
	Message* Ch = SC_Msg_UseNonRefChangers(Msg, false);
	JB_Incr(Ch);
	if ((Basis & kSC__Refs_kBasisDeSTRUCTable) or (Basis & kSC__Refs_kBasisTempStruct)) {
		if (!JB_Msg_EqualsSyx(Msg, kJB_SyxFunc)) {
		}
		if (!(SC_Msg_IsSetIntoPlace(Msg) or ({
			Message* _tmPf1 = ((Message*)JB_Ring_Parent(Ch));
			JB_Incr(_tmPf1);
			bool _tmPf0 = SC_Msg_IsReturnOrRejoin(_tmPf1);
			JB_EarlyDecr(_tmPf1);
			 _tmPf0;
		}))) {
			JB_FreeIfDead(SC_Func__TypedTempMoveOut(Msg, JB_LUB[0], nil));
		}
		JB_EarlyDecr(Ch);
		return;
	}
	if (!((Basis == kSC__Refs_kBasisObj) and ((!SC_Msg_IsProperty(Msg))))) {
		JB_EarlyDecr(Ch);
		return;
	}
	Message* Parent = SC_Msg_NiceParent(Ch);
	JB_Incr(Parent);
	if (!(((!JB_Msg_EqualsSyx(Parent, kJB_SyxArg))) and ((!(SC_Msg_IsReturnOrRejoin(Parent) and JB_Tree_IsOnlyChild(Ch))) and (!JB_FreeIfDead(SC_Msg_IsSetIntoPlace(Ch)))))) {
		JB_EarlyDecr(Parent);
		JB_EarlyDecr(Ch);
		return;
	}
	if (SC_Msg_RefDisappears(Ch)) {
		Message* Fnc = SC_Refs__RefMsg0(JB_LUB[1539], SC__Comp_RefFreeIfDead);
		JB_Incr(Fnc);
		(JB_Ring_PrevSibSet(Msg, Fnc));
		Message* _tmPf2 = ((Message*)JB_Ring_Last(Fnc));
		JB_Incr(_tmPf2);
		JB_Decr(Fnc);
		JB_Tree_SyntaxAppend(_tmPf2, Msg);
		JB_EarlyDecr(_tmPf2);
		JB_EarlyDecr(Parent);
		JB_EarlyDecr(Ch);
		return;
	}
	if ((JB_Msg_EqualsSyx(Parent, kJB_SyxPrm))) {
		if (Parent->Obj == SC__Comp_TernaryFunc) {
			if (JB_FreeIfDead(SC_Msg_UseNonRefChangers(Ch, false)) != JB_FreeIfDead(((Message*)JB_Ring_First(Parent)))) {
				JB_EarlyDecr(Parent);
				JB_EarlyDecr(Ch);
				return;
			}
		}
		if (Parent->Obj == SC__Comp_RefFreeIfDead) {
			JB_EarlyDecr(Parent);
			JB_EarlyDecr(Ch);
			return;
		}
	}
	JB_Decr(Parent);
	Message* Pp = SC_Msg_UpToArg(Ch);
	JB_Incr(Pp);
	if (SC_Refs__RC_NeedsOwnBlock(Ch, Pp)) {
		JB_FreeIfDead(SC_Msg_TempIntoBlock(Ch, Pp));
	}
	 else {
		JB_FreeIfDead(SC_Func__TypedTempMoveOut(Msg, JB_LUB[0], nil));
	}
	JB_Decr(Ch);
	JB_Decr(Pp);
}

void SC_Refs__RC_IgnoreReturn(Message* Msg) {
	if (SC_Refs__RefBasis(Msg, false) != kSC__Refs_kBasisObj) {
		return;
	}
	if (Msg->Func != kJB_SyxFunc) {
		return;
	}
	SCFunction* Fn = ((SCFunction*)((Message*)JB_Ring_Last(Msg))->Obj);
	if (!SC_Func_SyntaxIs(Fn, kSC__FunctionType_Constructor)) {
		JB__Tk_Using.Position = Msg->Position;
		Message* Free_if_dead = SC_Refs__RefMsg0(JB_LUB[1539], SC__Comp_RefFreeIfDead);
		SC_Msg_FuncWrap(Msg, Free_if_dead);
		JB__Tk_Using.Position = -1;
	}
}

bool SC_Refs__RC_NeedsOwnBlock(Message* Msg, Message* Pp) {
	bool HitArg = false;
	{
		Message* Ch = Msg;
		while (Ch) {
			if (JB_Msg_EqualsSyx(Ch, kJB_SyxArg)) {
				HitArg = true;
			}
			 else if (JB_Msg_EqualsSyx(Ch, kJB_SyxRel)) {
				Message* Opp = ((Message*)JB_Tree_Second(Ch));
				if (((JB_Msg_EqualsSyx(Opp, kJB_SyxOpp))) and ((JB_Msg_SyntaxEquals(Opp, JB_LUB[465], false)) or (JB_Msg_SyntaxEquals(Opp, JB_LUB[479], false)))) {
					return true;
				}
			}
			 else if (SC_Msg_OperatorIsTmp(Ch, JB_LUB[398])) {
				if (!HitArg) {
					return true;
				}
			}
			if (Ch == Pp) {
				break;
			}
			Ch = ((Message*)JB_Ring_Parent(Ch));
		};
		;
	}
	;
	return false;
}

void SC_Refs__RC_Rel(Message* Rel) {
	Message* First = SC_Msg_UnBra(((Message*)JB_Ring_First(Rel)));
	if (!SC_Refs__RelNeedsRef(First)) {
		return;
	}
	Message* Last = ((Message*)JB_Ring_Last(Rel));
	if ((First->Func == kJB_SyxThg) and (First->Obj == Last->Obj)) {
		return;
	}
	JB__Tk_Using.Position = Rel->Position;
	Message* Result = SC_Refs__RefMsg0(JB_LUB[1565], SC__Comp_RefSetRef);
	Message* Lst = ((Message*)JB_Ring_Last(Result));
	JB_Tree_SyntaxAppend(Lst, First);
	JB_Tree_SyntaxAppend(Lst, Last);
	JB_FreeIfDead(SC_Msg_ReplaceWith(Rel, Result));
}

void SC_Refs__RC_RelConstructor(Message* Rel) {
	Message* _tmPf0 = ((Message*)JB_Ring_First(Rel));
	JB_Incr(_tmPf0);
	if (SC_Refs__RelNeedsRef(_tmPf0)) {
		Message* _tmPf1 = ((Message*)JB_Ring_Last(Rel));
		JB_Incr(_tmPf1);
		if (!SC_Msg_OperatorIsThing(_tmPf1, JB_LUB[100])) {
			SC_Refs__RC_RelInit(Rel);
		}
		JB_Decr(_tmPf1);
	}
	JB_Decr(_tmPf0);
}

void SC_Refs__RC_RelInit(Message* Rel) {
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Rel, (&_usingf0));
		Message* Func = SC_Msg_WrapWith(Rel, kJB_SyxFunc, JB_LUB[0]);
		(JB_Ring_FirstSet(Func, JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[670])));
		JB_Tree_Remove(((Message*)JB_Tree_Second(Rel)));
		Rel->Func = kJB_SyxPrm;
		SC_Msg_BecomeWithFunc(Func, SC__Comp_RefIncr2);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Rel);
		JB_MsgPos_Destructor((&_usingf0));
	}
}

void SC_Refs__RealRefIncr(Message* Name, Message* Dcl) {
	SC_Func_RefFunc(SC__Comp_RefIncr, JB_Msg_Copy(Name, nil), Dcl);
}

int SC_Refs__RefBasis(Message* Msg, bool SetOnly) {
	return SC_Refs__RefBasisStruct(Msg, SetOnly) & (~kSC__Refs_kBasisTempStruct);
}

int SC_Refs__RefBasisStruct(Message* Msg, bool SetOnly) {
	SCDecl* Type = SC_Msg_AsDecl(Msg);
	if (!JB_Object_Isa(Type, &SCDeclData)) {
		Type = SC_TypeOfExpr(Msg, nil, nil);
		if (!Type) {
			return 0;
		}
	}
	if (SC_Decl_IsReffable(Type, SetOnly)) {
		if (SC_Decl_IsCArray(Type)) {
			return kSC__Refs_kBasisCArray | kSC__Refs_kBasisObj;
		}
		if (SC_Decl_SyntaxIs(Type, kSC__SCDeclInfo_Self) and SC_Func_SyntaxIs(SC_Func__CurrFunc(), kSC__FunctionType_Constructor)) {
			return 0;
		}
		return kSC__Refs_kBasisObj;
	}
	if (SC_Decl_HasStruct(Type) and (!SC_Decl_SyntaxIs(Type, kSC__SCDeclInfo_ReturnedStruct))) {
		SCFunction* Fn = Type->Type->DestructorFunc;
		if (Fn) {
			return kSC__Refs_kBasisDeSTRUCTable;
		}
		Message* P = SC_Msg_NiceParent(Msg);
		if (SC_Msg_OperatorIsBRel(P, JB_LUB[32])) {
			return kSC__Refs_kBasisTempStruct;
		}
	}
	return 0;
}

Message* SC_Refs__RefClearMsg(Message* Msg) {
	return SC_Refs__RefMsg(Msg, JB_LUB[824], SC__Comp_RefClear);
}

void SC_Refs__RefDecr(Message* Msg, Message* Place, int Basis, bool IsReturn) {
	Message* OldPrev = ((Message*)JB_Ring_PrevSib(Place));
	if ((OldPrev) and (((JB_Msg_EqualsSyx(OldPrev, kJB_SyxFunc))) and ((JB_Msg_SyntaxEquals(((Message*)JB_Ring_First(OldPrev)), JB_LUB[827], true))))) {
		Place = OldPrev;
	}
	//using;
	Message* __varf1 = SC_Msg_RefMsgToUse(Place);
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(__varf1, (&_usingf0));
	Message* What = nil;
	if (Basis & kSC__Refs_kBasisCArray) {
		What = SC_Refs__DecrMulti(SC_Msg_AsDecl(((Message*)JB_Ring_Parent(Msg))), JB_Msg_Copy(Msg, nil), IsReturn);
	}
	 else {
		What = SC_Refs__RefDecrMsg(Msg, IsReturn);
	}
	if (JB_Msg_EqualsSyx(Place, kJB_SyxArg)) {
		JB_Tree_SyntaxAppend(Place, What);
	}
	 else {
		(JB_Ring_PrevSibSet(Place, What));
	}
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), __varf1);
	JB_MsgPos_Destructor((&_usingf0));
}

Message* SC_Refs__RefDecrMsg(Message* Msg, bool IsReturn) {
	if (IsReturn) {
		return SC_Refs__RefMsg(Msg, JB_LUB[825], SC__Comp_RefEarlyDecr);
	}
	return SC_Refs__RefMsg(Msg, JB_LUB[826], SC__Comp_RefDecr);
}

Message* SC_Refs__RefDestructorMsg(Message* Msg, SCFunction* Fn) {
	return SC_Refs__RefMsg(Msg, Fn->ExportName, Fn);
}

void SC_Refs__RefIncr(Message* Msg, Message* Place, bool IsJustAnArg) {
	if (IsJustAnArg) {
		Place = ((Message*)JB_Ring_Parent(((Message*)JB_Ring_Parent(Msg))));
	}
	 else {
		if ((JB_Msg_EqualsSyx(Place, kJB_SyxDecl))) {
			Msg = ((Message*)JB_Ring_Last(Place));
			if ((JB_Msg_EqualsSyx(Msg, kJB_SyxRel))) {
				Msg = ((Message*)JB_Ring_Last(Msg));
				if (SC_Msg_IsStatementExpr(Msg)) {
					return SC_Msg_AvoidSafeDecr(Msg);
				}
			}
		}
		if ((SC_Msg_OperatorIsThing(SC_Msg_UnBra(Msg), JB_LUB[100]))) {
			return;
		}
		Place = Msg;
	}
	SC_Func_RefFunc(SC__Comp_RefIncr, Msg, Place);
}

Message* SC_Refs__RefMsg(Message* Msg, JB_String* Name, SCFunction* Func) {
	Message* Rz = nil;
	if (JB__Tk_Using.Position < 0) {
	}
	Rz = SC_Refs__RefMsg0(Name, Func);
	JB_Tree_SyntaxAppend(((Message*)JB_Ring_Last(Rz)), JB_Msg_CopyWithoutUsing(Msg, Rz));
	JB_SetRef(Rz->Obj, Func->ReturnType);
	if (!Rz->Obj) {
		JB_SetRef(Rz->Obj, SC_TypeVoid);
	}
	return Rz;
}

Message* SC_Refs__RefMsg0(JB_String* Name, SCFunction* Func) {
	Message* Rz = nil;
	Rz = SC_NewFnc(Name);
	SC_Msg_BecomeWithFunc(Rz, Func);
	return Rz;
}

void SC_Refs__RefSafeDecr(Message* Msg, Message* Place) {
	JB__Tk_Using.Position = Msg->Position;
	if ((JB_Msg_EqualsSyx(Place, kJB_SyxArg))) {
		Message* _tmPf0 = SC_Refs__SafeDecrMsg(Msg);
		JB_Incr(_tmPf0);
		JB_Tree_SyntaxAppend(Place, _tmPf0);
		JB_Decr(_tmPf0);
	}
	 else {
		Message* _tmPf1 = SC_Refs__SafeDecrMsg(Msg);
		JB_Incr(_tmPf1);
		(JB_Ring_PrevSibSet(Place, _tmPf1));
		JB_Decr(_tmPf1);
	}
}

bool SC_Refs__RelNeedsRef(Message* First) {
	if (SC_Refs__RefBasis(First, true) != kSC__Refs_kBasisObj) {
		return nil;
	}
	if ((JB_Msg_EqualsSyx(First, kJB_SyxDot))) {
		return true;
	}
	return true;
}

void SC_Refs__ReturnHandle(Message* Blocker, Message* Arg, Message* Name, int Basis) {
	if (Basis & kSC__Refs_kBasisDeSTRUCTable) {
		if ((!Blocker)) {
			return SC_Refs__Destructable(Blocker, Arg, Name);
		}
		Message* Ch = ((Message*)JB_Ring_First(Blocker));
		JB_Incr(Ch);
		if ((SC_Msg_IsReturnOrRejoin(Blocker) and SC_Msg_OperatorIsThing(Ch, Name->Name)) or (SC_Msg_OperatorIsThing(Blocker, Name->Name))) {
			JB_EarlyDecr(Ch);
			return;
		}
		if (((JB_Msg_SyntaxEquals(Blocker, JB_LUB[453], false))) and (SC_Msg_DoesAnything(Ch))) {
			Message* NeedsMoreTemping = SC_Func__TempMoveOut(Ch, Blocker);
			JB_Incr(NeedsMoreTemping);
			SC_Refs__Destructable(Blocker, Arg, Name);
			SC_Refs__ReturnTempMoveOutSub(Ch, Blocker, NeedsMoreTemping);
			JB_Decr(NeedsMoreTemping);
		}
		 else {
			SC_Refs__Destructable(Blocker, Arg, Name);
		}
		JB_EarlyDecr(Ch);
		return;
	}
	if (Basis & kSC__Refs_kBasisTempStruct) {
		return;
	}
	if ((!Blocker)) {
		SC_Refs__RefDecr(Name, Arg, Basis, false);
		return;
	}
	Message* Child = ((Message*)JB_Ring_First(Blocker));
	JB_Incr(Child);
	if (Child) {
		bool IsReturn = SC_Msg_IsReturnOrRejoin(Blocker);
		if (IsReturn) {
			Message* _tmPf0 = SC_Msg_UnBraType(Child);
			JB_Incr(_tmPf0);
			if (SC_Msg_OperatorIsThing(_tmPf0, Name->Name)) {
				SC_Refs__RefSafeDecr(Name, Blocker);
				JB_EarlyDecr(_tmPf0);
				JB_EarlyDecr(Child);
				return;
			}
			JB_Decr(_tmPf0);
			if (SC_Refs__ExprNeedsTemping(Child, Name)) {
				SC_Refs__ReturnTempMoveOut(Child, Blocker);
			}
		}
	}
	JB_Decr(Child);
	SC_Refs__RefDecr(Name, Blocker, Basis, SC_ASMType_IsBlocker(SC_Msg_ASMType(Blocker)));
}

void SC_Refs__ReturnTempMoveOut(Message* Child, Message* Blocker) {
	Message* Temp = SC_Func__TempMoveOut(Child, Blocker);
	JB_Incr(Temp);
	SC_Refs__ReturnTempMoveOutSub(Child, Blocker, Temp);
	JB_Decr(Temp);
}

void SC_Refs__ReturnTempMoveOutSub(Message* Child, Message* Blocker, Message* Temp) {
	if (SC_Refs__RefBasis(Child, false) == kSC__Refs_kBasisObj) {
		Message* _tmPf0 = ((Message*)JB_Ring_Parent(Child));
		JB_Incr(_tmPf0);
		Message* Dcl = ((Message*)JB_Ring_Parent(_tmPf0));
		JB_Incr(Dcl);
		JB_Decr(_tmPf0);
		Message* _tmPf1 = JB_Msg_Copy(Temp, nil);
		JB_Incr(_tmPf1);
		SC_Func_RefFunc(SC__Comp_RefIncr, _tmPf1, Dcl);
		JB_Decr(Dcl);
		JB_Decr(_tmPf1);
		SC_Refs__RefSafeDecr(Temp, Blocker);
	}
}

Message* SC_Refs__SafeDecrMsg(Message* Msg) {
	return SC_Refs__RefMsg(Msg, JB_LUB[827], SC__Comp_RefSafeDecr);
}


int SC_SCStrings__Init_() {
	{
	}
	;
	return 0;
}


void SC_SCTasks__CollectAll() {
	SCClass* T = SC_TypeTask;
	if (!T) {
		return;
	}
	{
		Array* _LoopSrcf2 = SC__Comp_TasksTodo;
		int _if0 = 0;
		while (true) {
			Message* Ch = ((Message*)JB_Array_Value(_LoopSrcf2, _if0));
			if (Ch == nil) {
				break;
			}
			SCNode* P = ((SCNode*)Ch->Obj);
			if (P == SC__Comp_Program) {
				P = T->Modul;
			}
			 else if (JB_Object_FastIsa(P, &SCClassData)) {
				P = ((SCClass*)((SCClass*)P)->Modul);
			}
			SC_SCTasks__NewTaskActual(Ch, P);
			(++_if0);
		};
	};
}

int SC_SCTasks__Init_() {
	{
		JB_SetRef(SC__SCTasks_tmp, JB_Msg_ConstructorEmpty(nil));
		JB_SetRef(SC__SCTasks_TaskMacro, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1540])), 1073741824)));
	}
	;
	return 0;
}

SCNode* SC_SCTasks__NewTask(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	JB_SetRef(Node->Obj, Name_space);
	JB_Array_SyntaxAppend(SC__Comp_TasksTodo, Node);
	return SC__Comp_Program;
}

void SC_SCTasks__NewTaskActual(Message* Node, SCNode* Name_space) {
	Message* Name = JB_Msg_NeedSyxOK(Node, kJB_SyxThg, kJB_SyxDot);
	if (!Name) {
		return;
	}
	Message* Fields = ((Message*)JB_Ring_NextSib(Name));
	if ((JB_Msg_EqualsSyx(Fields, kJB_SyxBra)) or (JB_Msg_EqualsSyx(Fields, kJB_SyxList))) {
		Fields->Func = kJB_SyxBra;
	}
	 else {
		Fields = JB_Syx_Msg(kJB_SyxBra, JB_LUB[0]);
		(JB_Ring_NextSibSet(Name, Fields));
	}
	Message* Arg = ((Message*)JB_Ring_NextSib(Fields));
	if (!JB_Msg_Expect(Arg, kJB_SyxArg, nil)) {
		Arg = JB_Msg_Msg(Node, kJB_SyxArg, JB_LUB[0]);
	}
	Message* With = ((Message*)JB_Ring_NextSib(Arg));
	if (With) {
		Message* NewRunArg = JB_Msg_NeedSyx(With, kJB_SyxArg);
		if (!(JB_Msg_Expect(With, kJB_SyxTmp, JB_LUB[1812]) and (JB_Msg_ExpectLast(With, nil) and JB_Msg_ExpectLast(NewRunArg, nil)))) {
			return;
		}
		JB_Tree_SyntaxAppend(Arg, With);
		JB_SetRef(With->Name, JB_LUB[2020]);
		SC_Msg_MoveAllAfter(NewRunArg, With);
		while (true) {
			Message* F = ((Message*)JB_Ring_First(Arg));
			if (!(F and (F != With))) {
				break;
			}
			JB_Tree_SyntaxAppend(NewRunArg, F);
		};
	}
	Message* Supper = ((Message*)JB_Ring_First(Fields));
	while (true) {
		Message* L = ((Message*)JB_Ring_Last(Fields));
		if ((!L)) {
			break;
		}
		(L->RangeLength = kSC__SCTasks_AlreadyDone);
		(JB_Ring_FirstSet(SC__SCTasks_tmp, L));
	};
	int Level = 2;
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Node, (&_usingf0));
	if ((JB_Msg_EqualsSyx(Supper, kJB_SyxThg)) or (JB_Msg_EqualsSyx(Supper, kJB_SyxDot))) {
		JB_Tree_SyntaxAppend(Fields, Supper);
		Level = 3;
	}
	 else {
		JB_Msg_AppendSyx(Fields, kJB_SyxSDot, JB_LUB[1280]);
	}
	SC_Msg_BuildTask(Arg, Fields, Level);
	JB_Tree_PrependAll(Arg, SC__SCTasks_tmp);
	JB_SetRef(Node->Name, JB_LUB[450]);
	if (JB_Msg_EqualsSyx(Name, kJB_SyxDot)) {
		SCModule* P = SC_Base_FindModuleMsg(Name_space, ((Message*)JB_Ring_First(Name)), 0);
		if (P) {
			Name_space = P;
		}
	}
	SC_Base_Use(Name_space);
	SCModule* Task = ((SCModule*)SC_Class__NeuRole(Node, Name_space, Node));
	if (Task) {
		JB_Array_SyntaxAppend(SC__Comp_TasksList, Task->Cls);
		Task->Cls->IsRole = Level;
		Task->Parent = Name_space;
		SC_Base_TryAdd(Name_space, Node, Task, Task->Name);
	}
	SC__Imp_Curr = nil;
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Node);
	JB_MsgPos_Destructor((&_usingf0));
}


SCNode* SC_SCThe__NewInsertion(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	Message* Name = ((Message*)JB_Tree_Get(Node, 0));
	if (JB_Msg_EqualsSyx(Name, kJB_SyxArg)) {
		Name = JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[1076]);
		(JB_Ring_FirstSet(Node, Name));
	}
	if (!JB_Msg_Expect(Name, kJB_SyxThg, nil)) {
		return nil;
	}
	if (!((JB_Msg_SyntaxEquals(Name, JB_LUB[1261], false)) or (JB_Msg_SyntaxEquals(Name, JB_LUB[1076], false)))) {
		JB_Msg_Fail(Name, nil);
		return nil;
	}
	Dictionary* D = ({
		Dictionary* _X = ((Dictionary*)JB_Dict_Value0(SC__Comp_AdjDicts, Name->Name));
		if (_X == nil) {
			_X = JB_Dict_Constructor(nil);
			(JB_Dict_ValueSet(SC__Comp_AdjDicts, Name->Name, _X));
		}
		 _X;
	});
	{
		Message* _LoopSrcf2 = JB_Msg_NextOf(Name, kJB_SyxArg, nil);
		Message* Line = ((Message*)JB_Ring_First(_LoopSrcf2));
		while (Line) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Line));
			JB_Msg_Expect(Line, kJB_SyxTmp, nil);
			Message* Value = JB_Msg_NeedFirst(Line);
			JB_Msg_ExpectLast(Value, nil);
			Message* Old = ((Message*)JB_Dict_Value0(D, Line->Name));
			if (Old) {
				if (true) {
					JB_Msg_Fail(Line, JB_LUB[1262]);
				}
			}
			 else {
				(JB_Dict_ValueSet(D, Line->Name, JB_Macro__Build(Value)));
			}
			Line = _Nf1;
		};
		;
	}
	;
	JB_Tree_Remove(Node);
	return SC__Comp_Program;
}


void SC_SC_API__DelayedClassAPI(Message* Node, JB_String* Proj) {
	if ((JB_Msg_SyntaxEquals(Node, JB_LUB[1134], false))) {
		SC_SC_API__NewAPI(Node, JB_LUB[0], SC__Comp_Program, Proj);
		return;
	}
	Message* Name = JB_Msg_NeedSyx(Node, kJB_SyxThg);
	JB_Incr(Name);
	if (!Name) {
		JB_EarlyDecr(Name);
		return;
	}
	Message* _tmPf1 = JB_Msg_NextOf(Name, kJB_SyxBra, nil);
	JB_Incr(_tmPf1);
	Message* Partname = JB_Msg_NeedSyx(_tmPf1, kJB_SyxThg);
	JB_Incr(Partname);
	JB_Decr(_tmPf1);
	if (!Partname) {
		JB_EarlyDecr(Partname);
		JB_EarlyDecr(Name);
		return;
	}
	Message* Arg = JB_Msg_Last(Node, kJB_SyxArg);
	JB_Incr(Arg);
	if (!Arg) {
		JB_EarlyDecr(Arg);
		JB_EarlyDecr(Partname);
		JB_EarlyDecr(Name);
		return;
	}
	SCClass* Cls = SC_Comp__SyntaxAccess(Name);
	JB_Incr(Cls);
	JB_Decr(Name);
	if (!Cls) {
		JB_EarlyDecr(Cls);
		JB_EarlyDecr(Arg);
		JB_EarlyDecr(Partname);
		return;
	}
	Message* _tmPf2 = ((Message*)JB_Ring_Parent(Partname));
	JB_Incr(_tmPf2);
	JB_Tree_Remove(_tmPf2);
	{
		Message* Ch = ((Message*)JB_Ring_First(Arg));
		JB_Incr(Ch);
		while (Ch) {
			if (!JB_Msg_Expect(Ch, kJB_SyxTmp, JB_LUB[1134])) {
				JB_EarlyDecr(Ch);
				JB_EarlyDecr(Cls);
				JB_EarlyDecr(Arg);
				JB_EarlyDecr(Partname);
				return;
			}
			SC_SC_API__NewAPI(Ch, Partname->Name, Cls, Proj);
			JB_SetRef(Ch, ((Message*)JB_Ring_NextSib(Ch)));
		};
		JB_Decr(Ch);
		;
		JB_Decr(_tmPf2);
	}
	;
	JB_Decr(Partname);
	JB_Decr(Arg);
	JB_Decr(Cls);
}

void SC_SC_API__NewAPI(Message* Api, JB_String* Part, SCNode* Parent, JB_String* Proj) {
	JB_Incr(Proj);
	JB_Incr(Part);
	JB_SetRef(Proj, JB_Str_OperatorPlus(Proj, JB_LUB[385]));
	Message* Name = JB_Msg_NeedSyx(Api, kJB_SyxThg);
	JB_Incr(Name);
	if (!Name) {
		JB_EarlyDecr(Part);
		JB_EarlyDecr(Proj);
		JB_EarlyDecr(Name);
		return;
	}
	Message* Arg = JB_Msg_Last(Api, kJB_SyxArg);
	JB_Incr(Arg);
	if (!Arg) {
		JB_EarlyDecr(Part);
		JB_EarlyDecr(Proj);
		JB_EarlyDecr(Arg);
		JB_EarlyDecr(Name);
		return;
	}
	Message* Cpp = JB_Msg_FindSyxName(Arg, kJB_SyxTmp, JB_LUB[1900], false);
	JB_Incr(Cpp);
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Arg, (&_usingf0));
		if ((!Cpp)) {
			JB_SetRef(Cpp, JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[1900]));
			(JB_Ring_FirstSet(Arg, Cpp));
		}
		if (JB_Str_Exists(Part)) {
			JB_SetRef(Part, JB_Str_OperatorPlus(Part, JB_LUB[385]));
		}
		JB_String* _tmPf2 = JB_Str_OperatorPlus(Part, Name->Name);
		JB_Incr(_tmPf2);
		JB_String* _tmPf1 = JB_Str_OperatorPlus(Proj, _tmPf2);
		JB_Incr(_tmPf1);
		JB_Decr(_tmPf2);
		JB_Msg_AppendSyx(Cpp, kJB_SyxThg, _tmPf1);
		JB_Decr(_tmPf1);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Arg);
		JB_MsgPos_Destructor((&_usingf0));
	}
	JB_Decr(Name);
	JB_Decr(Arg);
	JB_Decr(Cpp);
	JB_Decr(Proj);
	JB_Decr(Part);
	SCNode* Fn = SC_Func__NewFunc(Api, Parent, Api);
	JB_Incr(Fn);
	if (JB_Object_FastIsa(Fn, &SCFunctionData)) {
		(SC_SCObject_IsVisibleSet(((SCFunction*)Fn), true));
		JB_Array_SyntaxAppend(SC__Comp_API_Funcs, ((SCFunction*)Fn));
	}
	JB_Decr(Fn);
}

SCNode* SC_SC_API__NewExportAPI(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	if (Name_space != SC__Comp_Program) {
		JB_Msg_Fail(ErrPlace, nil);
		return nil;
	}
	SC_SC_API__NewExportAPISub(Node, Name_space);
	JB_Tree_Remove(Node);
	return SC__Comp_Program;
}

void SC_SC_API__NewExportAPISub(Message* Node, SCObject* Parent) {
	Message* Name = JB_Msg_NeedSyx(Node, kJB_SyxThg);
	if (!Name) {
		return;
	}
	Message* Arg = JB_Msg_NextOf(Name, kJB_SyxArg, nil);
	if (!Arg) {
		return;
	}
	Message* Lib_tmp = JB_Msg_FindSyxName(Arg, kJB_SyxTmp, JB_LUB[1166], true);
	if (!Lib_tmp) {
		return;
	}
	Message* Lib_name = JB_Msg_NeedSyx(Lib_tmp, kJB_SyxStr);
	if (!Lib_name) {
		return;
	}
	if (!(JB_Msg_SyntaxEquals(Lib_name, SC__Comp_ProjectName, true))) {
		return;
	}
	{
		Message* C = ((Message*)JB_Ring_First(Arg));
		while (C) {
			if ((JB_Msg_SyntaxEquals(C, JB_LUB[1134], false)) or (JB_Msg_SyntaxEquals(C, JB_LUB[1167], false))) {
				JB_SetRef(C->Obj, Parent);
				JB_Array_SyntaxAppend(SC__Comp_API_List, C);
			}
			 else if ((JB_Msg_SyntaxEquals(C, JB_LUB[1168], false)) or (JB_Msg_SyntaxEquals(C, JB_LUB[1166], false))) {
				if (!JB_Msg_NeedSyx(C, kJB_SyxStr)) {
					return;
				}
			}
			 else {
				if (true) {
					JB_Msg_Fail(C, nil);
				}
			}
			C = ((Message*)JB_Ring_NextSib(C));
		};
		;
	}
	;
	JB_SetRef(SC__Comp_API_Place, Node);
}


JB_Error* SC_Errors__AlreadyIgnored(Message* F, SCFunction* Fn) {
	JB_Error* E = ((JB_Error*)JB_Dict_Obj(SC__Errors_IgnoredBranches, F));
	if (E) {
		return E;
	}
	Message* RipRoot = SC_Func_SourceArg(Fn);
	{
		Message* Curr = F;
		while (Curr) {
			if ((JB_Msg_EqualsSyx(Curr, kJB_SyxArg))) {
				JB_Error* E2 = ((JB_Error*)JB_Dict_Obj(SC__Errors_IgnoredBranches, Curr));
				if (E2) {
					return E2;
				}
			}
			if (Curr == RipRoot) {
				return nil;
			}
			Curr = ((Message*)JB_Ring_Parent(Curr));
		};
		;
	}
	;
	return nil;
}

bool SC_Errors__CanKeep(JB_Error* Err) {
	if (JB_Err_SyntaxIs(Err, kJB__ErrorFlags_DontStrip)) {
		return true;
	}
	if ((!Err->Node) or JB_Err_IsWarning(Err)) {
		return true;
	}
	Message* A = Err->Node;
	if (A) {
		if (!JB_Object_Isa(A->Obj, &SCFunctionData)) {
			A = JB_Msg_Ancestor(A, kJB_SyxArg);
		}
	}
	if (A) {
		SCFunction* Fn = SC_Msg_MsgOwningFunc(A);
		if (Fn) {
			JB_Error* OldErr = SC_Errors__AlreadyIgnored(A, Fn);
			if (OldErr and (OldErr->Severity >= Err->Severity)) {
				return false;
			}
			(JB_Dict_ObjSet(SC__Errors_IgnoredBranches, A, Err));
		}
	}
	return true;
}

int SC_Errors__Init_() {
	{
		JB_SetRef(SC__Errors_IgnoredBranches, JB_Dict_Constructor(nil));
	}
	;
	return 0;
}


int SC_SC_Targets__Init_() {
	{
		JB_SetRef(SC__SC_Targets_Items, JB_Dict_Constructor(nil));
	}
	;
	return 0;
}

bool SC_SC_Targets__SyntaxAccess(JB_String* Name) {
	JB_String* _tmPf0 = ((JB_String*)JB_Dict_ValueLower(SC__SC_Targets_Items, Name));
	JB_Incr(_tmPf0);
	bool _tmPf1 = JB_Str_Yes(_tmPf0, nil);
	JB_EarlyDecr(_tmPf0);
	return _tmPf1;
}

void SC_SC_Targets__SyntaxAccessSet(JB_String* Name, bool Value) {
	JB_String* _tmPf0 = JB_bool_Render0(Value);
	JB_Incr(_tmPf0);
	(JB_Dict_ValueLowerSet(SC__SC_Targets_Items, Name, _tmPf0));
	JB_Decr(_tmPf0);
}


int SC_SourceMap__BreakableSorter(SourceLocation A, SourceLocation B) {
	return A - B;
}

bool SC_SourceMap__Check(SCFunction* Fn, int T) {
	FastString* P = SC__SourceMap_Positions;
	if (P) {
		int Dbg = P->Length - SC__SourceMap_LastLength;
		if (Dbg != T) {
			SC_SCObject_Fail(Fn, JB_LUB[1030]);
			return nil;
		}
	}
	return true;
}

int SC_SourceMap__Init_() {
	{
	}
	;
	return 0;
}

uint* SC_SourceMap__Reserve(int T) {
	FastString* P = SC__SourceMap_Positions;
	if (P) {
		if (!SC__SourceMap_BreakPoints) {
			JB_SetRef(SC__SourceMap_BreakPoints, JB_FS_Constructor(nil));
		}
		if (!SC__SourceMap_Breakable) {
			JB_SetRef(SC__SourceMap_Breakable, JB_FS_Constructor(nil));
		}
		SC__SourceMap_LastLength = P->Length;
		return ((uint*)JB_FS_WriteAlloc_(P, T));
	}
	return nil;
}

void SC_SourceMap__SortBreaks(FastString* B) {
	byte* Start = B->ResultPtr;
	JB_Object** Last = ((JB_Object**)(Start + B->Length)) - 1;
	JB_DoAt(1);
	SpdSort(((void*)((&SC_SourceMap__BreakableSorter))), ((JB_Object**)Start), Last);
}


void SC_Crkt__CollectString(Message* M) {
	MessageID** P = ((MessageID**)JB_Dict_MakePlace(SC__Crkt_Table2, M->Name));
	MessageID* I = ((MessageID*)(P[0]));
	if (I == nil) {
		I = SC_Crkt__NewID(M->Name);
		JB_SetRef(P[0], I);
	}
	JB_SetRef(M->Name, I);
}

void SC_Crkt__CorrectConsts() {
	{
		Array* _LoopSrcf2 = SC__Comp_DeclConstants;
		int _if0 = 0;
		while (true) {
			SCDecl* D = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (D == nil) {
				break;
			}
			Message* Def = D->Default;
			if (JB_Msg_IsString(Def)) {
				SC_Crkt__CollectString(Def);
			}
			(++_if0);
		};
	};
}

void SC_Crkt__CorrectFile(JB_File* Where) {
	if (SC__Options_PrintCompileString) {
		JB_PrintLine(Where);
	}
	bool HasAnything = false;
	Message* M = JB_File_Parse(Where, 4194304, true, kJB_SyxNil);
	JB_Incr(M);
	if (M) {
		HasAnything = JB_Ring_HasChildren(M);
		Dictionary* _tmPf0 = JB_Msg_Dict(M, false, true);
		JB_Incr(_tmPf0);
		SC_Crkt__MergeTable(M, _tmPf0);
		JB_Decr(_tmPf0);
	}
	SC_Crkt__IDSort(HasAnything);
	FastString* Fs = JB_Str_OutputStream(Where, true);
	JB_Incr(Fs);
	if (Fs) {
		SC_Crkt__WriteTable(Fs);
	}
	JB_Decr(Fs);
	JB_Decr(M);
}

void SC_Crkt__CorrectStrings() {
	JB_File* F = ((JB_File*)JB_Ternary(JB_Str_Exists(SC__Options_SingleFileInput), SC_Comp__GeneratedCppsFolder(), SC__Comp_BaseProjectPath));
	JB_Incr(F);
	JB_File* Strs = JB_File_SyntaxAccess(F, JB_LUB[2019]);
	JB_Incr(Strs);
	JB_Decr(F);
	SC_Crkt__CorrectFile(Strs);
	JB_Decr(Strs);
}

int SC_Crkt__Count() {
	return JB_Array_Size(SC__Crkt_CppStrings);
}

void SC_Crkt__IDSort(bool IDOrder) {
	if (IDOrder) {
		JB_Array_Sort(SC__Crkt_CppStrings, ((FP_SorterComparer)((&JB_ID__ByID))));
	}
	 else {
		JB_Array_Sort(SC__Crkt_CppStrings, ((FP_SorterComparer)((&JB_Str__Sorter))));
		{
			Array* _LoopSrcf2 = SC__Crkt_CppStrings;
			int _if0 = 0;
			while (true) {
				MessageID* S = ((MessageID*)JB_Array_Value(_LoopSrcf2, _if0));
				if (S == nil) {
					break;
				}
				int I = _if0;
				S->ID = I;
				(++_if0);
			};
		};
	}
}

int SC_Crkt__Init_() {
	{
		JB_SetRef(SC__Crkt_Table2, JB_Dict_Constructor(nil));
		JB_SetRef(SC__Crkt_CppStrings, JB_Array_Constructor0(nil));
	}
	;
	return 0;
}

void SC_Crkt__MergeTable(Message* Disk, Dictionary* D3) {
	//visible;
	int NextID = 0;
	Message* Dl = ((Message*)JB_Ring_Last(Disk));
	if (Dl) {
		NextID = (Dl->Position + 1);
	}
	if (JB_Ring_HasChildren(Disk)) {
		{
			Array* _LoopSrcf2 = SC__Crkt_CppStrings;
			int _if0 = 0;
			while (true) {
				MessageID* S = ((MessageID*)JB_Array_Value(_LoopSrcf2, _if0));
				if (S == nil) {
					break;
				}
				SC_Crkt__UseID(S, ((Message*)JB_Dict_Value0(D3, S)));
				(++_if0);
			};
		};
	}
	{
		Array* _LoopSrcf5 = SC__Crkt_CppStrings;
		int _if3 = 0;
		while (true) {
			MessageID* S = ((MessageID*)JB_Array_Value(_LoopSrcf5, _if3));
			if (S == nil) {
				break;
			}
			if ((S->Func != kJB_SyxNum) and (!SC_Crkt__UseID(S, ((Message*)JB_Ring_First(Disk))))) {
				S->ID = NextID++;
			}
			(++_if3);
		};
	};
}

MessageID* SC_Crkt__NewID(JB_String* Name) {
	MessageID* Rz = ((MessageID*)nil);
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_ID_Constructor(nil, Name, kJB_SyxStr, SC_Crkt__Count()));
	JB_Array_SyntaxAppend(SC__Crkt_CppStrings, Rz);
	SC__Crkt_TotalSize = (SC__Crkt_TotalSize + (JB_Str_Length(Name) + 1));
	JB_SafeDecr(Rz);
	return Rz;
}

bool SC_Crkt__UseID(MessageID* S, Message* Old) {
	if (!Old) {
		return nil;
	}
	int OldID = Old->Position;
	if (OldID >= SC_Crkt__Count()) {
		return nil;
	}
	if ((!JB_Msg_Length(Old)) != (!OldID)) {
		JB_Msg_Fail(Old, JB_LUB[946]);
		return nil;
	}
	S->ID = OldID;
	S->Func = kJB_SyxNum;
	JB_Tree_Remove(Old);
	return true;
}

void SC_Crkt__WriteTable(FastString* Fs) {
	{
		Array* _LoopSrcf2 = SC__Crkt_CppStrings;
		int _if0 = 0;
		while (true) {
			MessageID* S = ((MessageID*)JB_Array_Value(_LoopSrcf2, _if0));
			if (S == nil) {
				break;
			}
			JB_FS_AppendQuotedEscape(Fs, S, '"');
			JB_FS_AppendByte2(Fs, '\n');
			(++_if0);
		};
	};
}


void SC_StructStuff__DelayedFix() {
	{
		Array* _LoopSrcf2 = SC__StructStuff_FixMe;
		int _if0 = 0;
		while (true) {
			Message* S = ((Message*)JB_Array_Value(_LoopSrcf2, _if0));
			if (S == nil) {
				break;
			}
			Message* Orig = ((Message*)JB_Object_As(S->Obj, &MessageData));
			if (Orig) {
				JB_SetRef(S->Obj, Orig->Obj);
			}
			(++_if0);
		};
	}
	;
	JB_Array_Clear(SC__StructStuff_FixMe);
}

int SC_StructStuff__Init_() {
	{
		JB_SetRef(SC__StructStuff_FixMe, JB_Array_Constructor0(nil));
	}
	;
	return 0;
}


int SC_TextAssembler__Init_() {
	{
	}
	;
	return 0;
}


bool SC_Ext__AllowedThisFile(JB_String* Name) {
	if (!SC__Options_ProjectIsMiniLib) {
		return true;
	}
	if ((JB_Str_Equals(Name, JB_LUB[80], true)) or ((JB_Str_Equals(Name, JB_LUB[81], true)) or ((JB_Str_Equals(Name, JB_LUB[82], true)) or ((JB_Str_Equals(Name, JB_LUB[83], true)) or ((JB_Str_Equals(Name, JB_LUB[84], true)) or (JB_Str_Equals(Name, JB_LUB[85], true))))))) {
		return false;
	}
	return true;
}

bool SC_Ext__BackupCompiler() {
	JB_File* Product = SC_Comp__ProductFile();
	JB_Incr(Product);
	JB_String* _tmPf0 = SC_Ext__BackupPath();
	JB_Incr(_tmPf0);
	JB_File* B = JB_Str_AsFile(_tmPf0);
	JB_Incr(B);
	JB_Decr(_tmPf0);
	JB_Str_MakeEntirePath(B, true);
	JB_File* Backup1 = JB_File_SyntaxAccess(B, JB_LUB[1886]);
	JB_Incr(Backup1);
	if (JB_File_FileCompare(Backup1, Product, JB_LUB[0])) {
		JB_EarlyDecr(Backup1);
		JB_EarlyDecr(B);
		JB_EarlyDecr(Product);
		return true;
	}
	SC_Ext__ReplaceOld(Product, B);
	JB_File_Copy(Product, Backup1, false);
	JB_Decr(Backup1);
	JB_String* DailyProduct = SC_Ext__MakeDailyProductPath(B);
	JB_Incr(DailyProduct);
	JB_Decr(B);
	JB_String* Path = JB_Str_TrimExtAndPath(DailyProduct, true);
	JB_Incr(Path);
	JB_File* _tmPf1 = JB_Str_AsFile(DailyProduct);
	JB_Incr(_tmPf1);
	JB_Decr(DailyProduct);
	JB_File_Copy(Product, _tmPf1, false);
	JB_Decr(Product);
	JB_Decr(_tmPf1);
	JB_File* _tmPf2 = SC_Cpp__CppProduct();
	JB_Incr(_tmPf2);
	JB_String* _tmPf3 = JB_Str_OperatorPlus(Path, JB_LUB[1876]);
	JB_Incr(_tmPf3);
	JB_File_CopyAll(_tmPf2, _tmPf3, false);
	JB_Decr(_tmPf2);
	JB_Decr(_tmPf3);
	JB_File* _tmPf4 = SC_Cpp__HProduct();
	JB_Incr(_tmPf4);
	JB_String* _tmPf5 = JB_Str_OperatorPlus(Path, JB_LUB[1392]);
	JB_Incr(_tmPf5);
	JB_Decr(Path);
	JB_File_CopyAll(_tmPf4, _tmPf5, false);
	JB_Decr(_tmPf4);
	JB_EarlyDecr(_tmPf5);
	return JB_Rec_OK(JB_StdErr);
}

JB_String* SC_Ext__BackupPath() {
	JB_String* _tmPf0 = SC_Comp__Projects();
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = JB_Str_Child(_tmPf0, JB_LUB[690]);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

bool SC_Ext__CanCompile(JB_String* Name) {
	return ({
		JB_String* _tmPf1 = JB_Str_Ext(Name);
		JB_Incr(_tmPf1);
		bool _tmPf0 = SC_Str_isCLike(_tmPf1);
		JB_EarlyDecr(_tmPf1);
		 _tmPf0;
	}) and SC_Ext__AllowedThisFile(Name);
}

bool SC_Ext__Clean() {
	JB_String* _tmPf3 = JB_File__SpeedieDir();
	JB_Incr(_tmPf3);
	JB_String* Paths = JB_Str_ReplaceAll(JB_LUB[1212], JB_LUB[1213], _tmPf3, false, nil);
	JB_Incr(Paths);
	{
		int _Prevf0 = 0;
		while (((JB_String*)JB_Str_Exists((Paths)))) {
			Ind _Curr_f1 = JB_Str_FindCharset(Paths, kJB__CharSet_Line, _Prevf0, kJB__int_Max);
			JB_String* L = JB_Str_Range(Paths, _Prevf0, _Curr_f1, false);
			JB_Incr(L);
			if (JB_Str_Exists(L) and JB_ErrorInt_SyntaxCast(({
				JB_File* _tmPf5 = JB_Str_AsFile(L);
				JB_Incr(_tmPf5);
				ErrorInt _tmPf4 = JB_File_DeleteAll(_tmPf5, false);
				JB_EarlyDecr(_tmPf5);
				 _tmPf4;
			}))) {
				if (!SC__Options_Silent) {
					JB_PrintLine(L);
				}
			}
			JB_Decr(L);
			_Prevf0 = (_Curr_f1 + 1);
			if (!JB_Ind_SyntaxCast(_Curr_f1)) {
				break;
			}
		};
		JB_Decr(_tmPf3);
	}
	;
	JB_EarlyDecr(Paths);
	return JB_Rec_OK(JB_StdErr);
}

void SC_Ext__ClearThis() {
	if (JB_Rec_OK(JB_StdErr)) {
		{
			Array* _LoopSrcf2 = SC__Ext_Cleanup;
			JB_Incr(_LoopSrcf2);
			int _if0 = 0;
			while (true) {
				JB_File* F = ((JB_File*)JB_Array_Value(_LoopSrcf2, _if0));
				JB_Incr(F);
				if (F == nil) {
					JB_EarlyDecr(F);
					break;
				}
				JB_File_DeleteAll(F, false);
				JB_Decr(F);
				(++_if0);
			};
			JB_Decr(_LoopSrcf2);
		};
	}
	JB_Array_Clear(SC__Ext_Cleanup);
	JB_Array_Clear(SC__Ext_FoundObjects);
}

bool SC_Ext__CollectAndCompile(JB_File* Input, JB_String* Output) {
	JB_File* TmpFol = SC_Str_MakeAndGoInto(Output);
	JB_Incr(TmpFol);
	Array* Cpps = SC_Ext__CollectCppsInto(Input, TmpFol);
	JB_Incr(Cpps);
	JB_Decr(TmpFol);
	bool _tmPf0 = SC_Ext__TransCompileWrap(Cpps);
	JB_EarlyDecr(Cpps);
	return _tmPf0;
}

Array* SC_Ext__CollectCppsInto(JB_File* Fol, JB_File* Objects) {
	Array* Cpps = JB_Array_Constructor0(nil);
	JB_Incr(Cpps);
	{
		Array* _LoopSrcf2 = JB_File_List(Fol, kJB__File_AllowSymLinks);
		JB_Incr(_LoopSrcf2);
		int _if0 = 0;
		while (true) {
			JB_String* Name = ((JB_String*)JB_Array_Value(_LoopSrcf2, _if0));
			JB_Incr(Name);
			if (Name == nil) {
				JB_EarlyDecr(Name);
				break;
			}
			if (SC_Ext__CanCompile(Name)) {
				JB_String* _tmPf4 = JB_File_Path(Fol);
				JB_Incr(_tmPf4);
				JB_String* _tmPf3 = JB_Str_Child(_tmPf4, Name);
				JB_Incr(_tmPf3);
				JB_Decr(_tmPf4);
				JB_Array_SyntaxAppend(Cpps, _tmPf3);
				JB_Decr(_tmPf3);
			}
			JB_Decr(Name);
			(++_if0);
		};
		JB_Decr(_LoopSrcf2);
	}
	;
	Array* _tmPf5 = SC_Ext__FilterCppsIfAlreadyDone(Cpps, Objects);
	JB_Incr(_tmPf5);
	JB_EarlyDecr(Cpps);
	JB_SafeDecr(_tmPf5);
	return _tmPf5;
}

JB_File* SC_Ext__CppLib() {
	JB_String* _tmPf0 = SC_Comp__Projects();
	JB_Incr(_tmPf0);
	JB_File* _tmPf1 = JB_Str_ChildFile(_tmPf0, JB_LUB[691]);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

Array* SC_Ext__CreateCompileString(Array* FileList, JB_String* Product, JB_String* Type) {
	Array* Rz = ((Array*)JB_Array_Constructor0(nil));
	JB_Incr(Rz);
	if (!SC_Ext__HasType(FileList, Type)) {
		JB_EarlyDecr(Rz);
		return nil;
	}
	SC_Array_AppendWords(Rz, Product);
	{
		int _if3 = 0;
		while (true) {
			JB_File* F = ((JB_File*)JB_Array_Value(FileList, _if3));
			JB_Incr(F);
			if (F == nil) {
				JB_EarlyDecr(F);
				break;
			}
			if (JB_Str_OperatorIsa(F, Type)) {
				JB_Array_SyntaxAppend(Rz, F);
				JB_File_RelaxPath(F, true);
			}
			JB_Decr(F);
			(++_if3);
		};
	}
	;
	JB_String* Cmode = JB_LUB[1292];
	JB_Incr(Cmode);
	if ((JB_Str_Equals(Type, JB_LUB[129], false)) or ((JB_Str_Equals(Type, JB_LUB[1293], false)) or (JB_Str_Equals(Type, JB_LUB[130], false)))) {
		if (JB_Str_Equals(Type, JB_LUB[130], false)) {
			JB_SetRef(Cmode, JB_Str_OperatorPlus(Cmode, JB_LUB[1294]));
		}
		 else {
			JB_SetRef(Cmode, JB_LUB[0]);
		}
		if (JB_Platform__OSX()) {
			JB_SetRef(Cmode, JB_Str_OperatorPlus(Cmode, JB_LUB[1295]));
		}
	}
	SC_Array_AppendWords(Rz, Cmode);
	JB_Decr(Cmode);
	JB_String* Spdroot = JB_File__SpeedieDir();
	JB_Incr(Spdroot);
	JB_String* _tmPf5 = JB_Str_Append4(JB_LUB[1296], Spdroot, JB_LUB[857], nil);
	JB_Incr(_tmPf5);
	SC_Array_AppendWords(Rz, _tmPf5);
	JB_Decr(_tmPf5);
	SC_Array_AppendWords(Rz, JB_LUB[1297]);
	SC_Array_AppendWords(Rz, JB_LUB[1298]);
	if (JB_Platform__OSX()) {
		if (SC_SC_Targets__SyntaxAccess(JB_LUB[1299]) or SC_Linkage__Interpreter()) {
			SC_Array_AppendWords(Rz, JB_LUB[1300]);
			SC_Array_AppendWords(Rz, JB_LUB[1301]);
			SC_Array_AppendWords(Rz, JB_LUB[1302]);
		}
		JB_String* _tmPf6 = JB_Str_Append4(JB_LUB[1303], Spdroot, JB_LUB[1304], nil);
		JB_Incr(_tmPf6);
		SC_Array_AppendWords(Rz, _tmPf6);
		JB_Decr(_tmPf6);
	}
	JB_Decr(Spdroot);
	SC_Array_AppendWords(Rz, JB_LUB[1305]);
	SC_Array_AppendWords(Rz, JB_LUB[1306]);
	SC_Array_AppendWords(Rz, JB_LUB[1307]);
	JB_String* _tmPf8 = JB_Platform();
	JB_Incr(_tmPf8);
	JB_String* _tmPf7 = SC_Linkage__CombineFlags(_tmPf8);
	JB_Incr(_tmPf7);
	JB_Decr(_tmPf8);
	SC_Array_AppendWords(Rz, _tmPf7);
	JB_Decr(_tmPf7);
	if (JB_Platform__Lin()) {
		SC_Array_AppendWords(Rz, JB_LUB[1308]);
	}
	SC_Array_AppendWords(Rz, JB_LUB[1309]);
	if (JB_Str_Equals(SC__Options_Arch, JB_LUB[153], true)) {
		SC_Array_AppendWords(Rz, JB_LUB[1310]);
		if (SC__Options_Optimise >= 3) {
			SC_Array_AppendWords(Rz, JB_LUB[1311]);
		}
	}
	 else if (JB_Platform__CPU_ARM()) {
		SC_Array_AppendWords(Rz, JB_LUB[1312]);
	}
	if (JB_Platform__OSX()) {
		SC_Array_AppendWords(Rz, JB_LUB[1313]);
	}
	 else {
		SC_Array_AppendWords(Rz, JB_LUB[1314]);
	}
	SC_Array_AppendWords(Rz, JB_LUB[1315]);
	int Opt = SC__Options_Optimise;
	bool Aslib = SC__Options_ProjectIsLibrary;
	if (Aslib) {
		SC_Array_AppendWords(Rz, JB_LUB[1316]);
		Opt = 3;
	}
	if (SC__Options_SelfReplacement or Aslib) {
		SC_Array_AppendWords(Rz, JB_LUB[1317]);
	}
	if (Opt < 0) {
		SC_Array_AppendWords(Rz, JB_LUB[1318]);
	}
	 else {
		if (SC__Options_SelfReplacement or (Opt >= 1)) {
			SC_Array_AppendWords(Rz, JB_LUB[1319]);
		}
		if (Opt >= 1) {
			if (JB_Str_Equals(SC__Options_Arch, JB_LUB[153], true)) {
				SC_Array_AppendWords(Rz, JB_LUB[1320]);
			}
			if (Opt >= 2) {
				SC_Array_AppendWords(Rz, JB_LUB[1321]);
			}
		}
	}
	if (SC__Options_ProjectIsMiniLib) {
		SC_Array_AppendWords(Rz, JB_LUB[1322]);
	}
	JB_File* Cppl = SC_Ext__CppLib();
	JB_Incr(Cppl);
	JB_File* Cbf = SC_Comp__BuildFolder();
	JB_Incr(Cbf);
	JB_File* Cgcf = SC_Comp__GeneratedCppsFolder();
	JB_Incr(Cgcf);
	FastString* _fsf2 = JB_FS_Constructor(nil);
	JB_FS_AppendString(_fsf2, JB_LUB[1323]);
	JB_FS_AppendString(_fsf2, Cppl);
	JB_Decr(Cppl);
	JB_FS_AppendString(_fsf2, JB_LUB[1324]);
	JB_FS_AppendString(_fsf2, Cbf);
	JB_Decr(Cbf);
	JB_FS_AppendString(_fsf2, JB_LUB[1325]);
	JB_FS_AppendString(_fsf2, Cgcf);
	JB_Decr(Cgcf);
	JB_FS_AppendString(_fsf2, JB_LUB[1326]);
	JB_String* _tmPf9 = JB_FS_GetResult(_fsf2);
	JB_Incr(_tmPf9);
	SC_Array_AppendWords(Rz, _tmPf9);
	JB_Decr(_tmPf9);
	if (SC_Linkage__VM()) {
		SC_Array_AppendWords(Rz, JB_LUB[1327]);
	}
	JB_SafeDecr(Rz);
	return Rz;
}

bool SC_Ext__ExecuteGCC(Array* Commands) {
	bool Rz = false;
	FastString* Fserrs = JB_FS_Constructor(nil);
	JB_Incr(Fserrs);
	//;
	JB_FS_AppendString(Fserrs, JB_LUB[1112]);
	JB_FS_AppendString(Fserrs, SC__Ext_CppCompilerPath);
	JB_FS_AppendString(Fserrs, JB_LUB[1113]);
	//;
	ExitCode Result = JB_Str_Execute(SC__Ext_CppCompilerPath, Commands, nil, Fserrs, kJB__PIDM_StdOutPassThru, 0);
	Rz = JB_ExitCode_Successful(Result);
	if (!Rz) {
		JB_FS_AppendJoin(Fserrs, Commands, JB_LUB[60]);
		JB_FS_AppendString(Fserrs, JB_LUB[49]);
		if (true) {
			JB_FS_Fail(Fserrs);
		}
	}
	JB_EarlyDecr(Fserrs);
	return Rz;
}

void SC_Ext__ExportAndInstall(Date Elapsed) {
	bool ActualCompile = SC_Ext__ShouldTransComp();
	if (ActualCompile) {
		if (SC_Options__ModeCpp()) {
			({
				JB_Flow__DisabledIncr(1);
				(SC_Ext__RunCppCompile());
				JB_Flow__DisabledIncr(-1);
				 0;
			});
			bool CanInstall = SC_Comp__TimeTest(Elapsed);
			if (CanInstall and SC_Ext__IsCompilerAndNeedsInstall()) {
				SC_Ext__InstallCompiler();
			}
		}
		({
			JB_Flow__DisabledIncr(1);
			(SC_Ext__ClearThis());
			JB_Flow__DisabledIncr(-1);
			 0;
		});
		if (JB_Rec_OK(JB_StdErr)) {
			SC_Comp__Bundle();
		}
	}
	if (JB_Rec_OK(JB_StdErr) and (!SC__Options_Scripting)) {
		JB_FreeIfDead(SC_Ext__PrintProduct(JB_LUB[2120], ActualCompile or SC__Options_Compile));
		SC__Comp_Successfulness = (SC__Comp_Successfulness | 4);
	}
}

Array* SC_Ext__FilterCppsIfAlreadyDone(Array* List, JB_File* Objects) {
	Array* Rz = ((Array*)JB_Array_Constructor0(nil));
	JB_Incr(Rz);
	{
		int _if0 = 0;
		while (true) {
			JB_String* Cpp = ((JB_String*)JB_Array_Value(List, _if0));
			JB_Incr(Cpp);
			if (Cpp == nil) {
				JB_EarlyDecr(Cpp);
				break;
			}
			int Reason = SC_Ext__NeedNewObjForSrc(Cpp, Objects);
			if (Reason) {
				JB_File* _tmPf2 = JB_Str_AsFile(Cpp);
				JB_Incr(_tmPf2);
				JB_Array_SyntaxAppend(Rz, _tmPf2);
				JB_Decr(_tmPf2);
			}
			JB_Decr(Cpp);
			(++_if0);
		};
	}
	;
	if (JB_Array_SyntaxCast(Rz) and SC__Options_PrintCompileString) {
		JB_Print(JB_LUB[636]);
		JB_String* _tmPf3 = JB_Array_Render(Rz, nil);
		JB_Incr(_tmPf3);
		JB_Str_PrintLine(_tmPf3);
		JB_Decr(_tmPf3);
	}
	JB_SafeDecr(Rz);
	return Rz;
}

bool SC_Ext__HasType(Array* CppList, JB_String* Type) {
	{
		int _if0 = 0;
		while (true) {
			JB_File* F = ((JB_File*)JB_Array_Value(CppList, _if0));
			if (F == nil) {
				break;
			}
			if (JB_Str_OperatorIsa(F, Type)) {
				return true;
			}
			(++_if0);
		};
	}
	;
	return false;
}

int SC_Ext__Init_() {
	{
		JB_SetRef(SC__Ext_FoundObjects, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Ext_Cleanup, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Ext_CppCompilerPath, JB_LUB[86]);
		SC__Ext_LatestLibDate = kJB__Date_Highest;
	}
	;
	return 0;
}

void SC_Ext__InstallCompiler() {
	FastString* _fsf0 = JB_FS_Constructor(nil);
	JB_FS_AppendString(_fsf0, JB_LUB[1386]);
	JB_FS_AppendInt32(_fsf0, (2026021818));
	JB_String* _tmPf1 = JB_FS_GetResult(_fsf0);
	JB_Incr(_tmPf1);
	JB_PrintLine(_tmPf1);
	JB_Decr(_tmPf1);
	JB_String* OldProd = SC_Comp__ProductPath();
	JB_Incr(OldProd);
	JB_String* _tmPf2 = SC_Comp__Projects();
	JB_Incr(_tmPf2);
	JB_SetRef(SC__Options_output_path, JB_Str_Child(_tmPf2, JB_LUB[1387]));
	JB_Decr(_tmPf2);
	JB_File* _tmPf3 = JB_Str_AsFile(OldProd);
	JB_Incr(_tmPf3);
	JB_Decr(OldProd);
	JB_File_MoveTo(_tmPf3, SC__Options_output_path);
	JB_Decr(_tmPf3);
	JB_Flow__DisabledIncr(1);
	JB_File* _tmPf4 = SC_Cpp__CppProduct();
	JB_Incr(_tmPf4);
	SC_Ext__InstallOne(_tmPf4);
	JB_Decr(_tmPf4);
	JB_File* _tmPf5 = SC_Cpp__HProduct();
	JB_Incr(_tmPf5);
	SC_Ext__InstallOne(_tmPf5);
	JB_Decr(_tmPf5);
	JB_File* _tmPf7 = SC_Cpp__HProduct();
	JB_Incr(_tmPf7);
	JB_File* _tmPf6 = JB_File_Sibling(_tmPf7, JB_LUB[1388]);
	JB_Incr(_tmPf6);
	JB_Decr(_tmPf7);
	SC_Ext__InstallOne(_tmPf6);
	JB_Decr(_tmPf6);
	JB_Flow__DisabledIncr(-1);
}

void SC_Ext__InstallOne(JB_File* Test) {
	JB_File* _tmPf0 = JB_File_Parent(Test);
	JB_Incr(_tmPf0);
	JB_Str_MakeDir(_tmPf0);
	JB_Decr(_tmPf0);
	JB_String* _tmPf2 = JB_File_Path(Test);
	JB_Incr(_tmPf2);
	JB_String* _tmPf1 = JB_Str_ReplacePathComponent(_tmPf2, -2, JB_LUB[1214]);
	JB_Incr(_tmPf1);
	JB_Decr(_tmPf2);
	JB_File* F0 = JB_Str_AsFile(_tmPf1);
	JB_Incr(F0);
	JB_Decr(_tmPf1);
	if (!JB_File_FileCompare(Test, F0, JB_LUB[0])) {
		JB_File_Copy(Test, F0, false);
	}
	JB_Decr(F0);
}

bool SC_Ext__IsCompilerAndNeedsInstall() {
	bool Rz = false;
	if (!SC__Options_SelfReplacement) {
		return nil;
	}
	if (!(JB_Rec_OK(JB_StdErr) and (!SC_Comp__IsTest()))) {
		return nil;
	}
	JB_Flow__DisabledIncr(1);
	Rz = (SC_Ext__TestNewCompiler() and SC_Ext__BackupCompiler());
	JB_Flow__DisabledIncr(-1);
	return Rz;
}

JB_String* SC_Ext__LibSuff() {
	if (SC__Options_ProjectIsMiniLib) {
		return JB_LUB[12];
	}
	return JB_LUB[0];
}

JB_String* SC_Ext__LibTmpPath() {
	JB_String* _tmPf0 = SC_Ext__TmpBase(JB_LUB[408], true);
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = SC_Ext__LibSuff();
	JB_Incr(_tmPf1);
	JB_String* _tmPf2 = JB_Str_OperatorPlus(_tmPf0, _tmPf1);
	JB_Incr(_tmPf2);
	JB_Decr(_tmPf0);
	JB_EarlyDecr(_tmPf1);
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

JB_File* SC_Ext__LinkOK(JB_File* P) {
	if (!JB_File_FileExistance(P)) {
		return nil;
	}
	JB_String* Lto = JB_File_LinkToGet(P);
	JB_Incr(Lto);
	if (!JB_Str_Exists(Lto)) {
		JB_EarlyDecr(Lto);
		return P;
	}
	JB_String* _tmPf0 = JB_Str_ResolvePath(Lto, kJB__File_AllowMissing);
	JB_Incr(_tmPf0);
	JB_Decr(Lto);
	JB_File* Tof = JB_Str_AsFile(_tmPf0);
	JB_Incr(Tof);
	JB_Decr(_tmPf0);
	if (JB_File_FileExistance(Tof) and (!({
		JB_String* _tmPf2 = JB_File_LinkToGet(Tof);
		JB_Incr(_tmPf2);
		bool _tmPf1 = JB_Str_Exists(_tmPf2);
		JB_EarlyDecr(_tmPf2);
		 _tmPf1;
	}))) {
		JB_SafeDecr(Tof);
		return Tof;
	}
	JB_File_Delete(Tof);
	JB_EarlyDecr(Tof);
	return nil;
}

JB_String* SC_Ext__MakeDailyProductPath(JB_File* B) {
	int D = JB_Date_DayOfWeekApprox(JB_Date__Now());
	JB_String* _tmPf0 = JB_File_Path(B);
	JB_Incr(_tmPf0);
	JB_String* _tmPf2 = JB_int_RenderFS(D, nil);
	JB_Incr(_tmPf2);
	JB_String* _tmPf1 = JB_Str_OperatorPlus(_tmPf2, JB_LUB[579]);
	JB_Incr(_tmPf1);
	JB_Decr(_tmPf2);
	JB_String* _tmPf3 = JB_Str_Child(_tmPf0, _tmPf1);
	JB_Incr(_tmPf3);
	JB_Decr(_tmPf0);
	JB_EarlyDecr(_tmPf1);
	JB_SafeDecr(_tmPf3);
	return _tmPf3;
}

int SC_Ext__NeedNewObjForSrc(JB_String* Cpp, JB_File* Objects) {
	JB_Flow__Input(Cpp, JB_LUB[1389]);
	bool Aslib = SC__Options_ProjectIsLibrary;
	if ((Aslib and (JB_Str_ContainsString(Cpp, JB_LUB[1390])))) {
		return 0;
	}
	if (((!(SC_SC_Targets__SyntaxAccess(JB_LUB[1299]) or SC_Linkage__Interpreter())) and JB_Str_ContainsString(Cpp, JB_LUB[1391]))) {
		return 0;
	}
	JB_String* Name = JB_Str_Name(Cpp);
	JB_Incr(Name);
	JB_String* Prefix = JB_Str_TrimExtAndPath(Name, true);
	JB_Incr(Prefix);
	JB_Decr(Name);
	JB_String* _tmPf1 = JB_Str_OperatorPlus(Prefix, JB_LUB[1392]);
	JB_Incr(_tmPf1);
	JB_String* _tmPf0 = JB_Str_Sibling(Cpp, _tmPf1);
	JB_Incr(_tmPf0);
	JB_Decr(_tmPf1);
	JB_File* H = JB_Str_AsFile(_tmPf0);
	JB_Incr(H);
	JB_Decr(_tmPf0);
	JB_String* _tmPf2 = JB_Str_OperatorPlus(Prefix, JB_LUB[1393]);
	JB_Incr(_tmPf2);
	JB_Decr(Prefix);
	JB_File* O = JB_File_SyntaxAccess(Objects, _tmPf2);
	JB_Incr(O);
	JB_Decr(_tmPf2);
	JB_Array_SyntaxAppend(SC__Ext_FoundObjects, O);
	int _tmPf3 = SC_Ext__NoGoodObject(Cpp, H, O);
	JB_Decr(H);
	JB_EarlyDecr(O);
	return _tmPf3;
}

int SC_Ext__NoGoodObject(JB_String* Cpp, JB_File* H, JB_File* O) {
	if (JB_File_FileExistance(H) and JB_File_NewerThanFile(H, O)) {
		return 4;
	}
	if (!JB_File_FileExistance(O)) {
		return 1;
	}
	JB_File* _tmPf0 = JB_Str_AsFile(Cpp);
	JB_Incr(_tmPf0);
	Date Cpd = JB_File_Modified(_tmPf0);
	JB_Decr(_tmPf0);
	Date Od = JB_File_Modified(O);
	if ((Cpd > Od) or (SC__Ext_LatestLibDate > Od)) {
		return 2;
	}
	return 0;
}

JB_String* SC_Ext__PrintProduct(JB_String* S, bool ActualCompile) {
	JB_String* Rz = JB_LUB[0];
	JB_Incr(Rz);
	if (ActualCompile) {
		JB_SetRef(Rz, SC_Comp__ProductPath());
	}
	 else {
		JB_SetRef(Rz, SC_Cpp__CppProduct());
	}
	if (SC__Options_Silent) {
		JB_PrintLine(Rz);
	}
	 else {
		JB_Print(S);
		JB_Print(JB_LUB[1394]);
		JB_Print(Rz);
		JB_Print(JB_LUB[1395]);
		int64 Sz = JB_Str_FileSize(Rz);
		if (Sz) {
			JB_Print(JB_LUB[1396]);
			JB_String* _tmPf0 = JB_int64_StrSize(Sz, nil);
			JB_Incr(_tmPf0);
			JB_Print(_tmPf0);
			JB_Decr(_tmPf0);
		}
		JB_PrintLine(nil);
	}
	JB_SafeDecr(Rz);
	return Rz;
}

JB_String* SC_Ext__ProductBaseName() {
	JB_String* _tmPf0 = SC_Comp__VariantSuffix();
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = JB_Str_OperatorPlus(SC__Comp_ProjectName, _tmPf0);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

JB_String* SC_Ext__ProductNameFull() {
	JB_String* _tmPf0 = SC_Ext__ProductBaseName();
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = SC_Ext__ProductSuffix();
	JB_Incr(_tmPf1);
	JB_String* _tmPf2 = JB_Str_OperatorPlus(_tmPf0, _tmPf1);
	JB_Incr(_tmPf2);
	JB_Decr(_tmPf0);
	JB_EarlyDecr(_tmPf1);
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

JB_String* SC_Ext__ProductSuffix() {
	if (SC_Options__ModeCake()) {
		return SC_Comp__CakeExt();
	}
	if (!SC__Options_ProjectIsLibrary) {
		return JB_LUB[0];
	}
	if (JB_Platform__OSX()) {
		return JB_LUB[87];
	}
	if (JB_Platform__Win()) {
		return JB_LUB[88];
	}
	return JB_LUB[89];
}

JB_String* SC_Ext__ProjTmpPath() {
	JB_String* _tmPf0 = SC_Ext__ProductBaseName();
	JB_Incr(_tmPf0);
	JB_String* T = SC_Ext__TmpBase(_tmPf0, false);
	JB_Incr(T);
	JB_Decr(_tmPf0);
	if (!SC__Options_SelfReplacement) {
		FastString* Fs = JB_FS_Constructor(nil);
		JB_Incr(Fs);
		JB_FS_AppendHex(Fs, ((uint)JB_Str_CRC(SC__Comp_BaseProjectPath, 0)), 2);
		JB_String* _tmPf1 = JB_FS_SyntaxCast(Fs);
		JB_Incr(_tmPf1);
		JB_Decr(Fs);
		JB_SetRef(T, JB_Str_Child(T, _tmPf1));
		JB_Decr(_tmPf1);
	}
	JB_SafeDecr(T);
	return T;
}

void SC_Ext__ReplaceOld(JB_File* Input, JB_File* Backs) {
	JB_File* Oldest = nil;
	JB_Incr(Oldest);
	int Score = 0;
	{
		Array* _LoopSrcf2 = JB_File_ListFiles(Backs, kJB__File_AllowSymLinks);
		JB_Incr(_LoopSrcf2);
		int _if0 = 0;
		while (true) {
			JB_File* F = ((JB_File*)JB_Array_Value(_LoopSrcf2, _if0));
			JB_Incr(F);
			if (F == nil) {
				JB_EarlyDecr(F);
				break;
			}
			JB_String* Name = JB_Str_Name(F);
			JB_Incr(Name);
			if ((JB_Str_OperatorEndsWith(Name, JB_LUB[1854])) and (JB_byte_IsLetter(JB_Str_First(Name)))) {
				int64 S = JB_Date_Days(JB_Date_Ago(JB_File_Modified(F)));
				if (S > Score) {
					Score = S;
					JB_SetRef(Oldest, F);
				}
			}
			JB_Decr(F);
			JB_Decr(Name);
			(++_if0);
		};
		JB_Decr(_LoopSrcf2);
	}
	;
	if (Oldest != nil) {
		JB_File_CopyAll(Input, Oldest, false);
	}
	JB_Decr(Oldest);
}

void SC_Ext__RunCppCompile() {
	if (!JB_Rec_OK(JB_StdErr)) {
		return;
	}
	if (!SC__Options_Silent) {
		JB_FreeIfDead(SC_Ext__PrintProduct(JB_LUB[1887], false));
	}
	JB_File* CppLib = SC_Comp__SpeedieDir(JB_LUB[1888]);
	JB_Incr(CppLib);
	SC_Ext__TestNewestLib(CppLib);
	JB_Decr(CppLib);
	(++SC__Ext_CompilingLibFiles);
	JB_File* _tmPf0 = SC_Ext__CppLib();
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = SC_Ext__LibTmpPath();
	JB_Incr(_tmPf1);
	if (!SC_Ext__CollectAndCompile(_tmPf0, _tmPf1)) {
		JB_EarlyDecr(_tmPf1);
		JB_EarlyDecr(_tmPf0);
		return;
	}
	JB_Decr(_tmPf0);
	JB_Decr(_tmPf1);
	(--SC__Ext_CompilingLibFiles);
	JB_File* _tmPf2 = SC_Comp__GeneratedCppsFolder();
	JB_Incr(_tmPf2);
	JB_String* _tmPf3 = SC_Ext__ProjTmpPath();
	JB_Incr(_tmPf3);
	if (!SC_Ext__CollectAndCompile(_tmPf2, _tmPf3)) {
		JB_EarlyDecr(_tmPf3);
		JB_EarlyDecr(_tmPf2);
		return;
	}
	JB_Decr(_tmPf2);
	JB_Decr(_tmPf3);
	JB_String* _tmPf4 = SC_Ext__ProjTmpPath();
	JB_Incr(_tmPf4);
	if (!SC_Ext__UseAndCompile(SC__Cpp_Cpp_Input, _tmPf4)) {
		JB_EarlyDecr(_tmPf4);
		return;
	}
	JB_Decr(_tmPf4);
	JB_String* P = SC_Comp__ProductPath();
	JB_Incr(P);
	JB_String* _tmPf5 = JB_Str_OperatorPlus(JB_LUB[1889], P);
	JB_Incr(_tmPf5);
	JB_File* _tmPf6 = JB_Str_AsFile(P);
	JB_Incr(_tmPf6);
	JB_Decr(P);
	SC_Ext__TransCompile(SC__Ext_FoundObjects, _tmPf5, JB_LUB[1293], _tmPf6);
	JB_Decr(_tmPf5);
	JB_Decr(_tmPf6);
}

void SC_Ext__SayTest(JB_String* N) {
	JB_Print(JB_LUB[409]);
	JB_Print(N);
	JB_PrintLine(JB_LUB[410]);
}

bool SC_Ext__ShouldTransComp() {
	if (SC__Options_Scripting) {
		return true;
	}
	if (!(SC__Options_Compile and SC_Options__ModeCpp())) {
		return nil;
	}
	if (SC__Options_ForceRecompile) {
		return true;
	}
	JB_File* _tmPf0 = SC_Comp__ProductFile();
	JB_Incr(_tmPf0);
	JB_File* P = SC_Ext__LinkOK(_tmPf0);
	JB_Incr(P);
	JB_Decr(_tmPf0);
	if ((!P) or (JB_File_Modified(P) < SC__Imp_Recent)) {
		JB_EarlyDecr(P);
		return true;
	}
	JB_Decr(P);
	if (!SC__Options_Silent) {
		JB_PrintLine(JB_LUB[1328]);
	}
	return false;
}

bool SC_Ext__TestNewCompiler() {
	JB_File* S = SC_Comp__ProductFile();
	JB_Incr(S);
	JB_File* Test1 = S;
	JB_Incr(Test1);
	JB_String* _tmPf0 = JB_Str_OperatorPlus(S, JB_LUB[1890]);
	JB_Incr(_tmPf0);
	JB_File* Test2 = JB_Str_AsFile((_tmPf0));
	JB_Incr(Test2);
	JB_Decr(_tmPf0);
	JB_String* _tmPf1 = JB_Str_OperatorPlus(S, JB_LUB[1891]);
	JB_Incr(_tmPf1);
	JB_Decr(S);
	JB_File* Test3 = JB_Str_AsFile((_tmPf1));
	JB_Incr(Test3);
	JB_Decr(_tmPf1);
	JB_File* Cpp1 = SC_Cpp__CppProduct();
	JB_Incr(Cpp1);
	JB_String* _tmPf3 = JB_File_Path(Cpp1);
	JB_Incr(_tmPf3);
	JB_String* _tmPf2 = JB_Str_ReplacePathComponent(_tmPf3, -2, JB_LUB[1892]);
	JB_Incr(_tmPf2);
	JB_Decr(_tmPf3);
	JB_File* Cpp2 = JB_Str_AsFile(_tmPf2);
	JB_Incr(Cpp2);
	JB_Decr(_tmPf2);
	JB_String* _tmPf5 = JB_File_Path(Cpp1);
	JB_Incr(_tmPf5);
	JB_Decr(Cpp1);
	JB_String* _tmPf4 = JB_Str_ReplacePathComponent(_tmPf5, -2, JB_LUB[1893]);
	JB_Incr(_tmPf4);
	JB_Decr(_tmPf5);
	JB_File* Cpp3 = JB_Str_AsFile(_tmPf4);
	JB_Incr(Cpp3);
	JB_Decr(_tmPf4);
	JB_Array_SyntaxAppend(SC__Ext_Cleanup, Test2);
	JB_Array_SyntaxAppend(SC__Ext_Cleanup, Test3);
	JB_Decr(Test3);
	SC_Ext__SayTest(JB_LUB[476]);
	if (!SC_File_TestSpeedie(Test1, JB_LUB[1890])) {
		JB_EarlyDecr(Cpp3);
		JB_EarlyDecr(Cpp2);
		JB_EarlyDecr(Test2);
		JB_EarlyDecr(Test1);
		return nil;
	}
	JB_Decr(Test1);
	SC_Ext__SayTest(JB_LUB[1890]);
	if (!SC_File_TestSpeedie(Test2, JB_LUB[1891])) {
		JB_EarlyDecr(Cpp3);
		JB_EarlyDecr(Cpp2);
		JB_EarlyDecr(Test2);
		return nil;
	}
	SC_Ext__SayTest(JB_LUB[1891]);
	JB_PrintLine(nil);
	if (!(JB_File_MustExist(Cpp2, JB_LUB[0]) and JB_File_MustExist(Cpp3, JB_LUB[0]))) {
		JB_EarlyDecr(Cpp3);
		JB_EarlyDecr(Cpp2);
		JB_EarlyDecr(Test2);
		return nil;
	}
	if (SC_Comp__ConfBool(JB_LUB[1894], true)) {
		if (!JB_File_FileCompare(Cpp2, Cpp3, Cpp3)) {
			JB_EarlyDecr(Cpp3);
			JB_EarlyDecr(Cpp2);
			JB_EarlyDecr(Test2);
			return nil;
		}
	}
	JB_Decr(Cpp2);
	JB_EarlyDecr(Cpp3);
	bool _tmPf6 = SC_File_TestBatch(Test2) and JB_Rec_OK(JB_StdErr);
	JB_EarlyDecr(Test2);
	return _tmPf6;
}

void SC_Ext__TestNewestLib(JB_File* Cpplib) {
	SC__Ext_LatestLibDate = 0;
	{
		Array* _LoopSrcf2 = JB_File_ListFiles(Cpplib, kJB__File_AllowSymLinks);
		JB_Incr(_LoopSrcf2);
		int _if0 = 0;
		while (true) {
			JB_File* S = ((JB_File*)JB_Array_Value(_LoopSrcf2, _if0));
			JB_Incr(S);
			if (S == nil) {
				JB_EarlyDecr(S);
				break;
			}
			if (JB_Str_Visible(S) and (!JB_File_IsDir(S))) {
				(SC__Ext_LatestLibDate = JB_int64_OperatorMax(SC__Ext_LatestLibDate, JB_File_Modified(S)));
			}
			JB_Decr(S);
			(++_if0);
		};
		JB_Decr(_LoopSrcf2);
	};
}

JB_String* SC_Ext__TmpBase(JB_String* V, bool Lib) {
	if ((!Lib) and SC__Options_SelfReplacement) {
		return JB_Str_OperatorPlus(JB_LUB[90], V);
	}
	return JB_Str_OperatorPlus(JB_LUB[91], V);
}

JB_String* SC_Ext__TmpErr(JB_String* V) {
	JB_String* _tmPf1 = JB_Str_OperatorPlus(V, JB_LUB[412]);
	JB_Incr(_tmPf1);
	JB_String* _tmPf0 = JB_Str_OperatorPlus(JB_LUB[411], _tmPf1);
	JB_Incr(_tmPf0);
	JB_Decr(_tmPf1);
	JB_String* _tmPf2 = SC_Ext__TmpBase(_tmPf0, false);
	JB_Incr(_tmPf2);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

JB_String* SC_Ext__TmpOut(JB_String* V) {
	JB_String* _tmPf1 = JB_Str_OperatorPlus(V, JB_LUB[412]);
	JB_Incr(_tmPf1);
	JB_String* _tmPf0 = JB_Str_OperatorPlus(JB_LUB[413], _tmPf1);
	JB_Incr(_tmPf0);
	JB_Decr(_tmPf1);
	JB_String* _tmPf2 = SC_Ext__TmpBase(_tmPf0, false);
	JB_Incr(_tmPf2);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

bool SC_Ext__TransCompile(Array* Files, JB_String* Dest, JB_String* Type, JB_File* ToDelete) {
	if (!JB_Array_SyntaxCast(Files)) {
		return true;
	}
	Array* CompileString = SC_Ext__CreateCompileString(Files, Dest, Type);
	JB_Incr(CompileString);
	if (!JB_Array_SyntaxCast(CompileString)) {
		JB_EarlyDecr(CompileString);
		return true;
	}
	if (SC__Options_PrintCompileString) {
		JB_String* _tmPf1 = JB_Str_Append4(JB_LUB[1397], SC__Ext_CppCompilerPath, JB_LUB[60], nil);
		JB_Incr(_tmPf1);
		JB_Print(_tmPf1);
		JB_Decr(_tmPf1);
		JB_String* _tmPf2 = JB_Array_join(CompileString, JB_LUB[60]);
		JB_Incr(_tmPf2);
		JB_PrintLine(_tmPf2);
		JB_Decr(_tmPf2);
	}
	if (ToDelete) {
		JB_File_DeleteAll(ToDelete, false);
	}
	JB_Date__Sleep(3276);
	bool _tmPf3 = SC_Ext__ExecuteGCC(CompileString);
	JB_EarlyDecr(CompileString);
	return _tmPf3;
}

bool SC_Ext__TransCompileWrap(Array* Cpps) {
	bool Rz = false;
	Rz = SC_Ext__TransCompile(Cpps, JB_LUB[1473], JB_LUB[127], nil);
	if (Rz) {
		Rz = SC_Ext__TransCompile(Cpps, JB_LUB[1473], JB_LUB[128], nil);
	}
	if (JB_Platform__OSX()) {
		if (Rz) {
			Rz = SC_Ext__TransCompile(Cpps, JB_LUB[1473], JB_LUB[129], nil);
		}
		if (Rz) {
			Rz = SC_Ext__TransCompile(Cpps, JB_LUB[1473], JB_LUB[130], nil);
		}
	}
	return Rz;
}

bool SC_Ext__UseAndCompile(Array* Input, JB_String* Output) {
	JB_File* TmpFol = SC_Str_MakeAndGoInto(Output);
	JB_Incr(TmpFol);
	Array* Cpps = SC_Ext__FilterCppsIfAlreadyDone(Input, TmpFol);
	JB_Incr(Cpps);
	JB_Decr(TmpFol);
	bool _tmPf0 = SC_Ext__TransCompileWrap(Cpps);
	JB_EarlyDecr(Cpps);
	return _tmPf0;
}


xC2xB5Form* SC_VM_Builder__AddForm(Message* Form) {
	xC2xB5Form* Rz = nil;
	Rz = SC_xC2xB5Form_Constructor(nil, Form);
	(JB_Dict_ValueLowerSet(SC__xC2xB5Form_Forms, Form->Name, Rz));
	return Rz;
}

void SC_VM_Builder__AddxC2xB5Op(JB_String* Name, int Id) {
	Message* Msg = JB_int_Msg(Id);
	Message* Thg = JB_Syx_OperatorPlus(kJB_SyxThg, Name);
	JB_Tree_SyntaxAppend(SC__VM_Builder_ModuleArg, SC_NewEqRelWithMsgMsg(Thg, Msg));
}

bool SC_VM_Builder__BuildFiles() {
	Message* VMDef = SC_VM_Builder__VMBox();
	JB_Incr(VMDef);
	if (!VMDef) {
		JB_EarlyDecr(VMDef);
		return nil;
	}
	JB_File* _tmPf3 = SC_Comp__InputFileAlways(JB_LUB[2250]);
	JB_Incr(_tmPf3);
	JB_SetRef(SC__VM_Builder_FatFile, JB_Str_OutputStream(_tmPf3, true));
	JB_Decr(_tmPf3);
	Message* Forms = SC_Msg_FindName(VMDef, JB_LUB[2146]);
	JB_Incr(Forms);
	JB_Tree_Remove(Forms);
	SC_VM_Builder__Clean(VMDef);
	SC_VM_Builder__DataTypeModule();
	SC_VM_Builder__GenerateForms(Forms, true);
	JB_Decr(Forms);
	SC_VM_Builder__FillEncoders(VMDef, true);
	JB_Decr(VMDef);
	FastString* Fs = SC__VM_Builder_FatFile;
	JB_Incr(Fs);
	if (Fs) {
		JB_FS_Flush(Fs);
	}
	JB_Decr(Fs);
	SC_VM_Builder__SafeWrite(JB_LUB[2251], SC__VM_Builder_form_h);
	FastString* Code = JB_FS_Constructor(nil);
	JB_Incr(Code);
	FastString* Jump = JB_FS_Constructor(nil);
	JB_Incr(Jump);
	SC_VM_Builder__VMCpp(Code, Jump);
	SC_VM_Builder__SafeWrite(JB_LUB[2252], Code);
	JB_Decr(Code);
	SC_VM_Builder__SafeWrite(JB_LUB[2253], Jump);
	JB_Decr(Jump);
	JB_File* _tmPf4 = SC_Comp__InputFileAlways(JB_LUB[2254]);
	JB_Incr(_tmPf4);
	FastString* ASM_Gen = JB_Str_OutputStream(_tmPf4, true);
	JB_Incr(ASM_Gen);
	JB_Decr(_tmPf4);
	if (ASM_Gen) {
		{
			Array* _LoopSrcf2 = SC__VM_Builder_Appended;
			JB_Incr(_LoopSrcf2);
			int _if0 = 0;
			while (true) {
				Message* S = ((Message*)JB_Array_Value(_LoopSrcf2, _if0));
				JB_Incr(S);
				if (S == nil) {
					JB_EarlyDecr(S);
					break;
				}
				JB_FreeIfDead(JB_Msg_Render(S, ASM_Gen));
				JB_Decr(S);
				JB_FS_AppendByte(ASM_Gen, '\n');
				(++_if0);
			};
			JB_Decr(_LoopSrcf2);
		};
	}
	JB_Decr(ASM_Gen);
	JB_File* _tmPf5 = SC_Comp__InputFileAlways(JB_LUB[2255]);
	JB_Incr(_tmPf5);
	JB_String* _tmPf6 = JB_Msg_Render(SC__VM_Builder_ASMFile, nil);
	JB_Incr(_tmPf6);
	(JB_File_SyntaxAccessSet(_tmPf5, _tmPf6));
	JB_Decr(_tmPf5);
	JB_Decr(_tmPf6);
	(JB_FS_SizeSet(SC__VM_Builder_form_h, 0));
	return true;
}

bool SC_VM_Builder__BuildInstructions(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if (JB_Ring_HasChildren(Node)) {
		JB_Msg_Fail(((Message*)JB_Ring_First(Node)), nil);
		return nil;
	}
	Message* After = Node;
	{
		Array* _LoopSrcf2 = SC__VM_Builder_NameList;
		int _if0 = 0;
		while (true) {
			Message* Tmp = ((Message*)JB_Array_Value(_LoopSrcf2, _if0));
			if (Tmp == nil) {
				break;
			}
			int Pos = _if0;
			JB_String* Form = JB_Msg_Name(((Message*)JB_Tree_Get(((Message*)JB_Tree_Get(Tmp, 0)), 0)));
			if (JB_Str_Exists(Form)) {
				Message* Fnc = JB_Syx_OperatorPlus(kJB_SyxSDot, JB_LUB[236]);
				Message* List = JB_Msg_Msg(Fnc, kJB_SyxList, JB_LUB[0]);
				JB_Msg_AppendSyx(List, kJB_SyxStr, JB_Str_LowerCase(Form));
				JB_Msg_AppendSyx(List, kJB_SyxStr, Tmp->Name);
				JB_Msg_AppendNum(List, Pos);
				(JB_Ring_NextSibSet(After, Fnc));
				After = Fnc;
			}
			(++_if0);
		};
	}
	;
	SC_Msg_SafeRemove(Node, kJB_SyxSheb);
	return false;
}

void SC_VM_Builder__Clean(Message* Msg) {
	{
		Message* Ch = Msg;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Msg));
		while ((Ch) and (Ch != _afterf1)) {
			Message* _N_f2 = ((Message*)JB_Ring_FlatNext0(Ch));
			if (JB_Msg_OperatorIn(Ch, kJB_SyxArg)) {
				Ch->Indent = (Ch->Indent + 4);
			}
			if (JB_Msg_EqualsSyx(Ch, kJB_SyxOpp)) {
				if (JB_Msg_SyntaxEquals(Ch, JB_LUB[76], false)) {
					JB_SetRef(Ch->Name, JB_LUB[504]);
				}
				 else if (JB_Msg_SyntaxEquals(Ch, JB_LUB[505], false)) {
					JB_SetRef(Ch->Name, JB_LUB[506]);
				}
			}
			Ch = _N_f2;
		};
		;
	};
}

JB_File* SC_VM_Builder__CppLibFile(JB_String* Ch) {
	JB_File* _tmPf0 = SC_Ext__CppLib();
	JB_Incr(_tmPf0);
	JB_File* _tmPf1 = JB_File_SyntaxAccess(_tmPf0, Ch);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

Message* SC_VM_Builder__DataTypeCreate(Message* Form, int Fnum) {
	Message* Rz = nil;
	JB_String* Name = JB_Str_OperatorPlus(JB_LUB[2088], Form->Name);
	Message* Sigh = JB_Macro_CallFast(SC__VM_Builder_ASM_Datatype, JB_Syx_OperatorPlus(kJB_SyxThg, Name), JB_int_Msg(Fnum));
	Rz = JB_Msg_FindNested(Sigh, kJB_SyxList, nil, false);
	Rz = ((Message*)JB_Ring_NextSib(Rz));
	//"This would be better if speedie grouped these, rather than spamming JB_InitCode_";
	while (true) {
		Message* C = ((Message*)JB_Ring_First(Sigh));
		if ((!C)) {
			break;
		}
		SC_VM_Builder__SyntaxAppend(C);
	};
	return Rz;
}

void SC_VM_Builder__DataTypeModule() {
	JB_SetRef(SC__VM_Builder_ASMFile, JB_Str_ParseJbin(((JB_LUB[1547])), 1073741824));
	JB_SetRef(SC__VM_Builder_ModuleArg, ((Message*)JB_Ring_Last(((Message*)JB_Ring_Last(((Message*)JB_Ring_Last(SC__VM_Builder_ASMFile)))))));
}

Message* SC_VM_Builder__DefineGet(JB_String* Fname, int Up, int Down) {
	SC_VM_Builder__DefineGetSub(Fname, Up, Down, 'i', ' ');
	SC_VM_Builder__DefineGetSub(Fname, Up, Down, 'u', 'u');
	Array* Arr = JB_Array_Constructor0(nil);
	JB_Incr(Arr);
	Message* _tmPf0 = JB_Syx_OperatorPlus(kJB_SyxThg, Fname);
	JB_Incr(_tmPf0);
	JB_Array_SyntaxAppend(Arr, _tmPf0);
	JB_Decr(_tmPf0);
	Message* _tmPf1 = JB_int_Msg(Up);
	JB_Incr(_tmPf1);
	JB_Array_SyntaxAppend(Arr, _tmPf1);
	JB_Decr(_tmPf1);
	Message* _tmPf2 = JB_int_Msg(Down);
	JB_Incr(_tmPf2);
	JB_Array_SyntaxAppend(Arr, _tmPf2);
	JB_EarlyDecr(_tmPf2);
	Message* _tmPf3 = JB_Macro_Run(SC__VM_Builder_Ugh, Arr);
	JB_Incr(_tmPf3);
	JB_EarlyDecr(Arr);
	JB_SafeDecr(_tmPf3);
	return _tmPf3;
}

void SC_VM_Builder__DefineGetSub(JB_String* Fname, int Up, int Down, uint /*byte*/ C, uint /*byte*/ C2) {
	FastString* _fsf0 = JB_FS_Constructor(nil);
	JB_FS_AppendString(_fsf0, JB_LUB[507]);
	JB_FS_AppendString(_fsf0, Fname);
	JB_FS_AppendByte2(_fsf0, C);
	JB_FS_AppendString(_fsf0, JB_LUB[508]);
	JB_FS_AppendByte2(_fsf0, C2);
	JB_FS_AppendString(_fsf0, JB_LUB[509]);
	JB_FS_AppendInt32(_fsf0, Down);
	JB_FS_AppendString(_fsf0, JB_LUB[510]);
	JB_FS_AppendInt32(_fsf0, Up);
	JB_FS_AppendByte(_fsf0, ')');
	JB_String* _tmPf1 = JB_FS_GetResult(_fsf0);
	JB_Incr(_tmPf1);
	JB_FS_AppendString(SC__VM_Builder_form_h, _tmPf1);
	JB_Decr(_tmPf1);
}

Message* SC_VM_Builder__FatCreatorSub(JB_String* Name, xC2xB5Form* Form) {
	Message* Fn = JB_Macro_CallFast(SC__VM_Builder_icecream, JB_Syx_OperatorPlus(kJB_SyxThg, Name), nil);
	Message* Arg = ((Message*)JB_Ring_Last(Fn));
	Message* Prm = ((Message*)JB_Ring_PrevSib(Arg));
	Message* FatDecl = ((Message*)JB_Ring_Last(Prm));
	Message* F = ((Message*)JB_Ring_First(((Message*)JB_Ring_First(Form->src))));
	if (JB_Array_SyntaxEquals(SC__VM_Builder_rdz, 0)) {
		JB_Array_AppendCount(SC__VM_Builder_rdz, Arg, 2);
	}
	{
		int _if0 = 0;
		while (_if0 < Form->Count) {
			int I = _if0;
			uint P = SC_xC2xB5Form_AccessInt(Form, _if0);
			JB_String* Ty = ((JB_StringC*)JB_Ternary(SC_xC2xB5Param_IsReg(P), JB_LUB[2089], JB_LUB[167]));
			JB_String* Pname = SC_Msg_VMMsgArgName(F, I);
			Message* Rel = SC_NewEqRelWithMsgMsg(JB_Syx_OperatorPlus(kJB_SyxThg, Pname), JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[100]));
			Message* Dcl = SC_NewDeclWithStrMsg(Ty, Rel);
			(JB_Ring_PrevSibSet(FatDecl, Dcl));
			(JB_Array_ValueSet(SC__VM_Builder_rdz, 0, JB_int_Msg(I)));
			(JB_Array_ValueSet(SC__VM_Builder_rdz, 1, JB_Syx_OperatorPlus(kJB_SyxThg, Pname)));
			Message* Mac = SC__VM_Builder_skibidy;
			if (SC_xC2xB5Param_SyntaxIs(P, kSC__xC2xB5Param_Output)) {
				JB_Tree_SyntaxAppend(SC__VM_Builder_TempDests, JB_Macro_Run(Mac, SC__VM_Builder_rdz));
				if (SC_xC2xB5Param_SyntaxIs(P, kSC__xC2xB5Param_Input)) {
					(JB_Array_ValueSet(SC__VM_Builder_rdz, 0, JB_int_Msg(I)));
					(JB_Array_ValueSet(SC__VM_Builder_rdz, 1, JB_Syx_OperatorPlus(kJB_SyxThg, Pname)));
				}
			}
			if ((!SC_xC2xB5Param_SyntaxIs(P, kSC__xC2xB5Param_Output)) or SC_xC2xB5Param_SyntaxIs(P, kSC__xC2xB5Param_Input)) {
				if (SC_xC2xB5Param_SyntaxIs(P, kSC__xC2xB5Param_Jump)) {
					Mac = SC__VM_Builder_gyatt;
				}
				 else if (SC_xC2xB5Param_SyntaxIs(P, kSC__xC2xB5Param_Number)) {
					Mac = SC__VM_Builder_legs;
				}
				 else {
					Mac = SC__VM_Builder_arms;
				}
				JB_Tree_SyntaxAppend(Arg, JB_Macro_Run(Mac, SC__VM_Builder_rdz));
			}
			if (SC_xC2xB5Param_SyntaxIs(P, kSC__xC2xB5Param_Jump)) {
				(JB_Array_ValueSet(SC__VM_Builder_rdz, 0, JB_Syx_OperatorPlus(kJB_SyxThg, Pname)));
				int Size = 32 - SC_xC2xB5Param_BitSize(P);
				(JB_Array_ValueSet(SC__VM_Builder_rdz, 1, JB_Syx_PlusNum(kJB_SyxNum, Size)));
				JB_Tree_SyntaxAppend(Arg, JB_Macro_Run(SC__VM_Builder_ohio, SC__VM_Builder_rdz));
			}
			F = ((Message*)JB_Ring_NextSib(F));
			(++_if0);
		};
	}
	;
	while (true) {
		Message* Dest = ((Message*)JB_Ring_First(SC__VM_Builder_TempDests));
		if ((!Dest)) {
			break;
		}
		JB_Tree_SyntaxAppend(Arg, Dest);
	};
	return Fn;
}

void SC_VM_Builder__FillEncoders(Message* List, bool ActuallyMakeTheVM) {
	Array* R = nil;
	if (ActuallyMakeTheVM) {
		R = (JB_Array_Constructor0(nil));
		JB_SetRef(SC__VM_Builder_NameList, R);
		JB_Array_AppendCount(R, JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[1600]), 256);
	}
	SC_VM_Builder__VM_FillPos(List, R);
	SC_VM_Builder__VM_NewInstructions(List, false, R);
	SC_VM_Builder__VM_NewInstructions(List, true, R);
	{
		int I = 0;
		while (I < 256) {
			if (!SC__ASM_Encoders[I]) {
				SC__ASM_Encoders[I] = SC_VM_Builder__MissingInstruction;
			}
			(++I);
		};
	};
}

void SC_VM_Builder__FillTypePrm(JB_String* Fname, int Pname) {
	Message* Prop = JB_Syx_OperatorPlus(kJB_SyxThg, Fname);
	JB_Incr(Prop);
	Message* _tmPf1 = JB_int_Msg(Pname);
	JB_Incr(_tmPf1);
	Message* _tmPf0 = JB_Macro_CallFast(SC__VM_Builder_Ooof, Prop, _tmPf1);
	JB_Incr(_tmPf0);
	JB_Decr(Prop);
	JB_Decr(_tmPf1);
	JB_Tree_SyntaxAppend(SC__VM_Builder_dt_prm, _tmPf0);
	JB_Decr(_tmPf0);
}

void SC_VM_Builder__FinishAcc() {
	Message* S = SC__VM_Builder_dt_prm;
	if (S) {
		int X = SC__VM_Builder_XType;
		if (X) {
			JB_Array_SyntaxAppend(JB__Macro_TmpPrms_, JB_int_Msg(X));
		}
		Message* M = ((Message*)JB_Ternary(X, SC__VM_Builder_double_rizzler, SC__VM_Builder_rizzler));
		JB_Msg_AppendMacro(S, M, JB__Macro_TmpPrms_);
		JB_Array_Clear(JB__Macro_TmpPrms_);
	}
	SC__VM_Builder_XType = 0;
}

int SC_VM_Builder__FreeID(Message* M, int Ask) {
	if (Ask <= 1) {
		int N = SC__VM_Builder_NormalPos;
		if (!N) {
			N = 32;
		}
		SC__VM_Builder_NormalPos = (N + 1);
		if (N >= 256) {
			JB_Msg_Fail(M, JB_LUB[1037]);
			return 0;
		}
		return N;
	}
	uint F = SC__VM_Builder_FreeMultiASM;
	{
		int I = 0;
		while (I < 16) {
			if ((F & Ask) == Ask) {
				SC__VM_Builder_FreeMultiASM = (F & (~Ask));
				return I << 2;
			}
			Ask = (Ask << 4);
			(++I);
		};
	}
	;
	if (true) {
		JB_Msg_Fail(M, JB_LUB[1038]);
	}
	return 0;
}

int SC_VM_Builder__GenAcc(Message* Line, int Bit_pos, int Pname, int Max) {
	int N = Max - Bit_pos;
	JB_String* Lname = JB_LUB[2142];
	if (Line) {
		Message* F = JB_Msg_NeedFirst(Line);
		if (!F) {
			return 0;
		}
		uint F0 = JB_Str_First(F->Name);
		if ((F0 == 'x') and (Bit_pos == 32)) {
			SC__VM_Builder_XType = Pname;
			return kJB__int_Max;
		}
		if ((F0 == 'r') or ((F0 == 'R') or (F0 == 'P'))) {
			SC_VM_Builder__FillTypePrm(Line->Name, Pname);
			return 5 + Bit_pos;
		}
		if (JB_byte_IsInt(F0)) {
			N = JB_Msg_Int(F, 0);
		}
		if (N < 1) {
			JB_Msg_Fail(Line, JB_LUB[2143]);
			return 0;
		}
		if (N > (Max - 8)) {
			JB_Msg_Fail(Line, JB_Str_OperatorPlusWithInt64(JB_LUB[2144], N));
			return 0;
		}
		Lname = JB_Str_OperatorPlus(JB_LUB[385], Line->Name);
	}
	Lname = JB_Str_OperatorPlus(SC__VM_Builder_parent, Lname);
	Message* Fnc_src = SC_VM_Builder__DefineGet(Lname, Max - N, Bit_pos);
	JB_FreeIfDead(SC_Func__NewFunc(Fnc_src, nil, Line));
	SC_VM_Builder__FillTypePrm(Lname, Pname);
	if (((Bit_pos + N) > Max) or (N > (Max - 8))) {
		if (true) {
			JB_Msg_Fail(Line, JB_LUB[2143]);
		}
	}
	return N + Bit_pos;
}

void SC_VM_Builder__GenerateForms(Message* Forms, bool DoMore) {
	int F = 0;
	{
		Message* _LoopSrcf4 = JB_Msg_NeedSyx(Forms, kJB_SyxArg);
		Message* Form_msg = ((Message*)JB_Ring_First(_LoopSrcf4));
		while (Form_msg) {
			Message* _Nf3 = ((Message*)JB_Ring_NextSib(Form_msg));
			bool _tmPf0 = (F < 128);
			if (!_tmPf0) {
				JB_Msg_Fail(Form_msg, JB_LUB[2223]);
			}
			if (_tmPf0) {
				//using;
				MessagePosition _usingf1 = ((MessagePosition){});
				JB_Msg_SyntaxUsing(Form_msg, (&_usingf1));
				JB_FreeIfDead(SC_VM_Builder__AddForm(Form_msg));
				(++F);
				if (DoMore) {
					SC_VM_Builder__GenerateOne(Form_msg, F);
				}
				JB_MsgPos_SyntaxUsingComplete((&_usingf1), Form_msg);
				JB_MsgPos_Destructor((&_usingf1));
			}
			Form_msg = _Nf3;
		};
		;
	};
}

void SC_VM_Builder__GenerateOne(Message* Form_msg, int F) {
	JB_SetRef(SC__VM_Builder_dt_prm, SC_VM_Builder__DataTypeCreate(Form_msg, F));
	JB_SetRef(SC__VM_Builder_parent, Form_msg->Name);
	int Bit_pos = 8;
	int P = -1;
	Message* Arg = JB_Msg_NeedSyxInt(Form_msg, kJB_SyxArg, -1);
	if (!Arg) {
		return;
	}
	{
		Message* L = ((Message*)JB_Ring_First(Arg));
		while (L) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(L));
			Bit_pos = SC_VM_Builder__GenAcc(L, Bit_pos, (++P), 32);
			if (Bit_pos > 32) {
				break;
			}
			L = _Nf1;
		};
		;
	}
	;
	if ((Bit_pos < 32) and (P < 5)) {
		SC_VM_Builder__GenAcc(nil, Bit_pos, 5, 32);
	}
	SC_VM_Builder__FinishAcc();
	JB_FS_AppendByte2(SC__VM_Builder_form_h, '\n');
}

int SC_VM_Builder__Init_() {
	{
		JB_SetRef(SC__VM_Builder_NameList, JB_Array_Constructor0(nil));
		JB_SetRef(SC__VM_Builder_Appended, JB_Array_Constructor0(nil));
		JB_SetRef(SC__VM_Builder_TempDests, JB_Msg_ConstructorEmpty(nil));
		JB_SetRef(SC__VM_Builder_form_h, JB_FS_Constructor(nil));
		JB_SetRef(SC__VM_Builder_parent, JB_LUB[0]);
		SC__VM_Builder_FreeMultiASM = (~1);
		JB_SetRef(SC__VM_Builder_rdz, JB_Array_Constructor0(nil));
		JB_SetRef(SC__VM_Builder_icecream, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1548])), 1073741824)));
		JB_SetRef(SC__VM_Builder_rizzler, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1549])), 1073741824)));
		JB_SetRef(SC__VM_Builder_double_rizzler, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1550])), 1073741824)));
		JB_SetRef(SC__VM_Builder_ASM_Datatype, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1551])), 1073741824)));
		JB_SetRef(SC__VM_Builder_Ooof, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1552])), 1073741824)));
		JB_SetRef(SC__VM_Builder_Ugh, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1553])), 1073741824)));
		JB_SetRef(SC__VM_Builder_ohio, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1554])), 1073741824)));
		JB_SetRef(SC__VM_Builder_gyatt, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1555])), 1073741824)));
		JB_SetRef(SC__VM_Builder_legs, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1556])), 1073741824)));
		JB_SetRef(SC__VM_Builder_arms, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1557])), 1073741824)));
		JB_SetRef(SC__VM_Builder_skibidy, JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[1558])), 1073741824)));
	}
	;
	return 0;
}

bool SC_VM_Builder__JustDefineInstructions() {
	if (SC__VM_Builder_ModuleArg) {
		return nil;
	}
	Message* VMDef = SC_VM_Builder__VMBox();
	JB_Incr(VMDef);
	if (VMDef) {
		Message* Forms = SC_Msg_FindName(VMDef, JB_LUB[2146]);
		JB_Incr(Forms);
		SC_VM_Builder__GenerateForms(Forms, false);
		JB_Decr(Forms);
		SC_VM_Builder__FillEncoders(VMDef, false);
	}
	JB_EarlyDecr(VMDef);
	return false;
}

void SC_VM_Builder__MakeFatCreator(JB_String* Name, xC2xB5Form* Form) {
	Message* Fn = SC_VM_Builder__FatCreatorSub(Name, Form);
	FastString* Fs = SC__VM_Builder_FatFile;
	if (Fs) {
		JB_FS_AppendByte(Fs, '\n');
		JB_FreeIfDead(JB_Msg_Render(Fn, Fs));
		JB_FS_AppendByte(Fs, '\n');
	}
}

void SC_VM_Builder__MakeJump(Message* Tmp, FastString* Jump) {
	//;
	JB_FS_AppendString(Jump, JB_LUB[131]);
	JB_FS_AppendString(Jump, Tmp->Name);
	JB_FS_AppendString(Jump, JB_LUB[132]);
	//;
}

bool SC_VM_Builder__MakeTheVM() {
	SC_Imp_Use(SC__Comp_Project);
	if (SC_VM_Builder__BuildFiles()) {
		SC_ASM__TestASMText();
	}
	return JB_Rec_OK(JB_StdErr);
}

void SC_VM_Builder__MakeVM(Message* Tmp, FastString* Vm) {
	if (!JB_Msg_EqualsSyx(Tmp, kJB_SyxTmp)) {
		return;
	}
	Message* P = ((Message*)JB_Ring_PrevSib(Tmp));
	if (JB_Msg_EqualsSyx(P, kJB_SyxSheb)) {
		//;
		JB_FS_AppendString(Vm, JB_LUB[641]);
		JB_FS_AppendString(Vm, P->Name);
		JB_FS_AppendByte(Vm, '\n');
		//;
	}
	//;
	JB_FS_AppendString(Vm, JB_LUB[675]);
	JB_FS_AppendString(Vm, Tmp->Name);
	JB_FS_AppendString(Vm, JB_LUB[676]);
	//;
	{
		Message* _LoopSrcf4 = ((Message*)JB_Ring_Last(Tmp));
		Message* Line = ((Message*)JB_Ring_First(_LoopSrcf4));
		while (Line) {
			Message* _Nf3 = ((Message*)JB_Ring_NextSib(Line));
			SC_VM_Builder__VMLine(Line, Vm);
			Line = _Nf3;
		};
		;
	};
}

ASM* SC_VM_Builder__MissingInstruction(FatASM* Self, ASM* Curr, ASM* After) {
	return nil;
}

bool SC_VM_Builder__OKBoomer(Message* Tmp, int X, ASM_Encoder FormEnc, Array* R) {
	if ((SC__ASM_Encoders[X])) {
		JB_Msg_Fail(Tmp, JB_LUB[1039]);
	}
	SC__ASM_Encoders[X] = FormEnc;
	if (R != nil) {
		(JB_Array_ValueSet(R, X, Tmp));
		return true;
	}
	return false;
}

void SC_VM_Builder__SafeWrite(JB_String* Name, FastString* Data) {
	JB_File* _tmPf0 = SC_VM_Builder__CppLibFile(Name);
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = JB_FS_SyntaxCast(Data);
	JB_Incr(_tmPf1);
	(JB_File_SmartDataSet(_tmPf0, _tmPf1));
	JB_Decr(_tmPf0);
	JB_Decr(_tmPf1);
}

void SC_VM_Builder__SyntaxAppend(Message* M) {
	JB_Array_SyntaxAppend(SC__VM_Builder_Appended, M);
	JB_Tree_Remove(M);
}

void SC_VM_Builder__VM_FillPos(Message* List, Array* Out) {
	{
		Message* Ch = ((Message*)JB_Ring_First(List));
		while (Ch) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Ch));
			if (JB_Msg_SyntaxEquals(Ch, JB_LUB[2145], true)) {
				Message* F = ((Message*)JB_Ring_First(Ch));
				if (JB_Msg_EqualsSyx(F, kJB_SyxNum)) {
					Ch->Flags = (Ch->Flags | 32768);
					int64 I = JB_Msg_Int(F, 0);
					Message* Arg = JB_Msg_Last(Ch, kJB_SyxArg);
					Message* Item = ((Message*)JB_Ring_First(Arg));
					if (Item) {
						SC_VM_Builder__VM_MakeInstructionSub(Item, false, Out, I);
					}
				}
			}
			Ch = _Nf1;
		};
		;
	};
}

void SC_VM_Builder__VM_MakeInstructionSub(Message* Tmp, bool Ask, Array* ActuallyMakeTheVM, int ForceID) {
	Message* Prms = ((Message*)JB_Ring_First(Tmp));
	int FoundBits = SC_Msg_VMBits(Prms);
	if (Ask) {
		if (!(FoundBits & 1)) {
			return;
		}
	}
	Tmp->Flags = (Tmp->Flags | 32768);
	Message* P1 = ((Message*)JB_Ring_First(Prms));
	JB_String* Name = JB_Msg_Name(P1);
	xC2xB5Form* Form = SC_xC2xB5Form__NeedForm(Name, P1);
	ASM_Encoder FormEnc = SC__ASM_Forms[Form->Index];
	Name = JB_Str_OperatorPlus(JB_LUB[2088], Name);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Tmp, (&_usingf0));
	(++SC__VM_Builder_Total);
	SC_VM_Builder__MakeFatCreator(Tmp->Name, Form);
	if (ForceID) {
		SC__VM_Builder_FreeMultiASM = (SC__VM_Builder_FreeMultiASM & (~(1 << ForceID)));
		if (SC_VM_Builder__OKBoomer(Tmp, ForceID, ((ASM_Encoder)(FormEnc)), ActuallyMakeTheVM)) {
			SC_VM_Builder__AddxC2xB5Op(Tmp->Name, ForceID);
		}
		JB_MsgPos_Destructor((&_usingf0));
		return;
	}
	int Id = 0;
	if (Ask) {
		Id = SC_VM_Builder__FreeID(Tmp, FoundBits);
	}
	bool Done = false;
	{
		int _currf1 = ((int)FoundBits);
		while (_currf1) {
			int B = JB_int_LowestBit(_currf1);
			int Extra = JB_Int_Log2(B);
			int X = Id + Extra;
			if (SC_VM_Builder__OKBoomer(Tmp, X, ((ASM_Encoder)(FormEnc)), ActuallyMakeTheVM) and (!Done)) {
				SC_VM_Builder__AddxC2xB5Op(Tmp->Name, X);
				Done = true;
			}
			_currf1 = (_currf1 & (~B));
		};
	}
	;
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Tmp);
	JB_MsgPos_Destructor((&_usingf0));
}

bool SC_VM_Builder__VM_NewIns(Message* Tmp, bool Ask, Array* ActuallyMakeTheVM) {
	if (((JB_Msg_EqualsSyx(Tmp, kJB_SyxTmp))) and (!(Tmp->Flags & 32768))) {
		if ((!JB_Msg_SyntaxEquals(Tmp, JB_LUB[2146], false)) and (!JB_Msg_SyntaxEquals(Tmp, JB_LUB[635], false))) {
			SC_VM_Builder__VM_MakeInstructionSub(Tmp, Ask, ActuallyMakeTheVM, 0);
			if (!Ask) {
				return nil;
			}
		}
	}
	return true;
}

void SC_VM_Builder__VM_NewInstructions(Message* List, bool Amount, Array* Out) {
	{
		Message* Ch = ((Message*)JB_Ring_First(List));
		while (Ch) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Ch));
			if (!SC_VM_Builder__VM_NewIns(Ch, Amount, Out)) {
				return;
			}
			Ch = _Nf1;
		};
		;
	};
}

Message* SC_VM_Builder__VMBox() {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_File* V = SC_VM_Builder__VMFile(JB_LUB[2011]);
	JB_Incr(V);
	JB_SetRef(Rz, JB_File_Parse(V, 16777216, false, kJB_SyxNil));
	if (Rz) {
		JB_SetRef(V, SC_VM_Builder__VMFile(JB_LUB[2012]));
		if (JB_File_FileExistance(V)) {
			Message* _tmPf0 = JB_File_Parse(V, 16777216, false, kJB_SyxNil);
			JB_Incr(_tmPf0);
			JB_Tree_AppendAll(Rz, _tmPf0);
			JB_Decr(_tmPf0);
		}
		SC_Msg_TranAllTargets(Rz);
	}
	JB_EarlyDecr(V);
	JB_SafeDecr(Rz);
	return Rz;
}

void SC_VM_Builder__VMCpp(FastString* Vm_code, FastString* Jump) {
	{
		Array* _LoopSrcf2 = SC__VM_Builder_NameList;
		int _if0 = 0;
		while (true) {
			Message* Tmp = ((Message*)JB_Array_Value(_LoopSrcf2, _if0));
			if (Tmp == nil) {
				break;
			}
			SC_VM_Builder__MakeVM(Tmp, Vm_code);
			SC_VM_Builder__MakeJump(Tmp, Jump);
			(++_if0);
		};
	}
	;
	JB_FS_AppendString(Vm_code, JB_LUB[700]);
}

JB_File* SC_VM_Builder__VMFile(JB_String* Name) {
	JB_String* _tmPf1 = SC_Comp__SpeedieProj();
	JB_Incr(_tmPf1);
	JB_String* _tmPf2 = JB_Str_OperatorPlus(JB_LUB[828], Name);
	JB_Incr(_tmPf2);
	JB_String* _tmPf0 = JB_Str_SyntaxAccess(_tmPf1, _tmPf2);
	JB_Incr(_tmPf0);
	JB_Decr(_tmPf1);
	JB_Decr(_tmPf2);
	JB_File* _tmPf3 = JB_Str_AsFile(_tmPf0);
	JB_Incr(_tmPf3);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf3);
	return _tmPf3;
}

void SC_VM_Builder__VMLine(Message* Line, FastString* Vm) {
	if (JB_Msg_EqualsSyx(Line, kJB_SyxSheb)) {
		//;
		JB_FS_AppendString(Vm, JB_LUB[641]);
		JB_FS_AppendString(Vm, Line->Name);
		JB_FS_AppendByte(Vm, '\n');
		//;
	}
	 else {
		JB_FS_AppendByte(Vm, '\t');
		JB_FreeIfDead(JB_Msg_Render(Line, Vm));
		JB_FS_AppendByte(Vm, ';');
	}
	JB_FS_AppendByte(Vm, '\n');
}




void SC_AddToStaticSection(Message* Arg, Message* ToAdd) {
	Message* Static = JB_Msg_FindSyxName(Arg, kJB_SyxTmp, JB_LUB[447], false);
	if (Static) {
		Arg = ((Message*)JB_Ring_Last(Static));
		if ((!JB_Msg_EqualsSyx(Arg, kJB_SyxArg))) {
			JB_Msg_Fail(Static, JB_LUB[1064]);
			return;
		}
	}
	 else {
		Static = JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[447]);
		JB_Tree_SyntaxAppend(Arg, Static);
		Arg = JB_Msg_Msg(Static, kJB_SyxArg, JB_LUB[0]);
	}
	JB_Tree_SyntaxAppend(Arg, ToAdd);
}

int SC_ArrayInOrderCheck(int InOrder, Message* Msg) {
	if ((InOrder >= 0) and (JB_Msg_EqualsSyx(Msg, kJB_SyxNum))) {
		if (JB_Msg_Int(Msg, 0) == InOrder) {
			return InOrder + 1;
		}
	}
	return -1;
}

SCClass* SC_ClassOfObjForC(Message* Curr) {
	if (JB_Msg_EqualsSyx(Curr, kJB_SyxFunc)) {
		SCFunction* Fnc = SC_Msg_MsgFunc(Curr);
		if (Fnc) {
			SCDecl* Rt = Fnc->ReturnType;
			if (Rt) {
				return Rt->Type;
			}
		}
		return nil;
	}
	JB_Object* Obj = Curr->Obj;
	if (JB_Object_FastIsa(Obj, &SCDeclData)) {
		return ((SCDecl*)Obj)->Type;
	}
	if (JB_Object_FastIsa(Obj, &SCClassData)) {
		return ((SCClass*)Obj);
	}
	if (JB_Object_FastIsa(Obj, &SCModuleData)) {
		if (((SCModule*)Obj)->Cls) {
			return SC_TypeJBClass;
		}
	}
	return nil;
}

bool SC_ClassOrModuleLinkage_cpp_class(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	return false;
}

bool SC_ClassOrModuleLinkage_cpp_part(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	JB_FreeIfDead(SC_Base__LoadCppPart(Node, Name_space, Node));
	return false;
}

bool SC_ClassOrModuleLinkage_cpp_wrapper(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	return false;
}

bool SC_ClassOrModuleLinkage_datatype(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if (JB_Object_MustBe(Name_space, &SCClassData, Node)) {
		if (!SC_Class_IsStruct(((SCClass*)Name_space))) {
			JB_Msg_Fail(Node, JB_LUB[1179]);
			return nil;
		}
		Message* Value = JB_Msg_NeedSyx(Node, kJB_SyxThg);
		JB_Incr(Value);
		if (Value) {
			JB_Msg_ExpectLast(Value, nil);
		}
		JB_Decr(Value);
	}
	return false;
}

bool SC_ClassOrModuleLinkage_embedded(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	SC_Base_SetInternal(Name_space, Node, kSC__SCNodeInfo_EmbeddedOnly);
	return false;
}

bool SC_ClassOrModuleLinkage_ignore(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	return false;
}

bool SC_ClassOrModuleLinkage_libinternal(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	Message* _tmPf0 = ((Message*)JB_Ring_First(Node));
	JB_Incr(_tmPf0);
	bool V = JB_Msg_Yes(_tmPf0, true);
	JB_Decr(_tmPf0);
	((SC_SCObject_SyntaxIsSet(Name_space, kSC__SCNodeInfo_LibOnlyAll, V)));
	return false;
}

bool SC_ClassOrModuleLinkage_noearlyfree(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	return false;
}

bool SC_ClassOrModuleLinkage_numeric(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if (JB_Object_MustBe(Name_space, &SCClassData, Node)) {
		if (!SC_Class_IsDataTypeOnly(((SCClass*)Name_space))) {
			JB_Msg_Fail(Node, JB_LUB[1180]);
			return nil;
		}
		Message* Type = JB_Msg_NeedSyx(Node, kJB_SyxThg);
		if (!Type) {
			return nil;
		}
		((SCClass*)Name_space)->TypeInfo = 0;
		if ((JB_Msg_SyntaxEquals(Type, JB_LUB[7], false)) or (JB_Msg_SyntaxEquals(Type, JB_LUB[1181], false))) {
			(SC_Class_SyntaxIsSet(((SCClass*)Name_space), kSC__ClassInfo_Symbol, true));
		}
		 else if (JB_Msg_SyntaxEquals(Type, JB_LUB[1182], false)) {
			(SC_Class_SyntaxIsSet(((SCClass*)Name_space), kSC__ClassInfo_Flags, true));
		}
		 else {
			if (true) {
				JB_Msg_Fail(Type, nil);
			}
		}
	}
	return false;
}

bool SC_ClassOrModuleLinkage_sort_properties(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if (JB_Object_MustBe(Name_space, &SCClassData, Node)) {
		Message* _tmPf0 = ((Message*)JB_Ring_First(Node));
		JB_Incr(_tmPf0);
		((SC_Class_SyntaxIsSet(((SCClass*)Name_space), kSC__ClassInfo_SortsProperties, JB_Msg_Yes(_tmPf0, true))));
		JB_Decr(_tmPf0);
	}
	return false;
}

bool SC_ClassOrModuleLinkage_stateful(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if (JB_Object_MustBe(Name_space, &SCClassData, Node)) {
		(SC_Class_SyntaxIsSet(((SCClass*)Name_space), kSC__ClassInfo_Stateful, true));
		SC_Class_CheckStateful(((SCClass*)Name_space), Node);
	}
	return false;
}

bool SC_ClassOrModuleLinkage_stateless(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if (JB_Object_MustBe(Name_space, &SCClassData, Node)) {
		(SC_Class_SyntaxIsSet(((SCClass*)Name_space), kSC__ClassInfo_Stateless, true));
		SC_Class_CheckStateful(((SCClass*)Name_space), Node);
	}
	return false;
}

bool SC_ClassOrModuleLinkage_tighten(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if (JB_Object_MustBe(Name_space, &SCClassData, Node)) {
		if (!(SC_Class_IsObject(((SCClass*)Name_space)) or SC_Class_IsStruct(((SCClass*)Name_space)))) {
			SC_SCObject_Fail(((SCClass*)Name_space), JB_LUB[1183]);
			return nil;
		}
		if ((((SCClass*)Name_space)->IsWrapper)) {
			SC_SCObject_Fail(((SCClass*)Name_space), JB_LUB[1184]);
			return nil;
		}
		bool Yes = JB_Msg_Yes(((Message*)JB_Ring_First(Node)), true);
		((SC_Class_SyntaxIsSet(((SCClass*)Name_space), kSC__ClassInfo_SortsProperties, Yes)));
	}
	return false;
}

bool SC_ClassOrModuleLinkage_visible(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	return false;
}

bool SC_ClassOrModuleLinkage_wrapper(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if (JB_Object_MustBe(Name_space, &SCClassData, Node)) {
		((SCClass*)Name_space)->IsWrapper = 1;
		Message* F = ((Message*)JB_Ring_First(Node));
		if (F) {
			JB_Msg_Expect(F, kJB_SyxThg, nil);
			JB_Msg_ExpectLast(F, nil);
			if (JB_Msg_SyntaxEquals(F, JB_LUB[1185], false)) {
				((SCClass*)Name_space)->IsWrapper = 2;
			}
			 else {
				if (true) {
					JB_Msg_Fail(F, nil);
				}
			}
		}
	}
	return false;
}

SCNode* SC_ClsCollectTable_description(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	if (JB_Object_Isa(Name_space, &SCBetterNodeData)) {
		SC_SCBetterNode_ReadDescription(((SCBetterNode*)Name_space), Node);
	}
	return nil;
}

void SC_CollectDeclsGlobals(Message* Arg, SCModule* Mod) {
	SC_Mod_Use(Mod);
	{
		Message* Item = ((Message*)JB_Ring_First(Arg));
		while (Item) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Item));
			if (JB_Msg_EqualsSyx(Item, kJB_SyxDecl)) {
				if (!SC_Msg_CollectAGlobalDecl(Item, Mod)) {
					return;
				}
			}
			Item = _Nf1;
		};
		;
	};
}

void SC_CollectManyDeclsFromBody(Message* Arg, SCNode* Scarg) {
	{
		Message* Item = ((Message*)JB_Ring_First(Arg));
		while (Item) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Item));
			if (JB_Msg_EqualsSyx(Item, kJB_SyxDecl)) {
				SC_Msg_CollectFromBody(Item, Scarg);
			}
			Item = _Nf1;
		};
		;
	};
}

bool JB_CompareError(Message* Expected, Message* Found) {
	JB_Incr(Found);
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	//;
	JB_FS_AppendString(Fs, JB_LUB[562]);
	JB_String* _tmPf3 = JB_Msg_Locate(Expected);
	JB_Incr(_tmPf3);
	JB_FS_AppendString(Fs, _tmPf3);
	JB_Decr(_tmPf3);
	JB_FS_AppendString(Fs, JB_LUB[829]);
	JB_String* _tmPf4 = JB_Msg_Locate(Found);
	JB_Incr(_tmPf4);
	JB_FS_AppendString(Fs, _tmPf4);
	JB_Decr(_tmPf4);
	JB_FS_AppendByte(Fs, '\n');
	//;
	//;
	JB_FS_AppendString(Fs, JB_LUB[867]);
	JB_String* _tmPf5 = JB_Msg_plocate(Expected);
	JB_Incr(_tmPf5);
	JB_FS_AppendString(Fs, _tmPf5);
	JB_Decr(_tmPf5);
	JB_FS_AppendByte(Fs, '\n');
	//;
	if (Found) {
		//;
		JB_FS_AppendString(Fs, JB_LUB[868]);
		JB_String* _tmPf6 = JB_Msg_plocate(Found);
		JB_Incr(_tmPf6);
		JB_FS_AppendString(Fs, _tmPf6);
		JB_Decr(_tmPf6);
		JB_FS_AppendByte(Fs, '\n');
		//;
	}
	 else {
		JB_SetRef(Found, Expected);
	}
	JB_String* _tmPf7 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf7);
	JB_Decr(Fs);
	JB_PrintLine(_tmPf7);
	JB_Decr(_tmPf7);
	JB_Msg_Fail(Found, nil);
	JB_EarlyDecr(Found);
	return false;
}

int64 SC_ConstifyBitAnd(ASMReg L, ASMReg R) {
	return SC_Reg_Const(L) & SC_Reg_Const(R);
}

int64 SC_ConstifyBitNot(ASMReg L, ASMReg R) {
	return (~SC_Reg_Const(L));
}

int64 SC_ConstifyBitOr(ASMReg L, ASMReg R) {
	return SC_Reg_Const(L) | SC_Reg_Const(R);
}

int64 SC_ConstifyBitSHL(ASMReg L, ASMReg R) {
	return ((uint64)SC_Reg_Const(L)) << ((uint64)SC_Reg_Const(R));
}

int64 SC_ConstifyBitSHR(ASMReg L, ASMReg R) {
	return ((uint64)SC_Reg_Const(L)) >> ((uint64)SC_Reg_Const(R));
}

int64 SC_ConstifyBitSHS(ASMReg L, ASMReg R) {
	return SC_Reg_Const(L) >> SC_Reg_Const(R);
}

int64 SC_ConstifyBitXor(ASMReg L, ASMReg R) {
	return SC_Reg_Const(L) ^ SC_Reg_Const(R);
}

int64 SC_ConstifyBoolMul(ASMReg L, ASMReg R) {
	return ((bool)SC_Reg_Const(L)) * ((uint64)SC_Reg_Const(R));
}

int64 SC_ConstifyFloatDiv(ASMReg L, ASMReg R) {
	if (SC_Reg_FourBytes(L)) {
		return JB_f_AsInt((SC_Reg_F32(L) / SC_Reg_F32(R)));
	}
	return JB_dbl_AsInt((SC_Reg_F64(L) / SC_Reg_F64(R)));
}

int64 SC_ConstifyFloatMod(ASMReg L, ASMReg R) {
	if (SC_Reg_FourBytes(L)) {
		return JB_f_AsInt((fmodf(SC_Reg_F32(L), SC_Reg_F32(R))));
	}
	 else {
		return JB_f_AsInt((fmod(SC_Reg_F64(L), SC_Reg_F64(R))));
	}
}

int64 SC_ConstifyFloatMul(ASMReg L, ASMReg R) {
	if (SC_Reg_FourBytes(L)) {
		return JB_f_AsInt((SC_Reg_F32(L) * SC_Reg_F32(R)));
	}
	return JB_dbl_AsInt((SC_Reg_F64(L) * SC_Reg_F64(R)));
}

int64 SC_ConstifyFloatPlus(ASMReg L, ASMReg R) {
	if (SC_Reg_FourBytes(L)) {
		float Rf = SC_Reg_F32(R);
		float Lf = SC_Reg_F32(L);
		if (SC_Reg_SyntaxIs(L, kSC__Reg_Subtract)) {
			Lf = (Lf - Rf);
		}
		 else {
			Lf = (Lf + Rf);
		}
		return JB_f_AsInt(Lf);
	}
	 else {
		Float64 Rf = SC_Reg_F64(R);
		Float64 Lf = SC_Reg_F64(L);
		if (SC_Reg_SyntaxIs(L, kSC__Reg_Subtract)) {
			Lf = (Lf - Rf);
		}
		 else {
			Lf = (Lf + Rf);
		}
		return JB_dbl_AsInt(Lf);
	}
}

int64 SC_ConstifyIntDiv(ASMReg L, ASMReg R) {
	if (SC_Reg_FourBytes(L)) {
		if (SC_Reg_Signed(L)) {
			return ((int)SC_Reg_Const(L)) / ((int)SC_Reg_Const(R));
		}
		return ((uint)SC_Reg_Const(L)) / ((uint)SC_Reg_Const(R));
	}
	if (SC_Reg_Signed(L)) {
		return ((int64)SC_Reg_Const(L)) / ((int64)SC_Reg_Const(R));
	}
	return ((uint64)SC_Reg_Const(L)) / ((uint64)SC_Reg_Const(R));
}

int64 SC_ConstifyIntMod(ASMReg L, ASMReg R) {
	if (SC_Reg_FourBytes(L)) {
		if (SC_Reg_Signed(L)) {
			return ((int)SC_Reg_Const(L)) % ((int)SC_Reg_Const(R));
		}
		return ((uint)SC_Reg_Const(L)) % ((uint)SC_Reg_Const(R));
	}
	if (SC_Reg_Signed(L)) {
		return ((int64)SC_Reg_Const(L)) % ((int64)SC_Reg_Const(R));
	}
	return ((uint64)SC_Reg_Const(L)) % ((uint64)SC_Reg_Const(R));
}

int64 SC_ConstifyIntMul(ASMReg L, ASMReg R) {
	if (SC_Reg_FourBytes(L)) {
		return ((int)SC_Reg_Const(L)) * ((int)SC_Reg_Const(R));
	}
	return ((int64)SC_Reg_Const(L)) * ((int64)SC_Reg_Const(R));
}

int64 SC_ConstifyIntPlus(ASMReg L, ASMReg R) {
	if (SC_Reg_SyntaxIs(L, kSC__Reg_Subtract)) {
		return SC_Reg_Const(L) - SC_Reg_Const(R);
	}
	return SC_Reg_Const(L) + SC_Reg_Const(R);
}

bool SC_CppRefTable_disowns(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	return false;
}

bool SC_CppRefTable_disturbs(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	return false;
}

void SC_Create_JeeboxTest(Message* Msg) {
	if (true) {
		JB_ErrorReceiver* __varf1 = JB_Rec_Constructor(nil);
		JB_Incr(__varf1);
		JB_ErrorReceiver* _usingf0 = JB_Rec_SyntaxUsing(__varf1);
		JB_Incr(_usingf0);
		JB_File* F = SC_Comp__InputFile(JB_LUB[1988], nil);
		JB_Incr(F);
		if (F == nil) {
			JB_Str_Fail(JB_LUB[1989]);
			JB_EarlyDecr(F);
			JB_EarlyDecr(_usingf0);
			JB_EarlyDecr(__varf1);
			return;
		}
		JB_String* S = JB_File_ReadAll(F, 134217728, true);
		JB_Incr(S);
		JB_Decr(F);
		if (JB_Msg_SyntaxEquals(Msg, JB_LUB[1990], true)) {
			//using;
			MessagePosition _usingf2 = ((MessagePosition){});
			JB_Msg_SyntaxUsing(Msg, (&_usingf2));
			JB_SetRef(S, JB_Str_Digest(S));
			JB_MsgPos_SyntaxUsingComplete((&_usingf2), Msg);
			JB_MsgPos_Destructor((&_usingf2));
		}
		JB_Msg_BecomeStr(Msg, kJB_SyxStr, S);
		JB_Decr(S);
		JB_Rec_SyntaxUsingComplete(_usingf0, __varf1);
		JB_Decr(__varf1);
		JB_Decr(_usingf0);
	}
}

SCDecl* SC_CustomFuncOp(Message* Exp, SCOperator* Comp, SCNode* Name_space, Message* RN) {
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Exp, (&_usingf0));
	JB_Msg_BecomeStr(Exp, kJB_SyxDot, Comp->FuncName);
	Message* Prm = JB_Syx_Msg(kJB_SyxPrm, JB_LUB[0]);
	JB_Tree_SyntaxAppend(Prm, RN);
	JB_Tree_SyntaxAppend(Exp, Prm);
	JB_Tree_Remove(((Message*)JB_Tree_Second(Exp)));
	SCDecl* Ty = SC_TypeOfExpr(Exp, Name_space, nil);
	if (Ty and (RN and (Prm->Obj == SC__Comp_fnAs))) {
		SCClass* Cls = SC_Msg_ObjCls(RN);
		if (Cls) {
			if (!SC_Class_SyntaxIs(Cls, kSC__ClassInfo_HasSubClass)) {
				JB_SetRef(Prm->Obj, SC__Comp_fnFastAs);
			}
			Ty = Cls->TypeNormal;
		}
	}
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Exp);
	JB_MsgPos_Destructor((&_usingf0));
	return Ty;
}

SCDecl* SC_DeclOfObjForC(Message* Curr) {
	if (JB_Msg_EqualsSyx(Curr, kJB_SyxFunc)) {
		SCFunction* Fnc = SC_Msg_MsgFunc(Curr);
		if (Fnc) {
			return Fnc->ReturnType;
		}
	}
	JB_Object* Obj = Curr->Obj;
	if (JB_Object_FastIsa(Obj, &SCDeclData)) {
		return ((SCDecl*)Obj);
	}
	if (JB_Object_FastIsa(Obj, &SCClassData)) {
		return ((SCClass*)Obj)->TypeNormal;
	}
	if (JB_Object_FastIsa(Obj, &SCFunctionData)) {
		return ((SCFunction*)Obj)->ReturnType;
	}
	if (JB_Object_FastIsa(Obj, &SCModuleData)) {
		SCClass* Cls = ((SCModule*)Obj)->Cls;
		if (Cls) {
			return Cls->ClassType;
		}
	}
	return nil;
}

Message* SC_DeclsDefault(Message* Def) {
	if (SC_Msg_IsSetRel(Def)) {
		return ((Message*)JB_Ring_Last(Def));
	}
	return nil;
}

Message* SC_DefaultStitch(Message* Default, Message* Dcl) {
	Message* Rz = nil;
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Dcl, (&_usingf0));
	Rz = JB_Msg_Msg(Dcl, kJB_SyxRel, JB_LUB[0]);
	Message* First = ((Message*)JB_Tree_Second(Dcl));
	JB_Tree_SyntaxAppend(Rz, First);
	JB_Msg_AppendSyx(Rz, kJB_SyxOpp, JB_LUB[455]);
	JB_Tree_SyntaxAppend(Rz, Default);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Dcl);
	JB_MsgPos_Destructor((&_usingf0));
	return Rz;
}

SCObject* SC_DollaDolla(Message* Exp, SCNode* Name_space) {
	int Strength = 0;
	Message* Ch = Exp;
	while (JB_Msg_EqualsSyx(Ch, kJB_SyxBRel)) {
		JB_String* N = Ch->Name;
		if (JB_Str_Equals(N, JB_LUB[96], false)) {
			(++Strength);
		}
		 else if (!JB_Str_Equals(N, JB_LUB[456], false)) {
			break;
		}
		JB_Msg_BecomeStr(Ch, kJB_SyxBra, JB_LUB[0]);
		Ch = ((Message*)JB_Ring_First(Ch));
	};
	JB_Msg_BecomeStr(Exp, kJB_SyxBra, JB_LUB[0]);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Exp, (&_usingf0));
	Message* Fnc = JB_Str_ParseJbin(((JB_LUB[1512])), 1073741824);
	Message* Prm = ((Message*)JB_Ring_Last(Fnc));
	JB_Tree_SyntaxAppend(Prm, ((Message*)JB_Ring_First(Exp)));
	if (Strength > 0) {
		JB_Msg_AppendNum(Prm, Strength);
	}
	if (JB_Msg_OperatorIn(Exp, kJB_SyxArg)) {
		Message* Say = JB_Str_ParseJbin(((JB_LUB[1513])), 1073741824);
		JB_Tree_SyntaxAppend(((Message*)JB_Ring_Last(Say)), Fnc);
		Fnc = Say;
	}
	JB_Tree_SyntaxAppend(Exp, Fnc);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Exp);
	SCDecl* _tmPf1 = SC_TypeOfExpr(Exp, Name_space, nil);
	JB_Incr(_tmPf1);
	JB_MsgPos_Destructor((&_usingf0));
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

SCNode* SC_DontRemove(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	return SC__Comp_Program;
}

SCDecl* SC_DoOpCompare(Message* Exp, SCDecl* Lc, SCDecl* Rc, SCOperator* Comp, SCNode* Name_space) {
	SCDecl* Rz = nil;
	JB_Incr(Rz);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Exp, (&_usingf0));
	Message* Dot = JB_Syx_Msg(kJB_SyxDot, JB_LUB[0]);
	JB_Incr(Dot);
	Message* _tmPf1 = ((Message*)JB_Ring_First(Exp));
	JB_Incr(_tmPf1);
	JB_Tree_SyntaxAppend(Dot, _tmPf1);
	JB_Decr(_tmPf1);
	Message* P = JB_Msg_Msg(Dot, kJB_SyxPrm, JB_LUB[0]);
	JB_Incr(P);
	Message* _tmPf2 = ((Message*)JB_Ring_Last(Exp));
	JB_Incr(_tmPf2);
	JB_Tree_SyntaxAppend(P, _tmPf2);
	JB_Decr(_tmPf2);
	if (SC_Opp_SyntaxIs(Comp, kSC__OpMode_CaseAware)) {
		JB_Msg_AppendSyx(P, kJB_SyxThg, JB_LUB[6]);
	}
	JB_Decr(P);
	(JB_Ring_FirstSet(Exp, Dot));
	if (SC_Opp_SyntaxIs(Comp, kSC__OpMode_EqualOrNot)) {
		Message* _tmPf3 = ((Message*)JB_Ring_Last(Exp));
		JB_Incr(_tmPf3);
		JB_Tree_Remove(_tmPf3);
		JB_Decr(_tmPf3);
		JB_SetRef(Dot->Name, JB_LUB[1939]);
		if ((JB_Str_Equals(Comp->CompOp, JB_LUB[1521], false))) {
			JB_Msg_BecomeStr(Exp, kJB_SyxBRel, JB_LUB[96]);
			JB_Tree_SyntaxAppend(Exp, Dot);
		}
		 else {
			JB_Msg_BecomeStr(Exp, kJB_SyxBra, JB_LUB[0]);
		}
	}
	 else {
		JB_SetRef(Dot->Name, JB_LUB[1940]);
		Message* _tmPf4 = ((Message*)JB_Ring_Last(Exp));
		JB_Incr(_tmPf4);
		JB_SetRef(_tmPf4->Name, Comp->CompOp);
		JB_Decr(_tmPf4);
		JB_Msg_AppendSyx(Exp, kJB_SyxNum, Comp->CompParam);
	}
	JB_SetRef(Rz, SC_TypeOfExpr(Dot, Name_space, nil));
	JB_Decr(Dot);
	if (!Rz) {
		JB_Error* _tmPf5 = JB_Rec_LastError(JB_StdErr);
		JB_Incr(_tmPf5);
		if (SC_Err_FromSamePlace(_tmPf5, Exp)) {
			JB_FreeIfDead(JB_Rec_Pop(JB_StdErr));
		}
		JB_Decr(_tmPf5);
		if (((JB_Str_Equals(Comp->Name, JB_LUB[592], false))) and SC_Decl_MiniMatch(Lc, Rc, 0)) {
			if (true) {
				JB_Msg_Fail(Exp, JB_LUB[1941]);
			}
		}
		 else {
			SC_Decl_ExpectFail(Lc, Rc, Exp, nil);
		}
	}
	JB_SetRef(Rz, SC_TypeBool->TypeNormal);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Exp);
	JB_MsgPos_Destructor((&_usingf0));
	JB_SafeDecr(Rz);
	return Rz;
}

JB_String* JB_EntityTest() {
	JB_String* Replicate = JB_LUB[143];
	JB_Incr(Replicate);
	Dictionary* Repl = JB_Dict_Constructor(nil);
	JB_Incr(Repl);
	(JB_Dict_ValueSet(Repl, JB_LUB[19], JB_LUB[18]));
	JB_MSR_DecodeEntitySet(Repl, true);
	JB_MSR_EscapeCodeSet(Repl, true);
	JB_String* S3 = JB_Str_Unescape(Replicate);
	JB_Incr(S3);
	JB_Decr(S3);
	JB_SetRef(Replicate, JB_Str_MultiReplaceAll(Replicate, Repl, JB_StdErr));
	JB_Decr(Repl);
	JB_String* Jb = JB_LUB[144];
	JB_Incr(Jb);
	JB_Decr(Jb);
	JB_String* _tmPf0 = JB_Str_LowerCase(Replicate);
	JB_Incr(_tmPf0);
	JB_Decr(Replicate);
	JB_String* _tmPf1 = JB_Str_OperatorPlus(_tmPf0, JB_LUB[145]);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

SCDecl* SC_ExtractDecl(Message* C, SCNode* Name_space, DeclMode Purpose, int Depth) {
	SCDecl* Rz = nil;
	Syntax F = C->Func;
	if (F == kJB_SyxThg) {
		if (JB_Msg_SyntaxEquals(C, JB_LUB[100], false)) {
			return SC_TypeVoid;
		}
		return SC_Comp__FindClassType(C);
	}
	(++Depth);
	if (F == kJB_SyxDecl) {
		SCDecl* Ty = SC_ExtractDecl(((Message*)JB_Ring_First(C)), Name_space, Purpose, Depth);
		if (Ty) {
			if (Purpose == kSC__DeclMode_ProtoParam) {
				(SC_Decl_NameSet(Ty, JB_Msg_Name(SC_Msg_DeclName(C))));
			}
		}
		return Ty;
	}
	if (F == kJB_SyxEmb) {
		SC_Msg_ExpectEmpty(C);
		return nil;
	}
	if (F == kJB_SyxBra) {
		return SC_ExtractDecl(((Message*)JB_Ring_First(C)), Name_space, Purpose, Depth);
	}
	if (F == kJB_SyxSThg) {
		return SC_Base_RequireContained(Name_space, C);
	}
	if ((F == kJB_SyxList) and (!JB_Ring_HasChildren(C))) {
		Message* P = SC_Msg_UpToType(C);
		if (P) {
			return SC_TypeOfExpr(((Message*)JB_Ring_First(P)), Name_space, nil);
		}
	}
	Message* Fi = ((Message*)JB_Ring_First(C));
	if ((JB_Msg_EqualsSyx(C, kJB_SyxAcc))) {
		Message* Prms = ((Message*)JB_Tree_Second(C));
		if (JB_Ring_HasChildren(Prms)) {
			SCDecl* R = SC_ExtractDecl(Fi, Name_space, Purpose, Depth);
			if (!R) {
				return nil;
			}
			return SC_Decl_ExtractAmount(R, Prms, Name_space);
		}
		F = kJB_SyxRel;
		C->Func = F;
		JB_Tree_Remove(Prms);
		JB_Msg_AppendSyx(C, kJB_SyxThg, JB_LUB[823]);
		JB_Msg_AppendSyx(C, kJB_SyxOpp, JB_LUB[1259]);
		JB_Tree_SyntaxAppend(C, Fi);
	}
	if (F == kJB_SyxFunc) {
		SCDecl* R = SC_ExtractDecl(Fi, Name_space, Purpose, Depth);
		if (!R) {
			return nil;
		}
		return SC_Decl_RefineDecl(R, ((Message*)JB_Ring_Last(C)));
	}
	if ((F == kJB_SyxARel) or (F == kJB_SyxBRel)) {
		SCDecl* R = SC_ExtractDecl(Fi, Name_space, Purpose, Depth);
		if (!R) {
			return nil;
		}
		if ((JB_Msg_SyntaxEquals(C, JB_LUB[75], false))) {
			return SC_Decl_MakeDataObject(R, Name_space, Purpose);
		}
		if ((JB_Msg_SyntaxEquals(C, JB_LUB[32], false)) and (F == kJB_SyxBRel)) {
			return SC_Decl_GetAddress(R, Purpose);
		}
		if ((JB_Msg_SyntaxEquals(C, JB_LUB[456], false))) {
			return SC_Decl_MakeReference(R);
		}
		if ((JB_Msg_SyntaxEquals(C, JB_LUB[689], false))) {
			return SC_Decl_MakeNewOptional(R);
		}
		if ((JB_Msg_SyntaxEquals(C, JB_LUB[96], false))) {
			if (SC_Decl_StatedReal(R) and ((!JB_Msg_SyntaxIs(C, kJB__MsgParseFlags_Inserted)))) {
				(JB_Msg_SyntaxProblem(C, JB_LUB[1976]));
			}
			return SC_Decl_MakeNewReal(R);
		}
		if ((JB_Msg_SyntaxEquals(C, JB_LUB[407], false))) {
			return SC_Decl_MakeBorrowed(R, SC_Msg_UpToType(C) != nil);
		}
		if (((JB_String*)JB_Str_Exists(C->Name))) {
			if (true) {
				JB_Msg_Fail(C, nil);
			}
		}
		return R;
	}
	if (F == kJB_SyxName) {
		C->Func = kJB_SyxThg;
		SCDecl* D = SC_ExtractDecl(C, Name_space, Purpose, Depth);
		if (!D) {
			return nil;
		}
		(SC_Decl_SyntaxIsSet(D, kSC__SCDeclInfo_CompilerCreated, true));
		return D;
	}
	if (F == kJB_SyxDot) {
		return SC_Comp__FindClassType(C);
	}
	Rz = SC_Decl_Constructor(nil, SC_TypeVoid_);
	int ErrCount = JB_StdErr->ErrorCount;
	if (F == kJB_SyxArr) {
		Message* Ch = ((Message*)JB_Ring_First(C));
		if (!Ch) {
			return SC_TypeArray->TypeNormal;
		}
		if ((JB_Msg_EqualsSyx(Ch, kJB_SyxItem))) {
			JB_Msg_Fail(C, nil);
			return nil;
		}
		SCDecl* Dcl = SC_ExtractDecl(Ch, Name_space, Purpose, Depth);
		if (Dcl) {
			JB_SetRef(Rz->Contains, SC_Decl_MakeContainedOptional(Dcl));
			JB_SetRef(Rz->Type, SC_TypeArray);
		}
	}
	 else if (F == kJB_SyxAdj) {
		(JB_Msg_SyntaxProblem(C, JB_LUB[1977]));
		if (!SC_Decl_LoadContained(Rz, ((Message*)JB_Ring_First(C)), ((Message*)JB_Ring_Last(C)), Name_space, Purpose)) {
			return nil;
		}
	}
	 else if (F == kJB_SyxRel) {
		Message* Op = JB_Msg_NeedSyxInt(C, kJB_SyxOpp, 1);
		if (!Op) {
			return nil;
		}
		JB_Msg_Expect(Op, kJB_SyxOpp, JB_LUB[1259]);
		Message* Contained = JB_Msg_NeedSyxInt(C, kJB_SyxNil, 2);
		if (!Contained) {
			return nil;
		}
		if (!SC_Decl_LoadContained(Rz, Contained, ((Message*)JB_Ring_First(C)), Name_space, Purpose)) {
			return nil;
		}
	}
	 else if (ErrCount == JB_StdErr->ErrorCount) {
		if (true) {
			JB_Msg_Fail(C, nil);
		}
	}
	SC_Decl_MakeContainedObject(Rz, C);
	if (ErrCount != JB_StdErr->ErrorCount) {
		Rz = nil;
	}
	return Rz;
}

ASMReg SC_FinalDecrements(Assembler* Self, Message* Exp, ASMReg Dest) {
	ASMReg D0 = SC_Pac_SafeDecr(Self, Dest);
	if (!D0) {
		return nil;
	}
	ASMReg D1 = SC_Pac_DecrObj(Self);
	ASMReg D2 = SC_Pac_DecrObj(Self);
	ASMReg D3 = SC_Pac_DecrObj(Self);
	return SC_FAT_AsReg(SC_Msg_RFRT(Exp, D0, D1, D2, D3), kSC__Reg_Exit);
}

Message* SC_FindBytePos(Message* Node) {
	Message* First = SC_FindBytePosSub(Node);
	if (First) {
		return First;
	}
	Message* Msg = SC_FindBytePosSub(((Message*)JB_Ring_Parent(Node)));
	if (Msg) {
		return Msg;
	}
	SCFunction* Fn = SC_Msg_MsgOwningFunc(Node);
	if (Fn) {
		return SC_FindBytePosSub(Fn->Source);
	}
	return nil;
}

Message* SC_FindBytePosSub(Message* Node) {
	if ((!Node) or (Node->Position >= 0)) {
		return Node;
	}
	{
		Message* M = Node;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Node));
		while ((M) and (M != _afterf1)) {
			Message* _N_f2 = ((Message*)JB_Ring_FlatNext0(M));
			if (M->Position >= 0) {
				return M;
			}
			M = _N_f2;
		};
		;
	}
	;
	return nil;
}

bool SC_FuncLinkageTable_cpp_part(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	JB_FreeIfDead(SC_Base__LoadCppPart(Node, Name_space, Node));
	return false;
}

bool SC_FuncLinkageTable_cpp_wrapper(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	return false;
}

bool SC_FuncLinkageTable_ignore(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	return false;
}

bool SC_FuncLinkageTable_maxasm(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if (Fn) {
		Message* N = JB_Msg_NeedSyx(Node, kJB_SyxNum);
		if (N) {
			JB_Msg_ExpectLast(N, nil);
			Fn->MaxASM = JB_Msg_Int(N, 0);
		}
	}
	return true;
}

bool SC_FuncLinkageTable_visible(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	return false;
}

bool SC_FuncPreReader_asm(SCFunction* Self, Message* Msg) {
	JB_SetRef(Self->Intrinsic, JB_Msg_NeedSyx(Msg, kJB_SyxFunc));
	JB_Msg_ExpectLast(Self->Intrinsic, nil);
	return false;
}

bool SC_FuncPreReader_description(SCFunction* Self, Message* Msg) {
	if (SC_Func_SyntaxIs(Self, kSC__FunctionType_Disabled)) {
		JB_Msg_Fail(Msg, JB_LUB[1231]);
		return nil;
	}
	SC_SCBetterNode_ReadDescription(Self, Msg);
	return false;
}

bool SC_FuncPreReader_disabled(SCFunction* Self, Message* Msg) {
	(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_Disabled, true));
	JB_SetRef(Self->Description, JB_LUB[1125]);
	Message* S = ((Message*)JB_Ring_First(Msg));
	if (S) {
		JB_Msg_ExpectString(S);
		JB_SetRef(Self->Description, S->Name);
	}
	return false;
}

bool SC_FuncPreReader_inline(SCFunction* Self, Message* Msg) {
	SC_Msg_ExpectEmpty(Msg);
	SC_Func_MakeLinkInline(Self);
	return false;
}

bool SC_FuncPreReader_nil(SCFunction* Self, Message* Msg) {
	Message* F = JB_Msg_NeedSyx(Msg, kJB_SyxThg);
	if (!F) {
		return nil;
	}
	if (JB_Msg_SyntaxEquals(F, JB_LUB[401], true)) {
		SC_Func_NilSelff(Self, Msg, kSC__NilState_Optional);
	}
	 else if (JB_Msg_SyntaxEquals(F, JB_LUB[1232], true)) {
		SC_Func_MakeNilChecker(Self, Msg);
	}
	 else if (JB_Msg_SyntaxEquals(F, JB_LUB[1233], true)) {
		SC_Func_MakeNilChecker(Self, Msg);
		(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_HidesProperties, true));
		(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_OptInline, true));
		(SC_SCObject_IsVisibleSet(Self, true));
	}
	 else {
		if (true) {
			JB_Msg_Fail(F, nil);
		}
	}
	return false;
}

bool SC_FuncPreReader_numeric(SCFunction* Self, Message* Msg) {
	Message* F = ((Message*)JB_Ring_First(Msg));
	if (F) {
		if (true) {
			JB_Msg_Fail(F, nil);
		}
	}
	(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_NumberCreator, true));
	return false;
}

bool SC_FuncPreReader_opt(SCFunction* Self, Message* Msg) {
	Message* F = JB_Msg_NeedSyx(Msg, kJB_SyxThg);
	if (F) {
		if (JB_Msg_SyntaxEquals(F, JB_LUB[1126], true)) {
			Message* Min = JB_Msg_NextOf(F, kJB_SyxNum, nil);
			if (Min) {
				Self->MinOpt = JB_Msg_Int(Min, 0);
			}
		}
		 else {
			JB_Msg_ExpectLast(F, nil);
			if (JB_Msg_SyntaxEquals(F, JB_LUB[1127], true)) {
				(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_NotRefCounted, true));
			}
			 else if (JB_Msg_SyntaxEquals(F, JB_LUB[1128], true)) {
				(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_OptInline, true));
			}
			 else if (JB_Msg_SyntaxEquals(F, JB_LUB[1129], true)) {
				(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_CantInline, true));
			}
			 else {
				if (true) {
					JB_Msg_Fail(F, nil);
				}
			}
		}
	}
	return false;
}

bool SC_FuncPreReader_real(SCFunction* Self, Message* Msg) {
	Message* F = JB_Msg_NeedSyx(Msg, kJB_SyxThg);
	if (!F) {
		return nil;
	}
	if (JB_Msg_SyntaxEquals(F, JB_LUB[401], true)) {
		SC_Func_NilSelff(Self, Msg, kSC__NilState_Real);
	}
	 else {
		if (true) {
			JB_Msg_Fail(F, nil);
		}
	}
	return false;
}

bool SC_FuncPreReader_todo(SCFunction* Self, Message* Msg) {
	JB_Msg_ExpectLast(JB_Msg_NeedSyx(Msg, kJB_SyxNil), nil);
	JB_Array_SyntaxAppend(SC__Comp_TodoList, Msg);
	return false;
}

bool SC_FuncPreReader_trin(SCFunction* Self, Message* Msg) {
	SC_Func_AddTrin(Self, Msg);
	return false;
}

int JB_Init_() {
	{
		JB_SetRef(JB_StdErr, JB_Rec_Constructor(nil));
		JB_Random = (&JB_RandomShared);
	}
	;
	//// App;
	JB_App__Init_();
	//// Jeebox;
	JB_Constants__Init_();
	//// Parser;
	JB_Tk__Init_();
	//// FlowControl;
	JB_Flow__Init_();
	//// File;
	JB_File__Init_();
	//// JBin;
	JB_bin__Init_();
	//// Macro;
	JB_Macro__Init_();
	JB_InitCode_();
	return 0;
}

int JB_SP_AppInit() {
	JB_SetRef(JB__App__Conf, JB_Str_ParseJbin(JB_LUB[2395], 1073741824));
	//cpp_name;
	JB_SP_AppInitSub_();
	SC__ASM_Forms[1] = (&SC_ASM_U0__Encode);
	SC__ASM_Forms[2] = (&SC_ASM_U1__Encode);
	SC__ASM_Forms[3] = (&SC_ASM_U2__Encode);
	SC__ASM_Forms[4] = (&SC_ASM_U3__Encode);
	SC__ASM_Forms[5] = (&SC_ASM_U4__Encode);
	SC__ASM_Forms[6] = (&SC_ASM_Func__Encode);
	SC__ASM_Forms[7] = (&SC_ASM_ForeignFunc__Encode);
	SC__ASM_Forms[8] = (&SC_ASM_Tail__Encode);
	SC__ASM_Forms[9] = (&SC_ASM_FuncAddr__Encode);
	SC__ASM_Forms[10] = (&SC_ASM_Alloc__Encode);
	SC__ASM_Forms[11] = (&SC_ASM_Jump__Encode);
	SC__ASM_Forms[12] = (&SC_ASM_RotateConst__Encode);
	SC__ASM_Forms[13] = (&SC_ASM_JCmpEq__Encode);
	SC__ASM_Forms[14] = (&SC_ASM_HALT__Encode);
	SC__ASM_Forms[15] = (&SC_ASM_AddOrSubM__Encode);
	SC__ASM_Forms[16] = (&SC_ASM_TERN__Encode);
	SC__ASM_Forms[17] = (&SC_ASM_JCmpI__Encode);
	SC__ASM_Forms[18] = (&SC_ASM_CmpI__Encode);
	SC__ASM_Forms[19] = (&SC_ASM_CmpF__Encode);
	SC__ASM_Forms[20] = (&SC_ASM_JCmpF__Encode);
	SC__ASM_Forms[21] = (&SC_ASM_Compare4__Encode);
	SC__ASM_Forms[22] = (&SC_ASM_JCmpK__Encode);
	SC__ASM_Forms[23] = (&SC_ASM_Bra__Encode);
	SC__ASM_Forms[24] = (&SC_ASM_Loop__Encode);
	SC__ASM_Forms[25] = (&SC_ASM_GTable__Encode);
	SC__ASM_Forms[26] = (&SC_ASM_GObj__Encode);
	SC__ASM_Forms[27] = (&SC_ASM_Read__Encode);
	SC__ASM_Forms[28] = (&SC_ASM_Write__Encode);
	SC__ASM_Forms[29] = (&SC_ASM_MemUtil__Encode);
	SC__ASM_Forms[30] = (&SC_ASM_CNTC__Encode);
	SC__ASM_Forms[31] = (&SC_ASM_BFLD__Encode);
	SC__ASM_Forms[32] = (&SC_ASM_BFLS__Encode);
	SC__ASM_Forms[33] = (&SC_ASM_Convert__Encode);
	SC__ASM_Forms[34] = (&SC_ASM_RET__Encode);
	SC__ASM_Forms[35] = (&SC_ASM_REQ__Encode);
	SC__ASM_Forms[36] = (&SC_ASM_Div__Encode);
	SC__ASM_Forms[37] = (&SC_ASM_Trap__Encode);
	SC__ASM_Forms[38] = (&SC_ASM_Float__Encode);
	SC__ASM_Forms[39] = (&SC_ASM_FloatConst__Encode);
	SC__ASM_Forms[40] = (&SC_ASM_ConstStretchy__Encode);
	SC__ASM_Forms[41] = (&SC_ASM_MemoryCopy__Encode);
	SC__ASM_Forms[42] = (&SC_ASM_AddB__Encode);
	SC__ASM_Forms[43] = (&SC_ASM_AddK__Encode);
	SC__ASM_Forms[44] = (&SC_ASM_AddAK__Encode);
	SC__ASM_Forms[45] = (&SC_ASM_Div2__Encode);
	SC__ASM_Forms[46] = (&SC_ASM_Shift__Encode);
	SC__ASM_Forms[47] = (&SC_ASM_Swap__Encode);
	SC__ASM_Forms[48] = (&SC_ASM_RefSet1__Encode);
	SC__ASM_Forms[49] = (&SC_ASM_RefReturn__Encode);
	SC__ASM_Forms[50] = (&SC_ASM_RefSetApart__Encode);
	SC__ASM_Forms[51] = (&SC_ASM_RefSet2__Encode);
	SC__ASM_Forms[52] = (&SC_ASM_RefSet3__Encode);
	SC__ASM_Forms[53] = (&SC_ASM_RefDecrMem__Encode);
	SC__ASM_Forms[54] = (&SC_ASM_VecMix__Encode);
	SC__ASM_Forms[55] = (&SC_ASM_VecGet__Encode);
	SC__ASM_Forms[56] = (&SC_ASM_VecSet__Encode);
	SC__ASM_Forms[57] = (&SC_ASM_VecBuild__Encode);
	SC__ASM_Forms[58] = (&SC_ASM_VecSwizzle__Encode);
	SC__ASM_Forms[59] = (&SC_ASM_VecConst__Encode);
	SC__ASM_Forms[60] = (&SC_ASM_VecInc__Encode);
	//// ArchonPurger;
	SC_nil__InitCode_();
	//// SCIterator;
	SC_Iter__InitCode_();
	//// SCFunction;
	SC_Func__InitCode_();
	return 0;
}

int JB_SP_AppInitSub_() {
	//cpp_name;
	SC_fn_asm_table[1] = (&SC_ASMType__Argument);
	SC_fn_asm_table[40] = (&SC_ASMType__Argument);
	SC_fn_asm_table[4] = (&SC_ASMType__Decl);
	SC_fn_asm_table[14] = (&SC_ASMType__Num);
	SC_fn_asm_table[17] = (&SC_ASMType__Char);
	SC_fn_asm_table[37] = (&SC_Pac_DoMath);
	SC_fn_asm_table[10] = (&SC_ASMType__Thg);
	SC_fn_asm_table[31] = (&SC_ASMType__First);
	SC_fn_asm_table[30] = (&SC_ASMType__Second);
	SC_fn_asm_table[11] = (&SC_ASMType__Sheb);
	SC_fn_asm_table[15] = (&SC_Pac_Str);
	SC_fn_asm_table[32] = (&SC_Pac_VectorLoad);
	SC_fn_asm_table[25] = (&SC_ASMType__ASMFunction);
	SC_fn_asm_table[23] = (&SC_ASMType__Dot);
	SC_fn_asm_table[29] = (&SC_ASMType__Access);
	SC_fn_asm_table[26] = (&SC_ASMType__BRel);
	SC_fn_asm_table[21] = (&SC_ASMType__ARel);
	SC_fn_asm_table[3] = (&SC_ASMType__TypeCast);
	SC_fn_asm_table[5] = (&SC_ASMType__Unexpected);
	SC_fn_asm_table[(kSC__ASMType_kIf)] = (&SC_Pac_If);
	SC_fn_asm_table[(kSC__ASMType_kWhile)] = (&SC_Pac_While);
	SC_fn_asm_table[(kSC__ASMType_kTern)] = (&SC_Pac_Ternary);
	SC_fn_asm_table[(kSC__ASMType_kContinue)] = (&SC_Pac_Continue);
	SC_fn_asm_table[(kSC__ASMType_kExit)] = (&SC_Pac_Exit);
	SC_fn_asm_table[(kSC__ASMType_kDebugger)] = (&SC_ASMType__Debugger);
	SC_fn_asm_table[(kSC__ASMType_kRejoin)] = (&SC_ASMType__Rejoin);
	SC_fn_asm_table[(kSC__ASMType_kSwap)] = (&SC_ASMType__Swap);
	SC_fn_asm_table[(kSC__ASMType_kReturn)] = (&SC_ASMType__Return);
	SC_fn_asm_table[(kSC__ASMType_kSetRel)] = (&SC_ASMType__SetRel);
	SC_fn_asm_table[(kSC__ASMType_kStatExpr)] = (&SC_ASMType__StatExpr);
	SC_fn_asm_table[(kSC__ASMType_kRefCount)] = (&SC_Pac_RefCount);
	SC_fn_asm_table[(kSC__ASMType_kSwizzle)] = (&SC_Pac_VecSwizzle);
	SC_fn_asm_table[(kSC__ASMType_kIgnore)] = (&SC_ASMType__Ignore);
	SC_fn_asm_table[(kSC__ASMType_kFail)] = (&SC_ASMType__Ignore);
	SC_fn_asm_table[63] = (&SC_ASMType__Unexpected);
	//;
	JB_SetRef(SC_CppRefTable, (JB_Dict_Constructor(nil)));
	(JB_Dict_ValueSet(SC_CppRefTable, JB_LUB[1199], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_CppRefTable_disowns)))));
	(JB_Dict_ValueSet(SC_CppRefTable, JB_LUB[1198], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_CppRefTable_disturbs)))));
	(JB_Dict_ValueSet(SC_CppRefTable, JB_LUB[2370], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__Tran_CppRefs)))));
	JB_SetRef(SC_ErrorDelayer, JB_Rec_Constructor(nil));
	JB_SetRef(SC_FuncPreReader, (JB_Dict_Constructor(nil)));
	(JB_Dict_ValueSet(SC_FuncPreReader, JB_LUB[2040], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FuncPreReader_asm)))));
	(JB_Dict_ValueSet(SC_FuncPreReader, JB_LUB[2371], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FuncPreReader_trin)))));
	(JB_Dict_ValueSet(SC_FuncPreReader, JB_LUB[1994], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FuncPreReader_disabled)))));
	(JB_Dict_ValueSet(SC_FuncPreReader, JB_LUB[781], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FuncPreReader_todo)))));
	(JB_Dict_ValueSet(SC_FuncPreReader, JB_LUB[169], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FuncPreReader_numeric)))));
	(JB_Dict_ValueSet(SC_FuncPreReader, JB_LUB[1128], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FuncPreReader_inline)))));
	(JB_Dict_ValueSet(SC_FuncPreReader, JB_LUB[633], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FuncPreReader_opt)))));
	(JB_Dict_ValueSet(SC_FuncPreReader, JB_LUB[100], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FuncPreReader_nil)))));
	(JB_Dict_ValueSet(SC_FuncPreReader, JB_LUB[101], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FuncPreReader_real)))));
	(JB_Dict_ValueSet(SC_FuncPreReader, JB_LUB[1995], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FuncPreReader_description)))));
	JB_SetRef(SC_FuncLinkageTable, (JB_Dict_Constructor(nil)));
	(JB_Dict_ValueSet(SC_FuncLinkageTable, JB_LUB[1177], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FuncLinkageTable_cpp_wrapper)))));
	(JB_Dict_ValueSet(SC_FuncLinkageTable, JB_LUB[1243], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FuncLinkageTable_cpp_part)))));
	(JB_Dict_ValueSet(SC_FuncLinkageTable, JB_LUB[2348], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__Tran_CppRefs)))));
	(JB_Dict_ValueSet(SC_FuncLinkageTable, JB_LUB[1130], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FuncLinkageTable_visible)))));
	(JB_Dict_ValueSet(SC_FuncLinkageTable, JB_LUB[635], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FuncLinkageTable_ignore)))));
	(JB_Dict_ValueSet(SC_FuncLinkageTable, JB_LUB[2372], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_FuncLinkageTable_maxasm)))));
	JB_SetRef(SC_ClassOrModuleLinkage, (JB_Dict_Constructor(nil)));
	(JB_Dict_ValueSet(SC_ClassOrModuleLinkage, JB_LUB[1177], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_ClassOrModuleLinkage_cpp_wrapper)))));
	(JB_Dict_ValueSet(SC_ClassOrModuleLinkage, JB_LUB[1243], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_ClassOrModuleLinkage_cpp_part)))));
	(JB_Dict_ValueSet(SC_ClassOrModuleLinkage, JB_LUB[2348], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__Tran_CppRefs)))));
	(JB_Dict_ValueSet(SC_ClassOrModuleLinkage, JB_LUB[1901], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_ClassOrModuleLinkage_cpp_class)))));
	(JB_Dict_ValueSet(SC_ClassOrModuleLinkage, JB_LUB[1130], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_ClassOrModuleLinkage_visible)))));
	(JB_Dict_ValueSet(SC_ClassOrModuleLinkage, JB_LUB[635], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_ClassOrModuleLinkage_ignore)))));
	(JB_Dict_ValueSet(SC_ClassOrModuleLinkage, JB_LUB[2373], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_ClassOrModuleLinkage_noearlyfree)))));
	(JB_Dict_ValueSet(SC_ClassOrModuleLinkage, JB_LUB[2374], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_ClassOrModuleLinkage_embedded)))));
	(JB_Dict_ValueSet(SC_ClassOrModuleLinkage, JB_LUB[1131], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_ClassOrModuleLinkage_libinternal)))));
	(JB_Dict_ValueSet(SC_ClassOrModuleLinkage, JB_LUB[2375], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_ClassOrModuleLinkage_sort_properties)))));
	(JB_Dict_ValueSet(SC_ClassOrModuleLinkage, JB_LUB[2376], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_ClassOrModuleLinkage_tighten)))));
	(JB_Dict_ValueSet(SC_ClassOrModuleLinkage, JB_LUB[2377], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_ClassOrModuleLinkage_wrapper)))));
	(JB_Dict_ValueSet(SC_ClassOrModuleLinkage, JB_LUB[2378], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_ClassOrModuleLinkage_stateless)))));
	(JB_Dict_ValueSet(SC_ClassOrModuleLinkage, JB_LUB[2379], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_ClassOrModuleLinkage_stateful)))));
	(JB_Dict_ValueSet(SC_ClassOrModuleLinkage, JB_LUB[448], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_ClassOrModuleLinkage_datatype)))));
	(JB_Dict_ValueSet(SC_ClassOrModuleLinkage, JB_LUB[169], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_ClassOrModuleLinkage_numeric)))));
	JB_SetRef(SC_RootCollectTable, (JB_Dict_Constructor(nil)));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[2380], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_SCGame3D__Love)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[632], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewFunc)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[2381], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewFunc)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[1134], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewFunc)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[93], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewCppWrapper)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[1177], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewCppWrapper)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[92], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewCppWrapper)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[1133], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewHelper)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[1131], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewHelper)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[1128], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewHelper)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[1132], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewHelper)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[2078], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewMacro)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[2382], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_SCThe__NewInsertion)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[2262], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Comp__WrongConf)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[2177], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_RootCollectTable_crash)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[447], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Mod__NeuModule)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[2383], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_RootCollectTable_static)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[446], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Class__NeuClass)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[1161], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_SCTasks__NewTask)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[450], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Class__NeuRole)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[2384], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_SC_API__NewExportAPI)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[2385], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_SCGame3D__NeuModel)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[1140], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewProtoType)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[1098], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewRender)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[930], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Imp__DoImport))))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[639], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Class__LoadSyntax)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[451], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_CppRefs__Linkage)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[449], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Class__NewStruct)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[448], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Class__NewDataType)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[2110], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Class__StoreExtend)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[452], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Class__StoreExtendModule)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[2386], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_RootCollectTable_extends)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[11], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NeuMain)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[1240], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NeuLibrary)))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[635], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_DontRemove))))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[1243], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Base__LoadCppPart))))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[2139], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Mod__ConstantCollector))))));
	(JB_Dict_ValueSet(SC_RootCollectTable, JB_LUB[1182], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Mod__ConstantCollector))))));
	JB_SetRef(SC_ClsCollectTable, (JB_Dict_Constructor(nil)));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1137], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewConstructor)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[56], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewDestructor)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1098], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewRender)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1135], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewHider)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[632], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewFunc)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[2381], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewFunc)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1134], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewFunc)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[2078], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewMacro)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1128], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewHelper)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1133], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewHelper)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1131], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewHelper)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1132], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewHelper)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[97], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Beh__NewActual)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[98], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Beh__NewActual)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[2387], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Beh__NewVirtual)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[2077], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Iter__NeuIter)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1151], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NeuSyx)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1177], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewCppWrapper)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[93], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewCppWrapper)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1140], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__NewProtoType)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[639], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Class__LoadSyntax)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1364], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Class__LoadSyntax)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[2388], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Class__ProcessAs)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[2348], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_CppRefs__ReadIntoCppRefs)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[451], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_CppRefs__Linkage)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1995], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_ClsCollectTable_description)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[446], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Class__NewInnerClass)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[450], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Class__NewInnerClass)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1161], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_SCTasks__NewTask)))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[2389], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Mod__DoInitAfter))))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[635], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_DontRemove))))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[2390], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_DontRemove))))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1243], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_DontRemove))))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1901], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_DontRemove))))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1900], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_DontRemove))))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1276], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_DontRemove))))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1430], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Class__GetDefault))))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[7], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Class__GetFalse))))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1045], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Class__SetSize))))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[447], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_DontRemove))))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[2139], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Mod__ConstantCollector))))));
	(JB_Dict_ValueSet(SC_ClsCollectTable, JB_LUB[1182], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Mod__ConstantCollector))))));
	JB_SetRef(SC_fs_tmp_num, JB_FS_Constructor(nil));
	SC_ExprFuncs[37] = ((&SC_TypeOfRel));
	SC_ExprFuncs[26] = ((&SC_TypeOfBRel));
	SC_ExprFuncs[21] = ((&SC_TypeOfARel));
	SC_ExprFuncs[27] = ((&SC_TypeOfAdj));
	SC_ExprFuncs[25] = ((&SC_TypeOfFunc));
	SC_ExprFuncs[29] = ((&SC_TypeOfAccess));
	SC_ExprFuncs[13] = ((&SC_TypeOfSthg));
	SC_ExprFuncs[23] = ((&SC_TypeOfDot));
	SC_ExprFuncs[22] = ((&SC_TypeOfSyx));
	SC_ExprFuncs[32] = ((&SC_TypeOfList));
	SC_ExprFuncs[34] = ((&SC_TypeOfArr));
	SC_ExprFuncs[1] = ((&SC_TypeOfArgArr));
	SC_ExprFuncs[17] = ((&SC_TypeOfChar));
	SC_ExprFuncs[15] = ((&SC_TypeOfSString));
	SC_ExprFuncs[30] = ((&SC_TypeOfLast));
	SC_ExprFuncs[31] = ((&SC_TypeOfBra));
	SC_ExprFuncs[19] = ((&SC_TypeOfStr));
	SC_ExprFuncs[16] = ((&SC_TypeOfStr));
	SC_ExprFuncs[14] = ((&SC_TypeOfNum));
	SC_ExprFuncs[20] = ((&SC_TypeOfUnit));
	SC_ExprFuncs[10] = ((&SC_TypeOfThg));
	SC_ExprFuncs[7] = ((&SC_TypeOfQues));
	SC_ExprFuncs[24] = ((&SC_TypeOfSDot));
	SC_ExprFuncs[3] = ((&SC_TypeOfType));
	SC_ExprFuncs[2] = ((&SC_TypeOfNothing));
	SC_ExprFuncs[11] = ((&SC_TypeOfNothing));
	SC_ExprFuncs[63] = ((&SC_TypeOfNothing));
	//;
	//// AutoComplete;
	SC_AutoComplete__Init_();
	//// Compiler;
	SC_Comp__Init_();
	//// Feedback;
	SC_FB__Init_();
	//// Interact;
	SC_AC__Init_();
	//// Intrinsics;
	SC_Intrinsics__Init_();
	//// Linkage;
	SC_Linkage__Init_();
	//// Macros;
	SC_Macros__Init_();
	//// Options;
	SC_Options__Init_();
	//// PackMaker;
	SC_PackMaker__Init_();
	//// SCGame3D;
	SC_SCGame3D__Init_();
	//// SCTasks;
	SC_SCTasks__Init_();
	//// SC_Errors;
	SC_Errors__Init_();
	//// SC_Targets;
	SC_SC_Targets__Init_();
	//// StringCorrector;
	SC_Crkt__Init_();
	//// StructStuff;
	SC_StructStuff__Init_();
	//// TransCompiler;
	SC_Ext__Init_();
	//// VM_Builder;
	SC_VM_Builder__Init_();
	//// ASM;
	SC_ASM__Init_();
	//// NilReason;
	SC_NilReason__Init_();
	//// ArchonPurger;
	SC_nil__Init_();
	//// Assembler;
	SC_Pac__Init_();
	//// Cpp_Export;
	SC_Cpp__Init_();
	//// SCImport;
	SC_Imp__Init_();
	//// SCOperator;
	SC_Opp__Init_();
	//// Form;
	SC_xC2xB5Form__Init_();
	//// SCNode;
	SC_Base__Init_();
	//// SCFunction;
	SC_Func__Init_();
	//// Instruction;
	SC_Instruction__Init_();
	return 0;
}

int JB_InitCode_() {
	{
	}
	;
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Nil__)), JB_LUB[100], JB_LUB[701], 0);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Arg__)), JB_LUB[702], JB_LUB[703], 1);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Emb__)), JB_LUB[704], JB_LUB[705], 2);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Type__)), JB_LUB[706], JB_LUB[707], 3);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Decl__)), JB_LUB[708], JB_LUB[553], 4);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Tmp__)), JB_LUB[709], JB_LUB[554], 5);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Oat__)), JB_LUB[710], JB_LUB[711], 6);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Ques__)), JB_LUB[712], JB_LUB[713], 7);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Cnj__)), JB_LUB[714], JB_LUB[715], 8);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Opp__)), JB_LUB[716], JB_LUB[557], 9);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Thg__)), JB_LUB[717], JB_LUB[718], 10);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Sheb__)), JB_LUB[719], JB_LUB[720], 11);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_SCnj__)), JB_LUB[721], JB_LUB[722], 12);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_SThg__)), JB_LUB[723], JB_LUB[724], 13);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Num__)), JB_LUB[725], JB_LUB[726], 14);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_SStr__)), JB_LUB[727], JB_LUB[728], 15);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Back__)), JB_LUB[729], JB_LUB[730], 16);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Char__)), JB_LUB[165], JB_LUB[731], 17);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Bin__)), JB_LUB[630], JB_LUB[732], 18);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Str__)), JB_LUB[597], JB_LUB[733], 19);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Unit__)), JB_LUB[734], JB_LUB[0], 20);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_ARel__)), JB_LUB[735], JB_LUB[736], 21);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Name__)), JB_LUB[737], JB_LUB[0], 22);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Dot__)), JB_LUB[738], JB_LUB[739], 23);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_SDot__)), JB_LUB[740], JB_LUB[741], 24);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Func__)), JB_LUB[742], JB_LUB[743], 25);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_BRel__)), JB_LUB[744], JB_LUB[745], 26);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Adj__)), JB_LUB[746], JB_LUB[747], 27);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Badj__)), JB_LUB[748], JB_LUB[749], 28);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Acc__)), JB_LUB[750], JB_LUB[751], 29);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Item__)), JB_LUB[752], JB_LUB[0], 30);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Bra__)), JB_LUB[753], JB_LUB[754], 31);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_List__)), JB_LUB[755], JB_LUB[0], 32);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Prm__)), JB_LUB[756], JB_LUB[757], 33);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Arr__)), JB_LUB[598], JB_LUB[758], 34);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_File__)), JB_LUB[600], JB_LUB[759], 35);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Quot__)), JB_LUB[760], JB_LUB[761], 36);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Rel__)), JB_LUB[762], JB_LUB[763], 37);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_ERel__)), JB_LUB[764], JB_LUB[765], 38);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_TRel__)), JB_LUB[766], JB_LUB[767], 39);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Tril__)), JB_LUB[768], JB_LUB[769], 40);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_pinn__)), JB_LUB[770], JB_LUB[771], 41);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_binn__)), JB_LUB[772], JB_LUB[773], 42);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Ask__)), JB_LUB[774], JB_LUB[0], 43);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Yoda__)), JB_LUB[775], JB_LUB[776], 44);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_SCom__)), JB_LUB[777], JB_LUB[778], 45);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Msg__)), JB_LUB[779], JB_LUB[780], 46);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_Todo__)), JB_LUB[781], JB_LUB[782], 47);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_URL__)), JB_LUB[783], JB_LUB[784], 48);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_XAtt__)), JB_LUB[785], JB_LUB[786], 49);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_XML__)), JB_LUB[787], JB_LUB[788], 50);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_XPI__)), JB_LUB[789], JB_LUB[790], 51);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_XCom__)), JB_LUB[791], JB_LUB[792], 52);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_XCDT__)), JB_LUB[793], JB_LUB[794], 53);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_XTxt__)), JB_LUB[795], JB_LUB[796], 54);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_XDTD__)), JB_LUB[797], JB_LUB[798], 55);
	JB_Syx__StdNew(((FP_fpMsgRender)(JB_Msg_max__)), JB_LUB[799], JB_LUB[800], 56);
	//// Jeebox;
	JB_Constants__InitCode_();
	//// Parser;
	JB_Tk__InitCode_();
	//// CharSet;
	JB_CharSet__InitCode_();
	//// RandomXOR;
	JB_Rnd__InitCode_();
	//// FlowControl;
	JB_Flow__InitCode_();
	return 0;
}

SCDecl* SC_IsPointerMath(SCDecl* L, SCDecl* R, SCOperator* Opp, Message* Exp) {
	if (((bool)SC_Opp_SyntaxIs(Opp, kSC__OpMode_Custom))) {
		return nil;
	}
	if (SC_Opp_SyntaxIs(Opp, kSC__OpMode_Addition)) {
		if ((L->PointerCount) and (SC_Decl_IsNumeric(R) == 1)) {
			return L;
		}
		if ((R->PointerCount) and (SC_Decl_IsNumeric(L) == 1)) {
			if (((bool)SC_Opp_SyntaxIs(Opp, kSC__OpMode_MakesSigned))) {
				JB_Msg_Fail(Exp, JB_LUB[1962]);
				return nil;
			}
			return R;
		}
		if ((R->PointerCount) and ((L->PointerCount) and (Opp == SC__Opp_Subtract))) {
			JB_FreeIfDead(SC_Decl_ExpectMatch(L, R, 0, Exp, nil));
			return SC_TypeInt64->TypeNormal;
		}
	}
	return nil;
}

void SC_ListFunctionsSub(JB_Object* O, Array* Out) {
	if (JB_Object_FastIsa(O, &SCDeclData)) {
		O = ((SCDecl*)((SCDecl*)O)->HiderFunc);
	}
	if (JB_Object_FastIsa(O, &SCFunctionData)) {
		{
			SCFunction* F = ((SCFunction*)O);
			while (F) {
				JB_Array_SyntaxAppend(Out, F);
				F = F->NextFunc;
			};
		};
	}
}

SCDecl* SC_LowlevelArrayTransform(Message* Exp, SCClass* Cls) {
	Message* Ty = ((Message*)JB_Ring_First(Exp));
	JB_Incr(Ty);
	Message* Prms = ((Message*)JB_Ring_NextSib(Ty));
	JB_Incr(Prms);
	if (JB_Msg_EqualsSyx(Prms, kJB_SyxOpp)) {
		Message* _tmPf1 = ((Message*)JB_Ring_NextSib(Prms));
		JB_Incr(_tmPf1);
		JB_Tree_SyntaxAppend(Prms, _tmPf1);
		JB_Decr(_tmPf1);
		JB_SetRef(Prms->Name, JB_LUB[0]);
	}
	JB_Msg_BecomeStr(Exp, kJB_SyxDot, JB_LUB[572]);
	JB_SetRef(Ty->Name, JB_LUB[823]);
	JB_Decr(Ty);
	Prms->Func = kJB_SyxPrm;
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Exp, (&_usingf0));
		JB_Msg_AppendNum(Prms, Cls->ClsSize);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Exp);
		JB_MsgPos_Destructor((&_usingf0));
	}
	JB_Decr(Prms);
	SCDecl* MemWrapper = SC_TypeOfExpr(Exp, SC__Comp_Program, nil);
	JB_Incr(MemWrapper);
	if (MemWrapper) {
		JB_SetRef(MemWrapper, SC_Decl_CopyDecl(MemWrapper, false));
		JB_SetRef(MemWrapper->Contains, Cls->TypeOptional);
	}
	JB_SafeDecr(MemWrapper);
	return MemWrapper;
}

Message* SC_MakeDecl(JB_String* Type, JB_String* Name, Message* Value, SCDeclInfo Purpose) {
	Message* Rz = nil;
	Rz = JB_Syx_Msg(kJB_SyxDecl, JB_LUB[0]);
	Message* F = Rz;
	if (SC_SCDeclInfo_SyntaxIs(Purpose, kSC__SCDeclInfo_Borrowed)) {
		F = JB_Msg_Msg(F, kJB_SyxARel, JB_LUB[407]);
	}
	F = JB_Msg_Msg(F, kJB_SyxEmb, JB_LUB[0]);
	if (JB_Str_Exists(Type)) {
		F->Func = kJB_SyxName;
		JB_SetRef(F->Name, Type);
	}
	if (!Value) {
		JB_Msg_AppendSyx(Rz, kJB_SyxThg, Name);
		return Rz;
	}
	Message* Rel = JB_Msg_Msg(Rz, kJB_SyxRel, JB_LUB[0]);
	Message* NameMsg = JB_Msg_Msg(Rel, kJB_SyxThg, Name);
	JB_Msg_AppendSyx(Rel, kJB_SyxOpp, JB_LUB[455]);
	JB_Tree_SyntaxAppend(Rel, Value);
	SCDecl* O = ((SCDecl*)JB_Object_FastAs(Value->Obj, &SCDeclData));
	if (O) {
		SCDecl* Dcl = SC_Decl_CopyDecl(O, true);
		Dcl->mu.Info = (Dcl->mu.Info | Purpose);
		(SC_Decl_NameSet(Dcl, Name));
		JB_SetRef(Dcl->Default, Value);
		JB_SetRef(NameMsg->Obj, Dcl);
		JB_SetRef(Rel->Obj, Dcl);
		JB_SetRef(Rz->Obj, Dcl);
		JB_SetRef(F->Obj, Dcl);
	}
	return Rz;
}

Message* SC_MakeDeclOrRel(Message* Into, Message* Namemsg, Message* Value) {
	JB_Incr(Value);
	Message* Rz = nil;
	JB_Incr(Rz);
	if (!Into) {
		JB_EarlyDecr(Value);
		JB_EarlyDecr(Rz);
		return nil;
	}
	JB_SetRef(Rz, JB_Syx_Msg(kJB_SyxDecl, JB_LUB[0]));
	JB_Msg_AppendSyx(Rz, kJB_SyxEmb, JB_LUB[0]);
	if (Value) {
		JB_SetRef(Value, SC_NewEqRelWithMsgMsg(Namemsg, Value));
	}
	 else {
		JB_SetRef(Value, Namemsg);
	}
	JB_Tree_SyntaxAppend(Rz, Value);
	JB_Decr(Value);
	(JB_Ring_FirstSet(Into, Rz));
	JB_SafeDecr(Rz);
	return Rz;
}

void SC_MoveFutureStaticsIn(Message* Msg) {
	if (!Msg) {
		return;
	}
	{
		Message* _LoopSrcf1 = ((Message*)JB_Ring_NextSib(Msg));
		Message* Ch = _LoopSrcf1;
		while (Ch) {
			if (SC_Msg_OperatorIsTmp(Ch, JB_LUB[447])) {
				SC_Msg_AppendAllInto(JB_Msg_Last(Ch, kJB_SyxArg), ((Message*)JB_Ring_Last(Msg)));
			}
			Ch = ((Message*)JB_Ring_NextSib(Ch));
		};
		;
	};
}

Message* SC_NewDeclWithStrMsg(JB_String* Type, Message* RelOrName) {
	Message* Rz = nil;
	Rz = JB_Syx_Msg(kJB_SyxDecl, JB_LUB[0]);
	if (JB_Str_Exists(Type)) {
		JB_Msg_AppendSyx(Rz, kJB_SyxThg, Type);
	}
	 else {
		JB_Msg_AppendSyx(Rz, kJB_SyxEmb, JB_LUB[0]);
	}
	JB_Tree_SyntaxAppend(Rz, RelOrName);
	return Rz;
}

Message* SC_NewDeclNumConst(SCDecl* D, int64 N, JB_String* VarName, bool Shifts) {
	Message* Rz = nil;
	if (!D) {
		D = SC_Decl_Constructor(nil, SC_TypeInt);
	}
	Rz = SC_int64_MsgForConst(N, Shifts);
	JB_SetRef(Rz->Obj, D);
	if ((N < kJB__int_Min) or (N > kJB__int_Max)) {
		JB_SetRef(D->Type, SC_TypeInt64);
	}
	(SC_Decl_NameSet(D, VarName));
	(SC_Decl_NumberConstSet(D, N));
	if (JB_Str_Exists(VarName)) {
		JB_SetRef(D->Default, Rz);
	}
	return Rz;
}

Message* SC_NewEqRelWithMsgMsg(Message* L, Message* R) {
	Message* Rz = nil;
	Rz = JB_Syx_Msg(kJB_SyxRel, JB_LUB[0]);
	JB_Tree_SyntaxAppend(Rz, L);
	Message* Op = JB_Msg_Msg(Rz, kJB_SyxOpp, JB_LUB[455]);
	JB_SetRef(Op->Obj, SC__Opp_Assigns);
	JB_Tree_SyntaxAppend(Rz, R);
	(SC_Msg_ASMTypeSet(Rz, kSC__ASMType_kSetRel));
	return Rz;
}

Message* SC_NewEqRelWithStrStr(JB_String* L, JB_String* R) {
	return SC_NewEqRelWithMsgMsg(JB_Syx_OperatorPlus(kJB_SyxThg, L), JB_Syx_OperatorPlus(kJB_SyxThg, R));
}

Message* SC_NewFnc(JB_String* Name) {
	Message* Rz = nil;
	Rz = JB_Syx_Msg(kJB_SyxFunc, JB_LUB[0]);
	JB_Msg_AppendSyx(Rz, kJB_SyxThg, Name);
	JB_Msg_AppendSyx(Rz, kJB_SyxPrm, JB_LUB[0]);
	return Rz;
}

Message* SC_NewRejoin() {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[454]));
	(SC_Msg_ASMTypeSet(Rz, kSC__ASMType_kRejoin));
	JB_SafeDecr(Rz);
	return Rz;
}

Message* SC_NewRel(Message* L, Message* R, JB_String* Op) {
	Message* Rz = nil;
	Rz = JB_Syx_Msg(kJB_SyxRel, JB_LUB[0]);
	JB_Tree_SyntaxAppend(Rz, L);
	JB_Msg_AppendSyx(Rz, kJB_SyxOpp, Op);
	JB_Tree_SyntaxAppend(Rz, R);
	return Rz;
}

SCDecl* SC_Or_And_Expansion(SCDecl* LC, SCDecl* RC, Message* Exp, SCNode* Name_space) {
	bool LBool = SC_Decl_MiniMatch(LC, SC_TypeBool->TypeNormal, 0);
	bool RBool = SC_Decl_MiniMatch(RC, SC_TypeBool->TypeNormal, 0);
	if (RBool and LBool) {
		return LC;
	}
	Message* Ch0 = ((Message*)JB_Ring_First(Exp));
	JB_Incr(Ch0);
	Message* _tmPf0 = ((Message*)JB_Ring_NextSib(Ch0));
	JB_Incr(_tmPf0);
	Message* Ch2 = ((Message*)JB_Ring_NextSib(_tmPf0));
	JB_Incr(Ch2);
	JB_Decr(_tmPf0);
	if ((!LBool) and LC->Type->TheBoolFunc) {
		JB_FreeIfDead(SC_Msg_ExpandToBool(Ch0, Name_space));
	}
	JB_Decr(Ch0);
	if ((!RBool) and RC->Type->TheBoolFunc) {
		JB_FreeIfDead(SC_Msg_ExpandToBool(Ch2, Name_space));
	}
	JB_EarlyDecr(Ch2);
	return SC_TypeBool->TypeNormal;
}

void JB_Obj_Print(JB_Object* O) {
	//cpp_name;
	JB_String* _tmPf0 = JB_Obj_Render(O, nil);
	JB_Incr(_tmPf0);
	JB_Print(_tmPf0);
	JB_Decr(_tmPf0);
}

void SC_RelSetOrExpansion(Message* Exp) {
	Message* L = ((Message*)JB_Ring_First(Exp));
	JB_Incr(L);
	Message* R = ((Message*)JB_Ring_Last(Exp));
	JB_Incr(R);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Exp, (&_usingf0));
	JB_Tree_Clear(Exp);
	SC_Msg_AppendAllInto(L, Exp);
	JB_Decr(L);
	Message* _tmPf1 = ((Message*)JB_Ring_First(R));
	JB_Incr(_tmPf1);
	Message* Cond = JB_Msg_Copy(_tmPf1, nil);
	JB_Incr(Cond);
	JB_Decr(_tmPf1);
	Message* Tmp = JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[397]);
	JB_Incr(Tmp);
	Message* _tmPf2 = SC_Msg_Negate(Cond);
	JB_Incr(_tmPf2);
	JB_Decr(Cond);
	JB_Tree_SyntaxAppend(Tmp, _tmPf2);
	JB_Decr(_tmPf2);
	Message* _tmPf3 = JB_Msg_Msg(Tmp, kJB_SyxArg, JB_LUB[0]);
	JB_Incr(_tmPf3);
	JB_Tree_SyntaxAppend(_tmPf3, R);
	JB_Decr(R);
	JB_Decr(_tmPf3);
	Message* P = ((Message*)JB_Ring_Parent(Exp));
	JB_Incr(P);
	Message* _tmPf4 = ((Message*)JB_Ternary((JB_Msg_EqualsSyx(P, kJB_SyxDecl)), P, Exp));
	JB_Incr(_tmPf4);
	JB_Decr(P);
	(JB_Ring_NextSibSet((_tmPf4), Tmp));
	JB_Decr(Tmp);
	JB_Decr(_tmPf4);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Exp);
	JB_MsgPos_Destructor((&_usingf0));
}

SCNode* SC_RootCollectTable_crash(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	JB_String* _tmPf0 = JB_Msg_FirstName(Node);
	JB_Incr(_tmPf0);
	JB_App__Crash(_tmPf0);
	JB_EarlyDecr(_tmPf0);
	return nil;
}

SCNode* SC_RootCollectTable_extends(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	if (true) {
		JB_Msg_Fail(Node, JB_LUB[1023]);
	}
	return SC__Comp_Program;
}

SCNode* SC_RootCollectTable_static(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	if (true) {
		JB_Msg_Fail(Node, JB_LUB[1024]);
	}
	return nil;
}

SCDecl* SC_SameTypeSub(Message* First, Message* Second, SCNode* Name_space) {
	SCDecl* Rz = nil;
	SCDecl* T1 = SC_TypeOfExpr(First, Name_space, nil);
	SCDecl* T2 = SC_TypeOfExpr(Second, Name_space, nil);
	if (!(T1 and T2)) {
		return nil;
	}
	if (SC_Decl_IsNil(T1)) {
		SC_Decl_TypeMatch(T2, T1, kJB_kTypeCastTrue, First);
		return SC_Decl_AvoidGlobals(T2);
	}
	if (SC_Decl_IsNil(T2)) {
		SC_Decl_TypeMatch(T1, T2, kJB_kTypeCastTrue, Second);
		return SC_Decl_AvoidGlobals(T1);
	}
	bool Obj1 = SC_Decl_IsNormalObject(T1);
	bool Obj2 = SC_Decl_IsNormalObject(T2);
	if (Obj1 and Obj2) {
		0;
	}
	 else if ((!Obj1) and (!Obj2)) {
		Rz = SC_Decl_Better_Numeric(T1, T2, 0, First, Second);
	}
	 else if (Obj1) {
		T2 = SC_Decl_NewWrapper(T2, T2);
	}
	 else {
		T1 = SC_Decl_NewWrapper(T1, T1);
	}
	if (!Rz) {
		Rz = SC_Decl_HighestMatch(T1, T2);
		if (!Rz) {
			return SC_Decl_AvoidGlobals(T1);
		}
	}
	if (!SC_Decl_MiniMatch(Rz, T2, 0)) {
		JB_FreeIfDead(SC_Decl_CreateSimpleTypeCast(Rz, Second));
	}
	if (!SC_Decl_MiniMatch(Rz, T1, 0)) {
		JB_FreeIfDead(SC_Decl_CreateSimpleTypeCast(Rz, First));
	}
	return Rz;
}

Message* SC_SettingAProperty(Message* Rel) {
	if (!SC_Msg_IsSetRel(Rel)) {
		return nil;
	}
	Message* F = ((Message*)JB_Ring_First(Rel));
	if (F and SC_Msg_DotType(F)) {
		return F;
	}
	return nil;
}

bool SC_SettingMemory(Message* Rel) {
	if (!SC_Msg_IsSetRel(Rel)) {
		return nil;
	}
	Message* F = ((Message*)JB_Ring_First(Rel));
	if (!F) {
		return nil;
	}
	if (F->Func == kJB_SyxAcc) {
		return true;
	}
	JB_Object* D = F->Obj;
	if (JB_Object_FastIsa(D, &SCDeclData)) {
		return SC_Decl_SyntaxIs(((SCDecl*)D), kSC__SCDeclInfo_Property) or SC_Decl_SyntaxIs(((SCDecl*)D), kSC__SCDeclInfo_Global);
	}
	return false;
}

bool SC_SettingSelfProperty(Message* Rel) {
	Message* Dot = SC_SettingAProperty(Rel);
	if (Dot) {
		return (SC_Msg_OperatorIsThing(((Message*)JB_Ring_First(Dot)), JB_LUB[401]));
	}
	return false;
}

SortComparison SC_SimplestFirst(SCDecl* Self, SCDecl* B) {
	SortComparison Rz = ((SortComparison)0);
	int64 BX = SC_Decl_ExportPosition(B);
	int64 SX = SC_Decl_ExportPosition(Self);
	int64 Exp = BX - SX;
	if (Exp) {
		if ((!BX) != (!SX)) {
			return ((SortComparison)(BX <= 0));
		}
		return Exp;
	}
	int BComp = SC_Decl_Complexity(B) - SC_Decl_Complexity(Self);
	if (BComp) {
		return ((SortComparison)BComp);
	}
	Rz = ((SortComparison)(SC_Decl_CArraySize(B, 1) - SC_Decl_CArraySize(Self, 1)));
	if (!Rz) {
		SCDecl* Bi = B->Internal;
		SCDecl* Bs = Self->Internal;
		if (Bi and Bs) {
			Rz = ((SortComparison)(SC_Decl_Complexity(Bi) - SC_Decl_Complexity(Bs)));
		}
	}
	return Rz;
}

SortComparison SC_SmallestAlignedFirst(SCDecl* Self, SCDecl* B) {
	return ((SortComparison)(SC_Decl_Alignment(B, true) - SC_Decl_Alignment(Self, true)));
}

Array* SC_SortInitOrder(Array* Mods) {
	Array* Rz = ((Array*)JB_Array_Constructor0(nil));
	JB_Incr(Rz);
	while (SC_SortInitOrderSub(Mods, Rz)) {
		0;
	};
	JB_SafeDecr(Rz);
	return Rz;
}

bool SC_SortInitOrderSub(Array* Mods, Array* Out) {
	SCModule* Failed = nil;
	bool GotAny = false;
	{
		int _if0 = 0;
		while (true) {
			SCModule* M = ((SCModule*)JB_Array_Value(Mods, _if0));
			if (M == nil) {
				break;
			}
			if (!JB_Rec_OK(JB_StdErr)) {
				return nil;
			}
			if (M->Inited) {
			}
			 else if (SC_Mod_TryInit(M, Out)) {
				GotAny = true;
			}
			 else {
				Failed = M;
			}
			(++_if0);
		};
	}
	;
	if (!(GotAny or (!Failed))) {
		JB_Msg_Fail(Failed->Source, JB_LUB[1417]);
		return nil;
	}
	return ((bool)Failed);
}

__lib__ ErrorInt Speedie_Main(PicoComms* Comms, int64 Mode, _cstring* Args) {
	ErrorInt Rz = 0;
	//cpp_name;
	Rz = JB_SP_Run(Args, Mode & 4);
	JB_FreeIfDead(JB_Pico_UseAsParent(Comms));
	if (Rz == 0) {
		Rz = JB_SP_Run(Args, Mode);
	}
	return Rz;
}

bool SC_TemporalStatements_alert(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if (true) {
		JB_Msg_Fail(Node, JB_LUB[1033]);
	}
	return false;
}

bool SC_TemporalStatements_break(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if (true) {
		JB_Msg_Fail(Node, JB_LUB[1034]);
	}
	return false;
}

bool SC_TemporalStatements_crash(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	JB_String* _tmPf0 = JB_Msg_FirstName(Node);
	JB_Incr(_tmPf0);
	JB_App__Crash(_tmPf0);
	JB_EarlyDecr(_tmPf0);
	return nil;
}

bool SC_TemporalStatements_do(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if (true) {
		JB_Msg_Fail(Node, JB_LUB[1035]);
	}
	return false;
}

void SC_Tran_ArgArray(Message* Exp, SCNode* Name_space, SCDecl* Decl) {
	//visible;
	Message* Thg = SC_Msg_IsSetIntoVar(Exp);
	JB_Incr(Thg);
	if ((!Thg)) {
		if (!JB_Msg_OperatorIn(Exp, kJB_SyxSheb)) {
			JB_Msg_Fail(Exp, nil);
		}
		JB_EarlyDecr(Thg);
		return;
	}
	Message* Rel = SC_Msg_NiceParent(Exp);
	JB_Incr(Rel);
	JB_Msg_Expect(Rel, kJB_SyxRel, nil);
	Message* Place = SC_Msg_UpToArg(Rel);
	JB_Incr(Place);
	SCDecl* D = SC_Msg_AsDecl(Thg);
	JB_Incr(D);
	if (D) {
		JB_SetRef(D->Default, nil);
	}
	JB_Decr(D);
	Rel->Func = kJB_SyxSheb;
	(SC_Msg_ASMTypeSet(Rel, kSC__ASMType_kIgnore));
	if (Place == Rel) {
		(JB_Ring_NextSibSet(Rel, Thg));
		JB_SetRef(Place, Thg);
	}
	 else {
		JB_FreeIfDead(SC_Msg_ReplaceWith(Rel, Thg));
		(JB_Ring_NextSibSet(Place, Rel));
		Exp->Func = kJB_SyxStr;
	}
	JB_Decr(Rel);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Exp, (&_usingf0));
	ArgArrayCounter Counter = ((ArgArrayCounter){});
	{
		Message* Itm = ((Message*)JB_Ring_First(Exp));
		JB_Incr(Itm);
		while (Itm) {
			Message* _Nf2 = ((Message*)JB_Ring_NextSib(Itm));
			JB_Incr(_Nf2);
			Message* Rel2 = SC_ArgArrayCounter_Do((&Counter), Thg->Name, Itm, Name_space);
			JB_Incr(Rel2);
			(JB_Ring_NextSibSet(Place, Rel2));
			JB_SetRef(Place, Rel2);
			JB_Decr(Rel2);
			JB_SetRef(Itm, _Nf2);
			JB_Decr(_Nf2);
		};
		JB_Decr(Itm);
		;
	}
	;
	JB_Decr(Thg);
	JB_Decr(Place);
	SC_ArgArrayCounter_Check((&Counter), Exp);
	if (Counter.IsItem) {
		int C = Counter.Max + 1;
		if (C >= 16384) {
			JB_Msg_Fail(Exp, JB_LUB[1541]);
		}
		Decl->C_Array = C;
	}
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Exp);
	JB_MsgPos_Destructor((&_usingf0));
}

bool SC_Tran_Flow(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if ((!Fn)) {
		JB_Msg_Fail(Node, JB_LUB[985]);
		return nil;
	}
	Message* Msg = JB_Msg_NeedSyx(Node, kJB_SyxThg);
	JB_Incr(Msg);
	if (!Msg) {
		JB_EarlyDecr(Msg);
		return nil;
	}
	JB_Msg_ExpectLast(Msg, nil);
	SC_Msg_SafeRemove(Node, kJB_SyxSheb);
	if ((!JB_Msg_SyntaxEquals(Msg, JB_LUB[892], false))) {
		JB_Msg_Fail(Msg, JB_LUB[1170]);
	}
	JB_Decr(Msg);
	(SC_Func_SyntaxIsSet(Fn, kSC__FunctionType_FlowDisabled, true));
	return false;
}

bool SC_Tran_Log(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Node, (&_usingf0));
		Message* F = ((Message*)JB_Ring_First(Node));
		JB_Incr(F);
		JB_Msg_AppendSyx(Node, kJB_SyxThg, JB_LUB[1418]);
		Message* _tmPf1 = JB_Msg_Msg(Node, kJB_SyxPrm, JB_LUB[0]);
		JB_Incr(_tmPf1);
		JB_Tree_SyntaxAppend(_tmPf1, F);
		JB_Decr(F);
		JB_Decr(_tmPf1);
		Node->Func = kJB_SyxDot;
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Node);
		JB_MsgPos_Destructor((&_usingf0));
	}
	JB_FreeIfDead(SC_TypeOfExpr(Node, Name_space, nil));
	return false;
}

bool SC_Tran_Rejoin(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	(SC_Msg_ASMTypeSet(Node, kSC__ASMType_kRejoin));
	Message* P = ((Message*)JB_Ring_First(Node));
	JB_Incr(P);
	if (JB_Msg_EqualsSyx(P, kJB_SyxArg)) {
		SCArg* Arg = SC_Msg_AsArg(P);
		JB_Incr(Arg);
		if (!(Arg and Arg->IsStatementExpr)) {
			JB_Msg_Fail(Node, JB_LUB[994]);
			JB_EarlyDecr(Arg);
			JB_EarlyDecr(P);
			return nil;
		}
		JB_Decr(Arg);
		Message* N = ((Message*)JB_Ring_NextSib(P));
		JB_Incr(N);
		if (N) {
			JB_Msg_Fail(Node, JB_LUB[1036]);
			JB_EarlyDecr(N);
			JB_EarlyDecr(P);
			return nil;
		}
		JB_Decr(N);
	}
	JB_EarlyDecr(P);
	return false;
}

bool SC_Tran_Time(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	Message* Name = JB_Msg_NeedSyx(Node, kJB_SyxNil);
	if (!Name) {
		return nil;
	}
	Message* Arg = JB_Msg_NeedSyxInt(Node, kJB_SyxArg, 1);
	if (!Arg) {
		return nil;
	}
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Node, (&_usingf0));
	JB_Msg_ExpectLast(Arg, nil);
	Message* Report = JB_Str_ParseJbin(((JB_LUB[2245])), 1073741824);
	Message* Dest = ((Message*)JB_Tree_FlatLast(Report));
	if (JB_Msg_EqualsSyx(Name, kJB_SyxList)) {
		SC_Msg_AppendAllInto(Name, Dest);
	}
	 else {
		JB_Tree_SyntaxAppend(Dest, Name);
	}
	(JB_Ring_NextSibSet(Node, Report));
	SC_Msg_MoveAllAfter(Arg, Node);
	(JB_Ring_NextSibSet(Node, JB_Str_ParseJbin(((JB_LUB[2246])), 1073741824)));
	if (!SC_Base_LookUpVar(Name_space, JB_LUB[2247], nil, nil)) {
		(JB_Ring_NextSibSet(Node, JB_Str_ParseJbin(((JB_LUB[2248])), 1073741824)));
	}
	Node->Func = kJB_SyxSheb;
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Node);
	JB_MsgPos_Destructor((&_usingf0));
	return false;
}

SCObject* SC_TranNegate(Message* F, SCNode* Name_space) {
	F = SC_Msg_ExpandToBool(F, Name_space);
	if (!F) {
		return nil;
	}
	JB_Object* D = F->Obj;
	if (JB_Object_FastIsa(D, &SCDeclData)) {
		if (SC_Decl_IsConstOf(((SCDecl*)D), SC_FalseBool)) {
			return SC_TrueBool;
		}
		if (SC_Decl_IsConstOf(((SCDecl*)D), SC_TrueBool)) {
			return SC_FalseBool;
		}
	}
	return SC_TypeBool->TypeNormal;
}

SCObject* SC_TypeOfAccess(Message* Exp, SCNode* Name_space, Message* Side) {
	Message* Ch = ((Message*)JB_Ring_First(Exp));
	SCObject* Ty0 = SC_TypeOfExprModulesOK(Ch, Name_space, nil);
	Message* Arr = ((Message*)JB_Ring_Last(Exp));
	if (!Arr) {
		return nil;
	}
	Message* Index = ((Message*)JB_Ring_First(Arr));
	if (JB_Object_FastIsa(Ty0, &SCModuleData)) {
		SCClass* Cls = ((SCModule*)Ty0)->Cls;
		if (Cls and (SC_Class_IsMArray(Cls, Arr) and SC_Msg_ExpectMatch(Index, Name_space, SC_TypeInt))) {
			return SC_LowlevelArrayTransform(Exp, Cls);
		}
	}
	 else if ((JB_Object_FastIsa(Ty0, &SCDeclData)) and (!((Message*)JB_Ring_NextSib(Index)))) {
		SCDecl* Access = SC_TypeOfExpr(Index, Name_space, nil);
		int Oof = SC_Decl_AccessType(((SCDecl*)Ty0), Access, Ch);
		if (Oof) {
			if (!Index) {
				//using;
				MessagePosition _usingf0 = ((MessagePosition){});
				JB_Msg_SyntaxUsing(Arr, (&_usingf0));
				Index = JB_Msg_Msg(Arr, kJB_SyxNum, JB_LUB[478]);
				Access = SC_TypeOfExpr(Index, Name_space, nil);
				JB_MsgPos_SyntaxUsingComplete((&_usingf0), Arr);
				JB_MsgPos_Destructor((&_usingf0));
			}
			if (Access and SC_Msg_ExpectInt(Index, Access)) {
				if (Oof == 1) {
					return SC_TypeOfVecAccess(Index, ((SCDecl*)Ty0), SC_Decl_IsNumeric(((SCDecl*)Ty0)));
				}
				return SC_Decl_MemAccess(((SCDecl*)Ty0), Exp, Side);
			}
		}
	}
	Arr->Func = kJB_SyxPrm;
	JB_Msg_BecomeStr(Exp, kJB_SyxDot, JB_LUB[2289]);
	(JB_Msg_RangeSet(Exp, JB_Msg_Range(Arr)));
	return SC_TypeOfDot(Exp, Name_space, Side);
}

SCObject* SC_TypeOfAdj(Message* Exp, SCNode* Name_space, Message* Side) {
	Array* Args = JB_Array_Constructor0(nil);
	JB_Incr(Args);
	Message* Found = SC_Comp__FindAdj(Exp, Args);
	JB_Incr(Found);
	if (Found) {
		JB_Msg_BecomeMacro(Exp, Found, Args);
		JB_EarlyDecr(Found);
		JB_EarlyDecr(Args);
		return SC_TypeOfExpr(Exp, Name_space, Side);
	}
	JB_Decr(Args);
	JB_EarlyDecr(Found);
	return nil;
}

SCObject* SC_TypeOfARel(Message* Exp, SCNode* Name_space, Message* Side) {
	if (JB_Msg_SyntaxEquals(Exp, JB_LUB[96], false)) {
		return SC_TypeOfReal(Exp, Name_space, Side);
	}
	if (JB_Msg_SyntaxEquals(Exp, JB_LUB[59], false)) {
		return SC_TypeOfDotDotDot(Exp, Name_space, nil);
	}
	Message* _tmPf0 = SC_Msg_NiceParent(Exp);
	JB_Incr(_tmPf0);
	bool Brel = (JB_Msg_EqualsSyx(_tmPf0, kJB_SyxArg));
	JB_Decr(_tmPf0);
	if (Brel) {
		Exp->Func = kJB_SyxBRel;
	}
	return SC_Func__Tran_AfterRel(Exp, Name_space, Side);
}

SCObject* SC_TypeOfArgArr(Message* Exp, SCNode* Name_space, Message* Side) {
	SCDecl* Result = nil;
	JB_Incr(Result);
	int Count = 0;
	{
		Message* Itm = ((Message*)JB_Ring_First(Exp));
		JB_Incr(Itm);
		while (Itm) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Itm));
			JB_Incr(_Nf1);
			if (JB_Msg_EqualsSyx(Itm, kJB_SyxTmp)) {
				Itm->Func = kJB_SyxThg;
			}
			SCDecl* Contained = SC_TypeOfExpr(Itm, Name_space, nil);
			JB_Incr(Contained);
			if (Contained) {
				if (!(SC_Class_IsDataTypeOrFP(Contained->Type) or Contained->PointerCount)) {
					JB_Msg_Fail(Itm, JB_LUB[1818]);
				}
				if (Result) {
					SCDecl* Oof = SC_Decl_HighestArrayContainMatch(Contained, Result->Type->TypeNormal);
					JB_Incr(Oof);
					JB_SetRef(Result->Type, Oof->Type);
					JB_Decr(Oof);
				}
				 else {
					JB_SetRef(Result, SC_Decl_Constructor(nil, Contained->Type));
				}
				(++Count);
			}
			JB_Decr(Contained);
			JB_SetRef(Itm, _Nf1);
			JB_Decr(_Nf1);
		};
		JB_Decr(Itm);
		;
	}
	;
	if (!Result) {
		JB_Msg_Fail(Exp, JB_LUB[1819]);
		JB_EarlyDecr(Result);
		return nil;
	}
	JB_SetRef(Exp->Obj, Result);
	JB_SetRef(Result, SC_Decl_GetCArray(Result, Count));
	SC_Tran_ArgArray(Exp, Name_space, Result);
	JB_SafeDecr(Result);
	return Result;
}

SCObject* SC_TypeOfArr(Message* Exp, SCNode* Name_space, Message* Side) {
	int IsDispatch = ((int)((JB_Msg_SyntaxEquals(Exp, JB_LUB[1141], true))));
	int InOrder = 0;
	SCDecl* Result = SC_Decl_Constructor(nil, SC_TypeVoid_);
	JB_Incr(Result);
	Result->NilDeclared = kSC__NilState_Real;
	JB_SetRef(Exp->Obj, Result);
	{
		Message* _Valuef2 = ((Message*)JB_Ring_First(Exp));
		JB_Incr(_Valuef2);
		while (_Valuef2) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(_Valuef2));
			JB_Incr(_Nf1);
			Message* Itm = _Valuef2;
			JB_Incr(Itm);
			SCClass* NewArrCls = SC_TypeArray;
			JB_Incr(NewArrCls);
			if ((JB_Msg_EqualsSyx(Itm, kJB_SyxItem))) {
				Message* _tmPf3 = ((Message*)JB_Ring_First(Itm));
				JB_Incr(_tmPf3);
				SCDecl* IdxType = SC_TypeOfExpr(_tmPf3, Name_space, nil);
				JB_Incr(IdxType);
				JB_Decr(_tmPf3);
				if (SC_Decl_OperatorMatches(IdxType, SC_TypeString)) {
					JB_SetRef(NewArrCls, SC_TypeDictionary);
				}
				 else if (SC_Decl_OperatorMatches(IdxType, SC_TypeInt)) {
					if (!IsDispatch) {
						Message* _tmPf4 = ((Message*)JB_Ring_First(Itm));
						JB_Incr(_tmPf4);
						InOrder = SC_ArrayInOrderCheck(InOrder, _tmPf4);
						JB_Decr(_tmPf4);
						if (InOrder <= 0) {
							JB_SetRef(NewArrCls, SC_TypeDictionary);
						}
					}
				}
				 else if (!(SC_Decl_OperatorMatches(IdxType, SC_TypeSyntax))) {
					if (true) {
						JB_Msg_Fail(Exp, JB_LUB[1867]);
					}
					JB_SetRef(Itm, nil);
				}
				JB_Decr(IdxType);
				JB_SetRef(Itm, ((Message*)JB_Ring_Last(Itm)));
			}
			if (Itm) {
				Message* _tmPf5 = SC_Msg_TypeOfArrItem(Itm);
				JB_Incr(_tmPf5);
				SCDecl* Contained = SC_TypeOfExpr(_tmPf5, Name_space, nil);
				JB_Incr(Contained);
				JB_Decr(_tmPf5);
				if (Contained) {
					JB_SetRef(Itm, SC_Msg_Resync(Itm, Exp));
					if (SC_Class_IsObject(Contained->Type)) {
						JB_SetRef(Contained, Contained->Type->TypeNormal);
					}
					 else if (IsDispatch) {
						(++IsDispatch);
					}
					if (Result->Contains) {
						JB_SetRef(Result->Contains, SC_Decl_HighestArrayContainMatch(Contained, Result->Contains));
					}
					 else {
						JB_SetRef(Result->Contains, Contained);
					}
					if (Result->Type == SC_TypeVoid_) {
						JB_SetRef(Result->Type, NewArrCls);
					}
					 else {
						if (Result->Type != NewArrCls) {
							JB_Msg_Fail(Exp, JB_LUB[1868]);
							JB_EarlyDecr(Contained);
							JB_EarlyDecr(NewArrCls);
							JB_EarlyDecr(Itm);
							JB_EarlyDecr(_Nf1);
							JB_EarlyDecr(_Valuef2);
							JB_EarlyDecr(Result);
							return nil;
						}
					}
				}
				JB_Decr(Contained);
			}
			JB_Decr(Itm);
			JB_Decr(NewArrCls);
			JB_SetRef(_Valuef2, _Nf1);
			JB_Decr(_Nf1);
		};
		JB_Decr(_Valuef2);
		;
	}
	;
	SCDecl* C = Result->Contains;
	JB_Incr(C);
	if (C) {
		JB_SetRef(C, SC_Decl_ForContained(C));
		if (IsDispatch and (Result->Type != SC_TypeDictionary)) {
			JB_SetRef(Result->Type, C->Type);
			JB_SetRef(Result->Contains, nil);
			SC_Decl_IsCarray(Result, IsDispatch - 1, C);
			Exp->Func = kJB_SyxArg;
			SC_Tran_ArgArray(Exp, Name_space, Result);
		}
		 else if (!SC_Class_IsObject(C->Type)) {
			JB_SetRef(Result->Contains, SC_Decl_NewWrapper(C, C));
		}
		 else {
			JB_SetRef(Result->Contains, SC_Decl_MakeContainedOptional(C));
		}
	}
	JB_Decr(C);
	if (Result->Type == SC_TypeVoid_) {
		JB_SetRef(Result->Type, SC_TypeArray);
	}
	JB_SafeDecr(Result);
	return Result;
}

SCObject* SC_TypeOfBlock(Message* Exp, SCNode* Name_space, Message* Side) {
	Message* Last = JB_Msg_NeedSyxInt(Exp, kJB_SyxNil, -1);
	JB_Incr(Last);
	if (!Last) {
		JB_EarlyDecr(Last);
		return nil;
	}
	if (!SC_Msg_OperatorIsTmp(Last, JB_LUB[454])) {
		if (true) {
			MessagePosition _usingf0 = ((MessagePosition){});
			JB_Msg_SyntaxUsing(Last, (&_usingf0));
			Message* _tmPf3 = SC_NewRejoin();
			JB_Incr(_tmPf3);
			JB_SetRef(Last, ((Message*)JB_Tree_WrapWith(Last, _tmPf3)));
			JB_Decr(_tmPf3);
			JB_MsgPos_SyntaxUsingComplete((&_usingf0), Last);
			JB_MsgPos_Destructor((&_usingf0));
		}
	}
	SCArg* P = SC_Msg_SCArg(Exp, Name_space, nil);
	JB_Incr(P);
	Message* _tmPf4 = ((Message*)JB_Ring_Parent(Exp));
	JB_Incr(_tmPf4);
	(SC_Msg_StatementExprSet(_tmPf4, P));
	JB_Decr(_tmPf4);
	SCFunction* Fn = SC_Base_OwningFunc(P);
	JB_Incr(Fn);
	SC_CollectManyDeclsFromBody(Exp, P);
	{
		Message* Ch = ((Message*)JB_Ring_First(Exp));
		JB_Incr(Ch);
		while (Ch) {
			Message* _Nf2 = ((Message*)JB_Ring_NextSib(Ch));
			JB_Incr(_Nf2);
			if (JB_Msg_EqualsSyx(Ch, kJB_SyxArg)) {
				SCArg* _tmPf5 = SC_Msg_SCArg(Ch, P, nil);
				JB_Incr(_tmPf5);
				SC_Func__Tran_All(Fn, Ch, _tmPf5);
				JB_Decr(_tmPf5);
			}
			 else {
				SC_Func__Tran_All(Fn, Ch, P);
			}
			JB_SetRef(Ch, _Nf2);
			JB_Decr(_Nf2);
		};
		JB_Decr(Ch);
		;
	}
	;
	JB_Decr(Fn);
	Message* Val = JB_Msg_NeedFirst(Last);
	JB_Incr(Val);
	JB_Decr(Last);
	if (JB_Msg_ExpectLast(Val, nil)) {
		SCDecl* _tmPf6 = SC_TypeOfExpr(Val, P, nil);
		JB_Incr(_tmPf6);
		JB_EarlyDecr(Val);
		JB_EarlyDecr(P);
		JB_SafeDecr(_tmPf6);
		return _tmPf6;
	}
	JB_Decr(P);
	JB_EarlyDecr(Val);
	return nil;
}

SCObject* SC_TypeOfBra(Message* Exp, SCNode* Name_space, Message* Side) {
	Message* C0 = ((Message*)JB_Ring_First(Exp));
	if ((JB_Msg_EqualsSyx(C0, kJB_SyxArg))) {
		return SC_TypeOfBlock(C0, Name_space, Side);
	}
	 else {
		return SC_TypeOfExpr(C0, Name_space, Side);
	}
}

SCObject* SC_TypeOfBRel(Message* Exp, SCNode* Name_space, Message* Side) {
	JB_String* Name = Exp->Name;
	uint N = JB_Str_First(Name);
	Message* F = ((Message*)JB_Ring_First(Exp));
	if (!F) {
		return nil;
	}
	if ((N == '$') or ((N == '!') and SC_Msg_OperatorIsBRel(F, JB_LUB[456]))) {
		return SC_DollaDolla(Exp, Name_space);
	}
	SCDecl* SubType = SC_TypeOfExpr(F, Name_space, nil);
	if (!SubType) {
		return nil;
	}
	if ((N == '-') and (JB_Str_EqualsInt(Name, 1))) {
		if (!(SC_Decl_IsNearlyNormalNumber(SubType) or SC_Decl_IsBool(SubType))) {
			JB_Msg_Fail(Exp, JB_LUB[2306]);
			return nil;
		}
		return SubType;
	}
	if (N == '&') {
		if (SubType->Type->FuncProto) {
			return SC_TypeOfFuncPointer(F, Name_space, Side);
		}
		SC_Decl_MarkAsAltered(SubType);
		if (!SC_Msg_CanGetAddress(F, Name_space)) {
			return nil;
		}
		return SC_Decl_GetAddress(SubType, kSC__DeclMode_Always);
	}
	if (N == '!') {
		return SC_TranNegate(F, Name_space);
	}
	if (N == '~') {
		if (!SC_Decl_IsInteger(SubType)) {
			JB_Msg_Fail(Exp, JB_LUB[997]);
		}
		return SubType;
	}
	JB_FreeIfDead(SC_Func__Tran_AfterRel(Exp, Name_space, Side));
	return SubType;
}

SCObject* SC_TypeOfChar(Message* Exp, SCNode* Name_space, Message* Side) {
	Ind Cp = -1;
	bool IsByte = (JB_Str_EqualsInt(Exp->Name, 1));
	if (IsByte) {
		Cp = JB_Str_First(Exp->Name);
	}
	 else {
		Cp = ((Ind)JB_Str_UTF8Value(Exp->Name, true));
		if (!JB_Ind_SyntaxCast(Cp)) {
			JB_Msg_Fail(Exp, JB_LUB[1482]);
			return nil;
		}
	}
	Dictionary* D = ({
		Dictionary* _X = SC_CodePointTable;
		JB_Incr(_X);
		if (_X == nil) {
			JB_SetRef(_X, JB_Dict_Constructor(nil));
			JB_SetRef(SC_CodePointTable, _X);
		}
		JB_SafeDecr(_X);
		 _X;
	});
	JB_Incr(D);
	JB_String* Str = JB_int_RenderFS(Cp, nil);
	JB_Incr(Str);
	SCDecl** Place = ((SCDecl**)JB_Dict_MakePlace(D, Str));
	JB_Decr(D);
	SCDecl* Char_decl = Place[0];
	JB_Incr(Char_decl);
	if (!Char_decl) {
		SCClass* Type = ((SCClass*)JB_Ternary(IsByte, SC_TypeByte, SC_TypeCodePoint));
		JB_Incr(Type);
		JB_SetRef(Char_decl, SC_Decl_CopyDecl(Type->TypeNormal, false));
		JB_Decr(Type);
		JB_SetRef(Place[0], Char_decl);
		(SC_Decl_SyntaxIsSet(Char_decl, kSC__SCDeclInfo_Const, true));
		(SC_Decl_ExportPositionSet(Char_decl, Cp));
	}
	if (!IsByte) {
		Exp->Func = kJB_SyxNum;
		JB_SetRef(Exp->Name, Str);
	}
	JB_Decr(Str);
	JB_SetRef(Exp->Obj, Char_decl);
	JB_SafeDecr(Char_decl);
	return Char_decl;
}

SCObject* SC_TypeOfDot(Message* Exp, SCNode* Name_space, Message* Side) {
	Message* L = ((Message*)JB_Ring_Last(Exp));
	if (!L) {
		return nil;
	}
	if (L->Obj) {
		return nil;
	}
	Message* _tmPf0 = ((Message*)JB_Ring_First(Exp));
	JB_Incr(_tmPf0);
	SCNode* DotVar = ((SCNode*)SC_Msg_DotSpace(_tmPf0, Name_space));
	JB_Incr(DotVar);
	JB_Decr(_tmPf0);
	if (!DotVar) {
		JB_Msg_Fail(Exp, JB_LUB[2278]);
		JB_EarlyDecr(DotVar);
		return nil;
	}
	SCDecl* Contains = nil;
	JB_Incr(Contains);
	bool DotVarIsaDecl = (JB_Object_Isa(DotVar, &SCDeclData));
	if (DotVarIsaDecl) {
		SCDecl* Swiz = SC_TypeOfSwizzle(Exp, Name_space, Side, ((SCDecl*)DotVar));
		JB_Incr(Swiz);
		if (Swiz) {
			JB_EarlyDecr(Contains);
			JB_EarlyDecr(DotVar);
			JB_SafeDecr(Swiz);
			return Swiz;
		}
		JB_Decr(Swiz);
		JB_SetRef(Contains, ((SCDecl*)DotVar)->Contains);
		SCClass* Ty = ((SCDecl*)DotVar)->Type;
		JB_SetRef(DotVar, Ty);
		if (!Contains) {
			JB_SetRef(Contains, Ty->Contained);
		}
	}
	 else {
		if (!(JB_Object_Isa(DotVar, &SCClassData) or JB_Object_Isa(DotVar, &SCModuleData))) {
			JB_Msg_Fail(Exp, JB_LUB[2279]);
			JB_EarlyDecr(Contains);
			JB_EarlyDecr(DotVar);
			return nil;
		}
	}
	JB_Object* O = SC_Base_LookUpDot(DotVar, Exp->Name, Exp, Name_space, Contains, Side);
	JB_Incr(O);
	if (!O) {
		JB_EarlyDecr(O);
		JB_EarlyDecr(Contains);
		JB_EarlyDecr(DotVar);
		return nil;
	}
	if (JB_Object_FastIsa(O, &SCModuleData)) {
		Message* F = ((Message*)JB_Ring_First(Exp));
		JB_Incr(F);
		if (JB_Msg_EqualsSyx(F, kJB_SyxThg)) {
			Exp->Func = kJB_SyxThg;
			JB_Tree_Remove(F);
			if (JB_Msg_SyntaxEquals(F, JB_LUB[1491], false)) {
				SCClass* Cls = ((SCModule*)O)->Cls;
				JB_Incr(Cls);
				if (Cls) {
					SCDecl* T = Cls->ClassType;
					JB_Incr(T);
					if (T) {
						JB_SetRef(Exp->Name, T->Name);
						JB_EarlyDecr(Cls);
						JB_EarlyDecr(F);
						JB_EarlyDecr(O);
						JB_EarlyDecr(Contains);
						JB_EarlyDecr(DotVar);
						JB_SafeDecr(T);
						return T;
					}
					JB_Decr(T);
				}
				JB_Decr(Cls);
			}
		}
		JB_EarlyDecr(F);
		JB_EarlyDecr(Contains);
		JB_EarlyDecr(DotVar);
		JB_SafeDecr(O);
		return ((SCModule*)O);
	}
	SCDecl* Decl = SC_Object_BaseAsDecl(O);
	JB_Incr(Decl);
	JB_Decr(O);
	if (Decl) {
		SC_Decl_MarkAsUsed(Decl, Side, Exp);
		if (Contains) {
			if ((JB_Object_FastIsa(DotVar, &SCClassData)) and (!SC_Msg_IsSettablePlace(Exp))) {
				JB_SetRef(Decl, SC_Decl_ContainedReplace(Decl, Contains, true));
			}
		}
		if (SC_Decl_SyntaxIs(Decl, kSC__SCDeclInfo_Task)) {
			JB_EarlyDecr(Contains);
			JB_EarlyDecr(DotVar);
			JB_SafeDecr(Decl);
			return Decl;
		}
	}
	 else {
		JB_SetRef(Decl, SC_TypeVoid);
	}
	JB_Decr(DotVar);
	JB_Decr(Contains);
	L = ((Message*)JB_Ring_Last(Exp));
	if (L) {
		SCFunction* Fn = SC_Msg_AsFunc(L);
		JB_Incr(Fn);
		if (Fn) {
			JB_SetRef(Exp->Obj, Decl);
			if (!JB_Msg_EqualsSyx(Exp, kJB_SyxFunc)) {
				SC_Func_DotFuncToNormalFunc(Fn, Exp);
			}
		}
		JB_Decr(Fn);
	}
	JB_SafeDecr(Decl);
	return Decl;
}

SCObject* SC_TypeOfDotDotDot(Message* Exp, SCNode* Name_space, Message* Side) {
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Exp, (&_usingf0));
		JB_Msg_BecomeStr(Exp, kJB_SyxBra, JB_LUB[0]);
		Message* P = ((Message*)JB_Ring_Parent(Exp));
		JB_Incr(P);
		Message* C = Exp;
		JB_Incr(C);
		while ((!JB_Msg_EqualsSyx(P, kJB_SyxPrm)) and (!JB_Msg_EqualsSyx(P, kJB_SyxArr))) {
			if (!(P and (!JB_Msg_EqualsSyx(P, kJB_SyxArg)))) {
				JB_Msg_Fail(Exp, JB_LUB[1419]);
				JB_EarlyDecr(C);
				JB_EarlyDecr(P);
				JB_MsgPos_Destructor((&_usingf0));
				return nil;
			}
			JB_SetRef(C, P);
			JB_SetRef(P, ((Message*)JB_Ring_Parent(P)));
		};
		JB_Decr(P);
		Message* Dot = JB_Syx_OperatorPlus(kJB_SyxDot, JB_LUB[799]);
		JB_Incr(Dot);
		JB_Msg_AppendSyx(Dot, kJB_SyxThg, JB_LUB[167]);
		JB_Msg_AppendSyx(Dot, kJB_SyxEmb, JB_LUB[0]);
		(JB_Ring_NextSibSet(C, Dot));
		JB_Decr(C);
		JB_Decr(Dot);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Exp);
		JB_MsgPos_Destructor((&_usingf0));
	}
	Message* _tmPf1 = ((Message*)JB_Ring_First(Exp));
	JB_Incr(_tmPf1);
	SCDecl* _tmPf2 = SC_TypeOfExpr(_tmPf1, Name_space, nil);
	JB_Incr(_tmPf2);
	JB_EarlyDecr(_tmPf1);
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

SCDecl* SC_TypeOfExpr(Message* Exp, SCNode* Name_space, Message* Side) {
	if (Exp) {
		SCObject* Obj = ((SCObject*)Exp->Obj);
		if (!Obj) {
			Obj = SC_TypeOfExprSub(Exp, Name_space, Side);
		}
		if (JB_Object_FastIsa(Obj, &SCDeclData)) {
			return ((SCDecl*)Obj);
		}
	}
	return nil;
}

SCObject* SC_TypeOfExprModulesOK(Message* Exp, SCNode* Name_space, Message* Side) {
	JB_Object* Obj = Exp->Obj;
	if (Obj) {
		return ((SCObject*)Obj);
	}
	if ((JB_Msg_EqualsSyx(Exp, kJB_SyxThg))) {
		Obj = SC_Base_LookUpVar(Name_space, Exp->Name, Exp, Side);
		if ((!Side) and JB_Object_FastIsa(Obj, &SCDeclData)) {
			(SC_Decl_SyntaxIsSet(((SCDecl*)Obj), kSC__SCDeclInfo_ReadFrom, true));
		}
		JB_SetRef(Exp->Obj, Obj);
		return ((SCObject*)Obj);
	}
	return SC_TypeOfExprSub(Exp, Name_space, Side);
}

SCDecl* SC_TypeOfExprNeeded(Message* Exp, SCNode* Name_space) {
	int OldCount = JB_StdErr->ErrorCount;
	SCDecl* Result = SC_TypeOfExpr(Exp, Name_space, nil);
	if (SC_Decl_Found(Result)) {
		return Result;
	}
	if (OldCount == JB_StdErr->ErrorCount) {
		if (true) {
			JB_Msg_Fail(Exp, JB_LUB[1420]);
		}
		SCFunction* It = SC_Msg_ExpFunc(Exp);
		if (It) {
			(JB_Msg_SyntaxProblem(It->Source, kJB_kUsingStr));
		}
	}
	return nil;
}

SCObject* SC_TypeOfExprSub(Message* Exp, SCNode* Name_space, Message* Side) {
	if (JB_Msg_EqualsSyx(Exp, kJB_SyxDecl)) {
		JB_Object* D = ((Message*)JB_Ring_Last(Exp))->Obj;
		if (JB_Object_FastIsa(D, &SCDeclData)) {
			return ((SCDecl*)D);
		}
	}
	if (Name_space) {
		FP_ExprResolver F = SC_ExprFuncs[((int)Exp->Func)];
		if (!F) {
			JB_Msg_Fail(Exp, nil);
			return nil;
		}
		SCObject* Obj = (F)(Exp, Name_space, Side);
		if (Obj) {
			JB_SetRef(Exp->Obj, Obj);
		}
		return ((SCObject*)Obj);
	}
	if (!JB_App__Parent(false)) {
		if (true) {
			JB_Msg_Fail(Exp, JB_LUB[1263]);
		}
	}
	return nil;
}

SCObject* SC_TypeOfFunc(Message* Exp, SCNode* Name_space, Message* Side) {
	if (SC_Msg_IsTern(Exp)) {
		return SC_TypeOfTernary(Exp, Name_space, Side);
	}
	SCObject* Fn = SC_TypeOfFuncSub(Exp, Name_space, Side);
	if (!Fn) {
		JB_Msg_Fail(Exp, JB_LUB[2269]);
		return nil;
	}
	if (JB_Object_FastIsa(Fn, &SCFunctionData)) {
		SCDecl* Obj = ((SCFunction*)Fn)->ReturnType;
		if (!Obj) {
			JB_SetRef(Exp->Obj, SC_TypeVoid);
		}
		if (SC_Func_SyntaxIs(((SCFunction*)Fn), kSC__FunctionType_Reffer)) {
			(SC_Msg_ASMTypeSet(Exp, kSC__ASMType_kRefCount));
		}
		if (SC_Func_SyntaxIs(((SCFunction*)Fn), kSC__FunctionType_Killer)) {
			SC_Msg_LastInBlock(Exp, kSC__SCBlockage_Quit);
		}
		return Obj;
	}
	return Fn;
}

SCObject* SC_TypeOfFuncPointer(Message* Exp, SCNode* Name_space, Message* Side) {
	SCObject* Rz = nil;
	Message* Ch = SC_Msg_UnBra(Exp);
	if (JB_Msg_EqualsSyx(Ch, kJB_SyxDot)) {
		Rz = SC_TypeOfDot(Ch, Name_space, Side);
	}
	 else if ((JB_Msg_EqualsSyx(Ch, kJB_SyxThg))) {
		Rz = SC_Base_LookUpVar(Name_space, Ch->Name, Ch, Side);
	}
	 else {
		if (true) {
			JB_Msg_Fail(Exp, nil);
		}
	}
	JB_SetRef(Ch->Obj, Rz);
	return Rz;
}

SCObject* SC_TypeOfFuncSub(Message* Exp, SCNode* Name_space, Message* Side) {
	SCFunction* Fn = SC_Msg_MsgFunc(Exp);
	JB_Incr(Fn);
	if (Fn) {
		JB_SafeDecr(Fn);
		return Fn;
	}
	Message* Ch = ((Message*)JB_Ring_First(Exp));
	JB_Incr(Ch);
	Message* Params = ((Message*)JB_Ring_NextSib(Ch));
	JB_Incr(Params);
	SCDecl* ThgDecl = nil;
	JB_Incr(ThgDecl);
	if (JB_Msg_EqualsSyx(Ch, kJB_SyxThg)) {
		JB_SetRef(ThgDecl, ((SCDecl*)SC_Base_LookUpFunc(Name_space, Ch->Name, Exp)));
		if (!JB_Object_Isa(ThgDecl, &SCDeclData)) {
			JB_EarlyDecr(Params);
			JB_EarlyDecr(Ch);
			JB_EarlyDecr(Fn);
			JB_SafeDecr(ThgDecl);
			return ThgDecl;
		}
	}
	 else {
		JB_SetRef(ThgDecl, SC_TypeOfExpr(Ch, Name_space, nil));
		if (!ThgDecl) {
			JB_EarlyDecr(ThgDecl);
			JB_EarlyDecr(Params);
			JB_EarlyDecr(Ch);
			JB_EarlyDecr(Fn);
			return nil;
		}
	}
	JB_Decr(Ch);
	JB_SetRef(Fn, ThgDecl->Type->FuncProto);
	JB_Decr(ThgDecl);
	if (!Fn) {
		JB_SetRef(Fn, SC_Msg_PrmFunc(Exp));
		if (Fn) {
			JB_EarlyDecr(Params);
			JB_SafeDecr(Fn);
			return Fn;
		}
		JB_EarlyDecr(Params);
		JB_EarlyDecr(Fn);
		return SC_TypeOfSyntaxCall(Exp, Name_space, Side);
	}
	SCParamArray* PList = SC_PA_Constructor(nil, Exp, JB_LUB[0]);
	JB_Incr(PList);
	if (!SC_PA_PreReadTypes(PList, Name_space, Params, Side)) {
		JB_EarlyDecr(PList);
		JB_EarlyDecr(Params);
		JB_EarlyDecr(Fn);
		return nil;
	}
	JB_Decr(Params);
	SCFunction* Fn2 = SC_Func_ArgsMatch(Fn, nil, Name_space, PList, 0);
	JB_Incr(Fn2);
	if (Fn2) {
		if (!Fn2->ReturnType) {
			JB_SetRef(Exp->Obj, SC_TypeVoid);
		}
	}
	 else {
		JB_FreeIfDead(SC_Func_ArgsMatch(Fn, nil, Name_space, PList, kJB_kTypeCastDescribeErrors));
	}
	JB_Decr(Fn);
	JB_Decr(PList);
	JB_SafeDecr(Fn2);
	return Fn2;
}

SCObject* SC_TypeOfLast(Message* Exp, SCNode* Name_space, Message* Side) {
	Message* _tmPf0 = ((Message*)JB_Ring_Last(Exp));
	JB_Incr(_tmPf0);
	SCDecl* _tmPf1 = SC_TypeOfExpr(_tmPf0, Name_space, nil);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

SCObject* SC_TypeOfList(Message* Exp, SCNode* Name_space, Message* Side) {
	int FoundType = 0;
	int AllowType = 0;
	int Count = 0;
	bool HasBig = false;
	bool Numeric = true;
	{
		Message* S = ((Message*)JB_Ring_First(Exp));
		JB_Incr(S);
		while (S) {
			Message* _Nf2 = ((Message*)JB_Ring_NextSib(S));
			JB_Incr(_Nf2);
			SCDecl* Typ = SC_TypeOfExpr(S, Name_space, nil);
			JB_Incr(Typ);
			if (!Typ) {
				JB_EarlyDecr(Typ);
				JB_EarlyDecr(_Nf2);
				JB_EarlyDecr(S);
				return nil;
			}
			int N = SC_Decl_IsNumeric(Typ);
			if (!N) {
				if ((JB_Msg_SyntaxIs(S, kJB__MsgParseFlags_Inserted)) and SC_Decl_OperatorMatches(Typ, SC_TypeSyntax)) {
					if (!JB_FreeIfDead(((Message*)JB_Ring_NextSib(S)))) {
						Message* _tmPf3 = JB_Syx_OperatorPlus(kJB_SyxStr, JB_LUB[0]);
						JB_Incr(_tmPf3);
						(JB_Ring_NextSibSet(S, _tmPf3));
						JB_Decr(_tmPf3);
					}
					Exp->Func = kJB_SyxRel;
					Message* _tmPf4 = JB_Syx_OperatorPlus(kJB_SyxOpp, JB_LUB[550]);
					JB_Incr(_tmPf4);
					(JB_Ring_NextSibSet(S, _tmPf4));
					JB_EarlyDecr(_tmPf4);
					JB_EarlyDecr(Typ);
					JB_EarlyDecr(_Nf2);
					JB_EarlyDecr(S);
					return SC_TypeOfRel(Exp, Name_space, Side);
				}
				Numeric = false;
			}
			 else if (Numeric) {
				if (N > 1) {
					HasBig = true;
				}
				if (JB_Object_MustBe(Typ, &SCDeclData, S)) {
					uint T = ((SCDecl*)Typ)->Type->TypeInfo;
					if (SC_Msg_IsZero(S)) {
						AllowType = SC_TC_FloatIntMerge(T, AllowType, S);
					}
					 else {
						FoundType = SC_TC_FloatIntMerge(T, FoundType, S);
						SC_Msg_WrapFloatOrInt(S, T, N, ((SCDecl*)Typ));
					}
				}
				Count = (Count + N);
				if (Count > 4) {
					JB_Msg_Fail(Exp, JB_LUB[2290]);
					JB_EarlyDecr(Typ);
					JB_EarlyDecr(_Nf2);
					JB_EarlyDecr(S);
					return nil;
				}
			}
			JB_Decr(Typ);
			JB_SetRef(S, _Nf2);
			JB_Decr(_Nf2);
		};
		JB_Decr(S);
		;
	}
	;
	if (!Numeric) {
		JB_Msg_Fail(Exp, JB_LUB[2291]);
		return nil;
	}
	if (Count < 2) {
		JB_Msg_Fail(Exp, JB_LUB[2292]);
		return nil;
	}
	if (!FoundType) {
		FoundType = AllowType;
	}
	bool IsFloat = (FoundType == 2);
	SCClass* _tmPf5 = SC_VecType(IsFloat, Count);
	JB_Incr(_tmPf5);
	SCDecl* Cns = SC_Class_NotConst(_tmPf5);
	JB_Incr(Cns);
	JB_Decr(_tmPf5);
	if (!HasBig) {
		JB_SetRef(Exp->Obj, Cns);
		JB_SafeDecr(Cns);
		return Cns;
	}
	JB_Decr(Cns);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Exp, (&_usingf0));
	JB_String* Name = ((JB_StringC*)JB_Ternary(IsFloat, JB_LUB[2293], JB_LUB[2294]));
	JB_Incr(Name);
	Message* List = JB_Syx_Msg(kJB_SyxPrm, JB_LUB[0]);
	JB_Incr(List);
	SC_Msg_AppendAllInto(Exp, List);
	JB_Msg_AppendSyx(Exp, kJB_SyxThg, Name);
	JB_Decr(Name);
	JB_Tree_SyntaxAppend(Exp, List);
	JB_Decr(List);
	Exp->Func = kJB_SyxFunc;
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Exp);
	SCDecl* _tmPf6 = SC_TypeOfExpr(Exp, Name_space, nil);
	JB_Incr(_tmPf6);
	JB_MsgPos_Destructor((&_usingf0));
	JB_SafeDecr(_tmPf6);
	return _tmPf6;
}

SCObject* SC_TypeOfNothing(Message* Exp, SCNode* Name_space, Message* Side) {
	return nil;
}

SCObject* SC_TypeOfNum(Message* Exp, SCNode* Name_space, Message* Side) {
	SCObject* Rz = nil;
	if (JB_Str_ContainsByte(Exp->Name, '_')) {
		JB_SetRef(Exp->Name, JB_Str_ReplaceAll(Exp->Name, JB_LUB[385], JB_LUB[0], false, nil));
	}
	SCDecl** P = ((SCDecl**)JB_Dict_MakePlace(SC__Comp_Numbers, Exp->Name));
	SCDecl* Y = P[0];
	if (Y) {
		return ((SCDecl*)Y);
	}
	Rz = SC_TypeOfNumSub(Exp, Name_space, Side);
	if (JB_Object_FastIsa(Rz, &SCDeclData)) {
		JB_SetRef(P[0], Rz);
	}
	 else {
	}
	return Rz;
}

SCObject* SC_TypeOfNumSub(Message* Exp, SCNode* Name_space, Message* Side) {
	JB_String* N = Exp->Name;
	JB_Incr(N);
	if (JB_Str_ContainsString(N, JB_LUB[57])) {
		SCDecl* D = SC_Decl_CopyDecl(SC_Typefloat->TypeNormal, false);
		JB_Incr(D);
		Float64 F8 = JB_Msg_Float(Exp);
		if ((SC_Decl_CArraySize(D, 1) == 4) and (!Side)) {
			(SC_Decl_NumberConstSet(D, JB_f_AsInt(((float)F8))));
		}
		 else {
			(SC_Decl_NumberConstSet(D, JB_dbl_AsInt(F8)));
		}
		JB_EarlyDecr(N);
		JB_SafeDecr(D);
		return D;
	}
	JB_Decr(N);
	int64 Val = JB_Msg_Int(Exp, 0);
	SCDecl* D2 = SC_Decl_CopyDecl(SC_TypeInt->TypeNormal, false);
	JB_Incr(D2);
	if ((((Val << 32) >> 32) != Val) or Side) {
		JB_SetRef(D2->Type, SC_TypeInt64);
	}
	(SC_Decl_NumberConstSet(D2, Val));
	JB_SafeDecr(D2);
	return D2;
}

SCObject* SC_TypeOfQues(Message* Exp, SCNode* Name_space, Message* Side) {
	Message* Prm = ((Message*)JB_Ring_First(Exp));
	if (!JB_Str_Exists(Exp->Name)) {
		Prm = ((Message*)JB_Ring_NextSib(Prm));
	}
	SCObject* Type = nil;
	if (Prm) {
		Type = SC_TypeOfExprModulesOK(Prm, Name_space, nil);
	}
	Message* M = SC_Msg_ReplaceInbuiltSub(Exp, SC_Object_AsDecl(Type));
	if (M) {
		SC_Msg_SafeReplaceWith(Exp, M);
	}
	if (!JB_Msg_EqualsSyx(Exp, kJB_SyxQues)) {
		return SC_TypeOfExpr(Exp, Name_space, nil);
	}
	return nil;
}

SCObject* SC_TypeOfReal(Message* Exp, SCNode* Name_space, Message* Side) {
	SCDecl* _tmPf0 = SC_TypeOfExpr(((Message*)JB_Ring_First(Exp)), Name_space, nil);
	if (!_tmPf0) {
		return nil;
	}
	return SC_Decl_MakeReal(_tmPf0);
}

SCObject* SC_TypeOfRel(Message* Exp, SCNode* Name_space, Message* Side) {
	JB_Incr(Side);
	Message* Opch = ((Message*)JB_Tree_Second(Exp));
	SCOperator* Comp = SC_Opp__Lookup(Opch);
	Message* RN = ((Message*)JB_Ring_NextSib(Opch));
	JB_Incr(RN);
	if (!RN) {
		JB_Msg_Fail(Exp, JB_LUB[2280]);
		JB_EarlyDecr(Side);
		JB_EarlyDecr(RN);
		return nil;
	}
	Message* LN = ((Message*)JB_Ring_First(Exp));
	JB_Incr(LN);
	if (SC_Opp_SyntaxIs(Comp, kSC__OpMode_SyntaxIs)) {
		SCDecl* _tmPf1 = SC_Msg_NiceIsFlagSyntax(LN, Opch, RN, Name_space, Side);
		JB_Incr(_tmPf1);
		JB_EarlyDecr(Side);
		JB_EarlyDecr(LN);
		JB_EarlyDecr(RN);
		JB_SafeDecr(_tmPf1);
		return _tmPf1;
	}
	JB_SetRef(Side, nil);
	Message* P = SC_Msg_NiceParent(Exp);
	JB_Incr(P);
	Syntax ParentFunc = P->Func;
	bool ShouldBeSet = ((ParentFunc == kJB_SyxArg) or (ParentFunc == kJB_SyxDecl));
	if ((!((bool)SC_Opp_SyntaxIs(Comp, kSC__OpMode_Assigns)))) {
		if (ShouldBeSet) {
			if (SC_Opp_SyntaxIs(Comp, kSC__OpMode_ExactlyEquals)) {
				if (true) {
					JB_Msg_Fail(Opch, JB_LUB[2281]);
				}
			}
			 else {
				if (true) {
					JB_Msg_Fail(Opch, JB_LUB[2282]);
				}
			}
		}
	}
	 else if (ShouldBeSet) {
		JB_SetRef(Side, RN);
		(SC_Msg_ASMTypeSet(Exp, kSC__ASMType_kSetRel));
	}
	 else if (!JB_Msg_EqualsSyx(P, kJB_SyxArg)) {
		if (true) {
			JB_Msg_Fail(Opch, JB_LUB[2283]);
		}
	}
	JB_Decr(P);
	SCDecl* RC = nil;
	SCDecl* LC = nil;
	if (Side) {
		RC = SC_TypeOfExprNeeded(RN, Name_space);
		if (RC) {
			LC = SC_TypeOfExpr(LN, Name_space, Side);
			if (((JB_Msg_EqualsSyx(Exp, kJB_SyxRel))) and (LN == JB_FreeIfDead(((Message*)JB_Ring_Last(Exp))))) {
				SCObject* _tmPf2 = SC_TypeOfRel(Exp, Name_space, Side);
				JB_Incr(_tmPf2);
				JB_EarlyDecr(Side);
				JB_EarlyDecr(LN);
				JB_EarlyDecr(RN);
				JB_SafeDecr(_tmPf2);
				return _tmPf2;
			}
		}
	}
	 else {
		LC = SC_TypeOfExpr(LN, Name_space, nil);
		RC = SC_TypeOfExprNeeded(RN, Name_space);
	}
	if ((!RC) or ((!LC) or (((!JB_Msg_EqualsSyx(Exp, kJB_SyxRel))) or (Side and (!SC_Decl_AssignabilityCheck(LC, LN, RN, RC, false)))))) {
		if (RC and (!LC)) {
			if (true) {
				JB_Msg_Fail(LN, JB_LUB[2284]);
			}
		}
		JB_EarlyDecr(Side);
		JB_EarlyDecr(LN);
		JB_EarlyDecr(RN);
		return nil;
	}
	JB_SetRef(Opch->Obj, Comp);
	if (SC_Opp_SyntaxIs(Comp, kSC__OpMode_AndOr)) {
		JB_EarlyDecr(Side);
		JB_EarlyDecr(LN);
		JB_EarlyDecr(RN);
		return SC_Or_And_Expansion(LC, RC, Exp, Name_space);
	}
	if (RC != SC_TypeNil) {
		SCDecl* IPM = SC_IsPointerMath(LC, RC, Comp, Exp);
		JB_Incr(IPM);
		if (IPM) {
			JB_EarlyDecr(Side);
			SCDecl* _tmPf3 = SC_Decl_CheckMath(IPM, Exp);
			JB_Incr(_tmPf3);
			JB_EarlyDecr(IPM);
			JB_EarlyDecr(LN);
			JB_EarlyDecr(RN);
			JB_SafeDecr(_tmPf3);
			return _tmPf3;
		}
		JB_Decr(IPM);
	}
	int Custom = SC_UseCustomOperators(LC, RC, Comp, Exp);
	if (Custom == kSC__CustomOps_Needed) {
		if ((!((bool)SC_Opp_SyntaxIs(Comp, kSC__OpMode_CompOrSet)))) {
			JB_EarlyDecr(Side);
			JB_EarlyDecr(LN);
			SCDecl* _tmPf4 = SC_CustomFuncOp(Exp, Comp, Name_space, RN);
			JB_Incr(_tmPf4);
			JB_EarlyDecr(RN);
			JB_SafeDecr(_tmPf4);
			return _tmPf4;
		}
		if (RC != SC_TypeNil) {
			if ((SC_Opp_SyntaxIs(Comp, kSC__OpMode_CaseAware)) or SC_Opp_CanOpCompare(Comp, LC, RC, Exp)) {
				JB_EarlyDecr(Side);
				JB_EarlyDecr(LN);
				JB_EarlyDecr(RN);
				return SC_DoOpCompare(Exp, LC, RC, Comp, Name_space);
			}
		}
	}
	 else if (SC_Opp_SyntaxIs(Comp, kSC__OpMode_Bit)) {
		if (!(SC_Decl_IntsOnly(RC, RN) and SC_Decl_IntsOnly(LC, LN))) {
			JB_EarlyDecr(Side);
			JB_EarlyDecr(LN);
			JB_EarlyDecr(RN);
			return nil;
		}
	}
	if ((!Side) and (Custom & kSC__CustomOps_TypeCastFromBool)) {
		LC = SC_TypeInt->TypeNormal;
		RC = LC;
	}
	if (Custom > kSC__CustomOps_Needed) {
		SCDecl* _tmPf0 = ((SCDecl*)JB_Ternary(Custom == kSC__CustomOps_OnlyLeftIsVector, LC, RC));
		JB_EarlyDecr(Side);
		JB_EarlyDecr(LN);
		JB_EarlyDecr(RN);
		return SC_Decl_NotLocal((_tmPf0));
	}
	if (SC_Decl_SyntaxIs(LC, kSC__SCDeclInfo_IntendedAsReturn)) {
		JB_SetRef(LN, SC_Msg_MakeAccess0(LN));
		LC = LC->Internal;
		JB_SetRef(LN->Obj, LC);
	}
	if (SC_Decl_ExpectRelMatch(LC, RC, RN, Side, Exp)) {
		JB_SetRef(LN, ((Message*)JB_Ring_First(Exp)));
		JB_SetRef(RN, ((Message*)JB_Ring_Last(Exp)));
		RC = SC_Msg_FastDecl(RN);
		LC = SC_Msg_FastDecl(LN);
	}
	if ((!Side) and (SC_Opp_SyntaxIs(Comp, kSC__OpMode_Compare))) {
		JB_EarlyDecr(Side);
		JB_EarlyDecr(LN);
		JB_EarlyDecr(RN);
		return SC_TypeBool->TypeNormal;
	}
	JB_Decr(Side);
	if (Custom & kSC__CustomOps_RecheckType) {
		LC = ((SCDecl*)Exp->Obj);
	}
	 else {
		if (Custom & (kSC__CustomOps_TypeCastToBetter | kSC__CustomOps_TypeCastToSmaller)) {
			SCDecl* Pc = SC_Decl_Better_Numeric(LC, RC, Comp->Kind, LN, RN);
			JB_Incr(Pc);
			if (SC_Decl_SyntaxIs(Pc, kSC__SCDeclInfo_Const) and (!SC_Decl_SyntaxIs(LC, kSC__SCDeclInfo_Const))) {
				LC = Pc->Type->TypeNormal;
			}
			 else {
				LC = Pc;
			}
			JB_Decr(Pc);
		}
		if (SC_Decl_SyntaxIs(LC, kSC__SCDeclInfo_Const)) {
			if ((SC_Decl_SyntaxIs(RC, kSC__SCDeclInfo_Const)) and (SC_Opp_SyntaxIs(Comp, kSC__OpMode_MathLike))) {
				LC = SC_Decl_CopyDecl(LC, false);
				(SC_Decl_SyntaxIsSet(LC, kSC__SCDeclInfo_Const, true));
				(SC_Decl_SyntaxIsSet(LC, kSC__SCDeclInfo_UnknownConst, true));
			}
			 else {
				LC = LC->Type->TypeNormal;
			}
		}
	}
	JB_Decr(RN);
	JB_EarlyDecr(LN);
	return SC_Decl_NotLocal(LC);
}

SCObject* SC_TypeOfSDot(Message* Exp, SCNode* Name_space, Message* Side) {
	SC_Func__Tran_Sdt(Exp);
	return SC_TypeOfDot(Exp, Name_space, Side);
}

SCObject* SC_TypeOfSString(Message* Exp, SCNode* Name_space, Message* Side) {
	return SC_TypeStringZero->TypeReal;
}

SCObject* SC_TypeOfSthg(Message* Exp, SCNode* Name_space, Message* Side) {
	SC_Msg_MakeComment(Exp);
	return nil;
}

SCObject* SC_TypeOfStr(Message* Exp, SCNode* Name_space, Message* Side) {
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Exp, (&_usingf0));
	SC_Func__String_Expand(Exp, SC_Msg_MsgOwningFunc(Exp));
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Exp);
	SCDecl* _tmPf1 = SC_TypeStringZero->TypeReal;
	JB_Incr(_tmPf1);
	JB_MsgPos_Destructor((&_usingf0));
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

SCDecl* SC_TypeOfSwizSub(Message* Exp, SCDecl* Type, SCNode* Name_space, Message* Side, int Swiz) {
	int Count = Swiz >> 16;
	int W = SC_Class_NumericCount(Type->Type);
	if (!((Count == 1) or (Side == nil))) {
		JB_Msg_Fail(Exp, JB_LUB[2086]);
		return nil;
	}
	if (Count > 4) {
		JB_Msg_Fail(Exp, JB_LUB[2087]);
		return nil;
	}
	if (W == 3) {
		W = 4;
	}
	Message* Prms = ((Message*)JB_Ring_Last(Exp));
	JB_Incr(Prms);
	SCClass* _tmPf1 = SC_VecType((!SC_Decl_IsInteger(Type)), Count);
	JB_Incr(_tmPf1);
	SCDecl* T = SC_Class_NotConst(_tmPf1);
	JB_Decr(_tmPf1);
	if (Count == 1) {
		Swiz = (Swiz & 7);
		if (Swiz >= W) {
			JB_Msg_Fail(Prms, JB_LUB[1542]);
			JB_EarlyDecr(Prms);
			return nil;
		}
		JB_Msg_BecomeStr(Exp, kJB_SyxAcc, JB_LUB[0]);
		Prms->Func = kJB_SyxArr;
		SC_Msg_DeclAddNumbInt(Prms, Swiz, Name_space);
	}
	 else {
		JB_Tree_Remove(Prms);
		Message* Oof = ((Message*)JB_Ring_First(Exp));
		JB_Incr(Oof);
		JB_String* Tmp = Oof->Name;
		JB_Incr(Tmp);
		if ((JB_Msg_EqualsSyx(Oof, kJB_SyxThg))) {
			JB_Tree_Remove(Oof);
		}
		 else {
			JB_SetRef(Oof, SC_Msg_IntoVariable(Oof, Name_space));
			if (!Oof) {
				JB_EarlyDecr(Tmp);
				JB_EarlyDecr(Oof);
				JB_EarlyDecr(Prms);
				return nil;
			}
			Message* _tmPf2 = ((Message*)JB_Ring_Parent(Oof));
			JB_Incr(_tmPf2);
			JB_SetRef(_tmPf2->Obj, T);
			JB_Decr(_tmPf2);
			Name_space = SC_Msg_AsArg(Oof);
			JB_Msg_BecomeStr(Exp, kJB_SyxBra, JB_LUB[0]);
			Message* _tmPf3 = ((Message*)JB_Ring_Last(Oof));
			JB_Incr(_tmPf3);
			Exp = ((Message*)JB_Ring_Last(_tmPf3));
			JB_Decr(_tmPf3);
			JB_SetRef(Tmp, Exp->Name);
			JB_SetRef(Exp->Obj, T);
		}
		JB_Decr(Oof);
		JB_Msg_BecomeStr(Exp, kJB_SyxList, JB_LUB[0]);
		Exp->Indent = Swiz;
		{
			int I = 0;
			while (I < Count) {
				int Field = (Swiz >> (I * 3)) & 7;
				Message* Item = nil;
				if (Field == 4) {
					Item = JB_Msg_Msg(Exp, kJB_SyxNum, JB_LUB[478]);
				}
				 else {
					if (Field >= W) {
						JB_Msg_Fail(Exp, JB_LUB[1542]);
						JB_EarlyDecr(Tmp);
						JB_EarlyDecr(Prms);
						return nil;
					}
					Item = JB_Syx_Msg(kJB_SyxAcc, JB_LUB[0]);
					JB_Msg_AppendSyx(Item, kJB_SyxThg, Tmp);
					Message* _tmPf4 = JB_Msg_Msg(Item, kJB_SyxArr, JB_LUB[0]);
					JB_Incr(_tmPf4);
					Message* _tmPf5 = JB_Syx_PlusNum(kJB_SyxNum, Field);
					JB_Incr(_tmPf5);
					JB_Tree_SyntaxAppend(_tmPf4, (_tmPf5));
					JB_Decr(_tmPf4);
					JB_Decr(_tmPf5);
					JB_Tree_SyntaxAppend(Exp, Item);
				}
				JB_FreeIfDead(SC_TypeOfExpr(Item, Name_space, nil));
				(++I);
			};
		}
		;
		JB_Decr(Tmp);
	}
	JB_EarlyDecr(Prms);
	return T;
}

SCDecl* SC_TypeOfSwizzle(Message* Exp, SCNode* Name_space, Message* Side, SCDecl* class_Space) {
	SCDecl* Rz = nil;
	int W = SC_Class_NumericCount(class_Space->Type);
	if ((W > 1) and (!JB_Ring_HasChildren(((Message*)JB_Ring_Last(Exp))))) {
		int Swz = SC_Str_IsSwizzle(Exp->Name, W);
		if (Swz) {
			//using;
			MessagePosition _usingf0 = ((MessagePosition){});
			JB_Msg_SyntaxUsing(Exp, (&_usingf0));
			Rz = SC_TypeOfSwizSub(Exp, class_Space, Name_space, Side, Swz);
			JB_MsgPos_SyntaxUsingComplete((&_usingf0), Exp);
			JB_MsgPos_Destructor((&_usingf0));
		}
	}
	return Rz;
}

SCDecl* SC_TypeOfSyntaxCall(Message* Exp, SCNode* Name_space, Message* Side) {
	JB_Msg_BecomeStr(Exp, kJB_SyxDot, JB_LUB[1421]);
	return SC_TypeOfExpr(Exp, Name_space, Side);
}

SCObject* SC_TypeOfSyx(Message* Exp, SCNode* Name_space, Message* Side) {
	Exp->Func = kJB_SyxThg;
	JB_SetRef(Exp->Name, JB_Str_OperatorPlus(JB_LUB[1151], Exp->Name));
	return SC_TypeOfThg(Exp, Name_space, Side);
}

SCObject* SC_TypeOfTernary(Message* Exp, SCNode* Name_space, Message* Side) {
	Message* List = ((Message*)JB_Ring_First(Exp));
	Message* Params = ((Message*)JB_Ring_NextSib(List));
	if (!(JB_Ring_HasChildren(List) and JB_Tree_HasOneChild(Params))) {
		JB_Msg_Fail(Exp, JB_LUB[2008]);
		return nil;
	}
	Message* First = ((Message*)JB_Ring_First(List));
	Message* Second = ((Message*)JB_Ring_NextSib(First));
	if (Second) {
		if (!JB_Msg_ExpectLast(Second, nil)) {
			return nil;
		}
	}
	 else {
		Second = SC_Msg_CreateNil(Exp);
		(JB_Ring_NextSibSet(First, Second));
	}
	Message* Test = JB_Msg_NeedSyx(Params, kJB_SyxNil);
	if (!Test) {
		return nil;
	}
	SCDecl* Result = SC_SameTypeSub(First, Second, Name_space);
	if (Result and SC_Msg_ExpandToBool(Test, Name_space)) {
		JB_Tree_SyntaxAppend(Params, ((Message*)JB_Ring_First(List)));
		JB_Msg_BecomeStr(List, kJB_SyxThg, JB_LUB[1504]);
		JB_SetRef(Params->Obj, SC__Comp_TernaryFunc);
		JB_Tree_SyntaxAppend(Params, ((Message*)JB_Ring_First(List)));
		(SC_Msg_ASMTypeSet(Exp, kSC__ASMType_kTern));
		return Result;
	}
	return nil;
}

SCObject* SC_TypeOfThg(Message* Exp, SCNode* Name_space, Message* Side) {
	SCObject* R = SC_Base_LookUpVar(Name_space, Exp->Name, Exp, Side);
	if (JB_Object_FastIsa(R, &SCModuleData)) {
		SCClass* Cls = ((SCModule*)R)->Cls;
		if (!Cls) {
			return ((SCModule*)R);
		}
		if (Cls->IsModel) {
			return SC_Class_GetFlyingMemory(Cls, Exp);
		}
		if (SC_Class_IsObject(Cls)) {
			SCDecl* T = Cls->ClassType;
			if (T) {
				JB_SetRef(Exp->Name, T->Name);
				return T;
			}
			if (true) {
				JB_Msg_Fail(Exp, nil);
			}
		}
		if (true) {
			JB_Msg_Fail(Exp, JB_LUB[2249]);
			return nil;
		}
	}
	 else if (JB_Object_FastIsa(R, &SCDeclData)) {
		SC_Decl_MarkAsUsed(((SCDecl*)R), Side, nil);
		JB_Object* O = ((SCDecl*)R)->IsLookupOnly;
		if (JB_Object_Isa(O, &MessageData)) {
			SC_Msg_SafeReplaceWith(Exp, JB_Msg_Copy(((Message*)O), Exp));
		}
	}
	return R;
}

SCObject* SC_TypeOfType(Message* Exp, SCNode* Name_space, Message* Side) {
	Message* _tmPf0 = ((Message*)JB_Ring_First(Exp));
	JB_Incr(_tmPf0);
	Message* Exp0 = SC_Msg_UnBra(_tmPf0);
	JB_Incr(Exp0);
	JB_Decr(_tmPf0);
	SCDecl* Old = SC_TypeOfExpr(Exp0, Name_space, Side);
	JB_Incr(Old);
	Message* _tmPf1 = ((Message*)JB_Ring_Last(Exp));
	JB_Incr(_tmPf1);
	SCDecl* New = SC_ExtractDecl(_tmPf1, Name_space, kSC__DeclMode_TypeCast, 0);
	JB_Incr(New);
	JB_Decr(_tmPf1);
	if ((!New) or (!Old)) {
		0;
	}
	 else if (SC_Decl_NoStructOrCArrayCasts(Old, Exp0) or SC_Decl_NoStructOrCArrayCasts(New, Exp0)) {
		if (true) {
			JB_Msg_Fail(Exp, JB_LUB[2009]);
		}
	}
	 else if (SC_Decl_NumericCountWithBools(Old) != SC_Decl_NumericCountWithBools(New)) {
		int O = SC_Decl_NumericCountWithBools(Old);
		int N = SC_Decl_NumericCountWithBools(New);
		if (!(((O == 3) or (O == 4)) and ((N == 3) or (N == 4)))) {
			if (true) {
				JB_Msg_Fail(Exp, JB_LUB[2010]);
			}
		}
	}
	 else {
		if (SC_Msg_IsInt(Exp0) and SC_Decl_TypeSuffers(New)) {
			if (SC_Msg_IsZero(Exp0) or SC_Decl_IsNil(Old)) {
				JB_SetRef(New, SC_Decl_MakeNewNil(New));
			}
			 else {
				JB_SetRef(New, SC_Decl_MakeNewReal(New));
			}
		}
		SC_Decl_NoBlindCasts(New, Old, Exp);
	}
	JB_Decr(Exp0);
	JB_Decr(Old);
	JB_SafeDecr(New);
	return New;
}

SCObject* SC_TypeOfUnit(Message* Exp, SCNode* Name_space, Message* Side) {
	Message* It = ((Message*)JB_Ring_First(Exp));
	if (JB_Msg_SyntaxEquals(Exp, JB_LUB[112], false)) {
		JB_Msg_BecomeStr(Exp, kJB_SyxBra, JB_LUB[0]);
		It->Func = kJB_SyxNum;
		return SC_TypeOfNum(It, Name_space, Exp);
	}
	SCClass* Type = SC_TypeInt;
	JB_String* Unit = Exp->Name;
	Float64 Mul = ((Float64)JB_Str_SuffixSize(Unit));
	if (Mul) {
		0;
	}
	 else if (JB_Str_Equals(Unit, JB_LUB[1820], false)) {
		Mul = 0;
	}
	 else {
		Type = SC_TypeDuration;
		Float64 S4 = ((Float64)(64.0f * 1024.0f));
		if (JB_Str_Equals(Unit, JB_LUB[128], false)) {
			Mul = S4;
		}
		 else if (JB_Str_Equals(Unit, JB_LUB[1821], false)) {
			Mul = ((Float64)64.0f);
		}
		 else if (JB_Str_Equals(Unit, JB_LUB[1822], false)) {
			Mul = (3.1415926535897932f);
			Type = SC_TypeFloat64;
		}
		 else if (JB_Str_Equals(Unit, JB_LUB[1823], false)) {
			Mul = (6.2831853071795864f);
			Type = SC_TypeFloat64;
		}
		 else if (SC_Msg_UnitMatch(Exp, JB_LUB[1824], JB_LUB[1825])) {
			Mul = (((Float64)86400.0f) * S4);
		}
		 else if (SC_Msg_UnitMatch(Exp, JB_LUB[1826], JB_LUB[1827])) {
			Mul = (((Float64)604800.0f) * S4);
		}
		 else if (SC_Msg_UnitMatch(Exp, JB_LUB[1828], JB_LUB[1829])) {
			Mul = (((Float64)31536000.0f) * S4);
		}
		 else if (SC_Msg_UnitMatch(Exp, JB_LUB[1830], JB_LUB[1126])) {
			Mul = (((Float64)60.0f) * S4);
		}
		 else if (SC_Msg_UnitMatch(Exp, JB_LUB[1831], JB_LUB[1832])) {
			Mul = (((Float64)3600.0f) * S4);
		}
		 else {
			if (true) {
				JB_Msg_Fail(Exp, JB_LUB[1833]);
			}
		}
	}
	Float64 Val = JB_Msg_Float(It);
	if (!Mul) {
		Val = (((Float64)1.0f) / Val);
		Type = SC_Typefloat;
	}
	 else {
		Val = (Val * Mul);
	}
	JB_String* Str = JB_LUB[0];
	JB_Incr(Str);
	SCDecl* D = SC_Decl_CopyDecl(Type->TypeNormal, false);
	JB_Incr(D);
	uint64 X = ((uint64)Val);
	bool CanFloat = JB_TC_IsFloat(Type->TypeInfo);
	if (!CanFloat) {
		CanFloat = JB_Str_ContainsByte(It->Name, '.');
	}
	if (Type == SC_TypeDuration) {
		JB_SetRef(Str, JB_int64_Render(((int64)Val), nil));
	}
	 else if (CanFloat) {
		JB_SetRef(Str, JB_dbl_Render(Val, 24, nil));
		Float64 Big = ((Float64)(16.0f * (1024.0f * 1024.0f)));
		if ((Val >= Big) or (Val < (-Big))) {
			JB_SetRef(D->Type, SC_TypeFloat64);
			X = JB_dbl_AsInt(Val);
		}
		 else {
			JB_SetRef(D->Type, SC_Typefloat);
			X = JB_f_AsInt(((float)Val));
		}
	}
	 else {
		JB_SetRef(Str, JB_int64_Render(((int64)Val), nil));
		Float64 Big = ((Float64)(((int64)1) << ((int64)31)));
		if ((Val >= Big) or (Val < (-Big))) {
			JB_SetRef(D->Type, SC_TypeInt64);
		}
		if (Mul == ((Float64)1)) {
			X = JB_Msg_Int(It, 0);
		}
	}
	(SC_Decl_NumberConstSet(D, X));
	if (JB_Msg_SyntaxEquals(It, Str, false)) {
		JB_SetRef(Str, It->Name);
	}
	JB_Msg_BecomeStr(Exp, kJB_SyxNum, Str);
	JB_Decr(Str);
	JB_Tree_Clear(Exp);
	JB_SafeDecr(D);
	return D;
}

SCDecl* SC_TypeOfVecAccess(Message* Index, SCDecl* Ty0, int W) {
	if (JB_Msg_EqualsSyx(Index, kJB_SyxNum)) {
		if (!JB_int64_OperatorInRange(JB_Msg_Int(Index, 0), W)) {
			JB_Msg_Fail(Index, JB_LUB[1542]);
			return nil;
		}
	}
	if (JB_TC_IsFloat(Ty0->Type->TypeInfo)) {
		return SC_Class_NotConst(SC_Typefloat);
	}
	return SC_Class_NotConst(SC_TypeInt);
}

JB_String* SC_UniqueTmpVar(SCNode* Base, JB_String* Name) {
	JB_FS_AppendByte2(SC_fs_tmp_num, '_');
	JB_FS_AppendString(SC_fs_tmp_num, Name);
	if (Base) {
		SCFunction* FN = SC_Base_OwningFunc(Base);
		if (FN) {
			JB_FS_AppendByte2(SC_fs_tmp_num, 'f');
			JB_FS_AppendInt32(SC_fs_tmp_num, ((int)FN->TmpCounter++));
		}
	}
	 else {
		JB_FS_AppendInt32(SC_fs_tmp_num, SC__SC_UniqueNum++);
	}
	return JB_FS_SyntaxCast(SC_fs_tmp_num);
}

int SC_UseCustomOperators(SCDecl* LC, SCDecl* RC, SCOperator* Comp, Message* MsgRel) {
	if (SC_Opp_SyntaxIs(Comp, kSC__OpMode_Custom) or SC_Opp_SyntaxIs(Comp, kSC__OpMode_CaseAware)) {
		return kSC__CustomOps_Needed;
	}
	uint LNT = SC_Decl_TypeInfo(LC);
	if (JB_TC_IsFloat(LNT) and SC_Opp_SyntaxIs(Comp, kSC__OpMode_CustomOnFloat)) {
		return kSC__CustomOps_Needed;
	}
	uint RNT = SC_Decl_TypeInfo(RC);
	if (SC__Base_ConstantsLoadingOverride) {
		if (SC_Decl_IsReallyNumeric(LC)) {
			LNT = JB_TC_SyntaxIsSet(LNT, kJB__TC_Numeric, true);
		}
		if (SC_Decl_IsReallyNumeric(RC)) {
			RNT = JB_TC_SyntaxIsSet(RNT, kJB__TC_Numeric, true);
		}
	}
	int LN = SC_TC_NumericCountBoolsToo(LNT, LC);
	int RN = SC_TC_NumericCountBoolsToo(RNT, RC);
	if (JB_TC_SyntaxIs(LNT, kJB__TC_Numeric) and JB_TC_SyntaxIs(RNT, kJB__TC_Numeric)) {
		if ((SC_Opp_SyntaxIs(Comp, kSC__OpMode_Comparison)) and (JB_TC_IsSigned(LNT) != JB_TC_IsSigned(RNT))) {
			if (SC_Decl_CompareUnclear(LC, RC, ((bool)(SC_Opp_SyntaxIs(Comp, kSC__OpMode_Less)))) or SC_Decl_CompareUnclear(RC, LC, ((bool)(SC_Opp_SyntaxIs(Comp, kSC__OpMode_More))))) {
				if (true) {
					JB_Msg_Fail(MsgRel, JB_LUB[1543]);
				}
			}
		}
		if (SC_Opp_SyntaxIs(Comp, kSC__OpMode_Comparison)) {
			int Always = 0;
			if (SC_Decl_IsZero(LC) and (!JB_TC_IsSigned(RNT))) {
				Always = ((SC_Opp_SyntaxIs(Comp, kSC__OpMode_LessOrEqual)) - (SC_Opp_SyntaxIs(Comp, kSC__OpMode_More)));
			}
			if (SC_Decl_IsZero(RC) and (!JB_TC_IsSigned(LNT))) {
				Always = ((SC_Opp_SyntaxIs(Comp, kSC__OpMode_MoreOrEqual)) - (SC_Opp_SyntaxIs(Comp, kSC__OpMode_Less)));
			}
			if (Always) {
				if (true) {
					JB_Msg_Fail(MsgRel, JB_LUB[1544]);
				}
			}
		}
	}
	if (!(LN and (LN == RN))) {
		if (LN and (RN and ((LN == 1) or (RN == 1)))) {
			if (SC_Opp_SyntaxIs(Comp, kSC__OpMode_CompOrSet)) {
				return kSC__CustomOps_Needed;
			}
			if (SC_Opp_SyntaxIs(Comp, kSC__OpMode_Multiply)) {
				SCClass* B = SC_TypeBool;
				if (SC_Decl_OperatorExact_isa(LC, B)) {
					return kSC__CustomOps_OnlyRightIsVector;
				}
				if (SC_Decl_OperatorExact_isa(RC, B)) {
					return kSC__CustomOps_OnlyLeftIsVector;
				}
			}
			if (JB_TC_IsFloat(LNT) != JB_TC_IsFloat(RNT)) {
				JB_Msg_Fail(MsgRel, JB_LUB[1545]);
				return 0;
			}
			if (LN > RN) {
				return kSC__CustomOps_OnlyLeftIsVector;
			}
			 else {
				return kSC__CustomOps_OnlyRightIsVector;
			}
		}
		return kSC__CustomOps_Needed;
	}
	int Extra = 0;
	if (LN and RN) {
		bool GotABool = ((kJB__TC_bool == LNT) or (kJB__TC_bool == RNT));
		if (LNT != RNT) {
			if ((GotABool and SC_Opp_SyntaxIs(Comp, kSC__OpMode_Compare))) {
				JB_Msg_Fail(MsgRel, JB_LUB[1546]);
				return 0;
			}
			if (SC_Opp_SyntaxIs(Comp, kSC__OpMode_MathLike)) {
				if (SC_Opp_SyntaxIs(Comp, kSC__OpMode_NoExtraBits)) {
					if (SC_Opp_SyntaxIs(Comp, kSC__OpMode_LoseBits)) {
						Extra = kSC__CustomOps_TypeCastToSmaller;
					}
				}
				 else if ((SC_Opp_SyntaxIs(Comp, kSC__OpMode_ShiftOnly)) and ((JB_TC_IsFloat(LNT)) and (JB_TC_IsInt(RNT)))) {
					Extra = kSC__CustomOps_Needed;
				}
				 else {
					Extra = kSC__CustomOps_TypeCastToBetter;
				}
			}
		}
		 else {
			if (GotABool and (!((bool)SC_Opp_SyntaxIs(Comp, kSC__OpMode_Compare)))) {
				Extra = kSC__CustomOps_TypeCastFromBool;
			}
			 else if ((SC_Opp_SyntaxIs(Comp, kSC__OpMode_MakesSigned)) and SC_Decl_IsUintLike(LC)) {
				Extra = kSC__CustomOps_TypeCastToBetter;
			}
		}
	}
	if ((!SC__Base_ConstantsLoadingOverride) and SC_Class_SyntaxIs(LC->Type, kSC__ClassInfo_TreatAsBaseType)) {
		return kSC__CustomOps_Needed | Extra;
	}
	if ((LN > 1) and (SC_Opp_SyntaxIs(Comp, kSC__OpMode_CompOrSet))) {
		return kSC__CustomOps_Needed | Extra;
	}
	if (!Extra) {
		SCClass* T = LC->Type;
		if (T->Super and SC_Class_HasOperator(T, Comp->FuncName)) {
			return kSC__CustomOps_Needed;
		}
	}
	if (SC_Opp_SyntaxIs(Comp, kSC__OpMode_ShiftOnly) and SC_Decl_SyntaxIs(RC, kSC__SCDeclInfo_Const)) {
		bool IsLeft = Comp == SC__Opp_LeftShift;
		if (!SC_Decl_SyntaxIs(LC, kSC__SCDeclInfo_Const)) {
			SC_Msg_CheckConstShift(MsgRel, LC, RC, IsLeft);
		}
		if ((IsLeft) and (SC_Decl_SyntaxIs(LC, kSC__SCDeclInfo_Const))) {
			Extra = (Extra | SC_Msg_TryImproveShiftConstants(MsgRel, LC, RC));
		}
	}
	return Extra;
}

SCClass* SC_VecType(bool Isfloat, int Count) {
	if (Isfloat) {
		if (Count == 2) {
			return SC_TypeVec2;
		}
		if (Count == 3) {
			return SC_TypeVec3;
		}
		if (Count == 4) {
			return SC_TypeVec4;
		}
		return SC_Typefloat;
	}
	if (Count == 2) {
		return SC_TypeiVec2;
	}
	if (Count == 3) {
		return SC_TypeiVec3;
	}
	if (Count == 4) {
		return SC_TypeiVec4;
	}
	return SC_TypeInt;
}


int JB_zalgo__Init_() {
	{
	}
	;
	return 0;
}



int SC_bool_EqulMode(bool Self, ASMReg L, ASMReg R) {
	int Rz = 0;
	Rz = (((int)Self) ^ 1);
	Rz = (Rz | (SC_Reg_Clip(L) << 1));
	Rz = (Rz | (SC_Reg_Clip(R) << 4));
	return Rz;
}

void JB_bool_Append(bool Self, FastString* Fs_in) {
	//cpp_part;
	JB_FS_AppendString(Fs_in, JB_bool_Render0(Self));
}

JB_String* JB_bool_Render0(bool Self) {
	//cpp_part;
	return ((JB_StringC*)JB_Ternary(Self, JB_LUB[6], JB_LUB[7]));
}


bool JB_byte_CanPrintAsNormalChar(uint /*byte*/ Self) {
	return ((Self < 127) and (Self >= 32));
}

bool JB_byte_In(uint /*byte*/ Self, uint A, uint B) {
	return (Self >= A) and (Self <= B);
}

bool JB_byte_IsHex(uint /*byte*/ Self) {
	return JB_byte_IsInt(Self) or (JB_byte_In(Self, 'a', 'f') or JB_byte_In(Self, 'A', 'F'));
}

bool JB_byte_IsInt(uint /*byte*/ Self) {
	return ((uint)(((int)Self) - '0')) <= 9;
}

bool JB_byte_IsTextLine(uint /*byte*/ Self) {
	return (Self == '\n') or (Self == '\x0D');
}

byte JB_byte_LowerCase(uint /*byte*/ Self) {
	if (JB_byte_IsUpper(Self)) {
		return Self + 32;
	}
	return Self;
}

bool JB_byte_OperatorEq(uint /*byte*/ Self, uint /*byte*/ B) {
	Self = JB_byte_LowerCase(Self);
	B = JB_byte_LowerCase(B);
	return Self == B;
}

JB_String* JB_byte_Render(uint /*byte*/ Self, FastString* Fs_in) {
	if ((!Fs_in)) {
		return JB_Str__Byte(Self);
	}
	JB_FS_AppendByte2(Fs_in, ((byte)Self));
	return JB_LUB[0];
}

byte JB_byte_UpperCase(uint /*byte*/ Self) {
	if (JB_byte_IsLower(Self)) {
		return Self - 32;
	}
	return Self;
}


void JB_cstring_temp(_cstring Self, VirtualJBString* Rz) {
	Rz->Refcount = 0;
	Rz->Length = strlen(Self);
	Rz->Addr = ((byte*)Self);
}


JB_String* JB_dbl_Render(double Self, int Dp, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	JB_FS_AppendDoubleAsText(Fs, Self, Dp, true);
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}


float JB_f_ClampWithF(float Self, float H) {
	return JB_f_Clamp(Self, 0, H);
}

float JB_f_Cos(float Self) {
	//visible;
	return __cospif(Self * 2.0f);
}

float JB_f_Fract(float Self) {
	//visible;
	return Self - floorf(Self);
}

float JB_f_Length(float Self) {
	//visible;
	return fabsf(Self);
}

float JB_f_FloatMix(float Self, float A, float B) {
	//cpp_part;
	//visible;
	return A + (Self * (B - A));
}

float JB_f_Pow(float Self, int N) {
	float Rz = 0.0f;
	//visible;
	Rz = Self;
	{
		int _Valuef1 = 0;
		while (_Valuef1 < N) {
			Rz = (Rz * Self);
			(++_Valuef1);
		};
	}
	;
	return Rz;
}

float JB_f_Sine(float Self) {
	//visible;
	return __sinpif(Self * 2.0f);
}

float JB_f_SmoothStep(float Self, float Low, float High) {
	//visible;
	float T = JB_f_ClampWithF(((Self - Low) / (High - Low)), 1.0f);
	return T * (T * (3.0f - (2.0f * T)));
}

float JB_f_Tan(float Self) {
	//visible;
	return __tanpif(Self * 2.0f);
}

float JB_f_Uncos(float Self) {
	//visible;
	return acosf(Self) * kJB__Math_iTau;
}

float JB_f_Unsin(float Self) {
	//visible;
	return asinf(Self) * kJB__Math_iTau;
}

float JB_f_UnTan(float Self, float Y) {
	float Rz = 0.0f;
	//visible;
	Rz = atan2f(Self, Y);
	Rz = (Rz * (-kJB__Math_iTau));
	if (Rz < 0.0f) {
		(++Rz);
	}
	return Rz;
}



ASMReg SC_int_ToASM(int Self) {
	ASMReg Rz = ((ASMReg)0);
	//cpp_part;
	Rz = SC_Reg_RegSetWithInt(Rz, Self);
	return Rz;
}

bool SC_int_IsNormalMatch(int Self) {
	return ((Self == kJB_kSimpleMatch) or ((Self == kJB_kNumericMatch) or (Self == kJB_kSuperClassMatch)));
}

bool SC_int_IsSimpleOrPointerCast(int Self) {
	return (Self == kJB_kSimpleMatch) or ((Self == kJB_kNumericMatch) or (Self == kJB_kNeedsAddressOf));
}

int JB_int_LowestBit(int Self) {
	return Self & (-Self);
}

int JB_int_OperatorAlign(int Self, int To) {
	if (To) {
		int Missing = (Self % To);
		if (Missing) {
			return Self + (To - Missing);
		}
		return Self;
	}
	return Self;
}

int JB_int_OperatorMax(int Self, int Other) {
	if (Self > Other) {
		return Self;
	}
	return Other;
}

int JB_int_OperatorMin(int Self, int Other) {
	if (Self < Other) {
		return Self;
	}
	return Other;
}

JB_String* JB_int_operatorof(int Self, JB_String* Type, JB_String* Nothing) {
	return JB_Str_PluraliseAmount(Type, Self, Nothing);
}

JB_String* JB_int_RenderFS(int Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	//cpp_part;
	JB_FS_AppendInt32(Fs, Self);
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

int JB_int_SetSign(int Self, bool IsNeg) {
	if (IsNeg) {
		return (-Self);
	}
	return Self;
}

JB_String* JB_int_RenderSize(int Self, FastString* Fs_in) {
	//cpp_part;
	return JB_int64_StrSize(((int64)Self), Fs_in);
}

int JB_int_SyntaxAccessSet(int Self, int Bit, bool Value) {
	int Mask = (1 << Bit);
	return (Self & (~Mask)) | (((int)Value) << Bit);
}



int64 JB_int64_Abs(int64 Self) {
	if (Self < 0) {
		Self = (-Self);
	}
	return Self;
}

int SC_int64_BitsNeeded(int64 Self) {
	if (Self) {
		return JB_int64_Log2(Self) + 1;
	}
	return 0;
}

bool SC_int64_CanStoreAsAddK(int64 Self) {
	return ((Self << 50) >> 50) == Self;
}

bool SC_int64_Fits(int64 Self, int Amount, bool Signed) {
	int64 Sh = 64 - Amount;
	int64 X = Self << Sh;
	if (Signed) {
		X = (X >> Sh);
	}
	 else {
		X = (((uint64)X) >> Sh);
	}
	return X == Self;
}

Message* SC_int64_MsgForConst(int64 Self, bool AllowShift) {
	Message* Rz = nil;
	if ((!AllowShift) or ((Self <= 1) or (!JB_int64_IsPow2(Self)))) {
		return JB_int64_Msg(Self);
	}
	Rz = JB_Syx_Msg(kJB_SyxRel, JB_LUB[0]);
	JB_Tree_SyntaxAppend(Rz, SC_NewDeclNumConst(nil, 1, JB_LUB[0], false));
	Message* Op = JB_Msg_Msg(Rz, kJB_SyxOpp, JB_LUB[1171]);
	JB_SetRef(Op->Obj, SC_Opp__Lookup(Op));
	JB_Tree_SyntaxAppend(Rz, SC_NewDeclNumConst(nil, JB_int64_Log2(Self), JB_LUB[0], false));
	return Rz;
}

int64 JB_int64_OperatorMax(int64 Self, int64 D) {
	if (D > Self) {
		return D;
	}
	return Self;
}

JB_String* JB_int64_Render(int64 Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	JB_FS_AppendInt64(Fs, Self);
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

JB_String* JB_int64_StrSize(int64 Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	if (Self <= 512) {
		JB_FS_AppendInt64(Fs, Self);
	}
	 else {
		uint Part = 'T';
		int64 Size = 1099511627776;
		if (Self <= 921600) {
			Size = 1024;
			Part = 'K';
		}
		 else if (Self < 943718400) {
			Size = 1048576;
			Part = 'M';
		}
		 else if (Self < 966367641600) {
			Size = 1073741824;
			Part = 'G';
		}
		JB_FS_AppendDoubleAsText(Fs, JB_int64_OperatorDiv(Self, Size), 1, false);
		JB_FS_AppendByte2(Fs, Part);
		JB_FS_AppendByte2(Fs, 'B');
	}
	return JB_FS_SmartResult(Fs, Fs_in);
}

int64 SC_int64_ValueTrap(int64 Self, int64 L, int64 H) {
	if (Self < L) {
		return L;
	}
	if (Self > H) {
		return H;
	}
	return 0;
}



bool JB_ivec2_OperatorContains(ivec2 Self, int X) {
	return (X >= Self[0]) and (X <= Self[1]);
}

bool JB_ivec2_OperatorInrange(ivec2 Self, ivec2 P) {
	return JB_int_OperatorInRange(Self[0], P[0]) and JB_int_OperatorInRange(Self[1], P[1]);
}



ivec4 JB_ivec4_Shrink(ivec4 Self, int I) {
	//cpp_part;
	return ivec4{Self[0] + I, Self[1] + I, Self[2] - I, Self[3] - I};
}


bool SC_uint_EqulInputsAreBothBool(uint Self) {
	return (Self >> 1) == 0;
}

FatASM* SC_uint_FAT(uint Self) {
	if (Self) {
		return SC__Pac_Sh.FuncStart_ + Self;
	}
	return nil;
}

uint JB_uint_LowestBit(uint Self) {
	return Self & (-Self);
}



int JB_uint64_HintLength(uint64 Self) {
	int Rz = 0;
	Rz = 1;
	while (Self >= 128) {
		Self = (Self >> 7);
		(++Rz);
	};
	return Rz;
}

uint64 JB_uint64_LowestBit(uint64 Self) {
	return Self & (-Self);
}

uint64 SC_uint64_rotl1(uint64 Self) {
	return (Self << 1) | (Self >> 63);
}

uint64 SC_uint64_Trim(uint64 Self, int B) {
	B = (64 - B);
	return (Self << B) >> B;
}





ASM SC_ASM_AddAK_KSet(ASM Self, uint Value) {
	return Self | ((Value << 18) >> 18);
}

ASM SC_ASM_AddB_KSet(ASM Self, uint Value) {
	return Self | ((Value << 13) >> 13);
}

ASM SC_ASM_AddK_KSet(ASM Self, uint Value) {
	return Self | ((Value << 18) >> 18);
}

ASM SC_ASM_AddOrSubM_LSet(ASM Self, uint Value) {
	return Self | ((Value << 29) >> 29);
}

ASM SC_ASM_AddOrSubM_ShSet(ASM Self, uint Value) {
	return Self | ((Value << 26) >> 23);
}

ASM SC_ASM_Alloc_AmountSet(ASM Self, uint Value) {
	return Self | ((Value << 13) >> 13);
}

ASM SC_ASM_BFLD_downSet(ASM Self, uint Value) {
	return Self | ((Value << 26) >> 24);
}

ASM SC_ASM_BFLD_LSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 31);
}

ASM SC_ASM_BFLD_signSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 30);
}

ASM SC_ASM_BFLD_upSet(ASM Self, uint Value) {
	return Self | ((Value << 26) >> 18);
}

ASM SC_ASM_BFLS_downSet(ASM Self, uint Value) {
	return Self | ((Value << 26) >> 24);
}

ASM SC_ASM_BFLS_LSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 31);
}

ASM SC_ASM_BFLS_signSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 30);
}

ASM SC_ASM_BFLS_upSet(ASM Self, uint Value) {
	return Self | ((Value << 26) >> 18);
}

ASM SC_ASM_Bra_JmpSet(ASM Self, uint Value) {
	return Self | ((Value << 14) >> 14);
}

ASM SC_ASM_Bra_SmallSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 13);
}

ASM SC_ASM_CmpF_CmpSet(ASM Self, uint Value) {
	return Self | ((Value << 28) >> 23);
}

ASM SC_ASM_CmpF_LSet(ASM Self, uint Value) {
	return Self | ((Value << 27) >> 27);
}

ASM SC_ASM_CmpI_CmpSet(ASM Self, uint Value) {
	return Self | ((Value << 28) >> 23);
}

ASM SC_ASM_CmpI_LSet(ASM Self, uint Value) {
	return Self | ((Value << 27) >> 27);
}

ASM SC_ASM_CNTC_cnstSet(ASM Self, uint Value) {
	return Self | ((Value << 26) >> 24);
}

ASM SC_ASM_CNTC_offsetSet(ASM Self, uint Value) {
	return Self | ((Value << 26) >> 18);
}

ASM SC_ASM_CNTC_sizeSet(ASM Self, uint Value) {
	return Self | ((Value << 30) >> 30);
}

ASM SC_ASM_Compare4_LSet(ASM Self, uint Value) {
	return Self | ((Value << 29) >> 29);
}

ASM SC_ASM_Compare4_SmallSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 28);
}

ASM SC_ASM_ConstStretchy_CondSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 13);
}

ASM SC_ASM_ConstStretchy_InvSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 14);
}

ASM SC_ASM_ConstStretchy_ValueSet(ASM Self, uint Value) {
	return Self | ((Value << 15) >> 15);
}

ASM SC_ASM_Convert_LSet(ASM Self, uint Value) {
	return Self | ((Value << 22) >> 22);
}

ASM SC_ASM_Convert_ModeSet(ASM Self, uint Value) {
	return Self | ((Value << 28) >> 18);
}

ASM SC_ASM_Div2_ClearSet(ASM Self, uint Value) {
	return Self | ((Value << 26) >> 18);
}

ASM SC_ASM_Div2_DownSet(ASM Self, uint Value) {
	return Self | ((Value << 26) >> 24);
}

ASM SC_ASM_Div2_LSet(ASM Self, uint Value) {
	return Self | ((Value << 30) >> 30);
}

ASM SC_ASM_Div_KindSet(ASM Self, uint Value) {
	return Self | ((Value << 30) >> 28);
}

ASM SC_ASM_Div_LSet(ASM Self, uint Value) {
	return Self | ((Value << 30) >> 30);
}

ASM SC_ASM_Float_DSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 28);
}

ASM SC_ASM_Float_LSet(ASM Self, uint Value) {
	return Self | ((Value << 29) >> 29);
}

ASM SC_ASM_FloatConst_HighSet(ASM Self, uint Value) {
	return Self | ((Value << 18) >> 18);
}

ASM SC_ASM_ForeignFunc_TableSet(ASM Self, uint Value) {
	return Self | ((Value << 13) >> 13);
}

ASM SC_ASM_Func_JUMPSet(ASM Self, uint Value) {
	return Self | ((Value << 13) >> 13);
}

ASM SC_ASM_FuncAddr_IndexSet(ASM Self, uint Value) {
	return Self | ((Value << 14) >> 14);
}

ASM SC_ASM_FuncAddr_LibrarySet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 13);
}

ASM SC_ASM_GObj_AddSet(ASM Self, uint Value) {
	return Self | ((Value << 15) >> 15);
}

ASM SC_ASM_GObj_ModeSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 13);
}

ASM SC_ASM_GObj_RefSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 14);
}

ASM SC_ASM_GTable_AddSet(ASM Self, uint Value) {
	return Self | ((Value << 14) >> 14);
}

ASM SC_ASM_GTable_ModeSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 13);
}

ASM SC_ASM_HALT_ReservedSet(ASM Self, uint Value) {
	return Self | ((Value << 8) >> 8);
}

ASM SC_ASM_JCmpEq_JmpSet(ASM Self, uint Value) {
	return Self | ((Value << 20) >> 20);
}

ASM SC_ASM_JCmpEq_LSmallSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 18);
}

ASM SC_ASM_JCmpEq_RSmallSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 19);
}

ASM SC_ASM_JCmpF_CmpSet(ASM Self, uint Value) {
	return Self | ((Value << 29) >> 18);
}

ASM SC_ASM_JCmpF_JmpSet(ASM Self, uint Value) {
	return Self | ((Value << 21) >> 21);
}

ASM SC_ASM_JCmpI_CmpSet(ASM Self, uint Value) {
	return Self | ((Value << 28) >> 18);
}

ASM SC_ASM_JCmpI_JmpSet(ASM Self, uint Value) {
	return Self | ((Value << 22) >> 22);
}

ASM SC_ASM_JCmpK_JmpSet(ASM Self, uint Value) {
	return Self | ((Value << 22) >> 22);
}

ASM SC_ASM_JCmpK_KSet(ASM Self, uint Value) {
	return Self | ((Value << 23) >> 13);
}

ASM SC_ASM_Jump_JUMPSet(ASM Self, uint Value) {
	return Self | ((Value << 8) >> 8);
}

ASM SC_ASM_Loop_JmpSet(ASM Self, uint Value) {
	return Self | ((Value << 19) >> 19);
}

ASM SC_ASM_Loop_SmallSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 18);
}

ASM SC_ASM_MemoryCopy_LengthSet(ASM Self, uint Value) {
	return Self | ((Value << 18) >> 18);
}

ASM SC_ASM_MemUtil_NSet(ASM Self, uint Value) {
	return Self | ((Value << 21) >> 21);
}

ASM SC_ASM_MemUtil_OpSet(ASM Self, uint Value) {
	return Self | ((Value << 29) >> 18);
}

void PrintASM(ASM Self) {
	//visible;
	//cpp_name;
}

ASM SC_ASM_R1Set(ASM Self, uint Value) {
	return Self | ((Value << 27) >> 8);
}

ASM SC_ASM_R2Set(ASM Self, uint Value) {
	return Self | ((Value << 27) >> 13);
}

ASM SC_ASM_R3Set(ASM Self, uint Value) {
	return Self | ((Value << 27) >> 18);
}

ASM SC_ASM_R4Set(ASM Self, uint Value) {
	return Self | ((Value << 27) >> 23);
}

ASM SC_ASM_R5Set(ASM Self, uint Value) {
	return Self | ((Value << 27) >> 28);
}

ASM SC_ASM_Read_moveSet(ASM Self, uint Value) {
	return Self | ((Value << 30) >> 30);
}

ASM SC_ASM_Read_OffsetSet(ASM Self, uint Value) {
	return Self | ((Value << 25) >> 23);
}

ASM SC_ASM_RefDecrMem_CountSet(ASM Self, uint Value) {
	return Self | ((Value << 25) >> 13);
}

ASM SC_ASM_RefDecrMem_OffsetSet(ASM Self, uint Value) {
	return Self | ((Value << 20) >> 20);
}

ASM SC_ASM_RefReturn_LSet(ASM Self, uint Value) {
	return Self | ((Value << 28) >> 28);
}

ASM SC_ASM_RefSet1_LSet(ASM Self, uint Value) {
	return Self | ((Value << 18) >> 18);
}

ASM SC_ASM_RefSet2_DecrSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 18);
}

ASM SC_ASM_RefSet2_OffsetSet(ASM Self, uint Value) {
	return Self | ((Value << 19) >> 19);
}

ASM SC_ASM_RefSet3_DecrSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 18);
}

ASM SC_ASM_RefSet3_OffsetSet(ASM Self, uint Value) {
	return Self | ((Value << 19) >> 19);
}

ASM SC_ASM_RefSetApart_LSet(ASM Self, uint Value) {
	return Self | ((Value << 23) >> 23);
}

ASM SC_ASM_REQ_ModeSet(ASM Self, uint Value) {
	return Self | ((Value << 28) >> 18);
}

ASM SC_ASM_REQ_ValSet(ASM Self, uint Value) {
	return Self | ((Value << 22) >> 22);
}

ASM SC_ASM_RET_ValueSet(ASM Self, uint Value) {
	return Self | ((Value << 13) >> 13);
}

ASM SC_ASM_RotateConst_InvSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 19);
}

ASM SC_ASM_RotateConst_RotSet(ASM Self, uint Value) {
	return Self | ((Value << 26) >> 13);
}

ASM SC_ASM_RotateConst_ValueSet(ASM Self, uint Value) {
	return Self | ((Value << 20) >> 20);
}

ASM SC_ASM_Shift_ShSet(ASM Self, uint Value) {
	return Self | ((Value << 23) >> 23);
}

ASM SC_ASM_Swap_LSet(ASM Self, uint Value) {
	return Self | ((Value << 28) >> 28);
}

ASM SC_ASM_Tail_JUMPSet(ASM Self, uint Value) {
	return Self | ((Value << 8) >> 8);
}

ASM SC_ASM_TERN_LSet(ASM Self, uint Value) {
	return Self | ((Value << 29) >> 29);
}

ASM SC_ASM_TERN_SmallSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 28);
}

ASM SC_ASM_Trap_UponSet(ASM Self, uint Value) {
	return Self | ((Value << 13) >> 13);
}

ASM SC_ASM_U0_LSet(ASM Self, uint Value) {
	return Self | ((Value << 8) >> 8);
}

ASM SC_ASM_U1_LSet(ASM Self, uint Value) {
	return Self | ((Value << 13) >> 13);
}

ASM SC_ASM_U2_LSet(ASM Self, uint Value) {
	return Self | ((Value << 18) >> 18);
}

ASM SC_ASM_U3_LSet(ASM Self, uint Value) {
	return Self | ((Value << 23) >> 23);
}

ASM SC_ASM_U4_LSet(ASM Self, uint Value) {
	return Self | ((Value << 28) >> 28);
}

ASM SC_ASM_VecConst_K1Set(ASM Self, uint Value) {
	return Self | ((Value << 13) >> 13);
}

ASM SC_ASM_VecGet_IndSet(ASM Self, uint Value) {
	return Self | ((Value << 30) >> 23);
}

ASM SC_ASM_VecGet_LSet(ASM Self, uint Value) {
	return Self | ((Value << 25) >> 25);
}

ASM SC_ASM_VecInc_AmountSet(ASM Self, uint Value) {
	return Self | ((Value << 20) >> 20);
}

ASM SC_ASM_VecInc_partSet(ASM Self, uint Value) {
	return Self | ((Value << 30) >> 18);
}

ASM SC_ASM_VecMix_LSet(ASM Self, uint Value) {
	return Self | ((Value << 31) >> 31);
}

ASM SC_ASM_VecMix_ModeSet(ASM Self, uint Value) {
	return Self | ((Value << 29) >> 28);
}

ASM SC_ASM_VecSet_IndSet(ASM Self, uint Value) {
	return Self | ((Value << 30) >> 23);
}

ASM SC_ASM_VecSet_LSet(ASM Self, uint Value) {
	return Self | ((Value << 25) >> 25);
}

ASM SC_ASM_VecSwizzle_FieldsSet(ASM Self, uint Value) {
	return Self | ((Value << 20) >> 18);
}

ASM SC_ASM_VecSwizzle_LSet(ASM Self, uint Value) {
	return Self | ((Value << 30) >> 30);
}

ASM SC_ASM_Write_moveSet(ASM Self, uint Value) {
	return Self | ((Value << 30) >> 30);
}

ASM SC_ASM_Write_OffsetSet(ASM Self, uint Value) {
	return Self | ((Value << 25) >> 23);
}

int SC_ASM__Init_() {
	{
		SC__ASM_NoisyASM = 1;
	}
	;
	return 0;
}

void SC_ASM__TestASMText() {
}


ASMReg SC_ASMParam_ASMReg(ASMParam Self) {
	ASMReg Rz = ((ASMReg)0);
	Rz = (SC_Reg_SyntaxIsSet(Rz, kSC__Reg_Temp, ((bool)(Self >> 31))));
	Rz = SC_Reg_RegSetWithInt(Rz, Self & 31);
	uint64 Fatindex = (Self >> 15) & 65535;
	Rz = SC_Reg_OperatorAs(Rz, ((ASMReg)(Fatindex << 48)));
	return Rz;
}

bool SC_ASMParam_OperatorIz(ASMParam Self, ASMReg M) {
	return SC_ASMParam_Reg(Self) == SC_Reg_Reg(M);
}

int SC_ASMParam_Reg(ASMParam Self) {
	return Self & 31;
}


ASMReg SC_Reg_BasicVec(ASMReg Self) {
	if (SC_Reg_IsFloat(Self)) {
		Self = SC_Reg_xC2xB5TypeSetWithTc(Self, kJB__TC_Vec4);
	}
	 else {
		Self = SC_Reg_xC2xB5TypeSetWithTc(Self, kJB__TC_iVec4);
	}
	return Self;
}

int SC_Reg_BitCount(ASMReg Self) {
	return JB_TC_BitCount(SC_Reg_xC2xB5Type(Self));
}

int SC_Reg_BitLoss(ASMReg Self) {
	if (SC_Reg_IsBool(Self)) {
		return 63;
	}
	return 64 - SC_Reg_BitCount(Self);
}

ASMReg SC_Reg_BoolAnswer(ASMReg Self) {
	return SC_Reg_BoolNegateAnswer(SC_Reg_BoolCondAnswer(Self));
}

int SC_Reg_ByteCount(ASMReg Self) {
	return JB_TC_ByteCount(SC_Reg_xC2xB5Type(Self));
}

int SC_Reg_ByteShift(ASMReg Self) {
	return JB_Int_Log2(SC_Reg_ByteCount(Self));
}

int SC_Reg_Clip(ASMReg Self) {
	if (SC_Reg_IsBool(Self) or (!SC_Reg_Reg(Self))) {
		return 0;
	}
	return 3 + JB_TC_ByteShift(((DataTypeCode)Self));
}

int64 SC_Reg_Const(ASMReg Self) {
	FatASM* F = SC_Reg_FAT(Self);
	if (F) {
		return SC_FAT_Const(F);
	}
	if (SC_Reg_Reg(Self) == 0) {
		return 0;
	}
	if (SC_Reg_SyntaxIs(Self, kSC__Reg_Const)) {
	}
	if (!SC_Reg_SyntaxIs(Self, kSC__Reg_Param)) {
		SC_Reg_NeedFAT(Self);
	}
	return 0;
}

void SC_Reg_ConstCheck(ASMReg Self) {
}

ASMReg SC_Reg_ExpectSameType(ASMReg Self, ASMReg Dest) {
	uint Dt = SC_Reg_xC2xB5Type(Dest);
	Self = SC_Reg_xC2xB5TypeSetWithTc(Self, Dt);
	return Self;
}

float SC_Reg_F32(ASMReg Self) {
	if (SC_Reg_Reg(Self)) {
		return SC_FAT_F32(SC_Reg_NeedFAT(Self));
	}
	return 0.0f;
}

Float64 SC_Reg_F64(ASMReg Self) {
	if (SC_Reg_Reg(Self)) {
		return SC_FAT_F64(SC_Reg_NeedFAT(Self));
	}
	return 0.0f;
}

FatASM* SC_Reg_FAT(ASMReg Self) {
	return SC_uint_FAT(SC_Reg_FatIndex(Self));
}

uint SC_Reg_FatIndex(ASMReg Self) {
	return ((uint64)Self) >> 48;
}

ASMReg SC_Reg_FatIndexSet(ASMReg Self, uint Value) {
	return ((ASMReg)(((((uint64)Self) << 16) >> 16) | (((uint64)Value) << 48)));
}

Float64 SC_Reg_float(ASMReg Self) {
	if (SC_Reg_Reg(Self)) {
		FatASM* F = SC_Reg_NeedFAT(Self);
		if (SC_Reg_IsBig(Self)) {
			return SC_FAT_F64(F);
		}
		return ((Float64)SC_FAT_F32(F));
	}
	return 0.0f;
}

ASMReg SC_Reg_HaveAddr(ASMReg Self) {
	ASMReg Rz = ((ASMReg)0);
	Rz = SC_Reg_OperatorAsnt(Self, kSC__Reg_AddrRequest);
	Rz = SC_Reg_OperatorAsnt(Self, kSC__Reg_AddrForceRequest);
	Rz = SC_Reg_OperatorAs(Rz, kSC__Reg_ContainsAddr);
	return Rz;
}

ASMReg SC_Reg_incr(ASMReg Self) {
	FatASM* F = SC_Reg_FAT(Self);
	if (F) {
		(++F->xC2xB5RefCount);
		return Self;
	}
	return Self;
}

bool SC_Reg_IsBitCorrect(ASMReg Self) {
	if (SC_Reg_SyntaxIs(Self, kSC__Reg_Const)) {
		return true;
	}
	if (SC_Reg_Reg(Self) == 0) {
		return true;
	}
	FatASM* F = SC_Reg_FAT(Self);
	if (F) {
		return SC_FAT_IsRead(F);
	}
	return false;
}

bool SC_Reg_IsVec(ASMReg Self) {
	return ((bool)(((DataTypeCode)Self) & 3));
}

bool SC_Reg_IsZero(ASMReg Self) {
	if (SC_Reg_Reg(Self) == 0) {
		return true;
	}
	return (SC_Reg_SyntaxIs(Self, kSC__Reg_Const)) and (SC_Reg_Const(Self) == 0);
}

int SC_Reg_LeftScore(ASMReg Self) {
	int Rz = 0;
	Rz = (Rz + (SC_Reg_SomePointer(Self) << 2));
	Rz = (Rz + (((!SC_Reg_SyntaxIs(Self, kSC__Reg_Const))) << 1));
	Rz = (Rz + ((!SC_Reg_SyntaxIs(Self, kSC__Reg_Temp))));
	return Rz;
}

FatASM* SC_Reg_NeedFAT(ASMReg Self) {
	FatASM* F = SC_uint_FAT(SC_Reg_FatIndex(Self));
	if (F) {
		return F;
	}
	if (true) {
		JB_Str_Fail(JB_LUB[1022]);
	}
	return (&SC__Pac_Sh.Zero);
}

ASMReg SC_Reg_Negate(ASMReg Self, bool Neg) {
	return ((ASMReg)(((uint64)Self) ^ ((uint64)(Neg << 16))));
}

ASMReg SC_Reg_OperatorAs(ASMReg Self, ASMReg A) {
	return ((ASMReg)(((int64)Self) | ((int64)A)));
}

ASMReg SC_Reg_OperatorAsnt(ASMReg Self, ASMReg A) {
	return ((ASMReg)(((int64)Self) & (~((int64)A))));
}

ASMReg SC_Reg_OperatorBitand(ASMReg Self, ASMReg A) {
	return ((ASMReg)(((int64)Self) & ((int64)A)));
}

bool SC_Reg_OperatorIsa(ASMReg Self, uint /*DataTypeCode*/ M) {
	return SC_Reg_xC2xB5Type(Self) == M;
}

bool SC_Reg_OperatorIz(ASMReg Self, ASMReg M) {
	return SC_Reg_Reg(Self) == SC_Reg_Reg(M);
}

ASMReg SC_Reg_OperatorMul(ASMReg Self, bool B) {
	return ((ASMReg)JB_Ternary(B, Self, nil));
}

ASMReg SC_Reg_OperatorTemp(ASMReg Self, Message* M) {
	if (!SC_Msg_ContainsFunc(M)) {
		Self = SC_Reg_SyntaxIsSet(Self, kSC__Reg_Temp, true);
	}
	return Self;
}

ASMReg SC_Reg_OperatorxE2x80xA2(ASMReg Self, ASMReg Dest) {
	if (SC_Reg_Reg(Self) == SC_Reg_Reg(Dest)) {
		return SC_TC_zero(SC_Reg_xC2xB5Type(Dest));
	}
	return Dest;
}

int SC_Reg_PointerMul(ASMReg Self, Message* Exp, bool Swapped) {
	SCDecl* D = SC_Reg_PointerMulSub(Self, Exp, Swapped);
	if (D) {
		return SC_Decl_CArraySize(D, 1);
	}
	return 0;
}

SCDecl* SC_Reg_PointerMulSub(ASMReg Self, Message* Exp, bool Swapped) {
	Syntax Fn = Exp->Func;
	if (Fn == kJB_SyxOpp) {
		Exp = ((Message*)JB_Tree_stepbool(Exp, Swapped));
	}
	 else if ((Fn == kJB_SyxARel) or ((Fn == kJB_SyxBRel) or (Fn == kJB_SyxAcc))) {
		Exp = ((Message*)JB_Ring_First(Exp));
	}
	 else {
		if (Fn == kJB_SyxDot) {
			return SC_Msg_ASMDecl(Exp);
		}
		if (true) {
			JB_Str_Fail(JB_LUB[1902]);
		}
	}
	return SC_Msg_ASMDecl(Exp)->Internal;
}

ASMParam SC_Reg_Prm(ASMReg Self) {
	uint I = SC_Reg_FatIndex(Self) << 15;
	int R = SC_Reg_Reg(Self);
	int T = (SC_Reg_SyntaxIs(Self, kSC__Reg_Temp)) << 31;
	return R | (T | I);
}

ASMReg SC_Reg_ReallySimplify(ASMReg Self) {
	return ((ASMReg)((u16)Self));
}

int SC_Reg_Reg(ASMReg Self) {
	return (((uint64)Self) >> 11) & 31;
}

ASMReg SC_Reg_RegSetWithInt(ASMReg Self, int Value) {
	int Bugged = Value & 31;
	Self = SC_Reg_OperatorBitand(Self, (~((ASMReg)(31 << 11))));
	(Self = SC_Reg_OperatorAs(Self, ((ASMReg)(Bugged << 11))));
	Self = (SC_Reg_SyntaxIsSet(Self, kSC__Reg_Temp, ((bool)(Value >> 31))));
	return Self;
}

ASMReg SC_Reg_RegSetWithReg(ASMReg Self, ASMReg Value) {
	Self = SC_Reg_RegSetWithInt(Self, SC_Reg_Reg(Value));
	Self = (SC_Reg_SyntaxIsSet(Self, kSC__Reg_Temp, (SC_Reg_SyntaxIs(Value, kSC__Reg_Temp))));
	Self = (SC_Reg_SyntaxIsSet(Self, kSC__Reg_OKAsTemp, (SC_Reg_SyntaxIs(Value, kSC__Reg_OKAsTemp))));
	Self = SC_Reg_FatIndexSet(Self, SC_Reg_FatIndex(Value));
	return Self;
}

bool SC_Reg_Signed(ASMReg Self) {
	return JB_TC_IsSigned(((DataTypeCode)Self));
}

ASMReg SC_Reg_Simplify(ASMReg Self) {
	return SC_Reg_OperatorAs(SC_Reg_ReallySimplify(Self), (SC_Reg_OperatorBitand(Self, kSC__Reg_Temp)));
}

bool SC_Reg_SomePointer(ASMReg Self) {
	return (SC_Reg_SyntaxIs(Self, kSC__Reg_ContainsAddr)) or (JB_TC_SyntaxIs(SC_Reg_xC2xB5Type(Self), kJB__TC_Pointer));
}

bool SC_Reg_SyntaxIs(ASMReg Self, ASMReg R) {
	return ((bool)SC_Reg_OperatorBitand(Self, R));
}

ASMReg SC_Reg_SyntaxIsSet(ASMReg Self, ASMReg R, bool Value) {
	if (Value) {
		return SC_Reg_OperatorAs(Self, R);
	}
	 else {
		return SC_Reg_OperatorAsnt(Self, R);
	}
}

bool SC_Reg_TmpCheck(ASMReg Self) {
	int R = SC_Reg_Reg(Self);
	bool IsTmp = SC_Reg_SyntaxIs(Self, kSC__Reg_Temp) and (!SC_Reg_SyntaxIs(Self, kSC__Reg_OKAsTemp));
	bool Big = R >= 26;
	if ((Big == IsTmp) or (Big and SC_Reg_SyntaxIs(Self, kSC__Reg_Temp))) {
		return true;
	}
	if (Big) {
		FastString* _fsf0 = JB_FS_Constructor(nil);
		JB_FS_AppendString(_fsf0, JB_LUB[480]);
		JB_FS_AppendInt32(_fsf0, R);
		JB_FS_AppendString(_fsf0, JB_LUB[481]);
		JB_String* _tmPf2 = JB_FS_GetResult(_fsf0);
		JB_Incr(_tmPf2);
		JB_PrintLine(_tmPf2);
		JB_Decr(_tmPf2);
	}
	 else {
		FastString* _fsf1 = JB_FS_Constructor(nil);
		JB_FS_AppendString(_fsf1, JB_LUB[482]);
		JB_FS_AppendInt32(_fsf1, R);
		JB_FS_AppendString(_fsf1, JB_LUB[483]);
		JB_String* _tmPf3 = JB_FS_GetResult(_fsf1);
		JB_Incr(_tmPf3);
		JB_PrintLine(_tmPf3);
		JB_Decr(_tmPf3);
	}
	return false;
}

ASMReg SC_Reg_TryRegSet(ASMReg Self, ASMReg Dest) {
	if (SC_Reg_Reg(Self) or (!SC_Reg_SyntaxIs(Dest, kSC__Reg_Temp))) {
		return Self;
	}
	Self = SC_Reg_RegSetWithReg(Self, Dest);
	return Self;
}

ASMReg SC_Reg_xC2xB5TypeSetWithTc(ASMReg Self, uint /*DataTypeCode*/ Value) {
	return SC_Reg_xC2xB5TypeSetWithReg(Self, ((ASMReg)Value));
}

ASMReg SC_Reg_xC2xB5TypeSetWithReg(ASMReg Self, ASMReg Value) {
	uint64 Mask = ((uint64)kJB__TC_PossibleBits);
	return ((ASMReg)((((uint64)Self) & (~Mask)) | (((uint64)Value) & Mask)));
}

ASMReg SC_Reg__New() {
	return kSC__Reg_Zero;
}


bool SC_ASMType_IsBlocker(uint /*ASMType*/ Self) {
	return (Self >= kSC__ASMType_kContinue) and (Self <= kSC__ASMType_kRejoin);
}

bool SC_ASMType_SyntaxIs(uint /*ASMType*/ Self, uint /*ASMType*/ T) {
	;
	return Self == T;
}

ASMReg SC_ASMType__Access(Assembler* Self, Message* Exp, ASMReg Dest) {
	if (!SC_Reg_SyntaxIs(Dest, kSC__Reg_Set)) {
		Dest = SC_Pac_TempTypedWithMsgReg(Self, Exp, Dest);
	}
	Message* F = ((Message*)JB_Ring_First(Exp));
	SCDecl* D = SC_Msg_ASMDecl(F);
	Message* Sc = ((Message*)JB_Ring_First(((Message*)JB_Tree_Second(Exp))));
	ASMReg Mode = SC_Reg_OperatorTemp(kSC__Reg_AddrRequest, Sc);
	if (!(((!SC_Reg_SyntaxIs(Dest, kSC__Reg_AddrRequest))) and ((!SC_Decl_IsCArray(D)) and SC_Decl_CanCopyNormally(D)))) {
		(Mode = SC_Reg_OperatorAs(Mode, kSC__Reg_AddrNoFiddle));
	}
	ASMReg Base = SC_Pac_xC2xB5GetReal(Self, F, Mode);
	ASMReg Vara = SC_Pac_GetASM(Self, Sc, SC_Reg__New());
	uint TyA = SC_Decl_ASMRegType(D);
	if (JB_TC_VecCount(TyA) > 1) {
		return SC_Pac_VecAccess(Self, Exp, Dest, Base, Vara);
	}
	if (SC_Decl_CanCopyNormally(D)) {
		if (!SC_Reg_SyntaxIs(Dest, kSC__Reg_AddrRequest)) {
			Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, SC_Msg_ASMDecl(Exp)->mu.DataType);
			return SC_Pac_ReadOrWrite(Self, Dest, Exp, Base, Vara, D, 0);
		}
	}
	 else if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Set)) {
		return SC_FAT_AsReg(SC_Pac_CopyMemory(Self, 0, Exp, Dest, Base, Vara, D->Internal), SC_Reg__New());
	}
	return SC_Pac_IncrPointerByVar(Self, Dest, Base, Vara, Exp);
}

ASMReg SC_ASMType__AddressOf(Assembler* Self, Message* Exp, ASMReg Dest) {
	ASMReg Rz = ((ASMReg)0);
	Rz = SC_Pac_GetASM(Self, Exp, SC_Reg_OperatorAs(Dest, kSC__Reg_AddrNeed));
	Rz = SC_Reg_SyntaxIsSet(Rz, kSC__Reg_ContainsAddr, (!true));
	Rz = SC_Reg_SyntaxIsSet(Rz, kSC__Reg_AddrRequest, (!true));
	Rz = SC_Reg_SyntaxIsSet(Rz, kSC__Reg_AddrForceRequest, (!true));
	return Rz;
}

ASMReg SC_ASMType__AllocBearStruct(int Dir, Message* Exp, ASMReg Dest, int Size) {
	Size = ((Size + 15) >> 4);
	FatASM* Fat = SC_Msg_ALLO(Exp, Dest, Size * Dir);
	(++Fat->xC2xB5RefCount);
	return SC_FAT_AsReg(Fat, Dest);
}

ASMReg SC_ASMType__ARel(Assembler* Self, Message* Exp, ASMReg Dest) {
	uint F = JB_Str_First(Exp->Name);
	if ((F == '?') or (F == '!')) {
		return SC_Pac_GetASM(Self, ((Message*)JB_Ring_First(Exp)), Dest);
	}
	int M = ((int)(F == '+'));
	if (!SC_Reg_SyntaxIs(Dest, kSC__Reg_Discard)) {
		M = (M + kSC__ASMType_IncrAfter);
	}
	return SC_ASMType__Incrementa(Self, ((Message*)JB_Ring_First(Exp)), Dest, M);
}

ASMReg SC_ASMType__Argument(Assembler* Self, Message* Exp, ASMReg Dest) {
	return SC_ASMType__ArgumentSub(Self, Exp, kSC__Reg_Exit);
}

ASMReg SC_ASMType__ArgumentSub(Assembler* Self, Message* Exp, ASMReg Mask) {
	ASMReg Rz = ((ASMReg)0);
	Message* Ch = ((Message*)JB_Ring_First(Exp));
	if (!Ch) {
		return SC_Reg__New();
	}
	uint64 V = SC_Pac_OpenVars(Self);
	RegFile Restore = Self->Regs;
	while (true) {
		Self->BreakRequest = (Self->BreakRequest | kSC__Pac_Breakable);
		if (Ch->Func == kJB_SyxDecl) {
			Rz = SC_ASMType__Decl(Self, Ch, nil);
		}
		 else {
			Rz = SC_Pac_xC2xB5(Self, Ch, kSC__Reg_Discard);
		}
		Ch = ((Message*)JB_Ring_NextSib(Ch));
		if (!(Ch and (!SC_Reg_SyntaxIs(Rz, kSC__Reg_Exit)))) {
			break;
		}
	};
	if (!Mask) {
		Self->RegDebugInfo = 0;
	}
	Rz = SC_Pac_CloseVars(Self, V, Exp, SC_Reg_OperatorBitand(Rz, Mask));
	if (SC_Reg_SyntaxIs(Rz, kSC__Reg_ExitFunction)) {
		Self->Regs = Restore;
	}
	return Rz;
}

ASMReg SC_ASMType__ASMFunction(Assembler* Self, Message* Exp, ASMReg Dest) {
	Message* Prms = ((Message*)JB_Ring_Last(Exp));
	int TableID = 0;
	SCFunction* Fn = SC_Msg_AsFunc(Prms);
	if (Fn) {
		Message* Intrin = Fn->Intrinsic;
		if (Intrin) {
			return SC_Pac_DoIntrinsic(Self, Exp, Dest, Fn, Intrin);
		}
		if ((!SC_Func_SyntaxIs(Fn, kSC__FunctionType_CantInline)) and (!SC_Func_SyntaxIs(Fn, kSC__FunctionType_Cpp))) {
			ASMReg MiniDest = SC_Pac_AskForInline(Self, Prms, Dest, Fn);
			if (MiniDest) {
				return MiniDest;
			}
		}
		if (SC_Func_SyntaxIs(Fn, kSC__FunctionType_LinkInline)) {
			JB_Msg_Fail(Exp, JB_LUB[2224]);
		}
		TableID = (Fn->FPackID + 31);
		if (TableID <= 31) {
			if ((!SC_Base_IsLibrary(Fn)) or (!SC_Base_IsLibrary(SC_Pac_State(Self)->Fn))) {
				if (true) {
					JB_Msg_Fail(Exp, JB_LUB[2225]);
				}
			}
			TableID = 65535;
		}
	}
	 else {
		Message* F = ((Message*)JB_Ring_First(Exp));
		TableID = SC_Reg_Reg(SC_Pac_xC2xB5(Self, F, SC_Reg__New()));
		SCDecl* Dcl = SC_Msg_ASMDecl(F);
		Fn = Dcl->Type->FuncProto;
		if (!Fn) {
			JB_Msg_Fail(Exp, nil);
			return nil;
		}
	}
	Dest = SC_Pac_CallFunc(Self, Exp, Dest, Fn);
	FatASM* Start = SC_Pac_Curr(Self);
	(++Self->CurrFuncGrab);
	uint64 Closer = SC_Pac_OpenVars(Self);
	uint64 P = SC_Pac_PrmCollect(Self, Prms, Fn);
	SC_Pac_CloseVars(Self, Closer, nil, nil);
	uint64 PExt = P >> 32;
	Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_Const, (!true));
	FatASM* Fat = SC_Msg_FNC(Exp, Dest, TableID, P, PExt);
	if (SC_Func_HasCVersion(Fn)) {
		if (0) {
			SC_Msg_FNCX(Exp, nil, nil, nil, nil);
		}
		Fat->_Op = kSC__ASM_FNCX;
	}
	Fat->_Op = (Fat->_Op + (PExt > 0));
	Fat->xC2xB5RefCount = (Fat->xC2xB5RefCount + ((!SC_Func_SyntaxIs(Fn, kSC__FunctionType_Stateless))));
	SC_Pac_ClearGRABbedAndTrampled(Self, Exp, Dest, Start);
	(--Self->CurrFuncGrab);
	if (!SC_Func_SyntaxIs(Fn, kSC__FunctionType_Killer)) {
		return SC_FAT_AsReg(Fat, Dest);
	}
	return SC_Pac_Killed(Self, Exp, Fat);
}

ASMReg SC_ASMType__BoolNot(Assembler* Self, Message* Exp, ASMReg Dest) {
	Dest = SC_Reg_Negate(Dest, true);
	ASMReg Src = SC_Pac_GetASM(Self, Exp, Dest);
	if (SC_Reg_SyntaxIs(Src, kSC__Reg_AlreadyNegated)) {
		return Src;
	}
	return SC_Pac_Exists(Self, Dest, Src, Exp);
}

ASMReg SC_ASMType__BRel(Assembler* Self, Message* Exp, ASMReg Dest) {
	JB_String* S = Exp->Name;
	uint N = JB_Str_First(S);
	if (N == '~') {
		return SC_Pac_DoMathSub(Self, Exp, Dest, ((fn_OpASM)(((fn_OpASM)(SC__Opp_Bnot->OpASM)))));
	}
	if ((N == '-') and (JB_Str_EqualsInt(S, 1))) {
		return SC_Pac_DoMathSub(Self, Exp, Dest, ((fn_OpASM)(((fn_OpASM)(SC__Opp_Negative->OpASM)))));
	}
	Message* F = ((Message*)JB_Ring_First(Exp));
	if (N == '!') {
		return SC_ASMType__BoolNot(Self, F, Dest);
	}
	if (N == '&') {
		return SC_ASMType__AddressOf(Self, F, Dest);
	}
	bool IsPlusPlus = N == '+';
	return SC_ASMType__Incrementa(Self, F, Dest, ((int)IsPlusPlus));
}

ASMReg SC_ASMType__Char(Assembler* Self, Message* Exp, ASMReg Dest) {
	return SC_ASMType__Num(Self, Exp, Dest);
}

ASMReg SC_ASMType__ConstConvert(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg From, uint /*DataTypeCode*/ Old, uint /*DataTypeCode*/ New) {
	FatASM* Srf = SC_Reg_NeedFAT(From);
	int NC = JB_TC_BitCount(New);
	int64 K = 0;
	if (JB_TC_IsInt(Old) != JB_TC_IsInt(New)) {
		K = SC_FAT_FloatIntConvConst(Srf, Old, New);
	}
	 else if (JB_TC_IsFloat(New)) {
		K = SC_FAT_FloatConvConst(Srf, NC);
	}
	 else {
		int Sh = 64 - NC;
		int64 Oof = SC_FAT_Const(Srf) << Sh;
		K = ((int64)JB_Ternary(SC_Reg_Signed(Dest), ((int64)Oof) >> Sh, ((int64)(((uint64)Oof) >> Sh))));
	}
	SC_Pac_NopConstWithReg(Self, From);
	return SC_Pac_NumToReg(Self, Exp, Dest, K, New);
}

ASMReg SC_ASMType__ConstFromThgName(Assembler* Self, Message* Exp, ASMReg Dest, SCDecl* D) {
	Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_Const, true);
	if (!SC_Reg_SyntaxIs(Dest, kSC__Reg_ConstRequest)) {
		Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, D->mu.DataType);
		return SC_Pac_NumToReg(Self, Exp, Dest, SC_Decl_ExportPosition(D), SC_Reg_xC2xB5Type(Dest));
	}
	return Dest;
}

ASMReg SC_ASMType__Debugger(Assembler* Self, Message* Exp, ASMReg Dest) {
	Syntax Fn = Exp->Func;
	if (Fn == kJB_SyxTmp) {
		Self->BreakRequest = (Self->BreakRequest | kSC__Pac_BreakPoint);
		return nil;
	}
	if (!SC__Options_TargetDebug) {
		return nil;
	}
	int Num = 0;
	if (Fn == kJB_SyxFunc) {
		Exp = ((Message*)JB_Ring_Last(Exp));
		Message* Ch = ((Message*)JB_Ring_First(Exp));
		if (Ch) {
			Num = JB_Msg_Int(Ch, 0);
			if (Num <= 0) {
				SC_Msg_NOOP(Exp);
				return nil;
			}
		}
	}
	SC_Msg_TRAP(Exp, SC_Reg__New(), Num);
	return ((ASMReg)0);
}

ASMReg SC_ASMType__Decl(Assembler* Self, Message* Exp, ASMReg Dest) {
	SCDecl* Ty = SC_Msg_FastDecl(Exp);
	SC_Pac_DeclReset(Self, Ty);
	FatASM* Start = SC_Pac_Curr(Self);
	ASMReg Declared = SC_ASMType__DeclSub(Self, Exp, Dest, Ty, ((Message*)JB_Ring_Last(Exp)));
	return SC_Pac_MarkVarOpen(Self, Exp, Declared, Ty, Start);
}

ASMReg SC_ASMType__DeclSub(Assembler* Self, Message* Exp, ASMReg Dest, SCDecl* Ty, Message* Rel) {
	if (!Dest) {
		Dest = SC_Pac_DeclareBody(Self, Exp, Ty);
	}
	 else {
		Dest = SC_Reg_xC2xB5TypeSetWithReg(Dest, SC_Decl_CalculateASMType(Ty));
		(SC_Decl_WholeTypeSet(Ty, Dest));
	}
	Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_NewlyDeclared, true);
	Self->RegDebugInfo = (Self->RegDebugInfo | (1 << SC_Reg_Reg(Dest)));
	if (SC_Decl_IsBareStruct(Ty) or SC_Decl_IsCArray(Ty)) {
		return SC_ASMType__AllocBearStruct(1, Exp, Dest, SC_Decl_SizeOfQuery(Ty));
	}
	Rel = ((Message*)JB_Ring_Last(Rel));
	if (Self->InlineDepth > 0) {
		return SC_Pac_xC2xB5Into(Self, Rel, Dest);
	}
	return SC_Reg_incr(SC_Pac_xC2xB5Into(Self, Rel, Dest));
}

ASMReg SC_ASMType__DoGlobal(Assembler* Self, ASMReg Dest, Message* Exp, SCDecl* D) {
	if ((SC_Reg_SyntaxIs(Dest, kSC__Reg_AddrRequest)) or (SC_Decl_IsBareStruct(D) or SC_Decl_IsCArray(D))) {
		ASMReg Addr = SC_Pac_GlobAddr(Self, D, Exp, Dest);
		if (!Addr) {
			return nil;
		}
		Addr = SC_Reg_xC2xB5TypeSetWithTc(Addr, D->mu.DataType);
		return SC_Reg_HaveAddr(Addr);
	}
	ASMReg Addr = ((ASMReg)0);
	if (!SC_Reg_SyntaxIs(Dest, kSC__Reg_Set)) {
		Addr = Dest;
	}
	Addr = SC_Pac_GlobAddr(Self, D, Exp, Addr);
	if (!Addr) {
		return nil;
	}
	Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, D->mu.DataType);
	Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_ContainsAddr, (!true));
	return SC_Pac_ReadOrWrite(Self, Dest, Exp, Addr, SC_Reg__New(), D, 0);
}

ASMReg SC_ASMType__Dot(Assembler* Self, Message* Exp, ASMReg Dest) {
	SCDecl* Prop = SC_Msg_ASMDecl(Exp);
	if (SC_Decl_SyntaxIs(Prop, kSC__SCDeclInfo_Const)) {
		return SC_ASMType__DotConst(Self, Dest, Exp, Prop);
	}
	if (SC_Decl_SyntaxIs(Prop, kSC__SCDeclInfo_Global)) {
		return SC_ASMType__DoGlobal(Self, Dest, Exp, Prop);
	}
	uint64 OV = SC_Pac_OpenVars(Self);
	ASMReg Obj = SC_Pac_GetASM(Self, ((Message*)JB_Ring_First(Exp)), SC_Reg__New());
	uint TyA = SC_Decl_ASMRegType(Prop);
	Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, TyA);
	SC_Pac_CloseVars(Self, OV, nil, nil);
	int64 Index = SC_Decl_ExportPosition(Prop);
	if ((Index >= 1048576) or (SC_Decl_TypeSuffers(Prop) and (SC_Reg_ByteCount(Dest) != 8))) {
		SC_Decl_TypeInfo(Prop);
	}
	if (((!SC_Reg_SyntaxIs(Dest, kSC__Reg_Set))) and ((!SC_Reg_Reg(Dest)) and (SC_Reg_SyntaxIs(Obj, kSC__Reg_Temp)))) {
		Dest = SC_Reg_RegSetWithReg(Dest, Obj);
		Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_Const, (!true));
	}
	if ((SC_Reg_SyntaxIs(Dest, kSC__Reg_AddrRequest)) or (SC_Decl_IsCArray(Prop) or SC_Decl_IsBareStruct(Prop))) {
		return SC_Pac_DotAddr(Self, Exp, Dest, Index, Prop, Obj);
	}
	Index = (Index >> SC_Reg_ByteShift(Dest));
	return SC_Pac_ReadOrWrite(Self, Dest, Exp, Obj, SC_Reg__New(), Prop, Index);
}

ASMReg SC_ASMType__DotConst(Assembler* Self, ASMReg Dest, Message* Exp, SCDecl* Prop) {
	JB_Object* Fn = Prop->IsLookupOnly;
	if (JB_Object_FastIsa(Fn, &SCFunctionData)) {
		SC_Pac_ASMReach(Self, ((SCFunction*)Fn));
		return SC_ASMType__DoGlobal(Self, Dest, Exp, Prop);
	}
	return SC_ASMType__ConstFromThgName(Self, Exp, Dest, Prop);
}

ASMReg SC_ASMType__First(Assembler* Self, Message* Exp, ASMReg Dest) {
	return SC_Pac_GetASM(Self, ((Message*)JB_Ring_First(Exp)), Dest);
}

ASMReg SC_ASMType__GrabAddr(Assembler* Self, Message* Exp, ASMReg Dest, SCDecl* D, ASMReg T) {
	Dest = SC_Pac_TempTypedWithDeclReg(Self, D, Dest);
	FatASM* Fat = SC_Msg_GRAB(Exp, Dest, T);
	if (SC_Decl_IsInt(D) and (!SC_Decl_IsBool(D))) {
		int L = SC_Reg_BitLoss(T);
		if (L) {
			int64 Bastard = ((int64)JB_int_SetSign(Self->CurrFuncGrab, SC_Reg_Signed(T)));
			Fat->Prms[5] = Bastard;
			(SC_FAT_ConstSet(Fat, L));
		}
	}
	return SC_FAT_AsReg(Fat, SC_Reg_HaveAddr(Dest));
}

ASMReg SC_ASMType__Ignore(Assembler* Self, Message* Exp, ASMReg Dest) {
	return SC_Reg__New();
}

int64 SC_ASMType__IncrAmount(ASMReg Upon, int IsPlus, SCDecl* D) {
	int64 Rz = 0;
	Rz = JB_Ternary(IsPlus & 1, 1, -1);
	if (SC_Reg_IsFloat(Upon)) {
		if (SC_Reg_FourBytes(Upon)) {
			Rz = JB_f_AsInt(((float)Rz));
		}
		 else {
			Rz = JB_dbl_AsInt(((Float64)Rz));
		}
	}
	 else if (SC_Decl_TypeSuffers(D)) {
		Rz = (Rz * SC_Decl_PointerIncrement(D));
	}
	return Rz;
}

ASMReg SC_ASMType__Incrementa(Assembler* Self, Message* Exp, ASMReg Dest, int Mode) {
	ASMReg Src = SC_Pac_GetASM(Self, Exp, kSC__Reg_AddrRequest);
	SCDecl* D = SC_Msg_ASMDecl(Exp);
	int64 Amount = SC_ASMType__IncrAmount(Src, Mode, D);
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Discard)) {
		Mode = kSC__ASMType_IncrBefore;
	}
	 else if (!SC_Reg_Reg(Dest)) {
		Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_Const, (!true));
		if (Mode & kSC__ASMType_IncrAfter) {
			Dest = SC_Pac_TempTypedWithMsgReg(Self, Exp, Dest);
		}
		 else {
			Dest = SC_Reg_RegSetWithReg(Dest, Src);
		}
	}
	 else if ((SC_Reg_OperatorIz(Dest, Src)) and (Mode & kSC__ASMType_IncrAfter)) {
		(JB_Msg_SyntaxProblem(Exp, JB_LUB[2147]));
		return Src;
	}
	Src = SC_Reg_OperatorAs(Src, kSC__Reg_NoScale);
	Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, SC_Reg_xC2xB5Type(Src));
	Message* P = ((Message*)JB_Ring_Parent(Exp));
	if (SC_Reg_SyntaxIs(Src, kSC__Reg_ContainsAddr)) {
		return SC_ASMType__IncrOnAddr(Self, P, Dest, Mode, Src, Amount, D);
	}
	if (SC_Reg_SyntaxIs(Src, kSC__Reg_Temp)) {
		FatASM* Fat = SC_Reg_FAT(Src);
		if (SC_FAT_OperatorIsa(Fat, kSC__ASM_VGET)) {
			return SC_Pac_IncrVectorPart(Self, P, Dest, Src, Amount, Mode);
		}
	}
	SC_ASMType__NotTemp(Self, Src, P);
	if (Mode & kSC__ASMType_IncrAfter) {
		return SC_Pac_IncrPost(Self, P, Dest, Src, Amount);
	}
	return SC_Pac_IncrPre(Self, P, Dest, Src, Amount);
}

ASMReg SC_ASMType__IncrOnAddr(Assembler* Self, Message* Exp, ASMReg Dest, int Mode, ASMReg Addr, int64 Amount, SCDecl* Glob) {
	if (!SC_Reg_Reg(Dest)) {
		Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_Const, true);
	}
	if (!(SC_Reg_IsInt(Dest) and SC_int64_Fits(Amount, 6, true))) {
		return SC_ASMType__IncrSlowOnAddr(Self, Exp, Dest, Mode, Addr, Amount, Glob);
	}
	int Bc = JB_Int_Log2(JB_TC_ByteCount(SC_Reg_xC2xB5Type(Dest)));
	int Offset = 0;
	Addr = SC_Pac_InlineOffsetOpt(Self, Addr, Bc, Offset, 6, Glob, Exp);
	FatASM* Fat = SC_Msg_CNTC(Exp, Dest, Addr, Offset, Amount, Bc);
	(++Fat->xC2xB5RefCount);
	Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_Set, true);
	if (!SC_Reg_Reg(Dest)) {
		Fat->_Outputs = (Fat->_Outputs & (~1));
	}
	if (Mode & kSC__ASMType_IncrAfter) {
		if (0) {
			SC_Msg_CNTD(Exp, nil, nil, nil, nil, nil);
		}
		Fat->_Op = kSC__ASM_CNTD;
	}
	return SC_FAT_AsReg(Fat, Dest);
}

ASMReg SC_ASMType__IncrSlowOnAddr(Assembler* Self, Message* F, ASMReg Dest, int Mode, ASMReg Addr, int64 Amount, SCDecl* Glob) {
	uint64 TmpCloser = SC_Pac_OpenVars(Self);
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Discard)) {
		Dest = SC_Pac_TempOnly(Self, Dest);
	}
	if (SC_Reg_OperatorIz(Dest, Addr)) {
		Dest = SC_Pac_TempOnly(Self, kSC__Reg_Temp);
	}
	Addr = SC_Reg_SyntaxIsSet(Addr, kSC__Reg_BlockNop, true);
	ASMReg Value = SC_FAT_AsReg(SC_Pac_Read(Self, Dest, F, Addr, nil, Glob, 0), Dest);
	Value = SC_Reg_SyntaxIsSet(Value, kSC__Reg_NoScale, true);
	if (Mode & kSC__ASMType_IncrAfter) {
		Dest = Value;
		Value = SC_Pac_AddToReg(Self, F, nil, Value, Amount);
	}
	 else {
		Value = SC_Pac_AddToReg(Self, F, Value, Value, Amount);
		Dest = Value;
	}
	Addr = SC_Reg_SyntaxIsSet(Addr, kSC__Reg_BlockNop, (!true));
	Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_NoScale, (!true));
	SC_FAT_AsReg(SC_Pac_Write(Self, Value, F, Addr, nil, Glob, 0), Value);
	return SC_Pac_CloseVars(Self, TmpCloser, nil, Dest);
}

int SC_ASMType__Init_() {
	{
	}
	;
	return 0;
}

void SC_ASMType__InitAccess() {
	ASM* R = (&SC__ASMType_ReadASM[0]);
	ASM* W = (&SC__ASMType_WriteASM[0]);
	R++[0] = kSC__ASM_RD1U;
	R++[0] = kSC__ASM_RD1S;
	R++[0] = kSC__ASM_RD2U;
	R++[0] = kSC__ASM_RD2S;
	R++[0] = kSC__ASM_RD4U;
	R++[0] = kSC__ASM_RD4S;
	R++[0] = kSC__ASM_RD8U;
	R++[0] = kSC__ASM_RD8U;
	R++[0] = kSC__ASM_RD16;
	R++[0] = kSC__ASM_RD16;
	//Write	;
	W++[0] = kSC__ASM_WR1U;
	W++[0] = kSC__ASM_WR2U;
	W++[0] = kSC__ASM_WR4U;
	W++[0] = kSC__ASM_WR8U;
	W++[0] = kSC__ASM_WR16;
}

ASMReg SC_ASMType__InlinedReturn(Assembler* Self, Message* Exp, ASMReg Dest) {
	ASMReg Extras = kSC__Reg_ExitAtAll;
	if (SC_Pac_State(Self)->TailInlineable) {
		Extras = SC_Reg_SyntaxIsSet(Extras, kSC__Reg_ExitFunction, true);
	}
	(Dest = SC_Reg_OperatorAs(Dest, Extras));
	Message* F = ((Message*)JB_Ring_First(Exp));
	if (F) {
		if (SC_Reg_Reg(Dest)) {
			Dest = SC_Pac_xC2xB5Into(Self, F, Dest);
		}
		 else {
			Dest = SC_Pac_xC2xB5(Self, F, kSC__Reg_Discard);
		}
	}
	(Dest = SC_Reg_OperatorAs(Dest, Extras));
	if (SC_Pac_State(Self)->TailInlineable) {
		SC_Pac_ClearAllStructs(Self, Exp);
		Dest = SC_ASMType__ReturnOpt(Self, Dest);
	}
	FatASM* Fat = SC_Msg_RET(Exp, Dest, nil);
	Fat->xC2xB5RefCount = 1;
	Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_CondAnswer, true);
	return SC_FAT_AsReg(Fat, Dest);
}

void SC_ASMType__NotTemp(Assembler* Self, ASMReg Src, Message* P) {
	int R = SC_Reg_Reg(SC_Pac_State(Self)->Return);
	if (R and (R == SC_Reg_Reg(Src))) {
		return;
	}
	if (SC_Reg_SyntaxIs(Src, kSC__Reg_Temp)) {
		JB_Msg_Fail(P, JB_LUB[905]);
	}
}

ASMReg SC_ASMType__Num(Assembler* Self, Message* Exp, ASMReg Dest) {
	SCDecl* D = SC_Msg_ASMDecl(Exp);
	uint T = SC_Decl_TypeOnly(D);
	Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, T);
	Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_Const, true);
	return SC_Pac_NumToReg(Self, Exp, Dest, SC_Decl_ExportPosition(D), T);
}

ASMReg SC_ASMType__Rejoin(Assembler* Self, Message* Exp, ASMReg Dest) {
	Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_Discard, (!true));
	return SC_Pac_GetASM(Self, ((Message*)JB_Ring_First(Exp)), Dest);
}

ASMReg SC_ASMType__Return(Assembler* Self, Message* Exp, ASMReg Dest) {
	ASMReg L = SC_Pac_State(Self)->Return;
	if (L) {
		return SC_ASMType__InlinedReturn(Self, Exp, L);
	}
	Dest = kSC__Reg_ExitFunction;
	Message* F = ((Message*)JB_Ring_First(Exp));
	if (F) {
		Dest = SC_Pac_GetASM(Self, F, Dest);
	}
	SC_Pac_ClearAllStructs(Self, Exp);
	Dest = SC_ASMType__ReturnOpt(Self, Dest);
	ASMReg SafeDecr = SC_FinalDecrements(Self, Exp, Dest);
	if (SafeDecr) {
		return SafeDecr;
	}
	SCDecl* Ty = SC_Func_ASMReturnWith0(Self->Out);
	if (Ty) {
		uint Needed = SC_Decl_ASMRegType(Ty);
		int BC = SC_Reg_BitCount(Dest);
		if (JB_TC_IsInt(Needed) and ((JB_TC_VecCount(Needed) == 1) and (JB_TC_BitCount(Needed) > BC))) {
			int Wipe = 64 - BC;
			Dest = SC_Pac_BFLG_Sub(Self, Exp, Dest, Dest, Wipe, Wipe, JB_TC_IsSigned(Needed));
		}
	}
	Ind K = SC_Pac_Const(Self, Dest, 8, true);
	bool HasK = K >= 0;
	FatASM* Fat = SC_Msg_RET(Exp, SC_Reg_OperatorMul(Dest, (!HasK)), K * HasK);
	(++Fat->xC2xB5RefCount);
	return SC_FAT_AsReg(Fat, kSC__Reg_Exit);
}

ASMReg SC_ASMType__ReturnOpt(Assembler* Self, ASMReg Ret) {
	int Rr = SC_Reg_Reg(Ret);
	if ((!Rr) or (!SC_Pac_State(Self)->TailInlineable)) {
		return Ret;
	}
	FatASM* BFLG = SC_Pac_LastWithAsm(Self, kSC__ASM_BFLG);
	if ((!BFLG) or (SC_FAT_RegOnly(BFLG, 0) != Rr)) {
		return Ret;
	}
	if (BFLG->Prms[2] or BFLG->Prms[3]) {
		return Ret;
	}
	ASMReg BeefIn = SC_FAT_ASMReg(BFLG, 1);
	FatASM* R = SC_Pac_Register(Self, SC_Reg_Reg(BeefIn));
	if ((!R) or (!SC_Pac_IsCurr(Self, R))) {
		return Ret;
	}
	BeefIn = R->Info;
	Ret = SC_Reg_RegSetWithReg(Ret, BeefIn);
	Ret = SC_Reg_xC2xB5TypeSetWithTc(Ret, SC_Reg_xC2xB5Type(BeefIn));
	SC_Pac_SoftNop(Self, BFLG);
	return Ret;
}

ASMReg SC_ASMType__Second(Assembler* Self, Message* Exp, ASMReg Dest) {
	return SC_Pac_GetASM(Self, ((Message*)JB_Tree_Second(Exp)), Dest);
}

ASMReg SC_ASMType__SetRel(Assembler* Self, Message* Exp, ASMReg Dest) {
	Message* A = SC_Msg_ASMUnbra(((Message*)JB_Ring_First(Exp)));
	ASMReg X = SC_Pac_ExistingVar(Self, A);
	if (X) {
		return SC_Pac_xC2xB5Into(Self, ((Message*)JB_Ring_Last(Exp)), X);
	}
	Exp = ((Message*)JB_Ring_Last(Exp));
	Dest = SC_Reg_OperatorTemp(((ASMReg)nil), A);
	ASMReg Src = SC_Pac_xC2xB5GetReal(Self, Exp, Dest);
	Src = SC_Reg_SyntaxIsSet(Src, kSC__Reg_SetAlways, true);
	SC_Pac_xC2xB5(Self, A, Src);
	return kSC__Reg_Discard;
}

ASMReg SC_ASMType__Sheb(Assembler* Self, Message* Exp, ASMReg Dest) {
	SC_Msg_NOOP(Exp);
	return nil;
}

ASMReg SC_ASMType__StatExpr(Assembler* Self, Message* Exp, ASMReg Dest) {
	ASMReg Rz = ((ASMReg)0);
	Exp = ((Message*)JB_Ring_First(Exp));
	SCDecl* Rejoined = nil;
	Message* Ch = ((Message*)JB_Ring_First(((Message*)JB_Ring_Last(Exp))));
	if (!(SC_Reg_SyntaxIs(Dest, kSC__Reg_NewlyDeclared) or SC_Reg_SyntaxIs(Dest, kSC__Reg_Temp))) {
		Dest = nil;
	}
	 else if (Ch) {
		Rejoined = SC_Msg_FastDecl(Ch);
		if (!SC_Decl_SyntaxIs(Rejoined, kSC__SCDeclInfo_Body)) {
			Rejoined = nil;
		}
	}
	Ch = ((Message*)JB_Ring_First(Exp));
	uint64 V = SC_Pac_OpenVars(Self);
	while (Ch) {
		if (Ch->Func == kJB_SyxDecl) {
			ASMReg Sent = ((ASMReg)JB_Ternary(Ch->Obj == Rejoined, Dest, nil));
			Rz = SC_ASMType__Decl(Self, Ch, Sent);
		}
		 else {
			ASMReg Sent = ((ASMReg)JB_Ternary(JB_Tree_IsLast(Ch), Dest, kSC__Reg_Discard));
			Rz = SC_Pac_xC2xB5(Self, Ch, Sent);
		}
		Ch = ((Message*)JB_Ring_NextSib(Ch));
	};
	Rz = SC_Pac_CloseVars(Self, V, Exp, Rz);
	return Rz;
}

ASMReg SC_ASMType__Swap(Assembler* Self, Message* Exp, ASMReg Dest) {
	Message* Prms = ((Message*)JB_Ring_Last(Exp));
	ASMReg A = SC_Pac_ExistingVar(Self, ((Message*)JB_Ring_First(Prms)));
	ASMReg B = SC_Pac_ExistingVar(Self, ((Message*)JB_Tree_Second(Prms)));
	if (!(SC_Reg_Reg(A) and SC_Reg_Reg(B))) {
		JB_Msg_Fail(Exp, JB_LUB[1966]);
		return nil;
	}
	ASMReg T = SC_Pac_Assign(Self, Exp, SC_Pac_TempOnly(Self, kSC__Reg_Temp), A);
	SC_Pac_Assign(Self, Exp, A, B);
	SC_Pac_Assign(Self, Exp, B, T);
	FatASM* F = SC_Reg_FAT(T);
	if (F and (F->xC2xB5RefCount <= 0)) {
		SC_Pac_SoftNop(Self, F);
	}
	return SC_Reg__New();
}

ASMReg SC_ASMType__Thg(Assembler* Self, Message* Exp, ASMReg Dest) {
	ASMReg Thg = SC_ASMType__ThgSub(Self, Exp, Dest);
	return Thg;
}

ASMReg SC_ASMType__ThgReference(Assembler* Self, Message* Exp, ASMReg Dest, SCDecl* D) {
	ASMReg Reff = SC_Decl_WholeType(D);
	int Dr = SC_Reg_Reg(Dest);
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_AddrRequest)) {
		return SC_Reg_HaveAddr(Reff);
	}
	if (Dr == SC_Reg_Reg(SC_Decl_WholeType(D))) {
		JB_DoAt(1);
		return Dest;
	}
	Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, SC_Reg_xC2xB5Type(Reff));
	if (!SC_Reg_SyntaxIs(Dest, kSC__Reg_Set)) {
		Dest = SC_Pac_TempOnly(Self, Dest);
		if (SC_Reg_SyntaxIs(Dest, kSC__Reg_ContainsAddr)) {
		}
		return SC_FAT_AsReg(SC_Pac_Read(Self, Dest, Exp, Reff, nil, nil, 0), Dest);
	}
	Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_Discard, true);
	return SC_FAT_AsReg(SC_Pac_Write(Self, Dest, Exp, Reff, nil, nil, 0), Dest);
}

ASMReg SC_ASMType__ThgSub(Assembler* Self, Message* Exp, ASMReg Dest) {
	SCDecl* D = SC_Msg_ASMDecl(Exp);
	if (SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Local)) {
		if (SC_Reg_SyntaxIs(Dest, kSC__Reg_ConstRequest)) {
			return nil;
		}
		if (SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Reference)) {
			return SC_ASMType__ThgReference(Self, Exp, Dest, D);
		}
		if (!SC_Reg_SyntaxIs(Dest, kSC__Reg_AddrForceRequest)) {
			return SC_Pac_LocalThg(Self, D);
		}
		ASMReg T = SC_Pac_LocalThg(Self, D);
		if (SC_Decl_IsBareStruct(D) or SC_Decl_IsCArray(D)) {
			return SC_Reg_HaveAddr(T);
		}
		return SC_ASMType__GrabAddr(Self, Exp, Dest, D, T);
	}
	if (!SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Global)) {
		if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Discard)) {
			return SC_Reg__New();
		}
		return SC_ASMType__ConstFromThgName(Self, Exp, Dest, D);
	}
	if (SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_ClassObj)) {
		Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_AddrNeed, true);
	}
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_ConstRequest)) {
		return nil;
	}
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Discard)) {
		return SC_Reg__New();
	}
	JB_Object* Fn = D->IsLookupOnly;
	if (JB_Object_FastIsa(Fn, &SCFunctionData)) {
		SC_Pac_ASMReach(Self, ((SCFunction*)Fn));
	}
	return SC_ASMType__DoGlobal(Self, Dest, Exp, D);
}

ASMReg SC_ASMType__TypeCast(Assembler* Self, Message* Exp, ASMReg Dest) {
	Message* F = ((Message*)JB_Ring_First(Exp));
	SCDecl* NewDecl = SC_Msg_ASMDecl(Exp);
	if (SC_Decl_IsBareStruct(NewDecl)) {
		return SC_Reg_OperatorAs(SC_Reg__New(), kSC__Reg_Discard);
	}
	Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, NewDecl->mu.DataType);
	ASMReg From = SC_Pac_GetASM(Self, F, Dest);
	if (SC_Reg_xC2xB5Type(From) == SC_Reg_xC2xB5Type(Dest)) {
		return From;
	}
	uint NewType = SC_Decl_ASMRegType(NewDecl);
	if (!SC_Reg_Reg(From)) {
		From = SC_Reg_xC2xB5TypeSetWithTc(From, NewType);
		return From;
	}
	uint OldType = SC_Reg_xC2xB5Type(From);
	if (JB_TC_SyntaxIs(OldType, kJB__TC_bool)) {
		From = SC_Reg_xC2xB5TypeSetWithTc(From, NewType);
		return From;
	}
	if (JB_TC_SyntaxIs(NewType, kJB__TC_bool)) {
		if ((JB_TC_SyntaxIs(OldType, kJB__TC_bool)) and ((!SC_Reg_SyntaxIs(Dest, kSC__Reg_Negate)))) {
			return From;
		}
		return SC_Pac_NotEq(Self, Exp, Dest, SC_Reg__New(), From);
	}
	Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, NewType);
	if (SC_Reg_SyntaxIs(From, kSC__Reg_Const)) {
		return SC_ASMType__ConstConvert(Self, Exp, Dest, From, OldType, NewType);
	}
	int OV = JB_TC_VecCount(OldType);
	int NV = JB_TC_VecCount(NewType);
	if ((OV | NV) <= 1) {
		if ((JB_TC_BitCount(NewType) == JB_TC_BitCount(OldType)) and (JB_TC_IsFloat(NewType) == JB_TC_IsFloat(OldType))) {
			From = SC_Reg_xC2xB5TypeSetWithTc(From, NewType);
			return From;
		}
	}
	Dest = SC_Pac_TempOnly(Self, Dest);
	if ((OV | NV) > 1) {
		if (JB_TC_IsFloat(NewType) == JB_TC_IsFloat(OldType)) {
			if (((OV == 3) and (NV == 4)) or ((NV == 3) and (OV == 4))) {
				return From;
			}
			if (SC_Reg_OperatorIz(Dest, From)) {
				return Dest;
			}
			return SC_FAT_AsReg(SC_Msg_VMOV(Exp, Dest, From, nil, nil), Dest);
		}
		return SC_FAT_AsReg(SC_Msg_QCNV(Exp, Dest, From, ((int)JB_TC_IsFloat(OldType))), Dest);
	}
	if (JB_TC_IsFloat(OldType) or JB_TC_IsFloat(NewType)) {
		return SC_FAT_AsReg(SC_Msg_CONV(Exp, Dest, From, SC_TC_ASMConv(OldType, NewType)), Dest);
	}
	int Sh2 = 64 - JB_TC_BitCount(NewType);
	return SC_Pac_BFLG_Sub(Self, Exp, Dest, From, Sh2, Sh2, SC_Reg_Signed(Dest));
}

ASMReg SC_ASMType__Unexpected(Assembler* Self, Message* Exp, ASMReg Dest) {
	if (!SC_Msg_ASMType(Exp)) {
		int F = ((int)Exp->Func);
		if (F) {
			(SC_Msg_ASMTypeSet(Exp, F));
			return SC_Pac_GetASM(Self, Exp, Dest);
		}
	}
	if (true) {
		JB_Msg_Fail(Exp, JB_LUB[906]);
	}
	return ((ASMReg)0);
}


bool JB_CharSet_SyntaxAccess(CharSet Self, uint B) {
	if (B <= 255) {
		uint Cp = ((uint)JB__CharSet_Props[B]);
		return ((bool)((1 << Cp) & ((uint)Self)));
	}
	return false;
}

int JB_CharSet__Init_() {
	{
	}
	;
	return 0;
}

int JB_CharSet__InitCode_() {
	{
	}
	;
	JB_CharSet__MakeDefault();
	return 0;
}

void JB_CharSet__MakeDefault() {
	byte* Item = (&JB__CharSet_Props[0]);
	{
		int S = 0;
		while (S < 32) {
			Item[S] = kJB__CharSet_fUnprintable;
			(++S);
		};
	}
	;
	{
		IntRange _LoopSrcf3 = JB_int_OperatorTo(33, 126);
		int __Endf1 = _LoopSrcf3[1];
		int S = _LoopSrcf3[0];
		while (S < __Endf1) {
			Item[S] = kJB__CharSet_fRemainingPunct;
			(++S);
		};
	}
	;
	{
		IntRange _LoopSrcf6 = JB_int_OperatorTo(128, 253);
		int __Endf4 = _LoopSrcf6[1];
		int S = _LoopSrcf6[0];
		while (S < __Endf4) {
			Item[S] = kJB__CharSet_fUnicode;
			(++S);
		};
	}
	;
	{
		IntRange _LoopSrcf9 = JB_int_OperatorTo(((int)'0'), ((int)'9'));
		int __Endf7 = _LoopSrcf9[1];
		int S = _LoopSrcf9[0];
		while (S < __Endf7) {
			Item[S] = kJB__CharSet_fNumber;
			(++S);
		};
	}
	;
	{
		IntRange _LoopSrcf12 = JB_int_OperatorTo(((int)'A'), ((int)'Z'));
		int __Endf10 = _LoopSrcf12[1];
		int S = _LoopSrcf12[0];
		while (S < __Endf10) {
			Item[S] = kJB__CharSet_fUpper;
			Item[S + 32] = kJB__CharSet_fLower;
			(++S);
		};
	}
	;
	{
		JB_String* _LoopSrcf15 = JB_LUB[14];
		JB_Incr(_LoopSrcf15);
		byte* _Startf13 = JB_Str_Address(_LoopSrcf15);
		byte* _Endf14 = _Startf13 + JB_Str_Length(_LoopSrcf15);
		JB_Decr(_LoopSrcf15);
		while (_Startf13 < _Endf14) {
			uint S = _Startf13[0];
			Item[S] = kJB__CharSet_fAfterTmp;
			(++_Startf13);
		};
	}
	;
	{
		JB_String* _LoopSrcf19 = JB_LUB[15];
		JB_Incr(_LoopSrcf19);
		byte* _Startf17 = JB_Str_Address(_LoopSrcf19);
		byte* _Endf18 = _Startf17 + JB_Str_Length(_LoopSrcf19);
		JB_Decr(_LoopSrcf19);
		while (_Startf17 < _Endf18) {
			uint S = _Startf17[0];
			Item[S] = kJB__CharSet_fEditorSeparators;
			(++_Startf17);
		};
	}
	;
	Item[0] = kJB__CharSet_fNull;
	Item[9] = kJB__CharSet_fHSpace;
	Item[10] = kJB__CharSet_fLine;
	Item[13] = kJB__CharSet_fLine;
	Item[32] = kJB__CharSet_fHSpace;
	Item['_'] = kJB__CharSet_fUnderscore;
	Item['-'] = kJB__CharSet_fDotDash;
	Item[':'] = kJB__CharSet_fColon;
	Item['.'] = kJB__CharSet_fDotDash;
	Item[','] = kJB__CharSet_fCommaSlash;
	Item['\\'] = kJB__CharSet_fCommaSlash;
	Item[192] = kJB__CharSet_fInvalid;
}



bool JB_CP_IsLetter(Codepoint Self) {
	return JB_CP_IsUpper(Self) or (JB_CP_IsLower(Self) or JB_CP_IsHigher(Self));
}

bool JB_CP_IsWhite(Codepoint Self) {
	return (Self == ' ') or ((Self == '\n') or ((Self == '\x0D') or (Self == '\t')));
}







int SC_TC_ASMConv(uint /*DataTypeCode*/ Self, uint /*DataTypeCode*/ To) {
	return (SC_TC_ASMPart(To) << 2) | SC_TC_ASMPart(Self);
}

int SC_TC_ASMPart(uint /*DataTypeCode*/ Self) {
	if (JB_TC_IsFloat(Self)) {
		return 0 + (JB_TC_BitCount(Self) > 32);
	}
	return 2 + JB_TC_IsSigned(Self);
}

int JB_TC_BitCount(uint /*DataTypeCode*/ Self) {
	if (JB_TC_SyntaxIs(Self, kJB__TC_bool)) {
		return 1;
	}
	return (JB_TC_VecCount(Self) << JB_TC_ByteShift(Self)) << 3;
}

int SC_TC_FloatIntMerge(uint /*DataTypeCode*/ Self, int Old, Message* S) {
	if (JB_TC_IsFloat(Self)) {
		Old = (Old | 2);
	}
	 else if (JB_TC_IsInt(Self)) {
		Old = (Old | 1);
	}
	if (Old == 3) {
		JB_Msg_Fail(S, JB_LUB[1032]);
		return 0;
	}
	return Old;
}

int JB_TC_NumericCount(uint /*DataTypeCode*/ Self) {
	if (JB_TC_SyntaxIs(Self, kJB__TC_Numeric)) {
		return JB_TC_VecCount(Self);
	}
	return 0;
}

int SC_TC_NumericCountBoolsToo(uint /*DataTypeCode*/ Self, SCDecl* D) {
	if (JB_TC_SyntaxIs(Self, kJB__TC_Numeric)) {
		return JB_TC_VecCount(Self);
	}
	if (Self & kJB__TC_bool) {
		return 1;
	}
	if (SC__Base_ConstantsLoadingOverride and SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Const)) {
		return JB_TC_VecCount(Self);
	}
	return 0;
}

JB_String* JB_TC_Render(uint /*DataTypeCode*/ Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	//visible;
	Self = (Self & kJB__TC_PossibleBits);
	if (!JB_TC_SyntaxIs(Self, kJB__TC_Numeric)) {
		if (JB_TC_SyntaxIs(Self, kJB__TC_bool)) {
			JB_FS_AppendString(Fs, JB_LUB[159]);
		}
		 else if (JB_TC_SyntaxIs(Self, kJB__TC_Pointer)) {
			JB_FS_AppendString(Fs, JB_LUB[160]);
		}
		 else {
			JB_FS_AppendString(Fs, JB_LUB[161]);
			JB_FS_AppendInt32(Fs, JB_TC_ByteCount(Self));
		}
	}
	 else if (Self == kJB__TC_byte) {
		JB_FS_AppendString(Fs, JB_LUB[162]);
	}
	 else {
		int Vc = JB_TC_VecCount(Self);
		if (Vc > 1) {
			if (JB_TC_IsInt(Self)) {
				JB_FS_AppendByte(Fs, 'i');
			}
			JB_FS_AppendString(Fs, JB_LUB[163]);
			JB_FS_AppendInt32(Fs, Vc);
		}
		 else {
			if (!JB_TC_IsSigned(Self)) {
				JB_FS_AppendByte(Fs, 'u');
			}
			int B = JB_TC_ByteCount(Self);
			if (!JB_TC_IsInt(Self)) {
				JB_FS_AppendString(Fs, JB_LUB[164]);
				if (B != 4) {
					JB_FS_AppendInt32(Fs, B * 8);
				}
			}
			 else if (B == 1) {
				JB_FS_AppendString(Fs, JB_LUB[165]);
			}
			 else if (B == 2) {
				JB_FS_AppendString(Fs, JB_LUB[166]);
			}
			 else if (B == 4) {
				JB_FS_AppendString(Fs, JB_LUB[167]);
			}
			 else if (B == 8) {
				JB_FS_AppendString(Fs, JB_LUB[168]);
			}
		}
	}
	return JB_FS_SmartResult(Fs, Fs_in);
}

DataTypeCode JB_TC_SetSigned(uint /*DataTypeCode*/ Self, bool HasSign) {
	if (HasSign) {
		return Self & (~kJB__TC_Unsigned);
	}
	return Self | kJB__TC_Unsigned;
}

SCClass* SC_TC_SignedStuffClass(uint /*DataTypeCode*/ Self) {
	uint S = JB_TC_SetSigned(Self, (!JB_TC_IsSigned(Self)));
	Message* Keymsg = JB_Msg_Constructor(nil, nil, kJB_SyxThg, JB_LUB[0]);
	{
		Dictionary* _LoopSrcf2 = JB_TC__Types();
		DictionaryReader* _navf0 = JB_Dict_Navigate(_LoopSrcf2);
		while (true) {
			DTWrap* C = ((DTWrap*)JB_DictionaryReader_NextValue(_navf0));
			if (C == nil) {
				break;
			}
			JB_String* Key = JB_Nav_Name(_navf0);
			if (C == JB_Wrap_ConstructorInt(nil, S)) {
				JB_SetRef(Keymsg->Name, Key);
				return SC_Comp__SyntaxAccess(Keymsg);
			}
		};
	}
	;
	return nil;
}

bool JB_TC_SpecialReg(uint /*DataTypeCode*/ Self) {
	if (JB_TC_SyntaxIs(Self, kJB__TC_Pointer)) {
		return false;
	}
	if (JB_TC_IsInt(Self) and (JB_TC_VecCount(Self) <= 1)) {
		return false;
	}
	return true;
}

ASMReg SC_TC_zero(uint /*DataTypeCode*/ Self) {
	ASMReg K = kSC__Reg_Const;
	K = SC_Reg_xC2xB5TypeSetWithTc(K, Self);
	return K;
}

Dictionary* JB_TC__Types() {
	//visible;
	Dictionary* _T = JB__TC_Types_Dict;
	if (_T) {
		return _T;
	}
	_T = JB_Dict_Constructor(nil);
	JB_SetRef(JB__TC_Types_Dict, _T);
	JB_Dict_SetValue(_T, JB_LUB[169], kJB__TC_Numeric);
	JB_Dict_SetValue(_T, JB_LUB[170], kJB__TC_Unsigned);
	JB_Dict_SetValue(_T, JB_LUB[171], kJB__TC_Floating);
	JB_Dict_SetValue(_T, JB_LUB[162], kJB__TC_byte);
	JB_Dict_SetValue(_T, JB_LUB[165], kJB__TC_char);
	JB_Dict_SetValue(_T, JB_LUB[172], kJB__TC_Byte2);
	JB_Dict_SetValue(_T, JB_LUB[173], kJB__TC_Byte3);
	JB_Dict_SetValue(_T, JB_LUB[174], kJB__TC_Byte4);
	JB_Dict_SetValue(_T, JB_LUB[175], kJB__TC_SByte);
	JB_Dict_SetValue(_T, JB_LUB[176], kJB__TC_SByte2);
	JB_Dict_SetValue(_T, JB_LUB[177], kJB__TC_SByte3);
	JB_Dict_SetValue(_T, JB_LUB[178], kJB__TC_SByte4);
	JB_Dict_SetValue(_T, JB_LUB[179], kJB__TC_uint16);
	JB_Dict_SetValue(_T, JB_LUB[180], kJB__TC_int16);
	JB_Dict_SetValue(_T, JB_LUB[181], kJB__TC_s16x2);
	JB_Dict_SetValue(_T, JB_LUB[182], kJB__TC_s16x3);
	JB_Dict_SetValue(_T, JB_LUB[183], kJB__TC_s16x4);
	JB_Dict_SetValue(_T, JB_LUB[168], kJB__TC_int64);
	JB_Dict_SetValue(_T, JB_LUB[184], kJB__TC_uint64);
	JB_Dict_SetValue(_T, JB_LUB[185], kJB__TC_iVec2);
	JB_Dict_SetValue(_T, JB_LUB[186], kJB__TC_iVec3);
	JB_Dict_SetValue(_T, JB_LUB[187], kJB__TC_iVec4);
	JB_Dict_SetValue(_T, JB_LUB[188], kJB__TC_Float16);
	JB_Dict_SetValue(_T, JB_LUB[164], kJB__TC_Float);
	JB_Dict_SetValue(_T, JB_LUB[189], kJB__TC_Double);
	JB_Dict_SetValue(_T, JB_LUB[190], kJB__TC_Vec2);
	JB_Dict_SetValue(_T, JB_LUB[191], kJB__TC_Vec3);
	JB_Dict_SetValue(_T, JB_LUB[192], kJB__TC_Vec4);
	JB_Dict_SetValue(_T, JB_LUB[167], kJB__TC_Int);
	JB_Dict_SetValue(_T, JB_LUB[193], kJB__TC_UInt);
	JB_Dict_SetValue(_T, JB_LUB[159], kJB__TC_bool);
	JB_Dict_SetValue(_T, JB_LUB[160], kJB__TC_Pointer);
	JB_Dict_SetValue(_T, JB_LUB[194], kJB__TC_u32);
	JB_Dict_SetValue(_T, JB_LUB[195], kJB__TC_HFloat);
	JB_Dict_SetValue(_T, JB_LUB[196], kJB__TC_s64);
	JB_Dict_SetValue(_T, JB_LUB[197], kJB__TC_u64);
	JB_Dict_SetValue(_T, JB_LUB[198], kJB__TC_f64);
	JB_Dict_SetValue(_T, JB_LUB[199], kJB__TC_f16);
	JB_Dict_SetValue(_T, JB_LUB[200], kJB__TC_int8);
	JB_Dict_SetValue(_T, JB_LUB[201], kJB__TC_uint8);
	JB_Dict_SetValue(_T, JB_LUB[202], kJB__TC_u16);
	JB_Dict_SetValue(_T, JB_LUB[203], kJB__TC_s16);
	JB_Dict_SetValue(_T, JB_LUB[204], kJB__TC__voidptr);
	JB_Dict_SetValue(_T, JB_LUB[205], kJB__TC_cstring);
	JB_Dict_SetValue(_T, JB_LUB[206], kJB__TC_Failed);
	JB_Dict_SetValue(_T, JB_LUB[207], kJB__TC_PossibleBits);
	return _T;
}


JB_Duration JB_Date_Ago(Date Self) {
	if (Self) {
		return JB_Date_OperatorMinus(JB_Date__Now(), Self);
	}
	return 0;
}

int JB_Date_DayOfWeekApprox(Date Self) {
	return JB_Date_Days(Self) % 7;
}

int64 JB_Date_Days(Date Self) {
	return (JB_Date_WholeSeconds(Self) / kJB__Date_kSecondsPerDay);
}

Float64 JB_Date_Float64(Date Self) {
	return ((Float64)Self) * kJB__Date_kOneStep;
}

JB_String* JB_Date_RenderDurr(Date Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	JB_FS_AppendDurr(Fs, Self);
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

int64 JB_Date_WholeSeconds(Date Self) {
	return Self >> 16;
}


bool SC_DeclMode_SyntaxIs(DeclMode Self, DeclMode O) {
	return Self == O;
}


bool SC_DotUseType_SyntaxIs(DotUseType Self, DotUseType D) {
	return Self == D;
}





JB_String* JB_ErrorSeverity_Render(uint /*ErrorSeverity*/ Self, FastString* Fs_in) {
	if (Self < kJB__ErrorSeverity_MaxError) {
		Array* _tmPf0 = JB_ErrorSeverity__InitNames();
		JB_Incr(_tmPf0);
		JB_String* Name = ((JB_String*)JB_Array_Value(_tmPf0, ((int)Self)));
		JB_Incr(Name);
		JB_Decr(_tmPf0);
		if (!Fs_in) {
			if (Name != nil) {
				JB_SafeDecr(Name);
				return Name;
			}
			JB_EarlyDecr(Name);
			return JB_LUB[0];
		}
		if (JB_Str_Exists(Name)) {
			JB_FS_AppendString(Fs_in, Name);
		}
		JB_Decr(Name);
	}
	return JB_LUB[0];
}

bool JB_ErrorSeverity_SyntaxIs(uint /*ErrorSeverity*/ Self, uint /*ErrorSeverity*/ E) {
	return Self == E;
}

ErrorSeverity JB_ErrorSeverity_SyntaxUsing(uint /*ErrorSeverity*/ Self) {
	uint Rz = 0;
	Rz = JB_StdErr->LowerErrorsTo;
	JB_StdErr->LowerErrorsTo = Self;
	return Rz;
}

void JB_ErrorSeverity_SyntaxUsingComplete(uint /*ErrorSeverity*/ Self, JB_Object* Idk) {
	JB_StdErr->LowerErrorsTo = Self;
}

ErrorSeverity JB_ErrorSeverity__Find(JB_String* Name, Message* Err) {
	{
		Array* _LoopSrcf2 = JB_ErrorSeverity__InitNames();
		int _if0 = 0;
		while (true) {
			JB_String* N = ((JB_String*)JB_Array_Value(_LoopSrcf2, _if0));
			if (N == nil) {
				break;
			}
			int I = _if0;
			if (JB_Str_Equals(N, Name, true)) {
				return I;
			}
			(++_if0);
		};
	}
	;
	if (Err) {
		if (true) {
			JB_Msg_Fail(Err, nil);
		}
	}
	return 0;
}

Array* JB_ErrorSeverity__InitNames() {
	return ({
		Array* _X = JB__ErrorSeverity__ErrorNames;
		if (_X == nil) {
			_X = JB_Str_Words(JB_LUB[642]);
			JB_SetRef(JB__ErrorSeverity__ErrorNames, _X);
		}
		 _X;
	});
}











FlowControlStopper JB_flow_SyntaxUsing(FlowControlStopper Self) {
	//;
	return 0;
}

void JB_flow_SyntaxUsingComplete(FlowControlStopper Self, JB_Object* Dummy) {
	//;
	JB_Flow__Stop();
}


bool SC_FunctionType_SyntaxIs(FunctionType Self, FunctionType T) {
	return ((bool)(Self & T));
}



bool JB_Rg_Contains1(IntRange Self, int I) {
	//cpp_part;
	return (I >= Self[0]) and (I < Self[1]);
}





NilCheckMode SC_khalai_Activate(NilCheckMode Self) {
	if (SC_khalai_SyntaxIs(Self, kSC__khalai_Active)) {
		return SC_khalai_Normal(Self);
	}
	bool Rev = (SC_khalai_SyntaxIs(Self, kSC__khalai_Reversed));
	return Self | (kSC__khalai_Positive + Rev);
}

NilCheckMode SC_khalai_Negate(NilCheckMode Self) {
	NilCheckMode P = (Self & kSC__khalai_Positive) >> 1;
	P = (P | ((Self & kSC__khalai_Negative) << 1));
	return P | (Self & (~kSC__khalai_Active));
}

NilCheckMode SC_khalai_Normal(NilCheckMode Self) {
	if (SC_khalai_SyntaxIs(Self, kSC__khalai_Reversed)) {
		return SC_khalai_Negate(Self) & (~kSC__khalai_Reversed);
	}
	return Self;
}

bool SC_khalai_SyntaxIs(NilCheckMode Self, NilCheckMode Other) {
	return ((bool)(Self & Other));
}

NilCheckMode SC_khalai_SyntaxIsSet(NilCheckMode Self, NilCheckMode Other, bool Value) {
	if (Value) {
		return Self | Other;
	}
	 else {
		return Self & (~Other);
	}
}


bool SC_NilReason_SyntaxIs(uint /*NilReason*/ Self, uint /*NilReason*/ X) {
	return X == Self;
}

int SC_NilReason__Init_() {
	{
		Array* _tmPf0 = (JB_Array_Constructor0(nil));
		JB_Array_SyntaxAppend(_tmPf0, JB_LUB[467]);
		JB_Array_SyntaxAppend(_tmPf0, JB_LUB[468]);
		JB_Array_SyntaxAppend(_tmPf0, JB_LUB[469]);
		JB_Array_SyntaxAppend(_tmPf0, JB_LUB[470]);
		JB_Array_SyntaxAppend(_tmPf0, JB_LUB[471]);
		JB_SetRef(SC__NilReason_values, _tmPf0);
	}
	;
	return 0;
}


int SC_NRD_DepthOfVars(NilRecord Self) {
	if (Self) {
		return ((int)JB_u64_Log2(Self)) >> 1;
	}
	return 0;
}

NilState SC_NRD_SyntaxAccess(NilRecord Self, int Item) {
	Item = (Item << 1);
	return (Self >> Item) & kSC__NilState_Either;
}


JB_String* SC_NilState_RawName(uint /*NilState*/ Self) {
	if (SC_NilState_SyntaxIs(Self, kSC__NilState_Either)) {
		return JB_LUB[99];
	}
	if (SC_NilState_SyntaxIs(Self, kSC__NilState_Nilish)) {
		return JB_LUB[100];
	}
	if (SC_NilState_SyntaxIs(Self, kSC__NilState_Realish)) {
		return JB_LUB[101];
	}
	return JB_LUB[102];
}

NilState SC_NilState_StatedReal(uint /*NilState*/ Self) {
	if ((Self & kSC__NilState_Optional) == kSC__NilState_Real) {
		return kSC__NilState_Real;
	}
	return 0;
}

bool SC_NilState_SyntaxIs(uint /*NilState*/ Self, uint /*NilState*/ Type) {
	return (Self & Type) == Type;
}


bool SC_OpMode_SyntaxIs(OpMode Self, OpMode X) {
	return (Self & X) == X;
}





int SC_SCBlockage_BlockCombine(SCBlockage Self, SCBlockage B) {
	if (B == Self) {
		return Self;
	}
	if (SC_SCBlockage_SyntaxIs(Self, kSC__SCBlockage_Return)) {
		return B;
	}
	if (SC_SCBlockage_SyntaxIs(B, kSC__SCBlockage_Return)) {
		return Self;
	}
	//would this even happen ever???;
	return kSC__SCBlockage_Continue;
}

bool SC_SCBlockage_SyntaxIs(SCBlockage Self, SCBlockage B) {
	return Self == B;
}


SCDeclInfo SC_SCDeclInfo_Set(SCDeclInfo Self, SCDeclInfo D, bool B) {
	if (B) {
		return Self | D;
	}
	return Self & (~D);
}

bool SC_SCDeclInfo_SyntaxIs(SCDeclInfo Self, SCDeclInfo D) {
	return ((bool)(Self & D));
}


bool SC_SCNodeFindMode_SyntaxIs(SCNodeFindMode Self, SCNodeFindMode M) {
	return ((bool)(Self & M));
}

int SC_SCNodeFindMode__Init_() {
	{
	}
	;
	return 0;
}



bool SC_SCNodeType_HasASMPtrs(SCNodeType Self) {
	return Self >= kSC__SCNodeType_Struct;
}

bool SC_SCNodeType_HasPtrs(SCNodeType Self) {
	return Self >= kSC__SCNodeType_ProtoType;
}

bool SC_SCNodeType_SyntaxIs(SCNodeType Self, SCNodeType D) {
	return Self == D;
}





void JB_Syx_ExportAddrSet(Syntax Self, FP_fpMsgRender Value) {
	JB_Syx_Obj(Self)->ExportAddr = Value;
}

FP_fpMsgRender JB_Syx_ExportAddr(Syntax Self) {
	return ((FP_fpMsgRender)(JB_Syx_Obj(Self)->ExportAddr));
}

bool JB_Syx_IsList(Syntax Self) {
	return (Self >= kJB_SyxBra) and (Self <= kJB_SyxArr);
}

bool JB_Syx_IsString(Syntax Self) {
	return (Self >= kJB_SyxSStr) and (Self <= kJB_SyxStr);
}

bool JB_Syx_ListViewable(Syntax Self) {
	return JB_Syx_Translateable(Self) or JB_Syx_IsString(Self);
}

JB_String* JB_Syx_LongName(Syntax Self) {
	if (Self) {
		SyntaxObj* O = JB_Syx_Obj(Self);
		if (O) {
			return O->LongName;
		}
	}
	return JB_LUB[63];
}

Message* JB_Syx_Msg(Syntax Self, JB_String* Name) {
	return JB_Msg_Constructor(nil, nil, Self, Name);
}

JB_String* JB_Syx_Name(Syntax Self) {
	if (Self) {
		SyntaxObj* O = JB_Syx_Obj(Self);
		if (O) {
			return O->Name;
		}
	}
	return JB_LUB[63];
}

SyntaxObj* JB_Syx_Obj(Syntax Self) {
	return JB__Constants__FuncArray[((int)Self)];
}

Message* JB_Syx_PlusNum(Syntax Self, int64 M) {
	//cpp_part;
	return JB_Syx_Msg(Self, JB_int64_Render(M, nil));
}

FP_fpMsgRender JB_Syx_RenderAddr(Syntax Self) {
	return ((FP_fpMsgRender)(JB_Syx_Obj(Self)->RenderAddr));
}

bool JB_Syx_Translateable(Syntax Self) {
	return (Self <= kJB_SyxThg) and (Self >= kJB_SyxTmp);
}

Syntax JB_Syx__Func(JB_String* Name, Message* Where) {
	//visible;
	SyntaxObj* Obj = ((SyntaxObj*)JB_Dict_ValueLower(JB__Constants__SyxDict, Name));
	JB_Incr(Obj);
	if (!Obj) {
		JB_String* _tmPf0 = JB_Str_OperatorPlus(JB_LUB[896], Name);
		JB_Incr(_tmPf0);
		JB_Msg_Fail(Where, _tmPf0);
		JB_EarlyDecr(_tmPf0);
		JB_EarlyDecr(Obj);
		return nil;
	}
	Syntax _tmPf1 = Obj->ID;
	JB_EarlyDecr(Obj);
	return _tmPf1;
}

int JB_Syx__Init_() {
	{
	}
	;
	return 0;
}

Syntax JB_Syx__StdNew(FP_fpMsgRender Msg, JB_String* Name, JB_String* LongName, int ID) {
	SyntaxObj* Result = JB_Fn_Constructor(nil, ((FP_fpMsgRender)(Msg)), Name, ID);
	JB_Incr(Result);
	(JB_Dict_ValueSet(JB__Constants__SyxDict, Name, Result));
	JB_SetRef(JB__Constants__FuncArray[ID], Result);
	if (((JB_String*)JB_Str_Exists(LongName))) {
		(JB_Dict_ValueSet(JB__Constants__SyxDict, LongName, Result));
		JB_SetRef(Result->LongName, LongName);
	}
	 else {
		JB_SetRef(Result->LongName, Name);
	}
	JB_EarlyDecr(Result);
	return ((Syntax)ID);
}



JB_String* JB_TerminalColor_Colorise(TerminalColor Self, JB_String* S) {
	int64 C = (Self - kJB__TerminalColor_Black) & 7;
	int64 Addr = (((int64)S) << 3) >> 3;
	return ((JB_String*)(Addr | (C << 60)));
}

JB_String* JB_TerminalColor_Render(TerminalColor Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	//;
	JB_FS_AppendString(Fs, JB_LUB[208]);
	JB_FS_AppendInt32(Fs, ((int)Self));
	JB_FS_AppendByte(Fs, 'm');
	//;
	return JB_FS_SmartResult(Fs, Fs_in);
}

int JB_TerminalColor__Init_() {
	{
	}
	;
	return 0;
}




int SC_xC2xB5Param_BitSize(uint /*MuParam*/ Self) {
	return (Self & 31) + 1;
}

bool SC_xC2xB5Param_IsReg(uint /*MuParam*/ Self) {
	return (!SC_xC2xB5Param_SyntaxIs(Self, kSC__xC2xB5Param_NonReg));
}

bool SC_xC2xB5Param_SyntaxIs(uint /*MuParam*/ Self, uint /*MuParam*/ P) {
	return ((bool)(Self & P));
}


ASM* SC_ASM_AddAK__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_AddAK_KSet(Rz, Self->Prms[2]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_AddB__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_AddB_KSet(Rz, Self->Prms[1]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_AddK__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_AddK_KSet(Rz, Self->Prms[2]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_AddOrSubM__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_AddOrSubM_ShSet(Rz, Self->Prms[3]);
	Rz = SC_ASM_AddOrSubM_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_Alloc__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_Alloc_AmountSet(Rz, Self->Prms[1]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_BFLD__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_BFLD_upSet(Rz, Self->Prms[2]);
	Rz = SC_ASM_BFLD_downSet(Rz, Self->Prms[3]);
	Rz = SC_ASM_BFLD_signSet(Rz, Self->Prms[4]);
	Rz = SC_ASM_BFLD_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_BFLS__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_BFLS_upSet(Rz, Self->Prms[2]);
	Rz = SC_ASM_BFLS_downSet(Rz, Self->Prms[3]);
	Rz = SC_ASM_BFLS_signSet(Rz, Self->Prms[4]);
	Rz = SC_ASM_BFLS_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_Bra__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_Bra_SmallSet(Rz, Self->Prms[1]);
	Rz = SC_ASM_Bra_JmpSet(Rz, Self->Prms[2]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_CNTC__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_CNTC_offsetSet(Rz, Self->Prms[2]);
	Rz = SC_ASM_CNTC_cnstSet(Rz, Self->Prms[3]);
	Rz = SC_ASM_CNTC_sizeSet(Rz, Self->Prms[4]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_CmpF__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_CmpF_CmpSet(Rz, Self->Prms[3]);
	Rz = SC_ASM_CmpF_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_CmpI__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_CmpI_CmpSet(Rz, Self->Prms[3]);
	Rz = SC_ASM_CmpI_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_Compare4__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_R4Set(Rz, Self->Prms[3]);
	Rz = SC_ASM_Compare4_SmallSet(Rz, Self->Prms[4]);
	Rz = SC_ASM_Compare4_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_ConstStretchy__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_ConstStretchy_CondSet(Rz, Self->Prms[1]);
	Rz = SC_ASM_ConstStretchy_InvSet(Rz, Self->Prms[2]);
	Rz = SC_ASM_ConstStretchy_ValueSet(Rz, Self->Prms[3]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_Convert__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_Convert_ModeSet(Rz, Self->Prms[2]);
	Rz = SC_ASM_Convert_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_Div__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_R4Set(Rz, Self->Prms[3]);
	Rz = SC_ASM_Div_KindSet(Rz, Self->Prms[4]);
	Rz = SC_ASM_Div_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_Div2__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_Div2_ClearSet(Rz, Self->Prms[2]);
	Rz = SC_ASM_Div2_DownSet(Rz, Self->Prms[3]);
	Rz = SC_ASM_Div2_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_Float__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_R4Set(Rz, Self->Prms[3]);
	Rz = SC_ASM_Float_DSet(Rz, Self->Prms[4]);
	Rz = SC_ASM_Float_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_FloatConst__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_FloatConst_HighSet(Rz, Self->Prms[2]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_ForeignFunc__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_ForeignFunc_TableSet(Rz, Self->Prms[1]);
	if (Curr < (After + 2)) {
		Curr++[0] = Rz;
		Curr++[0] = Self->Prms[2];
		ASMParam P2 = Self->Prms[2 + 1];
		if (P2) {
			Curr++[0] = P2;
		}
	}
	return Curr;
}


ASM* SC_ASM_Func__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_Func_JUMPSet(Rz, Self->Prms[1]);
	if (Curr < (After + 2)) {
		Curr++[0] = Rz;
		Curr++[0] = Self->Prms[2];
		ASMParam P2 = Self->Prms[2 + 1];
		if (P2) {
			Curr++[0] = P2;
		}
	}
	return Curr;
}


ASM* SC_ASM_FuncAddr__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_FuncAddr_LibrarySet(Rz, Self->Prms[1]);
	Rz = SC_ASM_FuncAddr_IndexSet(Rz, Self->Prms[2]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_GObj__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_GObj_ModeSet(Rz, Self->Prms[1]);
	Rz = SC_ASM_GObj_RefSet(Rz, Self->Prms[2]);
	Rz = SC_ASM_GObj_AddSet(Rz, Self->Prms[3]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_GTable__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_GTable_ModeSet(Rz, Self->Prms[1]);
	Rz = SC_ASM_GTable_AddSet(Rz, Self->Prms[2]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_HALT__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_HALT_ReservedSet(Rz, Self->Prms[0]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_JCmpEq__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_JCmpEq_LSmallSet(Rz, Self->Prms[2]);
	Rz = SC_ASM_JCmpEq_RSmallSet(Rz, Self->Prms[3]);
	Rz = SC_ASM_JCmpEq_JmpSet(Rz, Self->Prms[4]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_JCmpF__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_JCmpF_CmpSet(Rz, Self->Prms[2]);
	Rz = SC_ASM_JCmpF_JmpSet(Rz, Self->Prms[3]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_JCmpI__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_JCmpI_CmpSet(Rz, Self->Prms[2]);
	Rz = SC_ASM_JCmpI_JmpSet(Rz, Self->Prms[3]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_JCmpK__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_JCmpK_KSet(Rz, Self->Prms[1]);
	Rz = SC_ASM_JCmpK_JmpSet(Rz, Self->Prms[2]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_Jump__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_Jump_JUMPSet(Rz, Self->Prms[0]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_Loop__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_Loop_SmallSet(Rz, Self->Prms[2]);
	Rz = SC_ASM_Loop_JmpSet(Rz, Self->Prms[3]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_MemUtil__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_MemUtil_OpSet(Rz, Self->Prms[2]);
	Rz = SC_ASM_MemUtil_NSet(Rz, Self->Prms[3]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_MemoryCopy__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_MemoryCopy_LengthSet(Rz, Self->Prms[2]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_REQ__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_REQ_ModeSet(Rz, Self->Prms[2]);
	Rz = SC_ASM_REQ_ValSet(Rz, Self->Prms[3]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_RET__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_RET_ValueSet(Rz, Self->Prms[1]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_Read__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_Read_OffsetSet(Rz, Self->Prms[3]);
	Rz = SC_ASM_Read_moveSet(Rz, Self->Prms[4]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_RefDecrMem__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_RefDecrMem_CountSet(Rz, Self->Prms[1]);
	Rz = SC_ASM_RefDecrMem_OffsetSet(Rz, Self->Prms[2]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_RefReturn__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_R4Set(Rz, Self->Prms[3]);
	Rz = SC_ASM_RefReturn_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_RefSet1__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_RefSet1_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_RefSet2__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_RefSet2_DecrSet(Rz, Self->Prms[2]);
	Rz = SC_ASM_RefSet2_OffsetSet(Rz, Self->Prms[3]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_RefSet3__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_RefSet3_DecrSet(Rz, Self->Prms[2]);
	Rz = SC_ASM_RefSet3_OffsetSet(Rz, Self->Prms[3]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_RefSetApart__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_RefSetApart_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_RotateConst__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_RotateConst_RotSet(Rz, Self->Prms[1]);
	Rz = SC_ASM_RotateConst_InvSet(Rz, Self->Prms[2]);
	Rz = SC_ASM_RotateConst_ValueSet(Rz, Self->Prms[3]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_Shift__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_Shift_ShSet(Rz, Self->Prms[3]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_Swap__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_R4Set(Rz, Self->Prms[3]);
	Rz = SC_ASM_Swap_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_TERN__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_R4Set(Rz, Self->Prms[3]);
	Rz = SC_ASM_TERN_SmallSet(Rz, Self->Prms[4]);
	Rz = SC_ASM_TERN_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_Tail__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_Tail_JUMPSet(Rz, Self->Prms[0]);
	if (Curr < (After + 2)) {
		Curr++[0] = Rz;
		Curr++[0] = Self->Prms[1];
		ASMParam P2 = Self->Prms[1 + 1];
		if (P2) {
			Curr++[0] = P2;
		}
	}
	return Curr;
}


ASM* SC_ASM_Trap__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_Trap_UponSet(Rz, Self->Prms[1]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_U0__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_U0_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_U1__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_U1_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_U2__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_U2_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_U3__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_U3_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_U4__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_R4Set(Rz, Self->Prms[3]);
	Rz = SC_ASM_U4_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_VecBuild__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_R4Set(Rz, Self->Prms[3]);
	Rz = SC_ASM_R5Set(Rz, Self->Prms[4]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_VecConst__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_VecConst_K1Set(Rz, Self->Prms[1]);
	if (Curr < (After + 2)) {
		Curr++[0] = Rz;
		Curr++[0] = Self->Prms[2];
		ASMParam P2 = Self->Prms[2 + 1];
		if (P2) {
			Curr++[0] = P2;
		}
	}
	return Curr;
}


ASM* SC_ASM_VecGet__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_VecGet_IndSet(Rz, Self->Prms[3]);
	Rz = SC_ASM_VecGet_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_VecInc__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_VecInc_partSet(Rz, Self->Prms[2]);
	Rz = SC_ASM_VecInc_AmountSet(Rz, Self->Prms[3]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_VecMix__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_R4Set(Rz, Self->Prms[3]);
	Rz = SC_ASM_VecMix_ModeSet(Rz, Self->Prms[4]);
	Rz = SC_ASM_VecMix_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_VecSet__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_VecSet_IndSet(Rz, Self->Prms[3]);
	Rz = SC_ASM_VecSet_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_VecSwizzle__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_VecSwizzle_FieldsSet(Rz, Self->Prms[2]);
	Rz = SC_ASM_VecSwizzle_LSet(Rz, Self->Prms[5]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


ASM* SC_ASM_Write__Encode(FatASM* Self, ASM* Curr, ASM* After) {
	//visible;
	ASM Rz = ((ASM)SC_FAT_Op(Self)) << 24;
	Rz = SC_ASM_R1Set(Rz, Self->Prms[0]);
	Rz = SC_ASM_R2Set(Rz, Self->Prms[1]);
	Rz = SC_ASM_R3Set(Rz, Self->Prms[2]);
	Rz = SC_ASM_Write_OffsetSet(Rz, Self->Prms[3]);
	Rz = SC_ASM_Write_moveSet(Rz, Self->Prms[4]);
	if (Curr < After) {
		Curr++[0] = Rz;
	}
	return Curr;
}


float JB_Duration_Float(JB_Duration Self) {
	return ((float)JB_Date_Float64(Self));
}




void SC_nil_BecomeRealSub(ArchonPurger* Self, SCDecl* V) {
	V->NilDeclared = kSC__NilState_Real;
	if (SC_Decl_SyntaxIs(V, kSC__SCDeclInfo_Self)) {
		Self->FnAbleToNilCheck = false;
	}
	if (SC_nil_BranchDepth(Self) > 0) {
		Self->Realnesses = (Self->Realnesses & (~(kSC__NilState_Nilish << (V->NilReg << 1))));
	}
}

int SC_nil_BranchDepth(ArchonPurger* Self) {
	return ((int)(Self->Neel - (&Self->Rows[0])));
}

NilRecord SC_nil_BranchEnter(ArchonPurger* Self, Message* Where) {
	if (Self->Neel < Self->RowEnd) {
		NilRecord N = Self->Neel++[0];
		Self->Neel[0] = N;
		return N;
	}
	if (true) {
		JB_Msg_Fail(Where, JB_LUB[1041]);
	}
	return 0;
}

NilState SC_nil_BranchExit(ArchonPurger* Self, NilRecord A) {
	NilRecord B = SC_nil__Value();
	Self->Neel--[0] = 0;
	(SC_nil_ValueSet((&SC__nil_T), A | B));
	if (SC_nil_BranchDepth(Self) == 0) {
		Self->Realnesses = -1;
	}
	return kSC__NilState_Real;
}

NilState SC_nil_BranchExitBool(ArchonPurger* Self, NilRecord A, NilCheckMode Test, NilRecord Orig) {
	if (SC_khalai_SyntaxIs(Test, kSC__khalai_ForBools)) {
		return SC_nil_BranchExit(Self, A);
	}
	Self->Neel[0] = 0;
	return SC_nil_BranchRestore(Self, Orig);
}

NilState SC_nil_BranchRestore(ArchonPurger* Self, NilRecord A) {
	Self->Neel--[0] = 0;
	(SC_nil_ValueSet((&SC__nil_T), A));
	if (SC_nil_BranchDepth(Self) == 0) {
		Self->Realnesses = -1;
	}
	return kSC__NilState_Real;
}

NilRecord SC_nil_BranchSwap(ArchonPurger* Self, NilRecord A) {
	NilRecord Rz = 0;
	Rz = SC_nil__Value();
	(SC_nil_ValueSet(Self, A));
	return Rz;
}

void SC_nil_CheckNilCheck(ArchonPurger* Self, SCFunction* F) {
	Self->FnAbleToNilCheck = false;
	JB_SetRef(Self->Return, F->ReturnType);
	SCDecl* S = ((SCDecl*)JB_Array_First(F->Args));
	if (S) {
		if ((SC_NilState_SyntaxIs(S->NilDeclared, kSC__NilState_Nilish)) and (SC_Decl_TypeSuffers(S) and SC_Decl_CanNilCheck(Self->Return))) {
			Self->FnAbleToNilCheck = true;
		}
	}
}

NilState SC_nil_Declare(ArchonPurger* Self, SCDecl* D, uint /*NilState*/ Nd, Message* ToClose) {
	uint Rz = 0;
	Rz = SC_nil_DeclareSub(Self, D, Nd, ToClose);
	return Rz;
}

NilState SC_nil_DeclareSub(ArchonPurger* Self, SCDecl* D, uint /*NilState*/ Nd, Message* ToClose) {
	Nd = (Nd & kSC__NilState_Either);
	int N = SC_NRD_DepthOfVars(SC_nil_Value(Self)) + 1;
	if (N >= 31) {
		JB_Msg_Fail(D->Source, JB_LUB[1042]);
		return 0;
	}
	Self->Decls[N] = D;
	D->Suffers = SC_Decl_TypeSuffers(D);
	D->NilReg = N;
	if (!D->Suffers) {
		D->NilDeclared = kSC__NilState_Real;
	}
	SC__nil_T.Closers[N] = nil;
	if (!SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Grabbed)) {
		SC__nil_T.Closers[N] = ToClose;
	}
	D->DepthOfBranch = SC_nil_BranchDepth(Self);
	NilRecorder* P = ((NilRecorder*)(Self->Neel));
	(SC_NRC_SyntaxCallSet((P), N, Nd));
	return Nd;
}

void SC_nil_Destructor(ArchonPurger* Self) {
	//cpp_part;
	JB_Clear(Self->Return);
}

void SC_nil_FinishNil(ArchonPurger* Self, SCFunction* F) {
	if (SC__nil_NewFuncsLoaded) {
		SC_LinkMap__CollectLinksInOne(F);
		SC__nil_NewFuncsLoaded = false;
	}
	SCDecl* R = F->ReturnType;
	if (R) {
		R->NilDeclared = (R->NilDeclared | kSC__NilState_Stated);
	}
	{
		Array* _LoopSrcf2 = F->Args;
		int _if0 = 0;
		while (true) {
			SCDecl* A = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (A == nil) {
				break;
			}
			A->NilDeclared = (A->NilDeclared | kSC__NilState_Stated);
			(++_if0);
		};
	};
}

NilState SC_nil_Self(ArchonPurger* Self) {
	return SC_NRD_SyntaxAccess((SC_nil_Value(Self)), 1);
}

Message* SC_nil_StartNil(ArchonPurger* Self, SCFunction* F) {
	if (!SC_Func_HasProperSpeedieCode(F)) {
		return nil;
	}
	(SC_Func__CurrFuncSet(F));
	Self->Rows[0] = kSC__NilState_Basic;
	Self->InsideBoolLogic = 0;
	Self->Neel = (&Self->Rows[0]);
	Self->RowEnd = (Self->Neel + 63);
	Self->Realnesses = -1;
	SC__nil_Loops = ((LoopInfo){});
	Self->AnyReturns = false;
	SC_nil_CheckNilCheck(Self, F);
	{
		Array* _LoopSrcf2 = F->Args;
		int _if0 = 0;
		while (true) {
			SCDecl* D = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (D == nil) {
				break;
			}
			SC_Decl_Paramfix(D);
			SC_nil_DeclareSub(Self, D, D->NilDeclared, D->Source);
			(++_if0);
		};
	}
	;
	SCDecl* R = F->ReturnType;
	if (R) {
		if (!SC_Decl_NilStated(R)) {
			R->NilDeclared = 0;
		}
	}
	return SC_Func_SourceArg(F);
}

NilRecord SC_nil_Value(ArchonPurger* Self) {
	return Self->Neel[0];
}

void SC_nil_ValueSet(ArchonPurger* Self, NilRecord Dest) {
	Self->Neel[0] = (Dest & Self->Realnesses);
}

NilState SC_nil__Access(Message* Msg, NilCheckMode Test) {
	Message* Index = SC_Msg_UnBra(((Message*)JB_Ring_First(((Message*)JB_Tree_Second(Msg)))));
	SC_nil__FlowJump(Index, 0);
	int Mode = kSC__NilReason_Accessing * ((JB_Msg_EqualsSyx(Index, kJB_SyxNum)) and (JB_Msg_SyntaxEquals(Index, JB_LUB[478], false)));
	return SC_nil__UseChildAsReal(Msg, Test, Mode);
}

NilState SC_nil__Arel(Message* Msg, NilCheckMode Test) {
	uint Rz = 0;
	Message* Ch = ((Message*)JB_Ring_First(Msg));
	if (Ch) {
		Rz = SC_nil__FlowJump(Ch, Test);
		uint B = JB_Str_First(Msg->Name);
		if (B == '!') {
			Rz = (Rz & (~kSC__NilState_Nilish));
			Rz = (Rz | kSC__NilState_Realish);
		}
		 else if (B == '?') {
			0;
		}
		 else {
			if (SC__PostIncrementNil_Sync) {
				SC_PostIncrementNil__Check(Ch);
			}
			if (SC__nil_T.InsideBoolLogic) {
				if (true) {
					JB_Msg_Fail(Ch, JB_LUB[1903]);
				}
			}
		}
	}
	return Rz;
}

NilState SC_nil__Argument(Message* Msg, NilCheckMode Test) {
	uint Rz = 0;
	int VarDepth = SC_NRD_DepthOfVars(SC_nil__Value());
	{
		Message* S = ((Message*)JB_Ring_First(Msg));
		while (S) {
			int T = Test & (-JB_Tree_IsLast(S));
			if ((SC_NilState_SyntaxIs(Rz, kSC__NilState_Borked)) and (!JB_Rec_OK(JB_StdErr))) {
				break;
			}
			uint Prev = Rz;
			Rz = SC_nil__SyncJump(S, T | kSC__khalai_Disappears);
			if (SC_NilState_SyntaxIs(Prev, kSC__NilState_Borked)) {
				JB__Err_AutoPrint = SC__nil_OldPrint;
				if ((JB_Rec_OK(JB_StdErr))) {
					JB_Msg_Fail(S, JB_LUB[1945]);
					return 0;
				}
				JB_Rec_Clear(JB_StdErr);
			}
			if (SC_NilState_SyntaxIs(Rz, kSC__NilState_Killer)) {
				break;
			}
			S = ((Message*)JB_Ring_NextSib(S));
		};
		;
	}
	;
	NilRecord FinalVars = SC_nil__Value();
	int64 Allowed = (((uint64)1) << ((VarDepth + 1) << 1)) - ((uint64)1);
	(SC_nil_ValueSet((&SC__nil_T), FinalVars & Allowed));
	return Rz;
}

NilState SC_nil__BecomeReal(SCDecl* Sent, Message* Where, uint /*NilReason*/ Reason, SCDecl* Recv, SCFunction* To) {
	uint Curr = SC_Decl_NilCurr(Sent);
	if (Curr == kSC__NilState_Realish) {
		return Curr;
	}
	return SC_nil__BecomeRealSub(Sent, Where, Reason, Recv, To, Curr);
}

NilState SC_nil__BecomeRealSub(SCDecl* Sent, Message* Where, uint /*NilReason*/ Reason, SCDecl* Recv, SCFunction* To, uint /*NilState*/ Curr) {
	if ((Curr == kSC__NilState_Either) and SC_Decl_IsUnknownParam(Sent)) {
		SC_nil_BecomeRealSub((&SC__nil_T), Sent);
		return SC_nil_SetNilness((&SC__nil_T), Sent, kSC__NilState_Real);
	}
	if (Recv and (!SC_Decl_TypeSuffers(Recv))) {
		return kSC__NilState_Real;
	}
	return SC_nil__FailedReal(To, Where, Reason, Curr);
}

void SC_nil__BeginLoop(bool HasExitCond, LoopInfo* Rz) {
	Rz[0] = SC__nil_Loops;
	SC_LoopInfo_BeginLoop((&SC__nil_Loops), HasExitCond);
}

NilState SC_nil__BooleanLogic(Message* Msg, NilCheckMode Test) {
	Message* AA = ((Message*)JB_Ring_First(Msg));
	Message* BB = ((Message*)JB_Ring_Last(Msg));
	bool IsAnd = SC_khalai_SyntaxIs(Test, kSC__khalai_And);
	Test = (SC_khalai_SyntaxIsSet(Test, kSC__khalai_And, false));
	NilRecord Orig = SC_nil_BranchEnter((&SC__nil_T), AA);
	if (!Orig) {
		return 0;
	}
	if (IsAnd == (SC_khalai_SyntaxIs(Test, kSC__khalai_Positive))) {
		uint NC = SC_nil__FlowJump(AA, Test | kSC__khalai_ForBools);
		NC = (NC | SC_nil__JumpWithinBool(BB, Test));
		SC_nil_BranchExitBool((&SC__nil_T), SC_nil__Value(), Test, Orig);
		return kSC__NilState_Real | (NC & kSC__NilState_FnBecomesNilCh);
	}
	//"test A+";
	SC_nil__FlowJump(AA, Test);
	NilRecord First = SC_nil_BranchSwap((&SC__nil_T), Orig);
	//"test A-B+";
	SC_nil__FlowJump(AA, SC_khalai_Negate(Test) | kSC__khalai_ForBools);
	SC_nil__JumpWithinBool(BB, Test);
	return SC_nil_BranchExitBool((&SC__nil_T), First, Test, Orig);
}

NilState SC_nil__Bracket(Message* Msg, NilCheckMode Test) {
	if (JB_Msg_Length(Msg)) {
		Test = (Test | kSC__khalai_Soft);
	}
	return SC_nil__FlowJump(((Message*)JB_Ring_First(Msg)), Test);
}

NilState SC_nil__Brel(Message* Msg, NilCheckMode Test) {
	uint B = JB_Str_First(Msg->Name);
	if (B == '*') {
		if (true) {
			JB_Msg_Fail(Msg, JB_LUB[906]);
		}
	}
	Message* Ch = ((Message*)JB_Ring_First(Msg));
	if ((B == '-') or (B == '+')) {
		return SC_nil__FlowJump(Ch, Test);
	}
	if (B == '!') {
		return SC_nil__Not(Ch, Test);
	}
	SC_nil__FlowJump(Ch, Test);
	return kSC__NilState_Real;
}

NilState SC_nil__Char(Message* Msg, NilCheckMode Test) {
	return SC_nil__RealBool(SC_Str_Isnull(Msg->Name));
}

NilState SC_nil__CompareObjs(Message* Ll, Message* Rr, NilCheckMode Test, SCOperator* Scop) {
	int LNil = SC_Msg_IsNowNil(Ll);
	int RNil = SC_Msg_IsNowNil(Rr);
	if ((!LNil) and (!RNil)) {
		return SC_nil__SuperSmartMagicCompare(Ll, Rr, Test, Scop);
	}
	if (LNil and RNil) {
		SCDecl* Lld = SC_Msg_FastDecl(Ll);
		if (Lld->DepthOfBranch >= SC__nil_Loops.BranchDepth) {
			return SC_Msg_RedundantVar(Ll, Lld, Test);
		}
		if ((LNil + RNil) != 3) {
			return kSC__NilState_Real;
		}
	}
	 else if (2 == (LNil + RNil)) {
		SC_nil__FlowJump(Ll, 0);
		SC_nil__FlowJump(Rr, 0);
		return kSC__NilState_Real;
	}
	if (SC_Opp_SyntaxIs(Scop, kSC__OpMode_NilTest)) {
		Message* Side = ((Message*)JB_Ternary(LNil == 1, Rr, Ll));
		if (SC_khalai_SyntaxIs(Test, kSC__khalai_Active)) {
			Test = (SC_khalai_SyntaxIsSet(Test, kSC__khalai_Reversed, ((bool)SC_Opp_SyntaxIs(Scop, kSC__OpMode_ExactlyEquals))));
			Test = SC_khalai_Activate(Test);
		}
		return SC_nil__FlowJump(Side, Test);
	}
	if (true) {
		JB_Msg_Fail(((Message*)JB_Ring_NextSib(Ll)), JB_LUB[2307]);
	}
	return 0;
}

NilState SC_nil__Continue(Message* Msg, NilCheckMode Test) {
	SC__nil_Loops.ContRecord = (SC__nil_Loops.ContRecord | SC_nil__EndBlock());
	return 0;
}

NilState SC_nil__Declaration(Message* Msg, NilCheckMode Test) {
	Message* Rel = ((Message*)JB_Ring_Last(Msg));
	Message* Thg = ((Message*)JB_Ring_First(Rel));
	if (Thg) {
		SCDecl* D = SC_Msg_FastDecl(Thg);
		uint J = SC_nil__FlowJump(((Message*)JB_Ring_Last(Rel)), 0);
		if (SC_Decl_IsReg(D)) {
			return SC_nil_Declare((&SC__nil_T), D, J, Msg);
		}
	}
	 else {
		SCDecl* D = SC_Msg_FastDecl(Rel);
		if (SC_Decl_IsReg(D)) {
			return SC_nil_Declare((&SC__nil_T), D, kSC__NilState_Real, Msg);
		}
	}
	return 0;
}

void SC_nil__DeclKill() {
	(SC_nil_ValueSet((&SC__nil_T), kSC__NilState_Basic));
}

NilState SC_nil__DetectStillChecks(Message* First) {
	uint Rz = 0;
	if (!First) {
		return 0;
	}
	Rz = SC_nil__FlowJump(First, 0);
	if ((!SC__nil_T.FnAbleToNilCheck) or (SC_NilState_SyntaxIs(Rz, kSC__NilState_FnBecomesNilCh))) {
		return Rz;
	}
	MaybeBool F = SC_Msg_Trueness(First, Rz);
	bool SelfNil = SC_NilState_SyntaxIs(SC_nil_Self((&SC__nil_T)), kSC__NilState_Nilish);
	if (JB_MaybeBool_KnownFalse(F)) {
		if (!SelfNil) {
			SC__nil_T.FnAbleToNilCheck = false;
		}
	}
	 else if (SC_NilState_SyntaxIs(Rz, kSC__NilState_FnBecomesNilCh)) {
		0;
	}
	 else if (SelfNil) {
		SC__nil_T.FnAbleToNilCheck = false;
	}
	return Rz;
}

NilState SC_nil__Dummy(Message* Msg, NilCheckMode Test) {
	return 0;
}

NilRecord SC_nil__EndBlock() {
	NilRecord Rz = 0;
	Rz = SC_nil__Value();
	(SC_nil_ValueSet((&SC__nil_T), kSC__NilState_Basic));
	return Rz;
}

NilState SC_nil__Exit(Message* Msg, NilCheckMode Test) {
	SC__nil_Loops.ExitRecord = (SC__nil_Loops.ExitRecord | SC_nil__EndBlock());
	SC__nil_Loops.HasEscape = true;
	return 0;
}

void SC_nil__ExterminateZergBugs(SCFunction* F) {
	Message* Arg = SC_nil_StartNil((&SC__nil_T), F);
	if (Arg) {
		SC_nil__Argument(Arg, 0);
		if (SC__nil_T.FnAbleToNilCheck and (!F->IsNilChecker)) {
			F->IsNilChecker = 1;
		}
	}
	SC_nil_FinishNil((&SC__nil_T), F);
}

NilState SC_nil__Fail(Message* Msg, NilCheckMode Test) {
	SC__nil_OldPrint = JB__Err_AutoPrint;
	JB__Err_AutoPrint = 0;
	return kSC__NilState_Borked;
}

NilState SC_nil__FailedReal(SCFunction* To, Message* Where, uint /*NilReason*/ Reason, uint /*NilState*/ State) {
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	JB_StringC* _tmPf0 = ((JB_StringC*)JB_Array_Value(SC__NilReason_values, Reason));
	JB_Incr(_tmPf0);
	JB_FS_AppendString(Fs, _tmPf0);
	JB_Decr(_tmPf0);
	JB_String* Raw = SC_NilState_RawName(State);
	JB_Incr(Raw);
	if (!SC_Msg_OperatorIsThing(Where, Raw)) {
		JB_FS_AppendByte2(Fs, ' ');
		JB_FS_AppendString(Fs, Raw);
	}
	JB_Decr(Raw);
	JB_FS_AppendByte2(Fs, ':');
	JB_FS_AppendByte2(Fs, ' ');
	JB_FreeIfDead(SC_Msg_OrigRender(Where, Fs));
	if (To) {
		JB_FS_AppendString(Fs, JB_LUB[517]);
		if (JB_Tree_IsFirst(Where) and To->Cls) {
			JB_FS_AppendString(Fs, To->Name);
		}
		 else {
			JB_FreeIfDead(SC_Func_RenderTitle(To, true, Fs));
		}
		(JB_Msg_SyntaxProblem(To->Source, kJB_kUsingStr));
	}
	if (true) {
		JB_String* _tmPf1 = JB_FS_SyntaxCast(Fs);
		JB_Incr(_tmPf1);
		JB_Msg_Fail(Where, _tmPf1);
		JB_Decr(_tmPf1);
	}
	JB_EarlyDecr(Fs);
	return 0;
}

NilState SC_nil__If(Message* Msg, NilCheckMode Test) {
	Message* Cond = ((Message*)JB_Ring_First(Msg));
	Message* Arg1 = ((Message*)JB_Ring_NextSib(Cond));
	if ((!Arg1)) {
		JB_Msg_Fail(Msg, nil);
		return 0;
	}
	Message* Else = ((Message*)JB_Ring_NextSib(Arg1));
	Message* Arg2 = ((Message*)JB_Ring_First(Else));
	Message* ElseIfCond = nil;
	if (Arg2 and (!JB_Msg_EqualsSyx(Arg2, kJB_SyxArg))) {
		ElseIfCond = Arg2;
		Arg2 = ((Message*)JB_Ring_NextSib(Arg2));
	}
	NilRecord Orig = SC_nil_BranchEnter((&SC__nil_T), Msg);
	if (!Orig) {
		return 0;
	}
	//"First Branch";
	SC_nil__SyncJump(Cond, kSC__khalai_IfPos);
	SC_nil__Argument(Arg1, 0);
	NilRecord First = SC_nil_BranchSwap((&SC__nil_T), Orig);
	//"Second Branch";
	SC_nil__SyncJump(Cond, kSC__khalai_IfNeg);
	if (ElseIfCond) {
		SC_nil__If(Else, 0);
	}
	 else if (JB_Ring_HasChildren(Arg2)) {
		SC_nil__Argument(Arg2, 0);
	}
	return SC_nil_BranchExit((&SC__nil_T), First);
}

NilState SC_nil__Ignore(Message* Msg, NilCheckMode Test) {
	return 0;
}

int SC_nil__Init_() {
	{
		SC__nil_NilTable[10] = (&SC_nil__Thing);
		SC__nil_NilTable[31] = (&SC_nil__Bracket);
		SC__nil_NilTable[3] = (&SC_nil__Type);
		SC__nil_NilTable[25] = (&SC_nil__NilFunction);
		SC__nil_NilTable[5] = (&SC_nil__StatementJump);
		SC__nil_NilTable[23] = (&SC_nil__Property);
		SC__nil_NilTable[29] = (&SC_nil__Access);
		SC__nil_NilTable[30] = (&SC_nil__Item);
		SC__nil_NilTable[26] = (&SC_nil__Brel);
		SC__nil_NilTable[21] = (&SC_nil__Arel);
		SC__nil_NilTable[37] = (&SC_nil__Rel);
		SC__nil_NilTable[32] = (&SC_nil__List);
		SC__nil_NilTable[4] = (&SC_nil__Declaration);
		SC__nil_NilTable[1] = (&SC_nil__Argument);
		SC__nil_NilTable[40] = (&SC_nil__Argument);
		SC__nil_NilTable[11] = (&SC_nil__Ignore);
		SC__nil_NilTable[15] = (&SC_nil__String);
		SC__nil_NilTable[19] = (&SC_nil__String);
		SC__nil_NilTable[14] = (&SC_nil__Number);
		SC__nil_NilTable[17] = (&SC_nil__Char);
		SC__nil_NilTable[(kSC__ASMType_kIf)] = (&SC_nil__If);
		SC__nil_NilTable[(kSC__ASMType_kDebugger)] = (&SC_nil__Ignore);
		SC__nil_NilTable[(kSC__ASMType_kWhile)] = (&SC_nil__While);
		SC__nil_NilTable[(kSC__ASMType_kContinue)] = (&SC_nil__Continue);
		SC__nil_NilTable[(kSC__ASMType_kExit)] = (&SC_nil__Exit);
		SC__nil_NilTable[(kSC__ASMType_kSetRel)] = (&SC_nil__SetRel);
		SC__nil_NilTable[(kSC__ASMType_kSwap)] = (&SC_nil__Swap);
		SC__nil_NilTable[(kSC__ASMType_kReturn)] = (&SC_nil__Return);
		SC__nil_NilTable[(kSC__ASMType_kTern)] = (&SC_nil__Tern);
		SC__nil_NilTable[(kSC__ASMType_kStatExpr)] = (&SC_nil__StatExpr);
		SC__nil_NilTable[(kSC__ASMType_kIgnore)] = (&SC_nil__Ignore);
		SC__nil_NilTable[(kSC__ASMType_kRejoin)] = (&SC_nil__Rejoin);
		SC__nil_NilTable[(kSC__ASMType_kFail)] = (&SC_nil__Fail);
		SC__nil_NilTable[(kSC__ASMType_kRefCount)] = (&SC_nil__NilFunction);
		//;
	}
	;
	return 0;
}

int SC_nil__InitCode_() {
	{
	}
	;
	SC_nil__TrackerDummies();
	return 0;
}

NilState SC_nil__Item(Message* Msg, NilCheckMode Test) {
	Message* _tmPf0 = ((Message*)JB_Ring_Last(Msg));
	JB_Incr(_tmPf0);
	uint _tmPf1 = SC_nil__FlowJump(_tmPf0, Test);
	JB_EarlyDecr(_tmPf0);
	return _tmPf1;
}

NilState SC_nil__FlowJump(Message* Msg, NilCheckMode Test) {
	//cpp_part;
	uint T = SC_Msg_ASMType(Msg);
	if (T) {
		return (SC__nil_NilTable[T])(Msg, Test);
	}
	T = ((ASMType)Msg->Func);
	(SC_Msg_ASMTypeSet(Msg, T));
	return (SC__nil_NilTable[T])(Msg, Test);
}

NilState SC_nil__JumpWithinBool(Message* Msg, NilCheckMode Test) {
	uint Rz = 0;
	(++SC__nil_T.InsideBoolLogic);
	Rz = SC_nil__FlowJump(Msg, Test | kSC__khalai_ForBools);
	(--SC__nil_T.InsideBoolLogic);
	return Rz;
}

void SC_nil__LaunchMothership() {
	SC__Comp_During = kSC__CompilerStage_NilChecking;
	JB_ErrorReceiver* Old = JB_StdErr;
	JB_Incr(Old);
	JB_ErrorReceiver* Rec = JB_Rec_Constructor(nil);
	JB_Incr(Rec);
	SC_nil__LaunchMothershipSub(Old, Rec);
	JB_Decr(Old);
	JB_Decr(Rec);
	(SC_Func__CurrFuncSet(nil));
}

void SC_nil__LaunchMothershipSub(JB_ErrorReceiver* Old, JB_ErrorReceiver* Rec) {
	if (!SC_Comp__ConfBool(JB_LUB[1970], true)) {
		Rec->LowerErrorsTo = kJB__ErrorSeverity_Warning;
	}
	if (true) {
		JB_ErrorReceiver* _usingf0 = JB_Rec_SyntaxUsing(Rec);
		{
			Array* _LoopSrcf3 = SC__Comp_FuncList;
			int _if1 = 0;
			while (true) {
				SCFunction* Xoxo = ((SCFunction*)JB_Array_Value(_LoopSrcf3, _if1));
				if (Xoxo == nil) {
					break;
				}
				SC_nil__ExterminateZergBugs(Xoxo);
				SC_Rec_ReturnErrors(Rec, Old);
				(++_if1);
			};
		}
		;
		JB_Rec_SyntaxUsingComplete(_usingf0, Rec);
	}
}

NilState SC_nil__List(Message* Msg, NilCheckMode Test) {
	{
		Message* S = ((Message*)JB_Ring_First(Msg));
		while (S) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(S));
			SC_nil__FlowJump(S, 0);
			S = _Nf1;
		};
		;
	}
	;
	return kSC__NilState_Real;
}

NilState SC_nil__NilFunction(Message* Msg, NilCheckMode Test) {
	uint Rz = 0;
	Test = (Test & (~kSC__khalai_Disappears));
	Message* Fp = ((Message*)JB_Ring_First(Msg));
	Message* Prms = ((Message*)JB_Ring_NextSib(Fp));
	SCFunction* Fn = ((SCFunction*)Prms->Obj);
	if (!Fn) {
		Fn = SC_Msg_GetFunctionPointer(Fp);
		if (!Fn) {
			return 0;
		}
		Fp = SC_Msg_UnBra(Fp);
		if (!SC_nil__UseAsReal(Fp, 0, kSC__NilReason_Accessing)) {
			return 0;
		}
	}
	if (!((Fn != SC_Func__CurrFunc()) or (SC__nil_T.AnyReturns or (SC_nil_BranchDepth((&SC__nil_T)) > 0)))) {
		JB_Rec__NewCriticalError(Msg, JB_LUB[2366], nil);
	}
	if ((SC_khalai_SyntaxIs(Test, kSC__khalai_Active)) and Fn->IsNilChecker) {
		if (Fn->IsNilChecker != 3) {
			Test = (Test | kSC__khalai_Soft);
		}
		if (SC__nil_T.FnAbleToNilCheck) {
			Rz = kSC__NilState_FnBecomesNilCh;
		}
	}
	 else {
		Test = 0;
	}
	Message* P = ((Message*)JB_Ring_First(Prms));
	int HasAddrs = 0;
	{
		Array* _LoopSrcf2 = Fn->Args;
		int _if0 = 0;
		while (true) {
			SCDecl* Recv = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (Recv == nil) {
				break;
			}
			SC_Decl_Paramfix(Recv);
			SC_Msg_VariableParamSafety(P);
			if ((SC_NilState_SyntaxIs(Recv->NilDeclared, kSC__NilState_Optional)) and (Fn->IsNilChecker != 3)) {
				Test = (Test | kSC__khalai_Soft);
			}
			if ((!P)) {
				JB_Msg_Fail(Msg, JB_LUB[2367]);
				return 0;
			}
			Test = (Test | kSC__khalai_AllowRegisterAddr);
			uint V = SC_nil__FlowJump(P, Test);
			if (Rz and ((!(SC_NilState_SyntaxIs(V, kSC__NilState_FnBecomesNilCh))) and JB_Tree_IsFirst(P))) {
				Rz = 0;
			}
			SCDecl* Sent = SC_Msg_FastDecl(P);
			HasAddrs = (HasAddrs | SC_Decl_CanUpgradeRegister(Sent));
			if (SC_NilState_SyntaxIs(V, kSC__NilState_Nilish)) {
				SC_nil__NilParamPass(Recv, Sent, P, Fn, V);
			}
			Test = 0;
			P = ((Message*)JB_Ring_NextSib(P));
			(++_if0);
		};
	}
	;
	if (HasAddrs) {
		P = ((Message*)JB_Ring_First(Prms));
		{
			Array* _LoopSrcf5 = Fn->Args;
			int _if3 = 0;
			while (true) {
				SCDecl* Recv = ((SCDecl*)JB_Array_Value(_LoopSrcf5, _if3));
				if (Recv == nil) {
					break;
				}
				SCDecl* Sent = SC_Msg_FastDecl(P);
				int In = SC_Decl_CanUpgradeRegister(Sent);
				if (In == 1) {
					SCDecl* SentIn = Sent->Internal;
					SCDecl* Ri = Recv->Internal;
					SC_nil__VariableSet(SentIn, Recv->Source, Ri, P, SC_Decl_NilCurr(Ri));
				}
				 else if (In == 2) {
					SC_nil__VariableSet(Sent, Recv->Source, Recv, P, SC_Decl_NilCurr(Recv));
				}
				P = ((Message*)JB_Ring_NextSib(P));
				(++_if3);
			};
		};
	}
	if (SC_Func_SyntaxIs(Fn, kSC__FunctionType_Killer)) {
		SC_nil__DeclKill();
		if ((SC_nil_BranchDepth((&SC__nil_T)) == 0) and (!SC__nil_T.AnyReturns)) {
			(SC_Func_SyntaxIsSet(SC_Func__CurrFunc(), kSC__FunctionType_Killer, true));
		}
		SC_Msg_LastInBlock(Msg, kSC__SCBlockage_Quit);
		return kSC__NilState_Killer;
	}
	SCDecl* Ret = Fn->ReturnType;
	if (Ret) {
		Rz = (Rz | Ret->NilDeclared);
		if (!((SC_NilState_SyntaxIs(Rz, kSC__NilState_Stated)) or (!SC_Decl_TypeSuffers(Ret)))) {
			JB_Msg_Fail(Msg, JB_Str_OperatorPlus(JB_LUB[2368], SC_Func_RenderName(Fn, nil)));
		}
	}
	return Rz;
}

void SC_nil__NilParamPass(SCDecl* Recv, SCDecl* Sent, Message* Where, SCFunction* F, uint /*NilState*/ V) {
	if (SC_Decl_StatedReal(Recv)) {
		SC_nil__BecomeRealSub(Sent, Where, kSC__NilReason_Passing, Recv, F, V);
	}
	 else if ((!SC_Decl_NilStated(Recv)) and (F != SC_Func__CurrFunc())) {
		SC_Decl_NilPrmFail(Recv, F);
	}
}

NilState SC_nil__Not(Message* Msg, NilCheckMode Test) {
	Test = SC_khalai_Activate((Test | kSC__khalai_Reversed));
	uint A = SC_nil__FlowJump(Msg, Test);
	return A & (~kSC__NilState_FnBecomesNilCh);
}

NilState SC_nil__Number(Message* Msg, NilCheckMode Test) {
	return SC_nil__RealBool(SC_Str_IsZero(Msg->Name));
}

NilState SC_nil__Property(Message* Msg, NilCheckMode Test) {
	Message* Second = ((Message*)JB_Tree_Second(Msg));
	if (Second) {
		Second->Func = kJB_SyxEmb;
	}
	return SC_nil__UseChildAsReal(Msg, Test, kSC__NilReason_Property);
}

NilState SC_nil__PropertyToFunc(Message* Dot, SCFunction* Fn) {
	Dot->Func = kJB_SyxFunc;
	(SC_Msg_ASMTypeSet(Dot, ((ASMType)(kJB_SyxFunc))));
	Message* Upon = ((Message*)JB_Ring_First(Dot));
	Message* Prms = ((Message*)JB_Ring_Last(Dot));
	JB_SetRef(Prms->Obj, Fn);
	Prms->Func = kJB_SyxPrm;
	(JB_Ring_FirstSet(Prms, Upon));
	SC__nil_NewFuncsLoaded = true;
	SC_Func_ReachFuncFromFunc(Fn, SC_Func__CurrFunc());
	JB_Mem_Use(JB_ObjLayer(Dot));
	Message* F = JB_Msg_Constructor(nil, nil, kJB_SyxThg, Fn->ExportName);
	F->Position = Dot->Position;
	(JB_Ring_FirstSet(Dot, F));
	return kSC__NilState_Real;
}

NilState SC_nil__RealBool(bool B) {
	uint Rz = 0;
	Rz = kSC__NilState_Real;
	Rz = (Rz | (kSC__NilState_TrueValue >> B));
	return Rz;
}

NilState SC_nil__Rejoin(Message* Msg, NilCheckMode Test) {
	return SC_nil__FlowJump(((Message*)JB_Ring_First(Msg)), Test);
}

NilState SC_nil__Rel(Message* Msg, NilCheckMode Test) {
	Message* Ll = ((Message*)JB_Ring_First(Msg));
	Message* Op = ((Message*)JB_Ring_NextSib(Ll));
	SCOperator* Scop = ((SCOperator*)Op->Obj);
	Message* Rr = ((Message*)JB_Ring_NextSib(Op));
	if (SC_Opp_SyntaxIs(Scop, kSC__OpMode_Compare)) {
		return SC_nil__CompareObjs(Ll, Rr, Test, Scop);
	}
	OpMode AndOr = SC_Opp_SyntaxIs(Scop, kSC__OpMode_AndOr);
	if (AndOr) {
		Test = (SC_khalai_SyntaxIsSet(Test, kSC__khalai_And, (AndOr == kSC__OpMode_AND)));
		return SC_nil__BooleanLogic(Msg, SC_khalai_Activate(Test));
	}
	uint L = SC_nil__FlowJump(Ll, 0) & kSC__NilState_Either;
	uint R = SC_nil__FlowJump(Rr, 0) & kSC__NilState_Either;
	SCDecl* D = SC_Msg_FastDecl(Msg);
	if (!SC_Decl_TypeSuffers(D)) {
		return kSC__NilState_Real;
	}
	if ((kSC__NilState_Nilish == L) or (kSC__NilState_Nilish == R)) {
		return kSC__NilState_Nilish;
	}
	return L | R;
}

NilState SC_nil__Return(Message* Msg, NilCheckMode Test) {
	uint V = SC_nil__DetectStillChecks(((Message*)JB_Ring_First(Msg)));
	SC__nil_Loops.ExitRecord = (SC__nil_Loops.ExitRecord | kSC__NilState_Basic);
	SC_nil__DeclKill();
	SC__nil_T.AnyReturns = true;
	SCDecl* Ret = SC__nil_T.Return;
	if (!(Ret and SC_Decl_TypeSuffers(Ret))) {
		return 0;
	}
	if (SC_Decl_StatedReal(Ret)) {
		if (SC_NilState_SyntaxIs(V, kSC__NilState_Nilish)) {
			JB_Msg_Fail(Msg, JB_Str_OperatorPlus(JB_LUB[1946], SC_NilState_RawName(V)));
			return 0;
		}
	}
	Ret->NilDeclared = (Ret->NilDeclared | (V & kSC__NilState_Either));
	return 0;
}

NilState SC_nil__SetRel(Message* Msg, NilCheckMode Test) {
	Message* R = ((Message*)JB_Ring_Last(Msg));
	Message* L = ((Message*)JB_Ring_First(Msg));
	SCDecl* LD = SC_Msg_FastDecl(L);
	Test = ((kSC__khalai_Soft) * ((!SC_Decl_SyntaxIs(LD, kSC__SCDeclInfo_Local)) and (LD->NilDeclared == kSC__NilState_Optional)));
	uint RN = SC_nil__FlowJump(R, Test);
	SC_nil__FlowJump(L, kSC__khalai_Assigns);
	return SC_nil__VariableSet(LD, L, SC_Msg_FastDecl(R), R, RN);
}

NilState SC_nil__StatementJump(Message* Msg, NilCheckMode Test) {
	FP_NilTrackerFn Fn = SC__nil_NilTable[SC_Msg_ASMType(Msg)];
	if (Fn != SC_nil__StatementJump) {
		return (SC__nil_NilTable[SC_Msg_ASMType(Msg)])(Msg, 0);
	}
	if (JB_Rec_OK(JB_StdErr)) {
		if (true) {
			JB_String* _tmPf0 = SC_Str_internal(JB_LUB[0]);
			JB_Incr(_tmPf0);
			JB_Msg_Fail(Msg, _tmPf0);
			JB_Decr(_tmPf0);
		}
	}
	return 0;
}

NilState SC_nil__StatExpr(Message* Msg, NilCheckMode Test) {
	return SC_nil__Argument(((Message*)JB_Ring_First(Msg)), Test);
}

NilState SC_nil__String(Message* Msg, NilCheckMode Test) {
	SC_Crkt__CollectString(Msg);
	return SC_nil__RealBool((!JB_Msg_Length(Msg)));
}

NilState SC_nil__SuperSmartMagicCompare(Message* Ll, Message* Rr, NilCheckMode Test, SCOperator* Scop) {
	int Todo = 3;
	if ((Ll->Func == kJB_SyxThg) and ((Rr->Func == kJB_SyxThg) and SC_khalai_SyntaxIs(Test, kSC__khalai_Active))) {
		if ((SC_Opp_SyntaxIs(Scop, kSC__OpMode_EqualOrNot)) and ((SC_khalai_SyntaxIs(Test, kSC__khalai_Positive)) == ((bool)(SC_Opp_SyntaxIs(Scop, kSC__OpMode_ExactlyEquals))))) {
			SCDecl* Ld = ((SCDecl*)Ll->Obj);
			SCDecl* Rd = ((SCDecl*)Rr->Obj);
			bool Ldl = SC_Decl_SyntaxIs(Ld, kSC__SCDeclInfo_Local);
			bool Rdl = SC_Decl_SyntaxIs(Rd, kSC__SCDeclInfo_Local);
			if (Ldl or Rdl) {
				if (Rdl and (SC_Decl_NilCurr(Ld) == kSC__NilState_Realish)) {
					SC_nil_SetNilness((&SC__nil_T), Rd, kSC__NilState_Real);
					Todo = (Todo & (~2));
				}
				if (Ldl and (SC_Decl_NilCurr(Rd) == kSC__NilState_Realish)) {
					SC_nil_SetNilness((&SC__nil_T), Ld, kSC__NilState_Real);
					Todo = (Todo & (~1));
				}
			}
		}
	}
	if (Todo & 1) {
		SC_nil__FlowJump(Ll, kSC__khalai_Soft);
	}
	if (Todo & 2) {
		SC_nil__FlowJump(Rr, kSC__khalai_Soft);
	}
	return kSC__NilState_Real;
}

NilState SC_nil__Swap(Message* Msg, NilCheckMode Test) {
	Message* P = ((Message*)JB_Ring_Last(Msg));
	Message* R = ((Message*)JB_Ring_Last(P));
	Message* L = ((Message*)JB_Ring_First(P));
	SCDecl* LD = SC_Msg_FastDecl(L);
	SCDecl* RD = SC_Msg_FastDecl(R);
	uint RN = SC_nil__FlowJump(R, 0);
	uint LN = SC_nil__FlowJump(L, 0);
	SC_nil__Swapity(LD, L, RD, R, RN);
	SC_nil__Swapity(RD, R, LD, L, LN);
	return 0;
}

NilState SC_nil__Swapity(SCDecl* LD, Message* L, SCDecl* RD, Message* R, uint /*NilState*/ RN) {
	Message* LL = SC_Msg_Unwrap(L);
	if (!JB_Msg_EqualsSyx(LL, kJB_SyxAcc)) {
		if (!SC_Decl_SyntaxIs(LD, kSC__SCDeclInfo_VarType)) {
			JB_Msg_Fail(L, JB_LUB[2365]);
		}
	}
	return SC_nil__VariableSet(LD, L, RD, R, RN);
}

NilState SC_nil__SyncJump(Message* Msg, NilCheckMode Test) {
	uint Rz = 0;
	SC__PostIncrementNil_Sync = true;
	Rz = SC_nil__FlowJump(Msg, Test);
	SC_PostIncrementNil__Clear();
	return Rz;
}

NilState SC_nil__Tern(Message* Msg, NilCheckMode Test) {
	uint Rz = 0;
	Test = (Test & (~kSC__khalai_Disappears));
	Msg = ((Message*)JB_Tree_Second(Msg));
	NilRecord Orig = SC_nil_BranchEnter((&SC__nil_T), Msg);
	if (!Orig) {
		return 0;
	}
	Message* tC = ((Message*)JB_Ring_First(Msg));
	Message* tA = ((Message*)JB_Ring_NextSib(tC));
	Message* tB = ((Message*)JB_Ring_NextSib(tA));
	//"First Branch";
	SC_nil__FlowJump(tC, kSC__khalai_Positive);
	Rz = SC_nil__JumpWithinBool(tA, Test);
	NilRecord First = SC_nil_BranchSwap((&SC__nil_T), Orig);
	//"Second Branch";
	SC_nil__JumpWithinBool(tC, kSC__khalai_Negative);
	Rz = (Rz | SC_nil__JumpWithinBool(tB, Test));
	SC_nil_BranchExitBool((&SC__nil_T), First, Test, Orig);
	Rz = (Rz & (~kSC__NilState_FnBecomesNilCh));
	return Rz;
}

NilState SC_nil__Thing(Message* Msg, NilCheckMode Test) {
	uint Rz = 0;
	SCDecl* Dcl = SC_Msg_FastDecl(Msg);
	Rz = SC_nil__ThingSub(Msg, Test, Dcl);
	if (SC_Decl_SyntaxIs(Dcl, kSC__SCDeclInfo_NeedsClose) and (!SC_Decl_SyntaxIs(Dcl, kSC__SCDeclInfo_Grabbed))) {
		uint Nreg = Dcl->NilReg;
		if (Nreg) {
			SC__nil_T.Closers[Nreg] = SC_Msg_UpToArg(Msg);
		}
	}
	Msg->Indent = (Rz & 3);
	if (SC__nil_T.FnAbleToNilCheck and SC_Decl_SyntaxIs(Dcl, kSC__SCDeclInfo_Self)) {
		Rz = (Rz | kSC__NilState_FnBecomesNilCh);
	}
	return Rz;
}

NilState SC_nil__ThingSub(Message* Msg, NilCheckMode Test, SCDecl* Dcl) {
	if (!Dcl->Suffers) {
		return Dcl->NilDeclared;
	}
	bool Unknown = SC_Decl_IsUnknownParam(Dcl);
	if (Unknown and ((!SC_khalai_SyntaxIs(Test, kSC__khalai_Soft)) and (!SC_khalai_SyntaxIs(Test, kSC__khalai_Disappears)))) {
		if (!SC_khalai_SyntaxIs(Test, kSC__khalai_Active)) {
			return SC_nil__BecomeReal(Dcl, Msg, kSC__NilReason_Reading, nil, nil);
		}
		Dcl->NilDeclared = kSC__NilState_Optional;
	}
	uint Y = SC_Decl_NilCurr(Dcl);
	if ((!SC_khalai_SyntaxIs(Test, kSC__khalai_Active)) or (SC_khalai_SyntaxIs(Test, kSC__khalai_Soft) and SC_khalai_SyntaxIs(Test, kSC__khalai_Negative))) {
		return Y;
	}
	if (Unknown or ((Y == kSC__NilState_Either) or (Y != (Test & kSC__NilState_Either)))) {
		return SC_nil_SetNilness((&SC__nil_T), Dcl, Test);
	}
	return SC_Msg_RedundantVar(Msg, Dcl, Test);
}

void SC_nil__TrackerDummies() {
	{
		int I = 0;
		while (I < 64) {
			if (!SC__nil_NilTable[I]) {
				SC__nil_NilTable[I] = (&SC_nil__Dummy);
			}
			if (!SC_fn_asm_table[I]) {
				SC_fn_asm_table[I] = (&SC_ASMType__Unexpected);
			}
			(++I);
		};
	};
}

NilState SC_nil__Type(Message* Msg, NilCheckMode Test) {
	Message* F = ((Message*)JB_Ring_First(Msg));
	uint Ns = SC_nil__FlowJump(F, Test) & (~kSC__NilState_FnBecomesNilCh);
	SCDecl* D = SC_Msg_FastDecl(Msg);
	if (!SC_Decl_TypeSuffers(D)) {
		return kSC__NilState_Real;
	}
	SCDecl* Fd = SC_Msg_FastDecl(F);
	if (SC_Decl_TypeSuffers(Fd)) {
		return Ns;
	}
	return D->NilDeclared;
}

NilState SC_nil__UseAsReal(Message* Msg, NilCheckMode Test, uint /*NilReason*/ Reason) {
	return SC_nil__UseAsRealSub(Msg, Test, Reason, SC_Msg_FastDecl(Msg));
}

NilState SC_nil__UseAsRealSub(Message* Ch, NilCheckMode Test, uint /*NilReason*/ Reason, SCDecl* Dcl) {
	NilCheckMode Chmode = kSC__khalai_AllowRegisterAddr * (SC_NilReason_SyntaxIs(Reason, kSC__NilReason_Accessing));
	uint Actual = SC_nil__FlowJump(Ch, Chmode);
	if (SC_NilState_SyntaxIs(Actual, kSC__NilState_Nilish)) {
		SCFunction* Ddd = Dcl->HiderFunc;
		if (Ddd and ((SC_NilReason_SyntaxIs(Reason, kSC__NilReason_Property)) and ((!Ddd->IsAssigns) and ((!SC_khalai_SyntaxIs(Test, kSC__khalai_Assigns)))))) {
			return SC_nil__PropertyToFunc(((Message*)JB_Ring_Parent(Ch)), Ddd);
		}
		SC_nil__BecomeReal(SC_Msg_FastDecl(Ch), Ch, Reason, nil, nil);
	}
	uint Nd = Dcl->NilDeclared;
	if ((!SC_khalai_SyntaxIs(Test, kSC__khalai_Active)) or SC_khalai_SyntaxIs(Test, kSC__khalai_Soft)) {
		return Nd;
	}
	if (SC_NilState_StatedReal(Nd) and SC_Decl_TypeSuffers(Dcl)) {
		return SC_Msg_RedundantDeclare(Ch, Nd);
	}
	return Nd;
}

NilState SC_nil__UseChildAsReal(Message* Msg, NilCheckMode Test, uint /*NilReason*/ Reason) {
	SCDecl* Dcl = SC_Msg_FastDecl(Msg);
	if (SC_Decl_SyntaxIs(Dcl, kSC__SCDeclInfo_Global) or SC_Decl_SyntaxIs(Dcl, kSC__SCDeclInfo_Const)) {
		return Dcl->NilDeclared;
	}
	Message* Ch = ((Message*)JB_Ring_First(Msg));
	if (Ch) {
		return SC_nil__UseAsRealSub(Ch, Test, Reason, Dcl);
	}
	return 0;
}

NilRecord SC_nil__Value() {
	return SC_nil_Value((&SC__nil_T));
}

NilState SC_nil__VariableSet(SCDecl* Recv, Message* RecvMsg, SCDecl* Sent, Message* SentMsg, uint /*NilState*/ SentState) {
	if (!SC_Decl_TypeSuffers(Recv)) {
		return kSC__NilState_Real;
	}
	if ((SC_Decl_IsUnknownParam(Recv))) {
		JB_Msg_Fail(RecvMsg, SC_Decl_PrmStateMsg(Recv, JB_LUB[2360]));
		return 0;
	}
	if (SC_Decl_StatedReal(Recv) and (((!SC_Decl_SyntaxIs(Recv, kSC__SCDeclInfo_Local))) or (SC_Decl_SyntaxIs(Recv, kSC__SCDeclInfo_Reference)))) {
		if (!SC_NilState_SyntaxIs(SentState, kSC__NilState_Nilish)) {
			return SentState;
		}
		if (SC_NilState_SyntaxIs(SentState, kSC__NilState_Realish)) {
			return SC_nil__BecomeReal(Sent, SentMsg, kSC__NilReason_Using, nil, nil);
		}
		if ((SC_Decl_SyntaxIs(Recv, kSC__SCDeclInfo_Property)) and (RecvMsg->Func == kJB_SyxDot)) {
			if ((SC_Func_SyntaxIs(SC_Func__CurrFunc(), kSC__FunctionType_Constructor)) and (SC_Decl_SyntaxIs(SC_Msg_FastDecl(((Message*)JB_Ring_First(RecvMsg))), kSC__SCDeclInfo_Self))) {
				if (true) {
					JB_Msg_Fail(RecvMsg, JB_Str_OperatorPlus(JB_LUB[2361], Recv->Name));
				}
				return kSC__NilState_Real;
			}
		}
		if (true) {
			JB_Msg_Fail(RecvMsg, JB_Str_OperatorPlus(JB_LUB[2362], SC_Msg_OrigRender(RecvMsg, nil)));
		}
		return kSC__NilState_Real;
	}
	if (Recv->Suffers) {
		return SC_nil_SetNilness((&SC__nil_T), Recv, SentState);
	}
	return 0;
}

NilState SC_nil__While(Message* Msg, NilCheckMode Test) {
	Message* Cond = ((Message*)JB_Ring_First(Msg));
	MaybeBool CondTest = SC_Msg_IsAlwaysBool(Cond);
	if (!((!JB_MaybeBool_KnownFalse(CondTest)) and SC_nil_BranchEnter((&SC__nil_T), Msg))) {
		return 0;
	}
	LoopInfo W = ((LoopInfo){});
	SC_nil__BeginLoop((!JB_MaybeBool_KnownTrue(CondTest)), (&W));
	{
		int I = 0;
		while (I < 3) {
			SC_nil__SyncJump(Cond, kSC__khalai_WhilePos);
			SC_nil__Argument(((Message*)JB_Ring_NextSib(Cond)), 0);
			SC_LoopInfo_NextLoop((&SC__nil_Loops));
			(++I);
		};
	}
	;
	if (!JB_MaybeBool_KnownTrue(CondTest)) {
		SC_nil__SyncJump(Cond, kSC__khalai_WhileNeg);
		SC__nil_Loops.ExitRecord = (SC__nil_Loops.ExitRecord | SC_nil__Value());
	}
	SC_LoopInfo_FinishLoop((&SC__nil_Loops), Msg);
	SC__nil_Loops = W;
	return SC_nil_BranchExit((&SC__nil_T), 0);
}


void SC_ArgArrayCounter_Check(ArgArrayCounter* Self, Message* Exp) {
	if (Self->IsItem and Self->IsNotItem) {
		if (true) {
			JB_Msg_Fail(Exp, JB_LUB[907]);
		}
	}
}

Message* SC_ArgArrayCounter_Do(ArgArrayCounter* Self, JB_String* Name, Message* Item, SCNode* Name_space) {
	Message* Acc = JB_Syx_Msg(kJB_SyxAcc, JB_LUB[0]);
	JB_Msg_AppendSyx(Acc, kJB_SyxThg, Name);
	Message* Arr = JB_Msg_Msg(Acc, kJB_SyxArr, JB_LUB[0]);
	Message* Value = Item;
	if (JB_Msg_EqualsSyx(Value, kJB_SyxItem)) {
		Self->IsItem = true;
		Message* Key = JB_Msg_NeedSyx(Item, kJB_SyxNil);
		if (Key) {
			int64 V = 0;
			bool _tmPf0 = SC_Msg_ConstIntValue(Key, Name_space, V);
			if (!_tmPf0) {
				JB_Msg_Fail(Item, JB_LUB[1429]);
			}
			if (_tmPf0) {
				(Self->Max = JB_int_OperatorMax(Self->Max, V));
			}
			JB_Tree_SyntaxAppend(Arr, Key);
			Value = ((Message*)JB_Ring_First(Item));
		}
	}
	 else {
		Self->IsNotItem = true;
		JB_Msg_AppendNum(Arr, (Self->i)++);
		Self->Max = Self->i;
	}
	return SC_NewEqRelWithMsgMsg(Acc, Value);
}





JB_MemoryLayer* JB_ClassData_CreateLayerAndUse(JB_Class* Self, JB_Object* Obj, JB_Object* Obj2) {
	JB_MemoryLayer* Rz = nil;
	Rz = JB_Mem_Constructor(nil, Self, Obj);
	JB_SetRef(Rz->Obj2, Obj2);
	JB_Mem_Use(Rz);
	return Rz;
}


JB_Duration JB_MzSt_Durr(CompressionStats* Self) {
	JB_Duration Rz = 0;
	Rz = Self->Duration;
	if (Rz < 0) {
		Rz = (Rz + JB_Date__Now());
	}
	return Rz;
}

void JB_MzSt_LiveUpdate(CompressionStats* Self, int In, int Out) {
	Self->In = (Self->In + In);
	Self->Out = (Self->Out + Out);
	if (Self->Live) {
		JB_MzSt_Print(Self);
	}
}

JB_String* JB_MzSt_Report(CompressionStats* Self, FastString* Fs_in) {
	int A = Self->In;
	int B = Self->Out;
	if (Self->Purpose & kJB__MzSt_Decompression) {
		JB_Swap((A), (B));
	}
	return JB_Str_RenderSpeed(JB_LUB[0], Fs_in, A, JB_MzSt_Durr(Self), B);
}

CompressionStats* JB_MzSt_Start(CompressionStats* Self, int Purpose) {
	if (!Self) {
		Self = (&JB__MzSt_All);
	}
	Self->Purpose = (Self->Purpose | Purpose);
	Self->Duration = (Self->Duration - JB_Date__Now());
	return Self;
}

int JB_MzSt__Init_() {
	{
	}
	;
	return 0;
}





void JB_dylib__New(JB_String* F, int Mode, JB_Dylib* Rz) {
	JB_dylib_Open(Rz, F, Mode);
}


byte* JB_FastBuff_Clip(FastBuff* Self, int V, int Reduce) {
	if (V <= 0) {
		return Self->Start;
	}
	V = JB_int_OperatorMin(V, (JB_FastBuff_Size(Self) - Reduce));
	return Self->Start + V;
}

int JB_FastBuff_CopyTo(FastBuff* Self, byte* Dest, int Length) {
	int Rz = 0;
	byte* A = Self->Curr;
	if (!((A < Self->End) and (Length > 0))) {
		return 0;
	}
	byte* B = A + Length;
	if (B > Self->End) {
		B = Self->End;
	}
	Rz = (B - A);
	Self->Curr = B;
	memcpy(Dest, A, Rz);
	return Rz;
}

void JB_FastBuff_Destructor(FastBuff* Self) {
	if (Self->Owns) {
		JB_Free(Self->Start);
	}
	JB_Clear(Self->ReadFrom);
}

bool JB_FastBuff_Has(FastBuff* Self, int N) {
	return (Self->End - Self->Curr) >= N;
}

int JB_FastBuff_Length(FastBuff* Self) {
	if (Self) {
		return JB_FastBuff_Position(Self);
	}
	return 0;
}

void JB_FastBuff_PositionSet(FastBuff* Self, int Value) {
	byte* C = Self->Start + Value;
	if ((C < Self->Start) or (C > Self->End)) {
		if (true) {
			JB_FastBuff_SyntaxExpect(Self, JB_LUB[1049]);
		}
		C = Self->End;
	}
	Self->Curr = C;
}

void JB_FastBuff_ReadFromSet(FastBuff* Self, JB_String* Value) {
	JB_SetRef(Self->ReadFrom, Value);
	Self->Start = Value->Addr;
	Self->End = (Self->Start + JB_Str_Length(Value));
	Self->Curr = Self->Start;
}

int JB_FastBuff_Size(FastBuff* Self) {
	if (Self) {
		return Self->End - Self->Start;
	}
	return 0;
}

JB_String* JB_FastBuff_AccessStr(FastBuff* Self, int Pos, int After) {
	//cpp_part;
	JB_String* R = Self->ReadFrom;
	if (R != nil) {
		return JB_Str_Range(R, Pos, After, true);
	}
	byte* A = JB_FastBuff_Clip(Self, Pos, 1);
	byte* B = JB_FastBuff_Clip(Self, After, 0);
	if (B >= A) {
		return JB_Str_CopyFromPtr(A, B - A);
	}
	return JB_LUB[0];
}

void JB_FastBuff_SyntaxExpect(FastBuff* Self, JB_String* S) {
	if (!Self->WentBad) {
		if (true) {
			JB_Str_Fail(S);
		}
	}
	Self->WentBad = true;
}


ASMReg SC_FAT_ASMReg(FatASM* Self, int A) {
	return SC_ASMParam_ASMReg(Self->Prms[A]);
}

void SC_FAT_BakeBreak(FatASM* Self, uint SrcMap, uint ASMTotal, uint Break) {
	uint I = Self->ASMIndex + ASMTotal;
	if (Break & kSC__Pac_BreakPoint) {
		JB_FS_AppendInteger(SC__SourceMap_BreakPoints, I);
	}
	if (Break & kSC__Pac_Breakable) {
		uint64 Value = (((uint64)SrcMap) << 32) | I;
		JB_FS_AppendInteger64(SC__SourceMap_Breakable, Value);
	}
}

int SC_FAT_BaseOp(FatASM* Self) {
	int Rz = 0;
	Rz = SC_FAT_Op(Self);
	if (Rz == kSC__ASM_FNCX3) {
		Rz = kSC__ASM_FNCX;
	}
	 else if (Rz == kSC__ASM_FNC3) {
		Rz = kSC__ASM_FNC;
	}
	return Rz;
}

bool SC_FAT_CanCloseRegs(FatASM* Self, int R) {
	if (((int)SC_FAT_Index(Self)) <= 0) {
	}
	uint Op = Self->_Op;
	if ((Op == kSC__ASM_RET) or ((Op == kSC__ASM_RFRT) or (Op == kSC__ASM_MARK))) {
		return true;
	}
	if ((Op == kSC__ASM_RFUN) and ((R & (R - 1)) == 0)) {
		int V = JB_Int_Log2(R);
		if ((SC_FAT_RegOnly(Self, 0) == V) and ((SC_FAT_RegOnly(Self, 1) == V) and (SC_FAT_RegOnly(Self, 2) == 0))) {
			return true;
		}
	}
	return false;
}

bool SC_FAT_CanMarkSomething(FatASM* Self, Message* Exp, ASMReg Declared, SCDecl* Ty) {
	if (!(((!SC_FAT_SyntaxIs(Self, kSC__Reg_DebugVars))) or (SC_FAT_OperatorIsa(Self, kSC__ASM_MARK)))) {
		return nil;
	}
	if (SC_ASMParam_Reg(SC_FAT_Output(Self)) == SC_Reg_Reg(Declared)) {
		Message* Msg = Self->Msg;
		if (SC_Msg_NilDecl(Msg) == Ty) {
			return true;
		}
		if (Msg->Func != kJB_SyxFunc) {
			Self->Msg = Exp;
			return true;
		}
	}
	return false;
}

void SC_FAT_CheckHasOutput(FatASM* Self) {
}

int64 SC_FAT_Const(FatASM* Self) {
	return Self->_Const;
}

void SC_FAT_ConstSet(FatASM* Self, int64 Value) {
	Self->_Const = Value;
}

ASMReg SC_FAT_ConstFill(FatASM* Self, ASMReg Dest, int64 K) {
	Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_Const, true);
	Dest = SC_Reg_FatIndexSet(Dest, SC_FAT_Index(Self));
	(SC_FAT_ConstSet(Self, K));
	Self->Info = Dest;
	return Dest;
}

void SC_FAT_ConstFinish(FatASM* Self) {
	uint64 V = ((uint64)SC_FAT_Const(Self));
	if (SC_FAT_SimpleConst(Self, V, 17)) {
		Self->_Op = kSC__ASM_KNST;
		return;
	}
	if (SC_FAT_RotateConst(Self, V)) {
		Self->_Op = kSC__ASM_KNSR;
		return;
	}
	if (SC_FAT_SimpleConst(Self, V, 49)) {
		Self->_Op = kSC__ASM_KNST2;
		return;
	}
	SC_FAT_SimpleConst(Self, V, 64);
	Self->_Op = kSC__ASM_KNST3;
}

bool SC_FAT_CopyFrom(FatASM* Self, FatASM* D) {
	(Self)[0] = (D)[0];
	{
		uint _irf0 = Self->InputFats;
		int _if1 = 0;
		while (_if1 < (6)) {
			if (!(_irf0 & (1 << _if1))) {
				(++_if1);
				continue;
			}
			FatASM* I = SC_FAT_InputFat(Self, _if1);
			if (I) {
				(++I->xC2xB5RefCount);
			}
			(++_if1);
		};
	}
	;
	return false;
}

void SC_FAT_DebugPrint(FatASM* Self) {
	//visible;
	if (!Self) {
		JB_PrintLine(JB_LUB[13]);
		return;
	}
	if (SC__ASM_NoisyASM >= 3) {
		FastString* Fs = JB_FS_Constructor(nil);
		JB_Incr(Fs);
		SC_FAT_RenderFat(Self, Fs, false);
		JB_String* _tmPf0 = JB_FS_SyntaxCast(Fs);
		JB_Incr(_tmPf0);
		JB_Decr(Fs);
		JB_PrintLine(_tmPf0);
		JB_Decr(_tmPf0);
	}
}

ASMReg SC_FAT_Dest(FatASM* Self, uint A, ASMReg Info, Assembler* Sh) {
	ASMParam Changed = SC_Reg_Prm(Info);
	Self->Prms[A] = Changed;
	Changed = (Changed & 31);
	Info = SC_Reg_FatIndexSet(Info, Self - Sh->FuncStart_);
	if (Info) {
		Self->Info = Info;
	}
	if (!Changed) {
		return Info;
	}
	Self->_Outputs = (Self->_Outputs | (1 << A));
	if (Info) {
		Info = SC_Reg_SyntaxIsSet(Info, kSC__Reg_AllowNopDest, true);
	}
	return SC_Pac_SetRegister(Sh, Changed, Info, Self);
}

float SC_FAT_F32(FatASM* Self) {
	float Rz = 0.0f;
	uint64* A = (&Self->_Const);
	Rz = ((float*)A)[0];
	if (!Rz) {
		Rz = 0;
	}
	return Rz;
}

Float64 SC_FAT_F64(FatASM* Self) {
	Float64 Rz = 0.0f;
	Rz = ((double*)((&Self->_Const)))[0];
	if (!Rz) {
		Rz = 0;
	}
	return Rz;
}

void SC_FAT_FillLabelRequest(FatASM* Self, ASM* Start, ASM* After, int Reg) {
	;
	ASM* SelfOut = Start + Self->ASMIndex;
	int J = Self->Prms[Reg];
	FatASM* OldDest = Self + (J + 1);
	uint DestOut = OldDest->ASMIndex;
	ASM* Dest = Start + DestOut;
	int64 J2 = (Dest - SelfOut) - 1;
	if (J2 == -1) {
		SC_FAT_SyntaxExpect(Self, JB_LUB[1114]);
	}
	Self->Prms[Reg] = J2;
	SC_FAT_xC2xB5RenderInto(Self, SelfOut, SelfOut + 1);
	Self->Prms[Reg] = J;
}

FatASM* SC_FAT_FindOlder(FatASM* Self) {
	int Reg = SC_ASMParam_Reg(SC_FAT_Output(Self));
	if (!Reg) {
		return nil;
	}
	uint B = Self->BasicBlock;
	FatASM* F = Self - 1;
	while (F->BasicBlock == B) {
		int D = SC_ASMParam_Reg(SC_FAT_Output(F));
		if (D == Reg) {
			return F;
		}
		if (SC_FAT_IsFunc(F) and (D < Reg)) {
			return nil;
		}
		(--F);
	};
	return nil;
}

int64 SC_FAT_FloatConvConst(FatASM* Self, int DestBitSize) {
	uint64* F = (&Self->_Const);
	if (DestBitSize == 64) {
		return JB_dbl_AsInt(((Float64)((float*)F)[0]));
	}
	return JB_f_AsInt(((float)((double*)F)[0]));
}

int64 SC_FAT_FloatIntConvConst(FatASM* Self, uint /*DataTypeCode*/ Src, uint /*DataTypeCode*/ Dest) {
	int Dbc = JB_TC_ByteCount(Dest);
	void* F = ((void*)((&Self->_Const)));
	if (JB_TC_IsInt(Src)) {
		int64 V = SC_FAT_Const(Self);
		if (JB_TC_IsSigned(Src)) {
			if (Dbc == 4) {
				return JB_f_AsInt(((float)V));
			}
			return JB_dbl_AsInt(((Float64)V));
		}
		if (Dbc == 4) {
			return JB_f_AsInt(((float)((uint64)V)));
		}
		return JB_dbl_AsInt(((Float64)((uint64)V)));
	}
	if (JB_TC_ByteCount(Src) == 4) {
		float F32 = ((float*)F)[0];
		if (JB_TC_IsSigned(Dest)) {
			return ((int64)F32);
		}
		return ((uint64)F32);
	}
	double* F64 = ((double*)F);
	if (JB_TC_IsSigned(Dest)) {
		return ((int64)F64);
	}
	return ((uint64)F64);
}

uint64 SC_FAT_FuncPrms(FatASM* Self) {
	uint64 A = ((uint64)SC_FAT_p2(Self));
	uint64 B = ((uint64)0);
	if (SC_FAT_OperatorIsa(Self, kSC__ASM_TAIL)) {
		B = A;
		A = SC_FAT_p1(Self);
	}
	 else {
		B = SC_FAT_p3(Self);
	}
	uint64 R = A | (B << 32);
	uint Op = Self->_Op;
	if (!((Op == kSC__ASM_FNCX) or (Op == kSC__ASM_FNCX3))) {
		return R >> 5;
	}
	return R >> 12;
}

int SC_FAT_GuessSize(FatASM* Self) {
	uint O = Self->_Op;
	if ((O != kSC__ASM_NOOP) and (O != kSC__ASM_MARK)) {
		if (O < 32) {
			return 2 + (O & 1);
		}
		return 1;
	}
	return 0;
}

ASM* SC_FAT_Halt_Encoder(FatASM* Self, ASM* Curr, ASM* After) {
	Curr++[0] = (Self->Prms[0] & 16777215);
	Curr++[0] = 0;
	return Curr;
}

uint SC_FAT_Index(FatASM* Self) {
	return Self - SC__Pac_Sh.FuncStart_;
}

FatASM* SC_FAT_InputFat(FatASM* Self, int I) {
	ASMParam R = (Self->Prms[I] << 1) >> 16;
	if (R) {
		return SC_uint_FAT(R);
	}
	return nil;
}

ASMReg SC_FAT_IsDecr(FatASM* Self) {
	ASMReg Upon = SC_FAT_SyntaxCall((Self), 0);
	if (Upon) {
		if ((SC_FAT_SyntaxCall((Self), 1) == Upon) and (!SC_FAT_SyntaxCall((Self), 2))) {
			return Upon;
		}
	}
	return ((ASMReg)0);
}

bool SC_FAT_IsFinisherWithReg(FatASM* Self, ASMReg Info) {
	ASM O = ((ASM)SC_FAT_Op(Self));
	if ((O == kSC__ASM_RET) or ((O == kSC__ASM_TRAP) or ((O == kSC__ASM_TAIL) or ((O == kSC__ASM_RFRT) or (O == kSC__ASM_HALT))))) {
		return true;
	}
	if (O == kSC__ASM_JUMP) {
		return SC_FAT_Jump(Self) < 0;
	}
	if (SC_Reg_SyntaxIs(Info, kSC__Reg_Exit)) {
		if ((O == kSC__ASM_FNCX) or ((O == kSC__ASM_FNCX3) or ((O == kSC__ASM_FNC) or (O == kSC__ASM_FNC3)))) {
			return true;
		}
	}
	return false;
}

bool SC_FAT_IsFinisherWith0(FatASM* Self) {
	return SC_FAT_IsFinisherWithReg(Self, Self->Info);
}

bool SC_FAT_IsFunc(FatASM* Self) {
	int B = SC_FAT_BaseOp(Self);
	return (B == kSC__ASM_FNCX) or (B == kSC__ASM_FNC);
}

bool SC_FAT_IsRead(FatASM* Self) {
	uint Op = SC_FAT_Op(Self);
	return (Op >= kSC__ASM_RD1U) and (Op <= kSC__ASM_RD16);
}

int SC_FAT_Jump(FatASM* Self) {
	uint J = Self->JumpPrm;
	if (J) {
		return Self->Prms[J - 1];
	}
	return 0;
}

void SC_FAT_JumpFix(FatASM* Self, FatASM* Curr) {
	(SC_FAT_SyntaxIsSet(Self, kSC__Reg_CondAnswer, (!true)));
	SC_FAT_JumpToSet(Self, Curr);
}

bool SC_FAT_JumpImprove(FatASM* Self, Assembler* Sh) {
	FatASM* D = SC_FAT_JumpTo(Self);
	int N = 0;
	while (SC_FAT_OperatorIsa(D, kSC__ASM_JUMP)) {
		D = SC_FAT_JumpTo(D);
		if ((++N) >= 30) {
			JB_Msg_Fail(Self->Msg, nil);
			return nil;
		}
	};
	ASM M = SC_FAT_Op(Self);
	if (M == kSC__ASM_JUMP) {
		if (SC_FAT_IsFinisherWith0(D)) {
			return SC_FAT_CopyFrom(Self, D);
		}
	}
	 else if ((D == (Self + 2)) and ((M != kSC__ASM_LUPU) and (M != kSC__ASM_LUPD))) {
		FatASM* Mid = Self + 1;
		if (SC_FAT_OperatorIsa(Mid, kSC__ASM_JUMP)) {
			return SC_FAT_JumpNegateWithPacFat(Self, Sh, Mid);
		}
	}
	if (N > 0) {
		SC_FAT_JumpToSet(Self, D);
		return true;
	}
	return false;
}

void SC_FAT_JumpInputSet(FatASM* Self, int A, int V) {
	Self->Prms[A] = V;
	Self->JumpPrm = (A + 1);
	Self->xC2xB5RefCount = (Self->xC2xB5RefCount + (!Self->xC2xB5RefCount));
	SC_Pac_NextBasicBlock((&SC__Pac_Sh));
}

void SC_FAT_JumpNegateWith0(FatASM* Self) {
	uint M = SC_FAT_Op(Self);
	if ((M == kSC__ASM_JMPI) or (M == kSC__ASM_JMPF)) {
		Self->Prms[2] = (Self->Prms[2] ^ 1);
	}
	 else {
		Self->_Op = (M ^ 1);
	}
}

bool SC_FAT_JumpNegateWithPacFat(FatASM* Self, Assembler* Sh, FatASM* Mid) {
	SC_FAT_JumpNegateWith0(Self);
	int J = Self->JumpPrm - 1;
	Self->Prms[J] = (Self->Prms[J] + SC_FAT_Jump(Mid));
	SC_Pac_Nop(Sh, Mid);
	return true;
}

FatASM* SC_FAT_JumpTo(FatASM* Self) {
	uint J = Self->JumpPrm;
	if (J) {
		return Self + (1 + ((int)Self->Prms[J - 1]));
	}
	return nil;
}

void SC_FAT_JumpToSet(FatASM* Self, FatASM* Value) {
	//cpp_part;
	uint J = Self->JumpPrm;
	if (J) {
		int64 D = (Value - Self) - 1;
		if (D == -1) {
			SC_FAT_SyntaxExpect(Self, JB_LUB[1114]);
		}
		Self->Prms[J - 1] = D;
		if (D == 0) {
			SC_Pac_Nop((&SC__Pac_Sh), Self);
		}
	}
	 else {
	}
}

ASM* SC_FAT_KNST_Encoder(FatASM* Self, ASM* Curr, ASM* After) {
	ASM* Rz = nil;
	Rz = SC_ASM_ConstStretchy__Encode(Self, Curr, After);
	uint Op = SC_FAT_Op(Self);
	if (Op != kSC__ASM_KNST) {
		Rz++[0] = Self->Prms[4];
		if (Op == kSC__ASM_KNST3) {
			Rz++[0] = Self->Prms[5];
		}
	}
	return Rz;
}

ASM* SC_FAT_Nop_Encoder(FatASM* Self, ASM* Curr, ASM* After) {
	return Curr;
}

void SC_FAT_NumInputSet(FatASM* Self, int A, int V) {
	Self->Prms[A] = V;
}

byte SC_FAT_Op(FatASM* Self) {
	return Self->_Op;
}

bool SC_FAT_OperatorIsa(FatASM* Self, ASM M) {
	if (Self) {
		return M == SC_FAT_Op(Self);
	}
	return false;
}

ASMReg SC_FAT_AsReg(FatASM* Self, ASMReg Flags) {
	//cpp_part;
	Flags = SC_Reg_SyntaxIsSet(Flags, kSC__Reg_FlagsToRemove, (!true));
	if ((SC_Reg_SyntaxIs(Flags, kSC__Reg_Exit)) and (!SC_FAT_IsFinisherWithReg(Self, Flags))) {
		Flags = SC_Reg_SyntaxIsSet(Flags, kSC__Reg_Exit, (!true));
	}
	Flags = SC_Reg_FatIndexSet(Flags, SC_FAT_Index(Self));
	Self->Info = Flags;
	return Flags;
}

ASMParam SC_FAT_Output(FatASM* Self) {
	uint O = ((uint)Self->_Outputs);
	if (O) {
		O = JB_uint_Log2(O);
		return Self->Prms[O];
	}
	return 0;
}

void SC_FAT_OutputDebugVars(FatASM* Self) {
	FastString* Dd = SC__Pac_DebugDecls;
	{
		uint64 _LoopSrcf2 = Self->_Const;
		uint64 _currf0 = ((uint64)_LoopSrcf2);
		while (_currf0) {
			uint64 I = JB_uint64_LowestBit(_currf0);
			SC_bin_DebugCloseVar(Dd, Self->ASMIndex, JB_u64_Log2(I));
			_currf0 = (_currf0 & (~I));
		};
	}
	;
	if (Self->_Outputs) {
		SCDecl* Ty = SC_Msg_NilDecl(Self->Msg);
		if (!Ty) {
			return;
		}
		SC_Decl_DumpDecl(Ty, Dd, Self->ASMIndex);
	}
}

ASMParam SC_FAT_p0(FatASM* Self) {
	return Self->Prms[0];
}

ASMParam SC_FAT_p1(FatASM* Self) {
	return Self->Prms[1];
}

void SC_FAT_p1Set(FatASM* Self, uint Value) {
	Self->Prms[1] = Value;
}

ASMParam SC_FAT_p2(FatASM* Self) {
	return Self->Prms[2];
}

void SC_FAT_p2Set(FatASM* Self, uint Value) {
	Self->Prms[2] = Value;
}

ASMParam SC_FAT_p3(FatASM* Self) {
	return Self->Prms[3];
}

void SC_FAT_p3Set(FatASM* Self, uint Value) {
	Self->Prms[3] = Value;
}

void SC_FAT_PrmCollectCounterPart(FatASM* Self, FastString* Fs) {
	Message* Exp = Self->Msg;
	if (!JB_Msg_EqualsSyx(Exp, kJB_SyxFunc)) {
	}
	SCFunction* Fn = ((SCFunction*)((Message*)JB_Ring_Last(Exp))->Obj);
	if (!JB_Object_Isa(Fn, &SCFunctionData)) {
		Fn = nil;
		JB_Object* Obj = ((Message*)JB_Ring_First(Exp))->Obj;
		if (JB_Object_FastIsa(Obj, &SCFunctionData)) {
			Fn = ((SCFunction*)Obj);
		}
		 else if (JB_Object_FastIsa(Obj, &SCDeclData)) {
			Fn = ((SCDecl*)Obj)->Type->FuncProto;
		}
		 else {
		}
		if (!Fn) {
			JB_DoAt(1);
			JB_DoAt(1);
			JB_FS_AppendString(Fs, JB_LUB[580]);
			return;
		}
	}
	uint64 Regs = SC_FAT_FuncPrms(Self);
	int64 N = JB_Array_Size(Fn->Args);
	JB_FS_AppendByte(Fs, '(');
	if (N > 10) {
		N = 10;
	}
	bool IsC = (SC_FAT_OperatorIsa(Self, kSC__ASM_FNCX) or SC_FAT_OperatorIsa(Self, kSC__ASM_FNCX3));
	while (N > 0) {
		(--N);
		JB_FS_AppendByte2(Fs, 'r');
		uint64 R = Regs;
		if (IsC) {
			R = (Regs >> (N * 5));
		}
		 else {
			Regs = (Regs >> 5);
		}
		JB_FS_AppendInt32(Fs, R & 31);
		if (N > 0) {
			JB_FS_AppendString(Fs, JB_LUB[47]);
		}
	};
	JB_FS_AppendByte(Fs, ')');
}

void SC_FAT_Prm(FatASM* Self, int A, ASMReg Value) {
	//cpp_part;
	uint I = SC_Reg_FatIndex(Value);
	Self->Prms[A] = SC_Reg_Prm(Value);
	Self->InputPrms = (Self->InputPrms | (1 << A));
	if (I) {
		FatASM* Src = SC_uint_FAT(I);
		if (Src < Self) {
			Self->InputFats = (Self->InputFats | (1 << A));
			if (Src) {
				(++Src->xC2xB5RefCount);
			}
		}
		 else {
		}
	}
}

int SC_FAT_RegOnly(FatASM* Self, int I) {
	return Self->Prms[I] & 31;
}

void SC_FAT_RendaKnst(FatASM* Self, FastString* Fs, int Sofar) {
	uint Ty = SC_Reg_xC2xB5Type(Self->Info);
	JB_FS_AppendMultiByte(Fs, ' ', 26 - Sofar);
	JB_FS_AppendString(Fs, JB_LUB[414]);
	if (JB_TC_IsInt(Ty)) {
		JB_FS_AppendInt64(Fs, ((int64)SC_FAT_Const(Self)));
	}
	 else {
		Float64 Num = 0.0f;
		if (JB_TC_ByteCount(Ty) == 4) {
			Num = ((Float64)SC_FAT_F32(Self));
		}
		 else {
			Num = SC_FAT_F64(Self);
		}
		JB_FS_AppendDoubleAsText(Fs, Num, 9, true);
		if (JB_TC_ByteCount(Ty) == 4) {
			JB_FS_AppendByte(Fs, 'f');
		}
		 else {
			JB_FS_AppendByte(Fs, 'd');
		}
	}
	JB_FS_AppendString(Fs, JB_LUB[415]);
}

void SC_FAT_RenderFat(FatASM* Self, FastString* Fs, bool Simpler) {
	if (!SC_FAT_WillRenderFat(Self)) {
		return;
	}
	int M = JB_FS_Mark(Fs);
	Instruction* Op = SC__Instruction_TypeList[SC_FAT_BaseOp(Self)];
	if (SC_FAT_BaseOp(Self) != kSC__ASM_NOOP) {
		if (SC_FAT_SyntaxIs(Self, kSC__Reg_Const)) {
			JB_FS_AppendLower(Fs, Op->Name);
		}
		 else {
			JB_FS_AppendString(Fs, Op->Name);
		}
		JB_FS_AppendByte2(Fs, ':');
	}
	JB_FS_AppendMultiByte(Fs, ' ', 5 - JB_Str_Length(Op->Name));
	JB_String* GotAny = JB_LUB[0];
	int Remain = 24;
	xC2xB5Form* F = Op->Sizes;
	{
		int _LoopSrcf1 = F->Count;
		int I = 0;
		while (I < _LoopSrcf1) {
			int Bs = SC_xC2xB5Param_BitSize(SC_xC2xB5Form_AccessInt(F, I));
			if (Bs and (Remain > 0)) {
				JB_FS_AppendString(Fs, GotAny);
				GotAny = JB_LUB[47];
				int V = Self->Prms[I];
				if ((SC_FAT_IsFunc(Self) and ((I == 2) or (I == 3))) or (SC_FAT_OperatorIsa(Self, kSC__ASM_TAIL) and (I == 1))) {
					if (I != 3) {
						SC_FAT_PrmCollectCounterPart(Self, Fs);
					}
					 else {
						Fs->Length = (Fs->Length - 2);
					}
				}
				 else {
					if (SC_xC2xB5Param_IsReg(SC_xC2xB5Form_AccessInt(F, I))) {
						JB_FS_AppendByte2(Fs, ((byte)('r' + (((uint)V) >> 30))));
						V = (V & 31);
					}
					JB_FS_AppendInt32(Fs, V);
				}
				Remain = (Remain + Bs);
			}
			if (SC_FAT_Op(Self) == kSC__ASM_KNST) {
				break;
			}
			(++I);
		};
	}
	;
	if (SC_FAT_OperatorIsa(Self, kSC__ASM_KNST) or (SC_FAT_OperatorIsa(Self, kSC__ASM_KNSR) or SC_FAT_OperatorIsa(Self, kSC__ASM_GTAB))) {
		SC_FAT_RendaKnst(Self, Fs, JB_FS_Mark(Fs) - M);
		JB_FS_AppendByte2(Fs, ' ');
	}
	int N = JB_FS_Mark(Fs) - M;
	if (N <= 2) {
		Fs->Length = (Fs->Length - 1);
		JB_FS_AppendString(Fs, JB_LUB[59]);
		N = (N + 2);
	}
}

bool SC_FAT_RotateConst(FatASM* Self, uint64 V) {
	int BC = __builtin_popcountll(V);
	bool Inv = (64 - BC) <= 12;
	if (Inv) {
		V = (~V);
	}
	 else {
		if (BC > 12) {
			return nil;
		}
	}
	{
		int I = 0;
		while (I < 64) {
			if (V <= ((uint64)(((1 << 12) - 1)))) {
				(SC_FAT_p1Set(Self, I));
				(SC_FAT_p2Set(Self, ((int)Inv)));
				(SC_FAT_p3Set(Self, ((uint)V)));
				return true;
			}
			V = SC_uint64_rotl1(V);
			(++I);
		};
	}
	;
	return false;
}

void SC_FAT_SetOpSet(FatASM* Self, uint /*byte*/ Value) {
	Message* M = Self->Msg;
	uint S = Self->FatMap;
	uint64 K = Self->_Const;
	Self[0] = ((FatASM){});
	Self->Msg = M;
	Self->FatMap = S;
	Self->_Const = K;
	Self->_Op = Value;
}

bool SC_FAT_SimpleConst(FatASM* Self, uint64 V, int Space) {
	bool Negate = ((int64)V) < 0;
	if (Negate) {
		V = (~V);
	}
	int Sh = 64 - Space;
	if (((V << Sh) >> Sh) == V) {
		Self->Prms[2] = ((int)Negate);
		Self->Prms[3] = (V & ((1 << 17) - 1));
		Self->Prms[4] = (V >> 17);
		Self->Prms[5] = (V >> 49);
		return true;
	}
	return false;
}

ASMReg SC_FAT_SyntaxCall(FatASM* Self, uint I) {
	ASMParam P = Self->Prms[I];
	if (SC_ASMParam_Reg(P)) {
		return SC_ASMParam_ASMReg(P);
	}
	return ((ASMReg)0);
}

void SC_FAT_SyntaxExpect(FatASM* Self, JB_String* Error) {
	if (true) {
		JB_Msg_Fail(Self->Msg, Error);
	}
}

bool SC_FAT_SyntaxIs(FatASM* Self, ASMReg Flags) {
	if (Self) {
		return ((uint64)(SC_Reg_OperatorBitand(Self->Info, Flags))) != 0;
	}
	return false;
}

void SC_FAT_SyntaxIsSet(FatASM* Self, ASMReg Flags, bool Value) {
	if (Value) {
		(Self->Info = SC_Reg_OperatorAs(Self->Info, Flags));
	}
	 else {
		(Self->Info = SC_Reg_OperatorBitand(Self->Info, (~Flags)));
	}
}

ASMReg SC_FAT_Vectorise(FatASM* Self, ASMReg Dest, ASM VOpp) {
	Dest = SC_Reg_FatIndexSet(Dest, SC_FAT_Index(Self));
	Self->Info = Dest;
	if (SC_Reg_IsVec(Dest)) {
		Self->_Op = VOpp;
	}
	return Dest;
}

ASMReg SC_FAT_VectoriseSmall(FatASM* Self, ASMReg Dest, ASM VOpp, ASM SOpp) {
	Dest = SC_Reg_FatIndexSet(Dest, SC_FAT_Index(Self));
	Self->Info = Dest;
	if (SC_Reg_IsVec(Dest)) {
		if (!VOpp) {
		}
		Self->_Op = VOpp;
	}
	 else if (SC_Reg_IsSmall(Dest)) {
		Self->_Op = SOpp;
	}
	return Dest;
}

bool SC_FAT_WillRenderFat(FatASM* Self) {
	if (SC_FAT_GuessSize(Self) == 0) {
		if (Self->Msg->Func == kJB_SyxSheb) {
			return false;
		}
		if (SC_FAT_OperatorIsa(Self, kSC__ASM_MARK)) {
			return false;
		}
	}
	return true;
}

bool SC_FAT__VerifyNumbers() {
	if ((kSC__ASM_JMPE ^ 1) != kSC__ASM_JMPN) {
		return nil;
	}
	if ((kSC__ASM_JMKM ^ 1) != kSC__ASM_JMKL) {
		return nil;
	}
	if ((kSC__ASM_JMKE ^ 1) != kSC__ASM_JMKN) {
		return nil;
	}
	if ((kSC__ASM_JBOR ^ 1) != kSC__ASM_JBAN) {
		return nil;
	}
	int S = (64);
	if (S != 64) {
		return nil;
	}
	return true;
}


bool SC_FatRange_Always(FatRange* Self) {
	return JB_MaybeBool_KnownTrue(Self->Constness);
}

void SC_FatRange_JumpTo(FatRange* Self, FatASM* Curr) {
	{
		FatASM* S = Self->After;
		while (S > Self->Start) {
			(--S);
			if ((SC_FAT_SyntaxIs(S, kSC__Reg_CondAnswer)) and (!(SC_FAT_OperatorIsa(S, kSC__ASM_KNST)))) {
				SC_FAT_JumpFix(S, Curr);
			}
		};
	};
}

int SC_FatRange_Length(FatRange* Self) {
	return Self->After - Self->Start;
}

bool SC_FatRange_Never(FatRange* Self) {
	return JB_MaybeBool_KnownFalse(Self->Constness);
}



bool SC_HairyMan_AddOrShrink(HairyMan* Self, FastString* J, SCFunction* F) {
	(++Self->Total);
	if ((SC_Func_SyntaxIs(F, kSC__FunctionType_UsedByASM)) or SC_Func_IsBehaviour(F)) {
		uint C = Self->Curr;
		if (C) {
			JB_bin_AddInt(J, C);
		}
		Self->Curr = 0;
		return true;
	}
	(++Self->Curr);
	(++Self->Savings);
	return false;
}

void SC_HairyMan_Churn(HairyMan* Self, FastString* Fs) {
	//;
	JB_FS_AppendUint16(Fs, Self->Savings);
	JB_FS_AppendString(Fs, JB_LUB[445]);
	JB_FS_AppendUint(Fs, Self->Total);
	//;
}


void SC_InlineInfo_CleanupClash(InlineInfo* Self, Array* Args) {
	uint AR = Self->References & Self->Altered;
	uint AN = Self->Normal & Self->Altered;
	if (AR | AN) {
		SC_InlineInfo_ClearInlineParamClash(Self, Args, AR, AN);
	}
}

void SC_InlineInfo_ClearInlineParamClash(InlineInfo* Self, Array* Args, int AR, int AN) {
	int N = JB_Array_Size(Args);
	while (N-- > 0) {
		ASMReg V = Self->Items[N];
		if (V) {
			SCDecl* A = ((SCDecl*)JB_Array_Value(Args, N));
			int R = 1 << SC_Reg_Reg(V);
			if ((AR & R) and ((!SC_Decl_SyntaxIs(A, kSC__SCDeclInfo_Reference)))) {
				Self->Items[N] = kSC__Reg_ForceInto;
			}
			 else if ((AN & R) and (SC_Decl_SyntaxIs(A, kSC__SCDeclInfo_Altered))) {
				Self->Items[N] = kSC__Reg_ForceInto;
			}
		}
	};
}

void SC_InlineInfo_DoImmediates(InlineInfo* Self, Message* P, Array* Args) {
	Assembler* Sh = (&SC__Pac_Sh);
	{
		int _if0 = 0;
		while (true) {
			SCDecl* A = ((SCDecl*)JB_Array_Value(Args, _if0));
			if (A == nil) {
				break;
			}
			int I = _if0;
			Self->Items[I] = SC_InlineInfo_PreInlineOneParam(Self, P, A, Sh);
			P = ((Message*)JB_Ring_NextSib(P));
			(++_if0);
		};
	}
	;
	SC_InlineInfo_CleanupClash(Self, Args);
}

void SC_InlineInfo_NopParams(InlineInfo* Self, int N, ASMReg Ret) {
	Assembler* Sh = (&SC__Pac_Sh);
	while ((--N) >= 0) {
		ASMReg R = Self->Items[N];
		int V = SC_Reg_Reg(R);
		if (!V) {
			0;
		}
		 else if (SC_Reg_SyntaxIs(R, kSC__Reg_Const)) {
			SC_Pac_Decr(Sh, SC_Reg_NeedFAT(R), false, 0);
		}
		 else if (SC_Reg_OperatorIz(R, Ret)) {
			0;
		}
		 else {
			FatASM* S = SC_Reg_FAT(R);
			if (S and ((!S->xC2xB5RefCount) and SC_FAT_GuessSize(S))) {
				SC_Pac_Nop(Sh, S);
			}
		}
	};
}

ASMReg SC_InlineInfo_PreInlineOneParam(InlineInfo* Self, Message* P, SCDecl* A, Assembler* Sh) {
	P = SC_Msg_ASMUnbra(P);
	if (P->Func != kJB_SyxThg) {
		return nil;
	}
	SCDecl* D = SC_Msg_ASMDecl(P);
	if (!SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Local)) {
		return nil;
	}
	ASMReg V = SC_Pac_LocalThg(Sh, D);
	int Vr = 1 << SC_Reg_Reg(V);
	if (SC_Decl_SyntaxIs(A, kSC__SCDeclInfo_Reference)) {
		Self->References = (Self->References | Vr);
	}
	 else if (SC_Decl_SyntaxIs(A, kSC__SCDeclInfo_Altered)) {
		if (Self->Altered & Vr) {
			Self->Normal = (Self->Normal | Vr);
		}
		Self->Altered = (Self->Altered | Vr);
	}
	 else {
		Self->Normal = (Self->Normal | Vr);
	}
	((SC_Decl_SyntaxIsSet(A, kSC__SCDeclInfo_Reference, (SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Reference)))));
	return V;
}



int SC_IsaTester__Init_() {
	{
	}
	;
	return 0;
}

void SC_IsaTester__SyntaxAppend(Message* O) {
	if (SC__IsaTester_T.Count < 4) {
		SC__IsaTester_T.Items[SC__IsaTester_T.Count++] = O;
	}
}


void JB_Lk_Destructor(LeakTester* Self) {
	//cpp_part;
	JB_Clear(Self->Name);
}

void JB_Lk_Test(LeakTester* Self) {
	if (Self->MemUsedStart) {
		int NewAmount = JB_MemCount();
		int Diff = NewAmount - Self->MemUsedStart;
		if (Diff > 0) {
			FastString* _fsf0 = JB_FS_Constructor(nil);
			JB_FS_AppendString(_fsf0, JB_LUB[149]);
			JB_FS_AppendInt32(_fsf0, Diff);
			JB_FS_AppendString(_fsf0, JB_LUB[150]);
			JB_FS_AppendString(_fsf0, Self->Name);
			JB_FS_AppendString(_fsf0, JB_LUB[151]);
			JB_FS_AppendInt32(_fsf0, NewAmount);
			JB_FS_AppendByte(_fsf0, '.');
			JB_String* _tmPf1 = JB_FS_GetResult(_fsf0);
			JB_Incr(_tmPf1);
			JB_PrintLine(_tmPf1);
			JB_Decr(_tmPf1);
		}
		Self->MemUsedStart = 0;
	}
	JB_Mem_Unmark();
}

void JB_Lk__New(JB_String* Name, LeakTester* Rz) {
	Rz->MemUsedStart = JB_MemCount();
	JB_SetRef(Rz->Name, Name);
	JB_Mem_Mark();
}


void SC_LoopInfo_BeginLoop(LoopInfo* Self, bool HasExitCond) {
	NilRecord V = SC_nil__Value();
	Self->ExitRecord = (((NilRecord)HasExitCond) * V);
	Self->HasEscape = HasExitCond;
	Self->ContRecord = V;
	Self->BranchDepth = SC_nil_BranchDepth((&SC__nil_T));
}

void SC_LoopInfo_FinishLoop(LoopInfo* Self, Message* Msg) {
	NilRecord Ex = Self->ExitRecord;
	(SC_nil_ValueSet((&SC__nil_T), Ex));
	if (!Ex) {
		JB_Rec__NewCriticalError(Msg, JB_LUB[1149], nil);
	}
	if ((!Self->HasEscape) and (!JB_Tree_IsLast(Msg))) {
		SC_Msg_KinderRemoveAfter(Msg);
	}
}

void SC_LoopInfo_NextLoop(LoopInfo* Self) {
	Self->ContRecord = (Self->ContRecord | SC_nil__Value());
	(SC_nil_ValueSet((&SC__nil_T), Self->ContRecord));
}




void JB_MsgPos_Destructor(MessagePosition* Self) {
	JB__Tk_Using = Self[0];
	JB_Mem_Use(Self->Layer);
}

void JB_MsgPos_SyntaxUsingComplete(MessagePosition* Self, JB_Object* Idk) {
}


void SC_NRC_SyntaxCallSet(NilRecorder* Self, uint64 Item, uint64 Value) {
	Value = (Value & kSC__NilState_Either);
	Item = (Item << 1);
	uint64 Mask = ((uint64)kSC__NilState_Either) << Item;
	NilRecord Prev = Self->Value;
	Self->Value = ((Prev & (~Mask)) | (Value << Item));
}



int JB_ParserLineAndIndent_ArgPos(ParserLineAndIndent* Self) {
	int P = Self->FirstLine;
	if (P) {
		return P;
	}
	return Self->Position;
}


JB_String* JB_Pico_Get(PicoComms* Self, float T) {
	if (PicoCanGet(Self)) {
		PicoMessage Msg = ((PicoMessage){});
		PicoGet(Self, (&Msg), T);
		return JB_Str__FromPico((&Msg));
	}
	return JB_LUB[0];
}

bool JB_Pico_SendString(PicoComms* Self, JB_String* Str, bool Wait) {
	//cpp_part;
	return PicoSend(Self, ((int8*)Str->Addr), JB_Str_Length(Str), Wait);
}

SpdProcess* JB_Pico_UseAsParent(PicoComms* Self) {
	if (!JB_LibIsThreaded()) {
		if (!PicoRestoreExec(Self)) {
			return nil;
		}
	}
	SpdProcess* P = JB_Proc_Constructor(nil, JB_LUB[0], nil, Self, nil, kJB__PIDM_StdErrPassThru);
	JB_Incr(P);
	JB_SetRef(JB__Proc__Parent, P);
	JB_SafeDecr(P);
	return P;
}

PicoComms* JB_Pico__New(JB_StringC* Name, int Noise) {
	PicoComms* P = PicoCreate(JB_Str_SyntaxCast(Name), 0);
	if (P) {
		JB_Pico_Config(P)->Noise = Noise;
		return P;
	}
	PicoGlobalStats St = ((PicoGlobalStats){});
	PicoGlobals((&St));
	if (true) {
		JB_String* _tmPf0 = JB_Str_OperatorPlusWithInt64(JB_LUB[888], St.OpenPicos);
		JB_Incr(_tmPf0);
		JB_Str_Fail(_tmPf0);
		JB_Decr(_tmPf0);
	}
	return nil;
}






float JB_Rnd_Float(RandomXOR* Self) {
	uint I = ((uint)JB_Rnd_RndInt(Self));
	uint C[1] = {
	};
	float* F = ((float*)((&C[0])));
	C[0] = ((I >> 9) | (((1 << 7) - 1) << 23));
	return F[0] - 1.0f;
}

int64 JB_Rnd_RndInt(RandomXOR* Self) {
	int64 Rz = 0;
	//cpp_part;
	uint64 S = (++Self->State);
	Rz = JB_uint64_hash((Self->Store + S));
	Self->Store = Rz;
	return Rz;
}

void JB_Rnd_SeedSet(RandomXOR* Self, uint64 Value) {
	Self->Store = Value;
	Self->State = 1;
}

void JB_Rnd_TimeSeed(RandomXOR* Self) {
	(JB_Rnd_SeedSet(Self, JB_Date__Now()));
}

int JB_Rnd__InitCode_() {
	{
	}
	;
	JB_Rnd_TimeSeed(JB_Random);
	return 0;
}





void JB_TerminalDisplay_Beep(TerminalDisplay* Self) {
	JB_PrintLine(JB_LUB[209]);
}

void JB_TerminalDisplay_Destructor(TerminalDisplay* Self) {
	//cpp_part;
	JB_Clear(Self->Screen);
	JB_Clear(Self->fs);
}

void JB_TerminalDisplay_Display(TerminalDisplay* Self) {
	Date Now = JB_Date__Now();
	if (Self->LastDisplay) {
		JB_Date__Sleep(JB_Date_OperatorMinus((Self->LastDisplay + (65536 / 60)), Now));
	}
	 else {
		JB_PrintLine(JB_LUB[653]);
	}
	Self->LastDisplay = Now;
	JB_PrintLine(JB_LUB[654]);
	JB_String* _tmPf0 = JB_TerminalDisplay_Flat(Self);
	JB_Incr(_tmPf0);
	JB_Print(_tmPf0);
	JB_Decr(_tmPf0);
}

void JB_TerminalDisplay_DrawRect(TerminalDisplay* Self, ivec4 Rect, JB_String* Inside, TerminalColor Colors) {
	ivec4 R2 = Rect + ivec4{1, 1, -2, -2};
	{
		ivec2 S = ivec2{Rect[0], Rect[1]};
		while (S[1] < Rect[3]) {
			while (S[0] < Rect[2]) {
				JB_String* C = Inside;
				JB_Incr(C);
				bool X = JB_ivec2_OperatorContains(ivec2{R2[0], R2[2]}, S[0]);
				bool Y = JB_ivec2_OperatorContains(ivec2{R2[1], R2[3]}, S[1]);
				if ((!X) and (!Y)) {
					JB_SetRef(C, JB_LUB[550]);
				}
				 else if ((!X) and Y) {
					JB_SetRef(C, JB_LUB[506]);
				}
				 else if ((!Y) and X) {
					JB_SetRef(C, JB_LUB[551]);
				}
				JB_TerminalDisplay_SyntaxAppend(Self, C, S, Colors);
				JB_Decr(C);
				(++S[0]);
			};
			S = ivec2{Rect[0], S[1] + 1};
		};
	};
}

JB_String* JB_TerminalDisplay_Flat(TerminalDisplay* Self) {
	int PrevCol = 0;
	{
		Array* _LoopSrcf2 = Self->Screen;
		int _if0 = 0;
		while (true) {
			Array* Line = ((Array*)JB_Array_Value(_LoopSrcf2, _if0));
			if (Line == nil) {
				break;
			}
			{
				int _if3 = 0;
				while (true) {
					JB_String* Cell = ((JB_String*)JB_Array_Value(Line, _if3));
					if (Cell == nil) {
						break;
					}
					int I = _if3;
					TerminalColor CCol = JB_Str_TerminalColor(Cell);
					if (PrevCol != CCol) {
						PrevCol = CCol;
						JB_FS_AppendTermCol(Self->fs, CCol);
					}
					JB_FS_AppendString(Self->fs, Cell);
					(JB_Array_ValueSet(Line, I, JB_LUB[60]));
					(++_if3);
				};
			}
			;
			JB_FS_AppendByte2(Self->fs, '\n');
			(++_if0);
		};
	}
	;
	return JB_FS_GetResult(Self->fs);
}

void JB_TerminalDisplay_FrameText(TerminalDisplay* Self, JB_String* S, ivec4 Frame, TerminalColor FrameCol, TerminalColor TextCol) {
	ivec2 P = ivec2{Frame[0], Frame[1]} + 1;
	{
		ivec4 _LoopSrcf1 = JB_ivec4_Shrink(Frame, 1);
		ivec2 I = ivec2{_LoopSrcf1[0], _LoopSrcf1[1]};
		while (I[1] < _LoopSrcf1[3]) {
			while (I[0] < _LoopSrcf1[2]) {
				Array* Row = ((Array*)JB_Array_Value(Self->Screen, I[1]));
				JB_Incr(Row);
				if (JB_Array_SyntaxCast(Row)) {
					(JB_Array_ValueSet(Row, I[0], JB_LUB[60]));
				}
				JB_Decr(Row);
				(++I[0]);
			};
			I = ivec2{_LoopSrcf1[0], I[1] + 1};
		};
	}
	;
	{
		int _Prevf2 = 0;
		while (((JB_String*)JB_Str_Exists((S)))) {
			Ind _Curr_f3 = JB_Str_FindCharset(S, kJB__CharSet_Line, _Prevf2, kJB__int_Max);
			JB_String* L = JB_Str_Range(S, _Prevf2, _Curr_f3, false);
			JB_Incr(L);
			JB_TerminalDisplay_SyntaxAppend(Self, L, P, TextCol);
			JB_Decr(L);
			(++P[1]);
			_Prevf2 = (_Curr_f3 + 1);
			if (!JB_Ind_SyntaxCast(_Curr_f3)) {
				break;
			}
		};
	}
	;
	JB_TerminalDisplay_DrawRect(Self, Frame, JB_LUB[0], FrameCol);
}

void JB_TerminalDisplay_SyntaxAppend(TerminalDisplay* Self, JB_String* Text, ivec2 V, TerminalColor Colors) {
	int X0 = V[0];
	{
		byte* _Startf0 = Text->Addr;
		byte* _Endf1 = _Startf0 + JB_Str_Length(Text);
		while (_Startf0 < _Endf1) {
			byte* _BeforeCharf2 = _Startf0;
			Codepoint _Valuef4 = JB_u8p_Read(&_Startf0);
			Codepoint C = _Valuef4;
			if ((C == 10) or (C == 13)) {
				(++V[1]);
				V[0] = X0;
			}
			 else if (C == ' ') {
				(++V[0]);
			}
			 else if (JB_ivec2_OperatorInrange(V, JB_TerminalDisplay_Size(Self)) and (C != ' ')) {
				if (C == 127) {
					C = ' ';
				}
				Array* Row = ((Array*)JB_Array_Value(Self->Screen, V[1]));
				JB_Incr(Row);
				if (JB_Array_SyntaxCast(Row)) {
					JB_String* _tmPf6 = JB_CP_AsString(C);
					JB_Incr(_tmPf6);
					JB_String* _tmPf5 = JB_TerminalColor_Colorise(Colors, _tmPf6);
					JB_Incr(_tmPf5);
					JB_Decr(_tmPf6);
					(JB_Array_ValueSet(Row, V[0], _tmPf5));
					JB_Decr(_tmPf5);
				}
				JB_Decr(Row);
				(++V[0]);
			}
		};
	};
}




ASMReg SC_Pac_AddConst(Assembler* Self, int Add, Message* Exp, ASMReg Base) {
	ASMReg Dest = Base;
	if (!SC_Reg_SyntaxIs(Base, kSC__Reg_Temp)) {
		Dest = SC_Reg_RegSetWithInt(Dest, 0);
	}
	Base = SC_Reg_SyntaxIsSet(Base, kSC__Reg_NoScale, true);
	return SC_Pac_AddToReg(Self, Exp, Dest, Base, Add);
}

void SC_Pac_AddFuncParams(Assembler* Self, SCFunction* Fn) {
	{
		Array* _LoopSrcf2 = Fn->Args;
		int _if0 = 0;
		while (true) {
			SCDecl* A = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (A == nil) {
				break;
			}
			SC_Pac_DeclReset(Self, A);
			SC_Pac_DeclareVar(Self, A->Source, A);
			(++_if0);
		};
	};
}

ASMReg SC_Pac_AddToReg(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg Orig, int64 Amount) {
	if ((!Dest) or (Dest == SC_Reg__New())) {
		Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, SC_Reg_xC2xB5Type(Orig));
	}
	Dest = SC_Pac_TempOnly(Self, Dest);
	ASMReg Where = SC_Reg_OperatorxE2x80xA2(Orig, Dest);
	Where = SC_Reg_SyntaxIsSet(Where, kSC__Reg_Const, true);
	Where = SC_Reg_SyntaxIsSet(Where, kSC__Reg_ContainsAddr, (!true));
	ASMReg K = SC_Pac_NumToReg(Self, Exp, Where, Amount, SC_Reg_xC2xB5Type(Orig));
	return SC_Pac_Plus(Self, Exp, Dest, Orig, K);
}

ASMReg SC_Pac_AlreadyABool(Assembler* Self, ASMReg L, ASMReg Zero) {
	if (!SC_Reg_IsZero(Zero)) {
		return nil;
	}
	FatASM* B = SC_Reg_FAT(L);
	if (B) {
		if ((SC_FAT_OperatorIsa(B, kSC__ASM_BFLG)) and SC_Pac_IsCurr(Self, B)) {
			if ((B->Prms[4] == 0) and (B->Prms[3] == 63)) {
				L = SC_Reg_xC2xB5TypeSetWithTc(L, kJB__TC_bool);
				B->Info = L;
				return L;
			}
		}
	}
	return ((ASMReg)0);
}

ASMReg SC_Pac_AskForInline(Assembler* Self, Message* Prms, ASMReg Dest, SCFunction* Fn) {
	if (Self->InlineDepth >= 7) {
		return nil;
	}
	uint N = Fn->xC2xB5FATLength;
	if (!SC_Func_SyntaxIs(Fn, kSC__FunctionType_LinkInline)) {
		if (!(N and (N < 64))) {
			return nil;
		}
		if (Self->InlineDepth >= Self->InlineDepthLimit) {
			return nil;
		}
		FatASM* MaxEnd = Self->InlineEnd;
		if (MaxEnd) {
			FatASM* SubInline = SC_Pac_Curr(Self) + (N / 3);
			if (SubInline >= MaxEnd) {
				return nil;
			}
		}
	}
	int AllowedGain = 5 + ((SC_Func_SyntaxIs(Fn, kSC__FunctionType_OptInline)) * 23);
	int Grace = 2 + (((!SC_Func_SyntaxIs(Fn, kSC__FunctionType_Constructor))) << 2);
	if (SC_Func_SyntaxIs(Fn, kSC__FunctionType_LinkInline)) {
		AllowedGain = (AllowedGain + 5);
	}
	 else if (SC_Base_IsLibrary(Fn)) {
		AllowedGain = (AllowedGain - (1 + ((SC_Func_SyntaxIs(Fn, kSC__FunctionType_OptInline)) << 2)));
	}
	AllowedGain = (AllowedGain - Self->InlineDepth);
	{
		Message* P = ((Message*)JB_Ring_First(Prms));
		while (P) {
			Grace = (Grace + (SC_Pac_IsASMConst(Self, P) << 2));
			P = ((Message*)JB_Ring_NextSib(P));
		};
		;
	}
	;
	if (((uint)(AllowedGain + Grace)) <= N) {
		if (!SC_Func_SyntaxIs(Fn, kSC__FunctionType_LinkInline)) {
			return nil;
		}
		(JB_Msg_SyntaxProblem(Prms, JB_LUB[2222]));
	}
	if (!Self->InlineDepth) {
		Self->InlineDepthLimit = 3;
		Self->DeepestInline = 0;
		Self->InlineEnd = (SC_Pac_Curr(Self) + AllowedGain);
	}
	ASMReg I = SC_Pac_TryInline(Self, Prms, Dest, Fn, AllowedGain);
	if (I) {
		return I;
	}
	if (!((!Self->InlineDepth) and (Self->DeepestInline > 1))) {
		return nil;
	}
	Self->InlineDepthLimit = 1;
	return SC_Pac_TryInline(Self, Prms, Dest, Fn, AllowedGain);
}

void SC_Pac_AskNop(Assembler* Self, FatASM* ToNop) {
	if (ToNop->xC2xB5RefCount <= 0) {
		SC_Pac_Nop(Self, ToNop);
	}
}

void SC_Pac_AskNopTemp(Assembler* Self, ASMReg R) {
	if (SC_Reg_SyntaxIs(R, kSC__Reg_Temp)) {
		FatASM* F = SC_Reg_FAT(R);
		if (F) {
			return SC_Pac_AskNop(Self, F);
		}
	}
}

ASMReg SC_Pac_ASMBoolMaker(Assembler* Self, Message* Exp, ASMReg Dest, OpMode Opp) {
	Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, kJB__TC_bool);
	Message* A = ((Message*)JB_Ring_First(Exp));
	Message* B = ((Message*)JB_Ring_Last(Exp));
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_CondRequest)) {
		if (SC_OpMode_SyntaxIs(Opp, kSC__OpMode_OR)) {
			return SC_Pac_BranchOr(Self, A, B, Dest);
		}
		return SC_Pac_BranchAnd(Self, A, B, Dest);
	}
	return SC_Pac_BoolAndOrOpt(Self, A, B, Dest, Opp);
}

void SC_Pac_ASMInit(Assembler* Self) {
	if (Self->Inited) {
		return;
	}
	Self->Inited = true;
	if (SC__Options_TargetDebug) {
		if (SC__Options_StripNames) {
			(JB_Str_SyntaxProblem(JB_LUB[2268]));
			SC__Options_StripNames = false;
		}
		JB_SetRef(SC__Pac_DebugDecls, JB_FS_Constructor(nil));
	}
	SC_VM_Builder__JustDefineInstructions();
	SC_Instruction__InstructionInit();
	SC_ASMType__InitAccess();
	SC_Instruction_Const(SC_Instruction__SyntaxAccessWithInt(kSC__ASM_KNSR));
	SC__ASM_Encoders[kSC__ASM_HALT] = SC_FAT_Halt_Encoder;
	SC__ASM_Encoders[kSC__ASM_NOOP] = SC_FAT_Nop_Encoder;
	SC__ASM_Encoders[kSC__ASM_MARK] = SC_FAT_Nop_Encoder;
	SC_Pac_Knst(Self, kSC__ASM_KNST);
	SC_Pac_Knst(Self, kSC__ASM_KNST2);
	SC_Pac_Knst(Self, kSC__ASM_KNST3);
	return;
}

void SC_Pac_ASMReach(Assembler* Self, SCFunction* Fn) {
	SCFunction* Orig = Self->Out;
	if (Orig->MyReacher and (!SC_Base_IsLibrary(Orig))) {
		(SC_Func_SyntaxIsSet(Fn, kSC__FunctionType_UsedByASM, true));
		if (SC_Func_SyntaxIs(Fn, kSC__FunctionType_Constructor)) {
			Fn = Fn->Cls->DestructorFunc;
			if (Fn) {
				(SC_Func_SyntaxIsSet(Fn, kSC__FunctionType_UsedByASM, true));
			}
		}
	}
}

ASMReg SC_Pac_Assign(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg Src) {
	if (SC_Reg_OperatorIz(Src, Dest)) {
		return Dest;
	}
	if ((!SC_Reg_Reg(Src)) and ((!SC_Reg_SyntaxIs(Src, kSC__Reg_Const)))) {
		Src = SC_Reg_SyntaxIsSet(Src, kSC__Reg_Const, true);
	}
	ASMReg Improve = SC_Pac_ImproveAssign(Self, Dest, Src);
	if (Improve) {
		return Improve;
	}
	if (SC_Reg_IsVec(Dest)) {
		return SC_FAT_AsReg(SC_Msg_VMOV(Exp, Dest, Src, nil, nil), Dest);
	}
	if (SC_Reg_SyntaxIs(Src, kSC__Reg_Const)) {
		int64 K = SC_Reg_Const(Src);
		return SC_Pac_LoadNumber(Self, Exp, K, JB_TC_SpecialReg(SC_Reg_xC2xB5Type(Src)), Dest);
	}
	if (SC_Reg_IsFloat(Src)) {
		return SC_FAT_AsReg(SC_Msg_FADD(Exp, Dest, Src, SC_Reg__New(), SC_Reg__New(), 1 - SC_Reg_FourBytes(Src)), Dest);
	}
	int Sh = SC_Reg_BitCount(Src) - SC_Reg_BitCount(Dest);
	if (Sh >= 0) {
	}
	 else if (SC_Reg_Signed(Src)) {
		Sh = (64 - SC_Reg_BitCount(Src));
	}
	 else {
		Sh = 0;
	}
	Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_Const, (!true));
	int Sign = ((int)SC_Reg_Signed(Src));
	ASMReg Merge = SC_Pac_MergeBFLG(Self, Exp, Dest, Src, Sh, Sh, Sign);
	if (Merge) {
		return Merge;
	}
	return SC_FAT_AsReg(SC_Msg_BFLG(Exp, Dest, Src, Sh, Sh, Sign), Dest);
}

void SC_Pac_BackCond(Assembler* Self, FatASM* Start) {
	FatASM* L = SC_Pac_LastWith0(Self);
	if (L < Start) {
		return;
	}
	uint Bb = L->BasicBlock;
	SC_Pac_Nop(Self, L);
	(--L);
	if ((L->BasicBlock == Bb) and ((L >= Start) and SC_FAT_SyntaxIs(L, kSC__Reg_Const))) {
		SC_Pac_Nop(Self, L);
	}
}

ASMReg SC_Pac_BFLG(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg Src, int Up, int Down) {
	int SrcBits = SC_Reg_BitCount(Src);
	if (((Up > SrcBits) or (Down > SrcBits)) and (!SC_Reg_IsBool(Src))) {
		(JB_Msg_SyntaxProblem(Exp, JB_LUB[1944]));
	}
	if ((!Up) and (!Down)) {
		return SC_Reg_xC2xB5TypeSetWithReg(Src, Dest);
	}
	int Extra = 64 - SrcBits;
	Up = (Up + Extra);
	Down = (Down + Extra);
	return SC_Pac_BFLG_Sub(Self, Exp, Dest, Src, Up, Down, SC_Reg_Signed(Src));
}

ASMReg SC_Pac_BFLG_Sub(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg Src, int Up, int Down, bool Sign) {
	if ((!Up) and ((!Down) and SC_Reg_OperatorIz(Dest, Src))) {
		return Dest;
	}
	if (SC_Reg_IsZero(Src) or ((Up >= 64) or ((!SC_Reg_Signed(Src)) and (Down >= 64)))) {
		return SC_Pac_Zeros(Self, Dest);
	}
	if (Down >= 64) {
		Down = 63;
	}
	ASMReg Merge = SC_Pac_MergeBFLG(Self, Exp, Dest, Src, Up, Down, ((int)Sign));
	if (Merge) {
		return Merge;
	}
	FatASM* Fat = SC_Msg_BFLG(Exp, Dest, Src, Up, Down, ((int)Sign));
	return SC_FAT_Vectorise(Fat, Dest, kSC__ASM_QFLG);
}

ASMReg SC_Pac_BitAnd(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Const)) {
		return SC_Pac_MakeConstFromTwo(Self, Exp, Dest, L, R, ((fn_ASMConstifier)(SC_ConstifyBitAnd)));
	}
	if (SC_Reg_OperatorIz(L, R)) {
		return L;
	}
	ASMReg K = SC_Pac_BitAndNop(Self, Exp, Dest, L, R);
	if (K) {
		return K;
	}
	K = SC_Pac_BitAndNop(Self, Exp, Dest, R, L);
	if (K) {
		return K;
	}
	if (SC_Reg_SyntaxIs(L, kSC__Reg_Const)) {
		JB_Swap((L), (R));
	}
	if (0) {
		SC_Msg_QAND(Exp, nil, nil, nil, nil);
	}
	return SC_Pac_BitMaker(Self, Dest, L, R, Exp, kSC__ASM_BAND, kSC__ASM_QAND);
}

ASMReg SC_Pac_BitAndNop(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (!SC_Reg_SyntaxIs(L, kSC__Reg_Const)) {
		return nil;
	}
	int64 K = SC_Reg_Const(L);
	if (SC_Pac_NopConstWithRegInt64(Self, L, -1)) {
		return R;
	}
	if (K == 0) {
		return SC_Pac_Zeros(Self, Dest);
	}
	return ((ASMReg)0);
}

ASMReg SC_Pac_BitMaker(Assembler* Self, ASMReg Dest, ASMReg L, ASMReg R, Message* Exp, ASM Opp, ASM VOpp) {
	if (kSC__ASM_BORK != (kSC__ASM_BORR + 4)) {
	}
	if ((SC_Reg_Reg(R)) and ((Opp != kSC__ASM_BNOT) and ((!SC_Reg_IsVec(Dest))))) {
		if (Opp == kSC__ASM_BAND) {
			int B = SC_Pac_CanBAND_BFLG(Self, R);
			if (B) {
				return SC_Pac_BFLG_Sub(Self, Exp, Dest, L, B, B, false);
			}
		}
		Ind K = SC_Pac_Const(Self, R, 14, true);
		if (JB_Ind_SyntaxCast(K)) {
			if (0) {
				SC_Msg_BORK(Exp, nil, nil, nil);
				SC_Msg_BXRK(Exp, nil, nil, nil);
			}
			FatASM* Fat = SC_Msg_BANK(Exp, Dest, L, K);
			Fat->_Op = (Opp + 4);
			return SC_FAT_AsReg(Fat, Dest);
		}
	}
	int Clear = SC_Reg_BitCount(L) - SC_Reg_BitCount(R);
	if (Clear < 0) {
		JB_Swap((L), (R));
		Clear = (-Clear);
	}
	if (Clear and (SC_Reg_Signed(R) and (!SC_Reg_IsBitCorrect(L)))) {
		R = SC_Msg_ExpandBits(Exp, R, SC_Reg_xC2xB5Type(L));
		Clear = 0;
	}
	FatASM* Fat = SC_Msg_BAND(Exp, Dest, L, R, Clear);
	Fat->_Op = Opp;
	return SC_FAT_Vectorise(Fat, Dest, VOpp);
}

ASMReg SC_Pac_BitNot(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (SC_Reg_Reg(R)) {
	}
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Const)) {
		return SC_Pac_MakeConstFromTwo(Self, Exp, Dest, L, SC_Reg__New(), ((fn_ASMConstifier)(SC_ConstifyBitNot)));
	}
	if (0) {
		SC_Msg_BNOT(Exp, nil, nil, nil, nil);
		SC_Msg_QNOT(Exp, nil, nil, nil, nil);
	}
	return SC_Pac_BitMaker(Self, Dest, L, SC_Reg__New(), Exp, kSC__ASM_BNOT, kSC__ASM_QNOT);
}

ASMReg SC_Pac_BitOr(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Const)) {
		return SC_Pac_MakeConstFromTwo(Self, Exp, Dest, L, R, ((fn_ASMConstifier)(SC_ConstifyBitOr)));
	}
	if (SC_Reg_SyntaxIs(L, kSC__Reg_Const)) {
		JB_Swap((L), (R));
	}
	if (!SC_Reg_SyntaxIs(Dest, kSC__Reg_Textual)) {
		ASMReg F = SC_Pac_MiniBOR(Self, L, R, Dest);
		if (F) {
			return F;
		}
	}
	if (0) {
		SC_Msg_BORR(Exp, nil, nil, nil, nil);
		SC_Msg_QORR(Exp, nil, nil, nil, nil);
	}
	return SC_Pac_BitMaker(Self, Dest, L, R, Exp, kSC__ASM_BORR, kSC__ASM_QORR);
}

ASMReg SC_Pac_BitXor(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Const)) {
		return SC_Pac_MakeConstFromTwo(Self, Exp, Dest, L, R, ((fn_ASMConstifier)(SC_ConstifyBitXor)));
	}
	if (SC_Reg_OperatorIz(L, R)) {
		return SC_Pac_Zeros(Self, Dest);
	}
	if (SC_Reg_IsZero(L)) {
		return R;
	}
	if (SC_Reg_IsZero(R)) {
		return L;
	}
	if (SC_Reg_SyntaxIs(L, kSC__Reg_Const)) {
		JB_Swap((L), (R));
	}
	if (0) {
		SC_Msg_BXOR(Exp, nil, nil, nil, nil);
		SC_Msg_QXOR(Exp, nil, nil, nil, nil);
	}
	return SC_Pac_BitMaker(Self, Dest, L, R, Exp, kSC__ASM_BXOR, kSC__ASM_QXOR);
}

ASMReg SC_Pac_BoolAndOrOpt(Assembler* Self, Message* A, Message* B, ASMReg Dest, OpMode Opp) {
	FatASM* Start = SC_Pac_Curr(Self);
	ASMReg Bowl = SC_Pac_BoolAndOrValue(Self, A, B, Dest, Opp);
	FatASM* Last = SC_Pac_LastWith0(Self);
	if ((Start + 2) != Last) {
		return Bowl;
	}
	ASM Middle = SC_FAT_Op((Start + 1));
	if (!((SC_FAT_OperatorIsa(Start, kSC__ASM_EQUL)) and ((SC_FAT_OperatorIsa(Last, kSC__ASM_EQUL)) and ((Middle == kSC__ASM_JBOR) or (Middle == kSC__ASM_JBAN))))) {
		if (0) {
			SC_Msg_JBOR(A, nil, nil, nil);
			SC_Msg_JBAN(A, nil, nil, nil);
		}
		return Bowl;
	}
	ASMParam nA = Start->Prms[3];
	ASMParam nB = Last->Prms[3];
	ASMReg rA = SC_FAT_ASMReg(Start, 2);
	ASMReg rB = SC_FAT_ASMReg(Last, 2);
	if ((!SC_ASMParam_Reg(SC_FAT_p1(Start))) and ((!SC_ASMParam_Reg(SC_FAT_p1(Last))) and (SC_Reg_OperatorIz(rA, rB)))) {
		0;
	}
	 else {
		if (!(SC_uint_EqulInputsAreBothBool(nA) and SC_uint_EqulInputsAreBothBool(nB))) {
			return Bowl;
		}
	}
	nA = (nA & 1);
	if (nA == (nB & 1)) {
		SC_Pac_SoftNopRange(Self, Start + 1, Last + 1);
		if (SC_Reg_OperatorIz(rA, rB)) {
			return Bowl;
		}
		(SC_FAT_Prm(Start, 1, rB));
		Start->Prms[3] = 63;
		Start->_Op = ((ASM)JB_Ternary((Middle == kSC__ASM_JBAN) == (nA == 0), kSC__ASM_BAND, kSC__ASM_BORR));
		if (nA) {
			SC_Msg_BNOT(((Message*)JB_Ring_Parent(A)), Dest, nil, Dest, 63);
		}
		return Start->Info;
	}
	return Bowl;
}

ASMReg SC_Pac_BoolAndOrValue(Assembler* Self, Message* A, Message* B, ASMReg Dest, OpMode Opp) {
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Negate)) {
		(Opp = (Opp ^ kSC__OpMode_AndOr));
		Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_AlreadyNegated, true);
	}
	ASMReg Tmp = SC_Pac_UniqueLocation(Self, A, Dest, B);
	return SC_Pac_BoolAndOrValueSub(Self, A, B, Tmp, Opp);
}

ASMReg SC_Pac_BoolAndOrValueSub(Assembler* Self, Message* A, Message* B, ASMReg Dest, OpMode Opp) {
	ASMReg First = SC_Pac_xC2xB5BoolInto(Self, A, Dest);
	if (SC_Reg_SyntaxIs(First, kSC__Reg_Const)) {
		return SC_Reg_BoolAnswer(SC_Pac_BoolConst1(Self, B, Dest, Opp, First));
	}
	FatASM* JUMP = SC_Pac_BoolTestAndJump(Self, A, First, Opp);
	ASMReg Second = SC_Pac_xC2xB5BoolInto(Self, B, Dest);
	if (SC_Reg_SyntaxIs(Second, kSC__Reg_Const)) {
		return SC_Reg_BoolAnswer(SC_Pac_BoolConst2(Self, First, Second, Opp, JUMP));
	}
	SC_FAT_JumpToSet(JUMP, SC_Pac_Curr(Self));
	if (SC_Reg_IsBool(First) and SC_Reg_IsBool(Second)) {
		return SC_Reg_BoolAnswer(Dest);
	}
	return SC_Pac_Exists(Self, Dest, Dest, ((Message*)JB_Ring_NextSib(A)));
}

ASMReg SC_Pac_BoolConst1(Assembler* Self, Message* B, ASMReg Dest, OpMode Opp, ASMReg Ml) {
	bool V = (SC_Reg_Const(Ml) != 0) != (SC_Reg_SyntaxIs(Dest, kSC__Reg_Negate));
	bool Expect = SC_OpMode_SyntaxIs(Opp, kSC__OpMode_OR);
	if (V == Expect) {
		Ml = SC_Reg_xC2xB5TypeSetWithTc(Ml, kJB__TC_bool);
		return SC_Pac_SetConst(Self, B, ((int)V), Ml, Dest);
	}
	SC_Pac_NopReg(Self, Ml);
	ASMReg Mr = SC_Pac_xC2xB5(Self, B, Dest);
	if (SC_Reg_SyntaxIs(Mr, kSC__Reg_Const)) {
		Mr = SC_Reg_xC2xB5TypeSetWithTc(Mr, kJB__TC_bool);
		V = ((SC_Reg_Const(Mr) != 0) != (SC_Reg_SyntaxIs(Dest, kSC__Reg_Negate)));
		return SC_Pac_SetConst(Self, B, ((int)V), Mr, Dest);
	}
	if (SC_Reg_IsBool(Mr)) {
		return Mr;
	}
	return SC_Pac_Exists(Self, Dest, Mr, B);
}

ASMReg SC_Pac_BoolConst2(Assembler* Self, ASMReg Ml, ASMReg Kr, OpMode Opp, FatASM* Jump) {
	bool V = SC_Reg_Const(Kr) != 0;
	if (V == (SC_OpMode_SyntaxIs(Opp, kSC__OpMode_AND))) {
		SC_Pac_SoftNop(Self, Jump);
		SC_Pac_NopReg(Self, Kr);
		return Ml;
	}
	SC_Pac_Nop(Self, Jump);
	return Kr;
}

ASMReg SC_Pac_BoolMul(Assembler* Self, ASMReg Dest, ASMReg Bule, ASMReg V, Message* Exp) {
	ASMReg Rz = ((ASMReg)0);
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Const)) {
		return SC_Pac_MakeConstFromTwo(Self, Exp, Dest, Bule, V, ((fn_ASMConstifier)(SC_ConstifyBoolMul)));
	}
	Rz = SC_Pac_QuickIntMul(Self, Exp, Dest, Bule, V);
	if (!Rz) {
		Rz = SC_FAT_AsReg(SC_Msg_TERN(Exp, Dest, Bule, V, SC_Reg__New(), ((int)SC_Reg_IsSmall(Bule))), Dest);
	}
	return Rz;
}

FatASM* SC_Pac_BoolTestAndJump(Assembler* Self, Message* Exp, ASMReg Req, OpMode Opp) {
	ASMReg Mode = SC_Reg_Negate(kSC__Reg_CondRequest, SC_OpMode_SyntaxIs(Opp, kSC__OpMode_OR));
	return SC_Reg_FAT(SC_Pac_Exists(Self, Mode, Req, Exp));
}

ASMReg SC_Pac_Branch(Assembler* Self, Message* Cond, FatRange* Range, bool Neg) {
	ASMReg Rz = ((ASMReg)0);
	Range->Start = SC_Pac_Curr(Self);
	ASMReg Mode = SC_Reg_Negate(kSC__Reg_CondRequest, Neg);
	Rz = SC_Pac_xC2xB5(Self, Cond, Mode);
	if (!SC_Reg_SyntaxIs(Rz, kSC__Reg_CondAnswer)) {
		Rz = SC_Pac_Exists(Self, Mode, Rz, Cond);
	}
	if (SC_Reg_SyntaxIs(Rz, kSC__Reg_Const)) {
		Range->Constness = ((MaybeBool)(SC_Reg_Const(Rz) != 0));
		if (SC_Reg_SyntaxIs(Rz, kSC__Reg_Const)) {
			SC_Pac_BackCond(Self, Range->Start);
		}
	}
	 else {
		Range->Constness = JB_MaybeBool__Default(false);
	}
	Range->After = SC_Pac_Curr(Self);
	return Rz;
}

ASMReg SC_Pac_BranchAnd(Assembler* Self, Message* A, Message* B, ASMReg Dest) {
	FatRange AndTest = ((FatRange){});
	ASMReg First = SC_Pac_Branch(Self, A, (&AndTest), SC_Reg_SyntaxIs(Dest, kSC__Reg_Negate));
	if (SC_FatRange_Never((&AndTest))) {
		return First;
	}
	ASMReg Second = SC_Pac_Branch(Self, B, (&AndTest), SC_Reg_SyntaxIs(Dest, kSC__Reg_Negate));
	if (!SC_Reg_SyntaxIs(First, kSC__Reg_Const)) {
		return First;
	}
	return Second;
}

ASMReg SC_Pac_BranchOr(Assembler* Self, Message* A, Message* B, ASMReg Dest) {
	FatRange OrTest = ((FatRange){});
	ASMReg First = SC_Pac_Branch(Self, A, (&OrTest), (!SC_Reg_SyntaxIs(Dest, kSC__Reg_Negate)));
	MaybeBool KF = JB_MaybeBool_Negate(OrTest.Constness);
	if (JB_MaybeBool_KnownTrue(KF)) {
		FatASM* Fake = SC_Msg_NOOP(A);
		(SC_FAT_ConstSet(Fake, ((int)KF)));
		First = SC_Reg_SyntaxIsSet(First, kSC__Reg_CondAnswer, true);
		First = SC_Reg_FatIndexSet(First, SC_FAT_Index(Fake));
		return SC_Reg_BoolAnswer(First);
	}
	FatRange Br2 = ((FatRange){});
	ASMReg Second = SC_Pac_Branch(Self, B, (&Br2), SC_Reg_SyntaxIs(Dest, kSC__Reg_Negate));
	SC_Pac_BranchToCurr(Self, (&OrTest));
	if (SC_FatRange_Always((&Br2))) {
		return Second;
	}
	if (JB_MaybeBool_KnownFalse(KF)) {
		return Second;
	}
	return First;
}

void SC_Pac_BranchToCurr(Assembler* Self, FatRange* Range) {
	return SC_FatRange_JumpTo(Range, SC_Pac_Curr(Self));
}

ASMReg SC_Pac_CallFunc(Assembler* Self, Message* Exp, ASMReg Dest, SCFunction* Fn) {
	SC_Pac_ASMReach(Self, Fn);
	uint Vd = SC_Pac_vdecls(Self);
	int V = JB_uint_Log2(Vd);
	bool Diff = ((!V) or (SC_Reg_Reg(Dest) != V));
	V = (V + Diff);
	Vd = (Vd | (1 << V));
	(SC_Pac_vdeclsSet(Self, Vd));
	if (!((V < 32) and (!(Vd & SC_Pac_vtemps(Self))))) {
		JB_Msg_Fail(Exp, JB_LUB[1014]);
	}
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_ExitAtAll)) {
		if (SC_Pac_State(Self)->Return) {
			V = JB_int_OperatorMax(1, (JB_uint_Log2(((uint)SC_Pac_State(Self)->ParentVars))));
		}
	}
	Dest = SC_Reg_RegSetWithInt(Dest, V);
	ASMReg Ty = SC_Func_ASMReturnWithReg(Fn, Dest);
	return SC_Reg_ReallySimplify(Ty);
}

bool SC_Pac_CanAddK(Assembler* Self, ASMReg R, int64 T) {
	if (!((SC_Reg_SyntaxIs(R, kSC__Reg_Const)) and SC_Reg_IsInt(R))) {
		return nil;
	}
	if (!SC_int64_CanStoreAsAddK(T)) {
		return nil;
	}
	if (SC_Reg_SyntaxIs(R, kSC__Reg_Const)) {
		SC_Pac_NopConstWithReg(Self, R);
	}
	return true;
}

int SC_Pac_CanBAND_BFLG(Assembler* Self, ASMReg R) {
	if (SC_Reg_SyntaxIs(R, kSC__Reg_Const)) {
		int64 K = SC_Reg_Const(R);
		if (K and JB_int64_IsPow2(((++K)))) {
			SC_Pac_NopConstWithReg(Self, R);
			return 64 - JB_int64_Log2(K);
		}
	}
	return 0;
}

Ind SC_Pac_CanMergeBits(Assembler* Self, int UpA, int DownA, int UpB, int DownB, int Total) {
	if (DownA > UpA) {
		if (UpB > DownB) {
			return -1;
		}
	}
	uint64 MaxB = -1;
	uint64 Target = (MaxB << UpA) >> DownA;
	Target = ((Target << UpB) >> DownB);
	{
		int Up = 0;
		while (Up < 64) {
			int Down = Up - Total;
			if (((uint)Down) < 64) {
				uint64 C = MaxB << Up;
				uint64 D = C >> Down;
				if (D == Target) {
					return Up;
				}
			}
			(++Up);
		};
	}
	;
	return -1;
}

FatASM* SC_Pac_CanOptDecr(Assembler* Self, ASMReg Obj, FatASM* Last) {
	if (!SC_FAT_OperatorIsa(Last, kSC__ASM_RFUN)) {
		return nil;
	}
	if (!((!SC_FAT_RegOnly(Last, 0)) and (!SC_FAT_RegOnly(Last, 1)))) {
		return nil;
	}
	ASMParam Upon = SC_FAT_p2(Last);
	if (!SC_ASMParam_OperatorIz(Upon, Obj)) {
		return nil;
	}
	FatASM* Uponfat = SC_FAT_InputFat(Last, 2);
	if (Uponfat) {
		if (SC_FAT_IsRead(Uponfat) and (Uponfat->BasicBlock == Self->BasicBlock)) {
			SC_Pac_SoftNop(Self, Last);
			return Last + 1;
		}
	}
	(SC_FAT_p1Set(Last, Upon));
	(SC_FAT_p2Set(Last, 0));
	return Last;
}

void SC_Pac_CapASM(Assembler* Self) {
	SCFunction* Fn = Self->Out;
	int N = SC_Pac_FnLength(Self);
	Fn->xC2xB5FATLength = N;
	(JB_Mrap_LengthSet(SC__Pac_JSM, SC_Pac_Curr(Self) - Self->Start));
}

bool SC_Pac_ClearAllStructs(Assembler* Self, Message* Exp) {
	{
		int I = 0;
		while (I < 32) {
			FatASM* Fat = SC_Pac_Register(Self, I);
			if (Fat) {
				SC_Pac_ClearStruct(Self, Exp, Fat, I);
			}
			(++I);
		};
	}
	;
	return false;
}

void SC_Pac_ClearGRABbedAndTrampled(Assembler* Self, Message* Prms, ASMReg Dest, FatASM* Start) {
	if (0) {
		SC_Msg_FNC3(Prms, nil, nil, nil, nil);
		SC_Msg_FNCX3(Prms, nil, nil, nil, nil);
	}
	FatASM* C = SC_Pac_LastWith0(Self) - 1;
	while (C >= Start) {
		if (SC_FAT_OperatorIsa(C, kSC__ASM_GRAB)) {
			ASMParam Id = C->Prms[5];
			if (Id == Self->CurrFuncGrab) {
				SC_Pac_RegClear(Self, Prms, C, SC_FAT_RegOnly(C, 0));
			}
		}
		(--C);
	};
	if (1) {
		return;
	}
	int I = SC_Reg_Reg(Dest);
	while ((++I) <= 31) {
		SC_Pac_SetRegister(Self, I, nil, nil);
	};
}

bool SC_Pac_ClearStruct(Assembler* Self, Message* Exp, FatASM* Fat, int V) {
	if (Exp and SC_FAT_OperatorIsa(Fat, kSC__ASM_ALLO)) {
		SC_ASMType__AllocBearStruct(-1, ((Message*)JB_Tree_FlatLast(Exp)), SC_int_ToASM(V), SC_FAT_RegOnly(Fat, 1) << 4);
		SC_Pac_SetRegister(Self, V, nil, nil);
	}
	return true;
}

bool SC_Pac_CloseOneVar(Assembler* Self, Message* Exp, uint Missing) {
	uint Curr = SC_Pac_vdecls(Self);
	uint T = SC_Pac_vtemps(Self);
	uint Extra = Curr & Missing;
	bool IsReal = true;
	if (!Extra) {
		Curr = T;
		Extra = (Curr & Missing);
		if (!Extra) {
			return nil;
		}
		IsReal = false;
	}
	int V = JB_uint_Log2(Extra);
	int V_bits = 1 << V;
	int Result = Curr & (~V_bits);
	Self->Regs.KnownMap = (Self->Regs.KnownMap & (~V_bits));
	if (IsReal) {
		(SC_Pac_vdeclsSet(Self, Result));
		if (Self->RegDebugInfo & V_bits) {
			SC_Pac_MarkVarClosed(Self, V_bits);
		}
	}
	 else {
		(SC_Pac_vtempsSet(Self, Result));
	}
	FatASM* Fat = SC_Pac_Register(Self, V);
	if (Fat) {
		if (Exp) {
			SC_Pac_SetRegister(Self, V, nil, nil);
		}
		return SC_Pac_ClearStruct(Self, Exp, Fat, V);
	}
	return true;
}

ASMReg SC_Pac_CloseVars(Assembler* Self, uint64 Orig, Message* Exp, ASMReg Return) {
	uint64 OrigTemps = (Orig >> 32);
	uint64 OrigDecls = (Orig << 32) >> 32;
	uint64 Missing = (~(OrigTemps | OrigDecls));
	while (SC_Pac_CloseOneVar(Self, Exp, Missing)) {
		0;
	};
	Missing = (OrigDecls & (~SC_Pac_vdecls(Self)));
	if ((!Exp) or (!Missing)) {
		return Return;
	}
	(SC_Pac_vdeclsSet(Self, SC_Pac_vdecls(Self) | Missing));
	return Return;
}

ASMReg SC_Pac_Compare(Assembler* Self, ASMReg Dest, ASMReg L, ASMReg R, Message* Exp, int Mode) {
	if (SC_Reg_IsInt(L)) {
		return SC_Pac_CompareInt(Self, Dest, L, R, Exp, Mode);
	}
	return SC_Pac_CompareFloat(Self, Dest, L, R, Exp, Mode);
}

ASMReg SC_Pac_CompareFloat(Assembler* Self, ASMReg Dest, ASMReg L, ASMReg R, Message* Exp, int Mode) {
	Mode = (Mode | (SC_Reg_IsBig(R) << 2));
	Mode = (Mode ^ (SC_Reg_SyntaxIs(Dest, kSC__Reg_Negate)));
	Dest = SC_Reg_BoolNegateAnswer(Dest);
	if (SC_Reg_SyntaxIs(L, kSC__Reg_Const) and SC_Reg_SyntaxIs(R, kSC__Reg_Const)) {
		return SC_Pac_ConstCompareFloat(Self, Dest, L, R, Exp, Mode);
	}
	if (!SC_Reg_SyntaxIs(Dest, kSC__Reg_CondRequest)) {
		return SC_FAT_AsReg(SC_Msg_CMPF(Exp, Dest, L, R, Mode), Dest);
	}
	Dest = SC_Reg_BoolCondAnswer(Dest);
	Mode = (Mode ^ 1);
	return SC_FAT_AsReg(SC_Msg_JMPF(Exp, L, R, Mode, 0), Dest);
}

ASMReg SC_Pac_CompareInt(Assembler* Self, ASMReg Dest, ASMReg L, ASMReg R, Message* Exp, int Mode) {
	if (Mode > 1) {
	}
	Mode = (Mode | ((!SC_Reg_Signed(R)) << 1));
	Mode = (Mode ^ (SC_Reg_SyntaxIs(Dest, kSC__Reg_Negate)));
	Dest = SC_Reg_BoolNegateAnswer(Dest);
	if (SC_Reg_SyntaxIs(L, kSC__Reg_Const) and SC_Reg_SyntaxIs(R, kSC__Reg_Const)) {
		return SC_Pac_ConstCompareInt(Self, Dest, L, R, Exp, Mode);
	}
	Mode = (Mode | (SC_Reg_IsSmall(L) << 2));
	Mode = (Mode | (SC_Reg_IsSmall(R) << 3));
	if (!SC_Reg_SyntaxIs(Dest, kSC__Reg_CondRequest)) {
		return SC_FAT_AsReg(SC_Msg_CMPI(Exp, Dest, L, R, Mode), Dest);
	}
	Dest = SC_Reg_BoolCondAnswer(Dest);
	Mode = (Mode ^ 1);
	ASMReg Kk = SC_Pac_JumpIntK(Self, Dest, L, R, Exp, Mode);
	if (Kk) {
		return Kk;
	}
	return SC_FAT_AsReg(SC_Msg_JMPI(Exp, L, R, Mode, 0), Dest);
}

Ind SC_Pac_Const(Assembler* Self, ASMReg R, int Bits, bool Signed) {
	if (SC_Reg_Reg(R) == 0) {
		return 0;
	}
	if (SC_Reg_SyntaxIs(R, kSC__Reg_Const)) {
		int64 K = SC_Reg_Const(R);
		if (SC_int64_Fits(K, Bits, Signed)) {
			SC_Pac_NopConstWithReg(Self, R);
			return SC_uint64_Trim(((uint64)K), Bits);
		}
	}
	return -1;
}

ASMReg SC_Pac_ConstCompareFloat(Assembler* Self, ASMReg Dest, ASMReg L, ASMReg R, Message* Exp, int Mode) {
	SC_Pac_Nop2Consts(Self, R, L);
	bool Result = SC_Pac_ConstCompareFloatSub(Self, L, R, Mode);
	return SC_Pac_NumToReg(Self, Exp, SC_Reg_BoolAnswer(Dest), ((int)Result), kJB__TC_bool);
}

bool SC_Pac_ConstCompareFloatSub(Assembler* Self, ASMReg L, ASMReg R, int Mode) {
	if (!(Mode & 4)) {
		float A = SC_Reg_F32(L);
		float B = SC_Reg_F32(R);
		if (Mode <= 1) {
			if (Mode == 0) {
				return A > B;
			}
			return A <= B;
		}
		if (Mode == 2) {
			return A == B;
		}
		return A != B;
	}
	Float64 A = SC_Reg_F64(L);
	Float64 B = SC_Reg_F64(R);
	Mode = (Mode - 4);
	if (Mode <= 1) {
		if (Mode == 0) {
			return A > B;
		}
		return A <= B;
	}
	if (Mode == 2) {
		return A == B;
	}
	return A != B;
}

ASMReg SC_Pac_ConstCompareInt(Assembler* Self, ASMReg Dest, ASMReg L, ASMReg R, Message* Exp, int Mode) {
	SC_Pac_Nop2Consts(Self, R, L);
	bool Result = SC_Pac_ConstCompareIntSub(Self, L, R, Mode);
	return SC_Pac_NumToReg(Self, Exp, SC_Reg_BoolAnswer(Dest), ((int)Result), kJB__TC_bool);
}

bool SC_Pac_ConstCompareIntSub(Assembler* Self, ASMReg L, ASMReg R, int Mode) {
	int64 A = SC_Reg_Const(L);
	int64 B = SC_Reg_Const(R);
	if (Mode <= 1) {
		if (Mode == 0) {
			return A > B;
		}
		return A <= B;
	}
	if (Mode == 2) {
		return A == B;
	}
	return A != B;
}

ASMReg SC_Pac_Continue(Assembler* Self, Message* Exp, ASMReg Dest) {
	FatASM* J = SC_Msg_JUMP(Exp, nil);
	J->_Const = kSC__Pac_kContinue;
	return ((ASMReg)0);
}

FatASM* SC_Pac_CopyMemory(Assembler* Self, int Index, Message* Exp, ASMReg Src, ASMReg Dest, ASMReg Vara, SCDecl* D) {
	if (SC_Reg_Reg(Vara)) {
		Dest = SC_Pac_IncrPointerByVar(Self, nil, Dest, Vara, Exp);
	}
	int Amount = JB_int_OperatorMax(SC_Decl_SizeOfQuery(D), 1);
	if (Index) {
		Dest = SC_Pac_AddConst(Self, Index * Amount, Exp, Dest);
	}
	if (Amount > (1 << 14)) {
		JB_Msg_Fail(Exp, JB_LUB[2083]);
	}
	return SC_Msg_WCPY(Exp, Src, Dest, Amount & ((1 << 14) - 1));
}

FatASM* SC_Pac_Curr(Assembler* Self) {
	return Self->Curr_;
}

int SC_Pac_CurrGain(Assembler* Self, FatASM* Start) {
	int Rz = 0;
	FatASM* C = SC_Pac_Curr(Self);
	while (Start < C) {
		Rz = (Rz + SC_FAT_GuessSize(Start));
		(++Start);
	};
	return Rz;
}

ASMReg SC_Pac_DeclareBody(Assembler* Self, Message* Where, SCDecl* Type) {
	return SC_Pac_DeclareVar(Self, Where, Type);
}

ASMReg SC_Pac_DeclareMe(Assembler* Self, Message* Where, ASMReg V) {
	uint D = SC_Pac_vdecls(Self);
	uint FreeBit = JB_uint_LowestBit(((~D)));
	D = (D | FreeBit);
	V = SC_Reg_RegSetWithInt(V, JB_uint_Log2(FreeBit));
	(SC_Pac_vdeclsSet(Self, D));
	if (!(FreeBit and (!(D & SC_Pac_vtemps(Self))))) {
		JB_Msg_Fail(Where, JB_LUB[1015]);
	}
	return V;
}

ASMReg SC_Pac_DeclareVar(Assembler* Self, Message* Where, SCDecl* Type) {
	ASMReg Rz = ((ASMReg)0);
	Rz = SC_Decl_CalculateASMType(Type);
	ASMReg Ret = SC_Pac_IsOnlyVarThatWeReturn(Self, Type);
	if (Ret) {
		return Ret;
	}
	Rz = SC_Pac_DeclareMe(Self, Where, Rz);
	(SC_Decl_WholeTypeSet(Type, Rz));
	return Rz;
}

void SC_Pac_DeclReset(Assembler* Self, SCDecl* D) {
	(SC_Decl_ExportPositionSet(D, 0));
	(SC_Decl_SyntaxIsSet(D, kSC__SCDeclInfo_Const, (!true)));
	D->DepthOfBranch = SC_Pac_State(Self)->BranchDepth;
}

void SC_Pac_Decr(Assembler* Self, FatASM* F, bool Soft, int Depth) {
	if (F) {
		int C = F->xC2xB5RefCount;
		C = (C - (C > 0));
		F->xC2xB5RefCount = C;
		if ((!Soft) and (C <= 0)) {
			SC_Pac_nop_sub(Self, F, Soft, Depth);
		}
	}
}

ASMReg SC_Pac_DecrObj(Assembler* Self) {
	FatASM* Fat = SC_Pac_LastWithAsm(Self, kSC__ASM_RFUN);
	if (Fat) {
		ASMReg Upon = SC_FAT_IsDecr(Fat);
		if (Upon) {
			SC_Pac_Nop(Self, Fat);
			return Upon;
		}
	}
	return ((ASMReg)0);
}

ASMReg SC_Pac_DivFloat(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	ASMReg Rz = ((ASMReg)0);
	if ((SC_Reg_SyntaxIs(Dest, kSC__Reg_Const)) and ((!SC_Reg_SyntaxIs(L, kSC__Reg_Alternate)))) {
		return SC_Pac_MakeConstFromTwo(Self, Exp, Dest, L, R, ((fn_ASMConstifier)(SC_ConstifyFloatDiv)));
	}
	Rz = SC_Pac_QuickFloatDiv(Self, Exp, Dest, L, R);
	if (Rz == nil) {
		if (0) {
			SC_Msg_VDIV(Exp, nil, nil, nil, nil, nil);
		}
		Rz = SC_FAT_Vectorise(SC_Msg_FDIV(Exp, Dest, L, R, SC_Reg__New(), ((int)SC_Reg_IsSmall(Dest))), Dest, kSC__ASM_VDIV);
	}
	return Rz;
}

ASMReg SC_Pac_Divide(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (SC_Reg_OperatorIz(R, L)) {
		return SC_Pac_SelfDivide(Self, Dest, Exp);
	}
	if (SC_Reg_IsInt(Dest)) {
		return SC_Pac_DivInt(Self, Exp, Dest, L, R);
	}
	return SC_Pac_DivFloat(Self, Exp, Dest, L, R);
}

ASMReg SC_Pac_DivInt(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Const)) {
		return SC_Pac_MakeConstFromTwo(Self, Exp, Dest, L, R, ((fn_ASMConstifier)(SC_ConstifyIntDiv)));
	}
	ASMReg Q = SC_Pac_QuickIntDiv(Self, Exp, Dest, L, R);
	if (Q) {
		return Q;
	}
	if (SC_Reg_IsBig(L) and SC_Reg_IsSmall(Dest)) {
	}
	if (SC_Reg_IsBig(L) and SC_Reg_IsSmall(R)) {
		R = SC_Pac_SmallToBig(Self, R, L, Exp);
	}
	if (0) {
		SC_Msg_DIVS(Exp, nil, nil, nil, nil, nil);
		SC_Msg_QDIV(Exp, nil, nil, nil, nil, nil);
	}
	FatASM* Fat = SC_Msg_DIV(Exp, Dest, SC_Reg__New(), L, R, ((int)SC_Reg_Signed(Dest)));
	Fat->_Outputs = (Fat->_Outputs & (~2));
	return SC_FAT_VectoriseSmall(Fat, Dest, kSC__ASM_QDIV, kSC__ASM_DIVS);
}

ASMReg SC_Pac_DoIntrinsic(Assembler* Self, Message* Where, ASMReg Dest, SCFunction* Fn, Message* Trin) {
	Message* Name = JB_Msg_NeedSyx(Trin, kJB_SyxThg);
	Trin = JB_Msg_NextOf(Name, kJB_SyxPrm, nil);
	if (!Trin) {
		return nil;
	}
	Instruction* Op = SC_Instruction__SyntaxAccessWithMsg(Name);
	if (!Op) {
		return nil;
	}
	Dest = SC_Func_ASMReturnWithReg(Fn, Dest);
	return SC_Pac_TheTrinity(Self, ((Message*)JB_Ring_Last(Where)), Trin, Dest, Op->OpCode);
}

ASMReg SC_Pac_DoMath(Assembler* Self, Message* Exp, ASMReg Dest) {
	Message* Op = ((Message*)JB_Tree_Second(Exp));
	SCOperator* Scop = ((SCOperator*)Op->Obj);
	if (SC_Opp_SyntaxIs(Scop, kSC__OpMode_AndOr)) {
		return SC_Pac_ASMBoolMaker(Self, Exp, Dest, Scop->Kind);
	}
	fn_OpASM Fn = ((fn_OpASM)(Scop->OpASM));
	return SC_Pac_DoMathSub(Self, Exp, Dest, ((fn_OpASM)(Fn)));
}

ASMReg SC_Pac_DoMathSub(Assembler* Self, Message* Exp, ASMReg Mode, fn_OpASM Fn) {
	ASMReg Rz = ((ASMReg)0);
	ASMReg Ml = SC_Reg__New();
	ASMReg Mr = SC_Reg__New();
	Message* First = ((Message*)JB_Ring_First(Exp));
	ASMReg Dest = Mode;
	if (JB_Tree_IsLast(First)) {
		Ml = SC_Pac_GetASM(Self, First, Dest);
	}
	 else {
		Ml = SC_Pac_xC2xB5GetRealOffer(Self, First, Dest);
		if ((SC_Reg_SyntaxIs(Dest, kSC__Reg_NewlyDeclared)) and (!(SC_Reg_OperatorIz(Ml, Dest)))) {
			Mr = Dest;
		}
		Mr = SC_Pac_xC2xB5(Self, ((Message*)JB_Ring_Last(Exp)), Mr);
		if (SC_Reg_IsVec(Ml) != SC_Reg_IsVec(Mr)) {
			if (SC_Reg_IsVec(Ml)) {
				Mr = SC_Pac_VectorUpgrade(Self, Mr, Exp);
			}
			 else {
				Ml = SC_Pac_VectorUpgrade(Self, Ml, Exp);
			}
		}
	}
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Discard)) {
		SC_Pac_AskNopTemp(Self, Ml);
		SC_Pac_AskNopTemp(Self, Mr);
		return Dest;
	}
	Dest = SC_Pac_TempTypedWithMsgReg(Self, Exp, Dest);
	Dest = (SC_Reg_SyntaxIsSet(Dest, kSC__Reg_Const, (SC_Reg_SyntaxIs(SC_Reg_OperatorBitand(Ml, Mr), kSC__Reg_Const))));
	Message* Op = ((Message*)JB_Tree_Second(Exp));
	if (!Op) {
		Op = ((Message*)JB_Ring_First(Exp));
	}
	Rz = (Fn)(Self, Op, Dest, Ml, Mr);
	Rz = SC_Reg_ExpectSameType(Rz, Dest);
	return Rz;
}

ASMReg SC_Pac_DotAddr(Assembler* Self, Message* Exp, ASMReg Dest, int Pos, SCDecl* Prop, ASMReg Obj) {
	if (SC_Decl_IsCArray(Prop)) {
		Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, kJB__TC__voidptr);
	}
	Dest = SC_Reg_HaveAddr(Dest);
	Obj = SC_Reg_OperatorAs(Obj, kSC__Reg_NoScale);
	return SC_Pac_AddToReg(Self, Exp, Dest, Obj, Pos);
}

void SC_Pac_Dummy(Assembler* Self, Message* Exp) {
	if (Exp) {
		SC_Msg_RD1U(Exp, nil, nil, nil, nil, nil);
		SC_Msg_RD1S(Exp, nil, nil, nil, nil, nil);
		SC_Msg_RD2U(Exp, nil, nil, nil, nil, nil);
		SC_Msg_RD2S(Exp, nil, nil, nil, nil, nil);
		SC_Msg_RD4S(Exp, nil, nil, nil, nil, nil);
		SC_Msg_RD8U(Exp, nil, nil, nil, nil, nil);
		SC_Msg_RD16(Exp, nil, nil, nil, nil, nil);
		SC_Msg_WR1U(Exp, nil, nil, nil, nil, nil);
		SC_Msg_WR2U(Exp, nil, nil, nil, nil, nil);
		SC_Msg_WR4U(Exp, nil, nil, nil, nil, nil);
		SC_Msg_WR8U(Exp, nil, nil, nil, nil, nil);
		SC_Msg_WR16(Exp, nil, nil, nil, nil, nil);
		SC_Msg_KNSR(Exp, nil, nil, nil, nil);
		SC_Msg_KNST2(Exp, nil, nil, nil, nil);
		SC_Msg_KNST3(Exp, nil, nil, nil, nil);
	}
}

ASMReg SC_Pac_ElseSub(Assembler* Self, Message* Other) {
	ASMReg Rz = ((ASMReg)0);
	if (!SC_Msg_HasAsmStuff(Other)) {
		return SC_Reg__New();
	}
	uint T = SC_Msg_ASMType(Other);
	if (T == kSC__ASMType_kIf) {
		return SC_Pac_If(Self, Other, SC_Reg__New());
	}
	if (!JB_Msg_EqualsSyx(Other, kJB_SyxArg)) {
		Other = ((Message*)JB_Ring_First(Other));
	}
	 else {
	}
	Rz = SC_ASMType__Argument(Self, Other, SC_Reg__New());
	SC_Pac_NextBasicBlock(Self);
	return Rz;
}

ASMReg SC_Pac_Equals(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	ASMReg Rz = ((ASMReg)0);
	int Rr = SC_Reg_Reg(R);
	int Ll = SC_Reg_Reg(L);
	if ((!Rr) and Ll) {
		JB_Swap((L), (R));
	}
	(Dest = SC_Reg_OperatorAs(Dest, (SC_Reg_OperatorBitand(L, SC_Reg_OperatorBitand(R, kSC__Reg_Const)))));
	if (Rr == Ll) {
		return SC_Pac_EqualsSame(Self, Exp, Dest, L, R);
	}
	if (SC_Reg_IsInt(Dest)) {
		Rz = SC_Pac_EqualsInt(Self, Exp, Dest, L, R);
	}
	 else {
		Rz = SC_Pac_CompareFloat(Self, Dest, L, R, Exp, 2);
	}
	Rz = SC_Reg_BoolAnswer(Rz);
	return Rz;
}

ASMReg SC_Pac_EqualsInt(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	bool Negate = SC_Reg_SyntaxIs(Dest, kSC__Reg_Negate);
	ASMReg Res = SC_Reg_BoolAnswer(Dest);
	if (SC_Reg_SyntaxIs(L, kSC__Reg_Const) and SC_Reg_SyntaxIs(R, kSC__Reg_Const)) {
		SC_Pac_Nop2Consts(Self, R, L);
		int Num = ((int)((SC_Reg_Const(L) == SC_Reg_Const(R)) != Negate));
		return SC_Pac_NumToReg(Self, Exp, Res, Num, kJB__TC_bool);
	}
	if (!SC_Reg_SyntaxIs(Dest, kSC__Reg_CondRequest)) {
		if (Negate) {
			ASMReg B = SC_Pac_AlreadyABool(Self, L, R);
			if (B) {
				return B;
			}
			ASMReg B2 = SC_Pac_AlreadyABool(Self, R, L);
			if (B2) {
				return B2;
			}
		}
		Dest = SC_Pac_TempTypedWithDeclReg(Self, SC_TypeBool->TypeNormal, Dest);
		return SC_FAT_AsReg(SC_Msg_EQUL(Exp, Dest, L, R, SC_bool_EqulMode(Negate, L, R)), Dest);
	}
	if (SC_Reg_SyntaxIs(R, kSC__Reg_Const) and (!SC_Reg_SyntaxIs(L, kSC__Reg_Const))) {
		JB_Swap((L), (R));
	}
	Negate = (!Negate);
	int RS = ((int)SC_Reg_IsSmall(R));
	FatASM* Fat = nil;
	if (!SC_Reg_IsZero(L)) {
		int LS = ((int)SC_Reg_IsSmall(L));
		if (RS) {
			Ind K = SC_Pac_Const(Self, L, 9, SC_Reg_Signed(L));
			if (JB_Ind_SyntaxCast(K)) {
				Fat = SC_Msg_JMKE(Exp, R, K, 0);
				if (Negate) {
					Fat->_Op = kSC__ASM_JMKN;
				}
			}
		}
		if (!Fat) {
			Fat = SC_Msg_JMPN(Exp, L, R, LS, RS, 0);
			if (!Negate) {
				Fat->_Op = kSC__ASM_JMPE;
			}
		}
	}
	 else {
		Fat = SC_Msg_JBAN(Exp, R, RS, 0);
		if (Negate) {
			Fat->_Op = kSC__ASM_JBOR;
		}
	}
	if (0) {
		SC_Msg_JMKN(Exp, nil, nil, nil);
		SC_Msg_JMPE(Exp, nil, nil, nil, nil, nil);
		SC_Msg_JBOR(Exp, nil, nil, nil);
	}
	return SC_FAT_AsReg(Fat, Res);
}

ASMReg SC_Pac_EqualsSame(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	int Num = ((int)((!SC_Reg_SyntaxIs(Dest, kSC__Reg_Negate))));
	return SC_Reg_BoolAnswer(SC_Pac_NumToReg(Self, Exp, Dest, Num, kJB__TC_bool));
}

ASMReg SC_Pac_ExistingVar(Assembler* Self, Message* M) {
	M = SC_Msg_ASMUnbra(M);
	Syntax Fn = M->Func;
	if (!((Fn == kJB_SyxThg) or (Fn == kJB_SyxNum))) {
		return nil;
	}
	SCDecl* D = SC_Msg_ASMDecl(M);
	if (Fn == kJB_SyxThg) {
		if (!(SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Local) and (!SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Reference)))) {
			return nil;
		}
		return SC_Pac_LocalThg(Self, D);
	}
	return SC_Pac_MegaNumFinder(Self, SC_Decl_ExportPosition(D), SC_Decl_SpecialReg(D), D->mu.DataType);
}

ASMReg SC_Pac_Exit(Assembler* Self, Message* Exp, ASMReg Dest) {
	FatASM* J = SC_Msg_JUMP(Exp, nil);
	J->_Const = kSC__Pac_kExit;
	return ((ASMReg)0);
}

bool SC_Pac_FatterCompile(Assembler* Self, SCFunction* Fn) {
	(SC_Func__CurrFuncSet(Fn));
	SC_Pac_InitAndStartFunc(Self, Fn);
	SC_Pac_RootGen(Self, Fn);
	SC_Pac_FinishASM(Self);
	if (Self->NeedsRework) {
		SC_Pac_Rework(Self, Fn);
	}
	SC_Pac_CapASM(Self);
	JB_ErrorReceiver* Err = JB_StdErr;
	if (!JB_Rec_OK(Err)) {
		return nil;
	}
	uint Max = Fn->MaxASM;
	if (Max) {
		if (Fn->xC2xB5ASMLength > Max) {
			JB_Msg_Fail(SC_Func_SourceArg(Fn), JB_LUB[2084]);
		}
	}
	return true;
}

void SC_Pac_FillDebugInfo(Assembler* Self) {
	if (SC__Options_TargetDebug) {
		JB_SetRef(SC__SourceMap_Positions, JB_FS_Constructor(nil));
	}
}

Ind SC_Pac_FillTheFat(Assembler* Self, ASMReg* Collection, FatASM* Fat, Message* Prms, int N) {
	Ind Rz = -1;
	int I = 0;
	{
		Message* S = ((Message*)JB_Ring_First(Prms));
		while (S) {
			if (JB_Msg_SyntaxEquals(S, JB_LUB[1363], true)) {
				JB_Msg_Expect(S, kJB_SyxThg, nil);
				Rz = I;
			}
			 else {
				SC_Pac_Fries(Self, Collection, Fat, S, I, N);
			}
			(++I);
			S = ((Message*)JB_Ring_NextSib(S));
		};
		;
	}
	;
	return Rz;
}

void SC_Pac_FinishASM(Assembler* Self) {
	if ((SC_Pac_FnLength(Self) <= 0) or (!SC_FAT_IsFinisherWith0(SC_Pac_LastWith0(Self)))) {
		SC_Pac_MissingReturn(Self);
	}
	SC_Pac_FinishMost(Self);
}

void SC_Pac_FinishMost(Assembler* Self) {
	FatASM* A = SC_Pac_Curr(Self);
	FatASM* S = SC_Pac_FuncStart(Self);
	int Length = 0;
	while (A > S) {
		uint Op = SC_FAT_Op(S);
		if (Op == kSC__ASM_KNST) {
			SC_FAT_ConstFinish(S);
		}
		 else if (S->JumpPrm) {
			SC_FAT_JumpImprove(S, Self);
		}
		 else if ((Op == kSC__ASM_FNC3) or (Op == kSC__ASM_FNC)) {
			SC_Pac_TryTail(Self, S);
		}
		int Predicted = SC_FAT_GuessSize(S);
		Length = (Length + Predicted);
		(++S);
	};
	Self->Out->xC2xB5ASMLength = Length;
}

ASMReg SC_Pac_FinishSingleIf(Assembler* Self, FatRange* B) {
	SC_Pac_BranchToCurr(Self, B);
	SC_Pac_NextBasicBlock(Self);
	return SC_Reg__New();
}

ASMReg SC_Pac_FloatMul(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	ASMReg Rz = ((ASMReg)0);
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Const)) {
		return SC_Pac_MakeConstFromTwo(Self, Exp, Dest, L, R, ((fn_ASMConstifier)(SC_ConstifyFloatMul)));
	}
	Rz = SC_Pac_QuickFloatMul(Self, Exp, Dest, R, L);
	if (Rz == nil) {
		Rz = SC_Pac_QuickFloatMul(Self, Exp, Dest, L, R);
		if (Rz == nil) {
			if (0) {
				SC_Msg_VMUL(Exp, nil, nil, nil, nil, nil);
			}
			Rz = SC_FAT_Vectorise(SC_Msg_FMUL(Exp, Dest, L, R, SC_Reg__New(), ((int)SC_Reg_IsSmall(L))), Dest, kSC__ASM_VMUL);
		}
	}
	return Rz;
}

ASMReg SC_Pac_FloatPlus(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Const)) {
		return SC_Pac_MakeConstFromTwo(Self, Exp, Dest, L, R, ((fn_ASMConstifier)(SC_ConstifyFloatPlus)));
	}
	bool IsF32 = SC_Reg_FourBytes(Dest);
	if (IsF32) {
		ASMReg Qq = SC_Pac_QuickFloat32Plus(Self, Exp, Dest, L, R);
		if (Qq) {
			return Qq;
		}
	}
	bool Ss = (SC_Reg_SyntaxIs(L, kSC__Reg_Subtract));
	if (0) {
		SC_Msg_VADD(Exp, nil, nil, nil, nil, nil);
	}
	return SC_FAT_Vectorise(SC_Msg_FADD(Exp, Dest, L, SC_Reg_OperatorMul(R, (!Ss)), SC_Reg_OperatorMul(R, Ss), 1 - IsF32), Dest, kSC__ASM_VADD);
}

SCFunction* SC_Pac_fn(Assembler* Self) {
	return SC_Pac_State(Self)->Fn;
}

int SC_Pac_FnLength(Assembler* Self) {
	return Self->Curr_ - SC_Pac_FuncStart(Self);
}

bool SC_Pac_FoundReg(Assembler* Self, Message* All, int R) {
	All = SC_Msg_Declable(All);
	if ((JB_Msg_EqualsSyx(All, kJB_SyxThg)) or (JB_Msg_EqualsSyx(All, kJB_SyxNum))) {
		SCDecl* D = SC_Msg_FastDeclSafe(All);
		if ((SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Local)) and (SC_Decl_Reg(D) == R)) {
			return true;
		}
	}
	{
		Message* S = ((Message*)JB_Ring_First(All));
		while (S) {
			if (SC_Pac_FoundReg(Self, S, R)) {
				return true;
			}
			S = ((Message*)JB_Ring_NextSib(S));
		};
		;
	}
	;
	return false;
}

void SC_Pac_Fries(Assembler* Self, ASMReg* Collection, FatASM* Fat, Message* S, int I, int MaxParam) {
	if (SC_Msg_IsInt(S)) {
		(SC_FAT_NumInputSet(Fat, I, JB_Msg_Int(S, 0)));
		return;
	}
	if (!JB_Msg_Expect(S, kJB_SyxThg, nil)) {
		return;
	}
	JB_String* Name = S->Name;
	if (JB_Str_Equals(Name, JB_LUB[1260], true)) {
		(SC_FAT_Prm(Fat, I, SC_Reg__New()));
		return;
	}
	if (!JB_byte_OperatorEq(JB_Str_First(Name), 'p')) {
		JB_Msg_Fail(S, nil);
		return;
	}
	int L = JB_Msg_IntRange(S, 1, 1, MaxParam);
	if (L) {
		(SC_FAT_Prm(Fat, I, SC_Reg_OperatorAsnt(Collection[L - 1], kSC__Reg_Textual)));
	}
}

FatASM* SC_Pac_FuncStart(Assembler* Self) {
	return Self->FuncStart_ + 1;
}

ASMReg SC_Pac_GlobAddr(Assembler* Self, SCDecl* D, Message* Exp, ASMReg Dest) {
	if (SC_Comp__SyntaxIs(kSC__CompilerStage_Hungry)) {
		(SC_Decl_SyntaxIsSet(D, kSC__SCDeclInfo_ASMReached, true));
	}
	Dest = SC_Pac_TempTypedWithDeclReg(Self, D, Dest);
	Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_GlobalMemory, true);
	Dest = SC_Reg_HaveAddr(Dest);
	Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, kJB__TC__voidptr);
	if ((!SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Library))) {
		return SC_Pac_PackGlobAddr(Self, D, Exp, Dest, SC_Decl_ExportPosition(D));
	}
	FatASM* Fat = SC_Msg_GTAB(Exp, Dest, 1, D->GPackID);
	(SC_FAT_ConstSet(Fat, SC_Decl_ExportPosition(D)));
	return SC_FAT_AsReg(Fat, Dest);
}

void SC_Pac_Guard(Assembler* Self) {
	Message* Arg = SC_Func_SourceArg(SC_Pac_fn(Self));
	SC_Msg_HALT(Arg, nil)->BasicBlock = -1;
}

ASMReg SC_Pac_If(Assembler* Self, Message* Exp, ASMReg Dest) {
	ASMReg Rz = ((ASMReg)0);
	FatASM* NothingDone = SC_Pac_Curr(Self);
	uint BreakReq = Self->BreakRequest;
	uint Old = Self->BranchID;
	Self->BranchID = (++Self->NextBranchID);
	(++SC_Pac_State(Self)->BranchDepth);
	Rz = SC_Pac_IfSub(Self, Exp, Dest);
	(--SC_Pac_State(Self)->BranchDepth);
	Self->BranchID = Old;
	Self->BreakRequest = ((uint)JB_Ternary(NothingDone == SC_Pac_Curr(Self), BreakReq, nil));
	return Rz;
}

ASMReg SC_Pac_IfSub(Assembler* Self, Message* Exp, ASMReg Dest) {
	ASMReg Rz = ((ASMReg)0);
	Message* Cond = ((Message*)JB_Ring_First(Exp));
	Message* Arg1 = ((Message*)JB_Ring_NextSib(Cond));
	Message* Other = ((Message*)JB_Ring_NextSib(Arg1));
	FatRange B = ((FatRange){});
	SC_Pac_Branch(Self, Cond, (&B), false);
	if (SC_FatRange_Never((&B))) {
		return SC_Pac_ElseSub(Self, Other);
	}
	if (SC_FatRange_Always((&B))) {
		return SC_ASMType__Argument(Self, Arg1, SC_Reg__New());
	}
	ASMReg Arg1Return = SC_ASMType__Argument(Self, Arg1, SC_Reg__New());
	if (!SC_Msg_HasAsmStuff(Other)) {
		ASMReg Clamped = SC_Pac_MiniClampOpt(Self, Exp, B.Start);
		if (Clamped) {
			return Clamped;
		}
		return SC_Pac_FinishSingleIf(Self, (&B));
	}
	FatASM* AfterFirst = SC_Msg_JUMP(Other, nil);
	SC_Pac_BranchToCurr(Self, (&B));
	Rz = SC_Reg_OperatorBitand(SC_Pac_ElseSub(Self, Other), Arg1Return);
	SC_FAT_JumpToSet(AfterFirst, SC_Pac_Curr(Self));
	return Rz;
}

ASMReg SC_Pac_InbuiltTernary(Assembler* Self, ASMReg Dest, ASMReg A, ASMReg B, Message* Cond) {
	Dest = SC_Pac_TempOnly(Self, Dest);
	ASMReg C = SC_Reg__New();
	if (!(SC_Reg_OperatorIz(Dest, A) or SC_Reg_OperatorIz(Dest, B))) {
		C = Dest;
	}
	C = SC_Pac_xC2xB5(Self, Cond, C);
	if (!SC_Reg_SyntaxIs(C, kSC__Reg_Const)) {
		return SC_FAT_AsReg(SC_Msg_TERN(Cond, Dest, C, A, B, ((int)SC_Reg_IsSmall(C))), Dest);
	}
	ASMReg T = ((ASMReg)JB_Ternary(SC_Reg_Const(C), A, B));
	SC_Pac_NopConstWithReg(Self, C);
	return T;
}

ASMReg SC_Pac_IncrPointerByVar(Assembler* Self, ASMReg Dest, ASMReg Base, ASMReg Vara, Message* Exp) {
	Base = SC_Reg_HaveAddr(Base);
	if (!SC_Reg_Reg(Vara)) {
		return Base;
	}
	Dest = SC_Reg_HaveAddr(Dest);
	Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, kJB__TC__voidptr);
	if (!SC_Reg_Reg(Dest)) {
		Dest = SC_Reg_TryRegSet(Dest, Vara);
		Dest = SC_Reg_TryRegSet(Dest, Base);
		Dest = SC_Pac_TempOnly(Self, Dest);
	}
	return SC_Pac_Plus(Self, Exp, Dest, Base, Vara);
}

ASMReg SC_Pac_IncrPost(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg Src, int64 Value) {
	ASMReg Rz = ((ASMReg)0);
	if (SC_Reg_IsInt(Src) and (SC_int64_CanStoreAsAddK(Value) and (!SC_Reg_IsVec(Dest)))) {
		return SC_FAT_AsReg(SC_Msg_ADAK(Exp, Dest, Src, Value), Dest);
	}
	Rz = SC_Pac_Assign(Self, Exp, SC_Pac_TempOnly(Self, Dest), Src);
	SC_Pac_IncrPre(Self, Exp, Src, Src, Value);
	return Rz;
}

ASMReg SC_Pac_IncrPre(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg Src, int64 Value) {
	if (!SC_Reg_Reg(Dest)) {
		Dest = Src;
	}
	return SC_Pac_AddToReg(Self, Exp, Dest, Src, Value);
}

ASMReg SC_Pac_IncrVectorPart(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg Src, int64 Value, int Mode) {
	ASMReg OldValue = ((ASMReg)0);
	if (((!SC_Reg_SyntaxIs(Dest, kSC__Reg_Discard))) and (Mode & kSC__ASMType_IncrAfter)) {
		OldValue = SC_Pac_Assign(Self, Exp, SC_Pac_TempOnly(Self, Dest), Src);
	}
	FatASM* Vget = SC_Reg_FAT(Src);
	ASMReg VReg = SC_FAT_ASMReg(Vget, 2);
	ASMParam VecIndex = Vget->Prms[3];
	if (SC_Reg_IsFloat(Src) or SC_Reg_Reg(VReg)) {
		ASMReg NewValue = SC_Pac_AddToReg(Self, Exp, nil, Src, Value);
		JB_DoAt(1);
		SC_Msg_VSET(Exp, Src, NewValue, VReg, VecIndex);
		if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Discard)) {
			return Dest;
		}
		if (Mode & kSC__ASMType_IncrAfter) {
			return OldValue;
		}
		return NewValue;
	}
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Discard)) {
		Dest = SC_Pac_Zeros(Self, Dest);
	}
	Src = SC_FAT_ASMReg(Vget, 1);
	SC_Pac_SoftNop(Self, Vget);
	ASMReg NewValue = SC_FAT_AsReg(SC_Msg_QINC(Exp, Dest, Src, VecIndex, Value), Dest);
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Discard)) {
		return Dest;
	}
	if (Mode & kSC__ASMType_IncrAfter) {
		return OldValue;
	}
	return NewValue;
}

int SC_Pac_Index(Assembler* Self) {
	return Self->Curr_ - Self->Start;
}

void SC_Pac_InitAndStartFunc(Assembler* Self, SCFunction* Fn) {
	MWrap* J = SC__Pac_JSM;
	Self->End = ((FatASM*)JB_Mrap_NeedSpare(J, 65536, 65536));
	Self->Start = ((FatASM*)JB_Mrap_Ptr(J));
	Self->Curr_ = (Self->Start + J->Length);
	Self->FuncStart_ = SC_Pac_Curr(Self);
	(JB_Mrap_LengthSet(SC__Pac_HoistSpace, 0));
	Self->InlineState[0] = ((ASMState){});
	Self->InlineState[0].TailInlineable = true;
	Self->Out = Fn;
	SC_Pac_State(Self)->Fn = Fn;
	(SC_Func__CurrFuncSet(Fn));
	Self->InlineDepthLimit = 3;
	Self->InlineDepth = 0;
	Self->BasicBlock = 1;
	Self->BranchID = 1;
	Self->NextBranchID = 1;
	Self->NeedsRework = false;
	Self->Zero = ((FatASM){});
	Self->Zero.Info = SC_Reg__New();
	Self->Regs = ((RegFile){});
	SC_Pac_Guard(Self);
	Self->InlineEnd = nil;
	Fn->xC2xB5Start = SC_Pac_Index(Self);
	(SC_Pac_vtempsSet(Self, 0));
	(SC_Pac_vdeclsSet(Self, 1));
	SC_Pac_AddFuncParams(Self, Fn);
}

bool SC_Pac_InlineAddK(Assembler* Self, ASMReg XIn, int64 Add, ASMReg XOut) {
	FatASM* XY1 = SC_Pac_LastWithAsm(Self, kSC__ASM_ADDK);
	if (!XY1) {
		return nil;
	}
	if (SC_Reg_IsVec(XOut)) {
	}
	int Xinreg = SC_Reg_Reg(XIn);
	if (Xinreg != SC_FAT_RegOnly(XY1, 0)) {
		return nil;
	}
	bool Changed = Xinreg != SC_Reg_Reg(XOut);
	if (Changed) {
		if (!SC_Reg_SyntaxIs(XIn, kSC__Reg_Temp)) {
			return nil;
		}
	}
	int64 Add2 = XY1->Prms[2] + Add;
	if (SC_int64_CanStoreAsAddK(Add2)) {
		(SC_FAT_p2Set(XY1, Add2));
		if (Changed) {
			SC_Pac_ReDestWithFatReg(Self, XY1, XOut);
		}
		return true;
	}
	return false;
}

ASMReg SC_Pac_InlineFinish(Assembler* Self, FatRange* R) {
	ASMReg Rz = ((ASMReg)0);
	{
		FatASM* S = R->After;
		while (S > R->Start) {
			(--S);
			if (SC_FAT_OperatorIsa(S, kSC__ASM_RET)) {
				if (Rz) {
					Rz = SC_Reg_Simplify(Rz);
				}
				 else {
					FatASM* Dest = SC_FAT_InputFat(S, 0);
					if (Dest) {
						Rz = Dest->Info;
					}
					 else {
						Rz = SC_int_ToASM(((int)S->Prms[0]));
						Rz = SC_Reg_xC2xB5TypeSetWithTc(Rz, SC_Reg_xC2xB5Type(SC_Pac_State(Self)->Return));
					}
				}
				(SC_FAT_SetOpSet(S, kSC__ASM_JUMP));
				S->JumpPrm = 1;
				SC_FAT_JumpFix(S, SC_Pac_Curr(Self));
			}
		};
	}
	;
	Rz = SC_Reg_OperatorBitand(Rz, (~kSC__Reg_Exit));
	ASMReg Dest = SC_Pac_State(Self)->Return;
	(Rz = SC_Reg_OperatorAs(Rz, (SC_Reg_OperatorBitand(Dest, kSC__Reg_Exit))));
	Rz = SC_Reg_ExpectSameType(Rz, Dest);
	if (!SC_Reg_Reg(Rz)) {
		Rz = SC_Reg_SyntaxIsSet(Rz, kSC__Reg_Const, true);
	}
	return Rz;
}

ASMReg SC_Pac_InlineOffsetOpt(Assembler* Self, ASMReg Base, int Bytes, int& Index, uint MaxBits, SCDecl* Decl, Message* Exp) {
	ASMReg Rz = ((ASMReg)0);
	Rz = SC_Pac_MemOffsetFix(Self, Base, Bytes, Index, MaxBits, Decl, Exp);
	SC_Pac_MemOpt(Self, Rz, Index, Bytes);
	return Rz;
}

void SC_Pac_InlineParameters(Assembler* Self, Message* Prms, InlineInfo* Info) {
	Message* P = ((Message*)JB_Ring_First(Prms));
	if (!P) {
		return;
	}
	Array* Args = SC_Pac_fn(Self)->Args;
	SC_InlineInfo_DoImmediates(Info, P, Args);
	{
		int _if0 = 0;
		while (true) {
			SCDecl* A = ((SCDecl*)JB_Array_Value(Args, _if0));
			if (A == nil) {
				break;
			}
			int I = _if0;
			ASMReg V = Info->Items[I];
			if (!(SC_Reg_OperatorAsnt(V, kSC__Reg_ForceInto))) {
				Info->Items[I] = SC_Pac_xC2xB5InlineParam(Self, P, A, V);
			}
			P = ((Message*)JB_Ring_NextSib(P));
			(SC_Decl_ASMRegSet(A, Info->Items[I]));
			(++_if0);
		};
	};
}

ASMReg SC_Pac_IntMul(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	ASMReg Rz = ((ASMReg)0);
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Const)) {
		return SC_Pac_MakeConstFromTwo(Self, Exp, Dest, L, R, ((fn_ASMConstifier)(SC_ConstifyIntMul)));
	}
	Rz = SC_Pac_QuickIntMul(Self, Exp, Dest, R, L);
	if (Rz == nil) {
		Rz = SC_Pac_QuickIntMul(Self, Exp, Dest, L, R);
		if (Rz == nil) {
			if (0) {
				SC_Msg_QMUL(Exp, nil, nil, nil, nil);
				SC_Msg_MULS(Exp, nil, nil, nil, nil);
			}
			Rz = SC_FAT_VectoriseSmall(SC_Pac_MUL_(Self, Dest, L, R, SC_Reg__New(), Exp), Dest, kSC__ASM_QMUL, kSC__ASM_MULS);
		}
	}
	return Rz;
}

ASMReg SC_Pac_IntPlus(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Const)) {
		return SC_Pac_MakeConstFromTwo(Self, Exp, Dest, L, R, ((fn_ASMConstifier)(SC_ConstifyIntPlus)));
	}
	bool Swapped = false;
	if (!SC_Reg_SyntaxIs(L, kSC__Reg_Alternate)) {
		int LS = SC_Reg_LeftScore(L);
		int RS = SC_Reg_LeftScore(R);
		if (LS < RS) {
			JB_Swap((L), (R));
			Swapped = true;
		}
	}
	if (SC_Reg_IsZero(R)) {
		return L;
	}
	int LMul = 1;
	if (((!SC_Reg_SyntaxIs(L, kSC__Reg_NoScale))) and SC_Reg_SomePointer(L)) {
		LMul = SC_Reg_PointerMul(L, Exp, Swapped);
	}
	if (SC_Reg_SyntaxIs(R, kSC__Reg_Const)) {
		int64 RR = SC_Reg_Const(R);
		if (SC_Reg_SyntaxIs(L, kSC__Reg_Subtract)) {
			RR = (-RR);
		}
		RR = (RR * LMul);
		if (SC_Pac_CanAddK(Self, R, RR)) {
			if (SC_Pac_InlineAddK(Self, L, RR, Dest)) {
				return Dest;
			}
			if (0) {
				SC_Msg_QADK(Exp, nil, nil, nil);
			}
			return SC_FAT_Vectorise(SC_Msg_ADDK(Exp, Dest, L, RR), Dest, kSC__ASM_QADK);
		}
	}
	if (JB_int_IsPow2(LMul)) {
		return SC_FAT_AsReg(SC_Msg_AddOrSubInt(Exp, Dest, L, R, JB_Int_Log2(LMul)), Dest);
	}
	ASMReg V = SC_Pac_NumToReg(Self, Exp, SC_Reg__New(), LMul, kJB__TC_UInt);
	if (SC_Reg_SyntaxIs(L, kSC__Reg_Subtract)) {
		SC_Msg_AddOrSubInt(Exp, Dest, L, R, 0);
		return SC_Pac_DivInt(Self, Exp, Dest, Dest, V);
	}
	return SC_FAT_AsReg(SC_Pac_MUL_(Self, Dest, R, V, L, Exp), Dest);
}

FailableInt SC_Pac_IntPowerOfTwo(Assembler* Self, ASMReg R, int Sub) {
	int64 V = SC_Reg_Const(R);
	if (V == -1) {
		if (Sub) {
		}
		SC_Pac_NopConstWithReg(Self, R);
		return V;
	}
	V = (V - Sub);
	if ((!V) or JB_int64_IsPow2(V)) {
		SC_Pac_NopConstWithReg(Self, R);
		if (!V) {
			return 0;
		}
		return JB_int64_Log2(V) + 1;
	}
	return kJB__FailableInt_Fail;
}

bool SC_Pac_IsASMConst(Assembler* Self, Message* Exp) {
	Syntax Fn = Exp->Func;
	if (Fn == kJB_SyxNum) {
		return true;
	}
	if (Fn == kJB_SyxThg) {
		return ((bool)SC_ASMType__ThgSub(Self, Exp, kSC__Reg_ConstRequest));
	}
	return false;
}

bool SC_Pac_IsCurr(Assembler* Self, FatASM* F) {
	return Self->BasicBlock == F->BasicBlock;
}

ASMReg SC_Pac_IsOnlyVarThatWeReturn(Assembler* Self, SCDecl* D) {
	ASMReg Rz = ((ASMReg)0);
	ASMState* St = SC_Pac_State(Self);
	ASMReg Ret = St->Return;
	if (SC_Reg_Reg(Ret) and ((SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_VarThatGotReturned)) and (St->Fn->ReturnedVars == 1))) {
		JB_DoAt(1);
		Ret = SC_Reg_xC2xB5TypeSetWithTc(Ret, ((DataTypeCode)Rz));
		(SC_Decl_WholeTypeSet(D, Ret));
		return Ret;
	}
	return Rz;
}

ASMReg SC_Pac_JumpIntK(Assembler* Self, ASMReg Dest, ASMReg L, ASMReg R, Message* Exp, uint Mode) {
	if (!(SC_Reg_SyntaxIs(L, kSC__Reg_Const) or SC_Reg_SyntaxIs(R, kSC__Reg_Const))) {
		return nil;
	}
	bool Swapped = SC_Reg_SyntaxIs(L, kSC__Reg_Const);
	if (Swapped) {
		JB_Swap((L), (R));
		Mode = (Mode ^ 1);
	}
	FatASM* F = SC_Reg_FAT(R);
	if (!F) {
		return nil;
	}
	int64 K = SC_FAT_Const(F) - Swapped;
	if (!(SC_Reg_IsSmall(L) and SC_int64_Fits(K, 9, true))) {
		return nil;
	}
	SC_Pac_NopConstWithReg(Self, R);
	K = SC_uint64_Trim(((uint64)K), 9);
	FatASM* J = SC_Msg_JMKM(Exp, L, K, nil);
	if (0) {
		SC_Msg_JMKL(Exp, nil, nil, nil);
	}
	J->_Op = (J->_Op + (Mode & 1));
	return SC_FAT_AsReg(J, Dest);
}

ASMReg SC_Pac_Killed(Assembler* Self, Message* Exp, FatASM* Fat) {
	(++Fat->xC2xB5RefCount);
	return SC_FAT_AsReg(Fat, kSC__Reg_Exit);
}

void SC_Pac_KnownValuesSet(Assembler* Self, int Changed, bool Value) {
	int M = Self->Regs.KnownMap;
	Changed = (1 << Changed);
	if (Value) {
		M = (M | Changed);
	}
	 else {
		M = (M & (~Changed));
	}
	Self->Regs.KnownMap = M;
}

void SC_Pac_Knst(Assembler* Self, ASM Op) {
	Instruction* _tmPf0 = SC_Instruction__SyntaxAccessWithInt(Op);
	JB_Incr(_tmPf0);
	SC_Instruction_Const(_tmPf0);
	JB_Decr(_tmPf0);
	SC__ASM_Encoders[Op] = SC_FAT_KNST_Encoder;
}

FatASM* SC_Pac_LastWith0(Assembler* Self) {
	return Self->Curr_ - 1;
}

FatASM* SC_Pac_LastWithAsm(Assembler* Self, ASM Type) {
	FatASM* L = Self->Curr_ - 1;
	if ((SC_FAT_OperatorIsa(L, Type)) and SC_Pac_IsCurr(Self, L)) {
		return L;
	}
	return nil;
}

FatASM* SC_Pac_Last(Assembler* Self, ASM Type, ASM Type2) {
	FatASM* L = Self->Curr_ - 1;
	if ((SC_FAT_OperatorIsa(L, Type) or SC_FAT_OperatorIsa(L, Type2)) and SC_Pac_IsCurr(Self, L)) {
		return L;
	}
	return nil;
}

ASMReg SC_Pac_Less(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	return SC_Pac_Compare(Self, Dest, R, L, Exp, 0);
}

ASMReg SC_Pac_LessEq(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	return SC_Pac_Compare(Self, Dest, L, R, Exp, 1);
}

ASMReg SC_Pac_LoadNumber(Assembler* Self, Message* Exp, int64 V, bool Special, ASMReg Dest) {
	if (!SC_Reg_Reg(Dest)) {
		ASMReg Found = SC_Pac_MegaNumFinder(Self, V, Special, SC_Reg_xC2xB5Type(Dest));
		if (Found) {
			return Found;
		}
	}
	Dest = SC_Pac_TempOnly(Self, Dest);
	if (!SC_Reg_SyntaxIs(Dest, kSC__Reg_Textual)) {
		FatASM* K = SC_Pac_LastWithAsm(Self, kSC__ASM_KNST);
		if (K) {
			if ((SC_FAT_p0(K) == SC_Reg_Reg(Dest)) and (SC_FAT_SyntaxIs(K, kSC__Reg_Temp))) {
				SC_Pac_Nop(Self, K);
			}
		}
	}
	FatASM* Fat = SC_Msg_KNST(Exp, Dest, nil, nil, nil);
	return SC_FAT_ConstFill(Fat, Dest, V);
}

ASMReg SC_Pac_LocalThg(Assembler* Self, SCDecl* D) {
	ASMReg T = SC_Decl_WholeType(D);
	T = (SC_Reg_SyntaxIsSet(T, kSC__Reg_Param, SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Param)));
	FatASM* F = SC_Pac_Register(Self, SC_Reg_Reg(T));
	if (F and (SC_Pac_IsCurr(Self, F) or ((!SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_AlteredBranchLike))))) {
		T = SC_Reg_FatIndexSet(T, SC_FAT_Index(F));
		T = (SC_Reg_SyntaxIsSet(T, kSC__Reg_Const, (SC_FAT_SyntaxIs(F, kSC__Reg_Const))));
	}
	int Rr = SC_Reg_Reg(T);
	if (Rr) {
		ASMReg Ret = SC_Pac_State(Self)->Return;
		if (Rr == SC_Reg_Reg(Ret)) {
			T = (SC_Reg_SyntaxIsSet(T, kSC__Reg_Temp, (SC_Reg_SyntaxIs(Ret, kSC__Reg_Temp))));
		}
	}
	 else {
		T = SC_Reg_SyntaxIsSet(T, kSC__Reg_Const, true);
	}
	return T;
}

void SC_Pac_LoopFill(Assembler* Self, FatASM* C, FatASM* S, FatASM* A) {
	while (C < S) {
		//ClearExits;
		uint Op = SC_FAT_Op(C);
		uint64 K = C->_Const;
		if ((Op == kSC__ASM_JUMP) and (K >= kSC__Pac_kContinue)) {
			C->_Const = 0;
			if (K == kSC__Pac_kContinue) {
				SC_FAT_JumpToSet(C, S);
			}
			 else {
				SC_FAT_JumpToSet(C, A);
			}
		}
		(++C);
	};
}

ASMReg SC_Pac_MakeConstFromTwo(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R, fn_ASMConstifier Fn) {
	int64 K = (Fn)(L, R);
	SC_Pac_Nop2Consts(Self, R, L);
	return SC_Pac_NumToReg(Self, Exp, Dest, K, SC_Reg_xC2xB5Type(Dest));
}

void SC_Pac_MarkVarClosed(Assembler* Self, int RegBits) {
	Self->RegDebugInfo = (Self->RegDebugInfo & (~RegBits));
	FatASM* Mark = SC_Pac_LastWith0(Self);
	if (!SC_FAT_CanCloseRegs(Mark, RegBits)) {
		Mark = SC_Msg_MARK(Mark->Msg);
		Mark->xC2xB5RefCount = 1;
	}
	(SC_FAT_SyntaxIsSet(Mark, kSC__Reg_DebugVars, true));
	Mark->_Const = (Mark->_Const | RegBits);
}

ASMReg SC_Pac_MarkVarOpen(Assembler* Self, Message* Exp, ASMReg Declared, SCDecl* Ty, FatASM* Start) {
	FatASM* Last = SC_Pac_LastWith0(Self);
	if ((Start > Last) and (Start > SC_Pac_FuncStart(Self))) {
		Start = (Start - ((int)SC_Pac_IsCurr(Self, Start - 1)));
	}
	while (Start <= Last) {
		if (SC_FAT_CanMarkSomething(Last, Exp, Declared, Ty)) {
			(SC_FAT_SyntaxIsSet(Last, kSC__Reg_DebugVars, true));
			return Declared;
		}
		(--Last);
	};
	Last = SC_Msg_MARK(Exp);
	Last->_Outputs = 1;
	Last->xC2xB5RefCount = 1;
	Last->Prms[0] = SC_Reg_Reg(Declared);
	(SC_FAT_SyntaxIsSet(Last, kSC__Reg_DebugVars, true));
	return Declared;
}

ASMReg SC_Pac_MegaNumFinder(Assembler* Self, int64 V, bool Special, uint /*DataTypeCode*/ Type) {
	if (V == 0) {
		return SC_Reg_xC2xB5TypeSetWithTc(kSC__Reg_Zero, Type);
	}
	uint Bi = Self->BranchID;
	FatASM* Cc = SC_Pac_Curr(Self);
	{
		int _hf0 = Self->Regs.KnownMap;
		while (_hf0) {
			int _h2f1 = JB_int_LowestBit(_hf0);
			FatASM* F = SC_Pac_Register(Self, JB_Int_Log2(_h2f1));
			if ((F->BranchID == Bi) and ((F < Cc) and ((SC_FAT_OperatorIsa(F, kSC__ASM_KNST)) and (F->_Const == V)))) {
				ASMReg Info = F->Info;
				if (JB_TC_SpecialReg(SC_Reg_xC2xB5Type(Info)) == Special) {
					Info = SC_Reg_SyntaxIsSet(Info, kSC__Reg_BlockNop, true);
					return Info;
				}
			}
			_hf0 = (_hf0 & (~_h2f1));
		};
	}
	;
	return ((ASMReg)0);
}

ASMReg SC_Pac_MemOffsetFix(Assembler* Self, ASMReg Base, int Pow2, int& Index, uint MaxBits, SCDecl* Glob, Message* Exp) {
	if (SC_Reg_SyntaxIs(Base, kSC__Reg_AddrNoFiddle)) {
		return SC_Reg_OperatorAsnt(Base, kSC__Reg_AddrNoFiddle);
	}
	uint Maximum = (1 << MaxBits) - 1;
	int64 LostBytes = 0;
	if (SC_Reg_SyntaxIs(Base, kSC__Reg_GlobalMemory)) {
		if ((!Glob)) {
			JB_Object_Fail(nil);
			return nil;
		}
		if ((SC_Decl_SyntaxIs(Glob, kSC__SCDeclInfo_Global)) or ((!SC_Decl_SyntaxIs(Glob, kSC__SCDeclInfo_Property)))) {
			LostBytes = (SC_Decl_ExportPosition(Glob) - SC_FAT_Const(SC_Reg_FAT(Base)));
			if (LostBytes < 0) {
				JB_Object_Fail(nil);
				return nil;
			}
		}
	}
	int I = Index;
	I = (I + (LostBytes >> Pow2));
	if (I <= ((int)Maximum)) {
		Index = I;
		return Base;
	}
	I = ((Index << Pow2) + LostBytes);
	Index = 0;
	return SC_Pac_AddToReg(Self, Exp, Base, SC_Reg_OperatorAs(Base, kSC__Reg_NoScale), I);
}

int SC_Pac_MemOpt(Assembler* Self, ASMReg& Base, int& Index, int Bytes) {
	int Rz = 0;
	FatASM* Bs = SC_Reg_FAT(Base);
	if (!Bs) {
		return 0;
	}
	bool Before = SC_FAT_OperatorIsa(Bs, kSC__ASM_ADDK);
	if (!(Before or (SC_FAT_OperatorIsa(Bs, kSC__ASM_ADAK)))) {
		return 0;
	}
	if (!SC_Reg_SyntaxIs(Base, kSC__Reg_Temp)) {
		if (SC_Pac_LastWith0(Self) != Bs) {
			return 0;
		}
		if (SC_FAT_RegOnly(Bs, 0) != SC_FAT_RegOnly(Bs, 1)) {
			return 0;
		}
	}
	Rz = (((int)Bs->Prms[2]) >> Bytes);
	int I = Index;
	if (Before) {
		I = (I + Rz);
		if (((uint)I) > 127) {
			return 0;
		}
	}
	if (Before and (SC_FAT_SyntaxIs(Bs, kSC__Reg_Temp))) {
		Rz = 0;
	}
	 else {
		if (!((Rz >= -1) and (Rz <= 1))) {
			return 0;
		}
	}
	bool CanNop = (!SC_Reg_SyntaxIs(Base, kSC__Reg_BlockNop));
	Index = I;
	Base = SC_FAT_ASMReg(Bs, 1);
	if (CanNop) {
		SC_Pac_SoftNop(Self, Bs);
	}
	return Rz;
}

ASMReg SC_Pac_MergeBFLG(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg Src, uint upB, uint downB, int SignB) {
	FatASM* Bflg = SC_Pac_Register(Self, SC_Reg_Reg(Src));
	if (!((SC_FAT_OperatorIsa(Bflg, kSC__ASM_BFLG)) and SC_Pac_IsCurr(Self, Bflg))) {
		return nil;
	}
	ASMReg PrevInput = SC_FAT_ASMReg(Bflg, 1);
	if (SC_Pac_LastWith0(Self) != Bflg) {
		FatASM* Intefere = SC_Pac_Register(Self, SC_Reg_Reg(PrevInput));
		if (Intefere > Bflg) {
			return nil;
		}
	}
	ASMParam UpA = Bflg->Prms[2];
	ASMParam DownA = Bflg->Prms[3];
	ASMParam SignA = Bflg->Prms[4];
	if (SignA != SignB) {
		if (DownA and downB) {
			return nil;
		}
		if (DownA) {
			SignB = SignA;
		}
	}
	int Total = (UpA + upB) - (DownA + downB);
	Ind Up = SC_Pac_CanMergeBits(Self, UpA, DownA, upB, downB, Total);
	if (JB_Ind_SyntaxCast(Up)) {
		if (SC_Reg_SyntaxIs(Src, kSC__Reg_Temp) or SC_Reg_OperatorIz(Dest, Src)) {
			Src = PrevInput;
			SC_Pac_SoftNop(Self, Bflg);
		}
		 else {
			if (SC_Reg_OperatorIz(PrevInput, Src)) {
				return nil;
			}
		}
		return SC_FAT_AsReg(SC_Msg_BFLG(Exp, Dest, PrevInput, Up, Up - Total, SignB), Dest);
	}
	return ((ASMReg)0);
}

ASMReg SC_Pac_MiniBOR(Assembler* Self, ASMReg L, ASMReg R, ASMReg Dest) {
	ASMReg F = SC_Pac_MiniBORSub(Self, L, R);
	if (F) {
		return SC_Reg_xC2xB5TypeSetWithReg(F, Dest);
	}
	return ((ASMReg)0);
}

ASMReg SC_Pac_MiniBORSub(Assembler* Self, ASMReg L, ASMReg R) {
	if (SC_Reg_OperatorIz(L, R)) {
		return L;
	}
	if (SC_Reg_SyntaxIs(R, kSC__Reg_Const)) {
		int64 K = SC_Reg_Const(R);
		if (K == 0) {
			return L;
		}
		if (K == -1) {
			return R;
		}
	}
	return ((ASMReg)0);
}

ASMReg SC_Pac_MiniClampOpt(Assembler* Self, Message* Exp, FatASM* Compare) {
	FatASM* Bflg = SC_Pac_LastWithAsm(Self, kSC__ASM_BFLG);
	if ((Bflg - 1) != Compare) {
		return nil;
	}
	if (!(SC_FAT_OperatorIsa(Compare, kSC__ASM_JMPI) or SC_FAT_OperatorIsa(Compare, kSC__ASM_JMPF))) {
		return nil;
	}
	ASMParam Mode = Compare->Prms[2];
	int Small = (Mode >> 2) & 1;
	bool IsFloat = SC_FAT_OperatorIsa(Compare, kSC__ASM_JMPF);
	if (!IsFloat) {
		if (((Mode >> 3) & 1) != Small) {
			return nil;
		}
	}
	ASMReg X = SC_FAT_ASMReg(Compare, 0);
	ASMReg Y = SC_FAT_ASMReg(Compare, 1);
	int IsMax = Mode & 1;
	if (IsMax) {
		JB_Swap((X), (Y));
	}
	ASMReg A = SC_FAT_ASMReg(Bflg, 0);
	ASMReg B = SC_FAT_ASMReg(Bflg, 1);
	if (SC_Reg_OperatorIz(X, B) and SC_Reg_OperatorIz(Y, A)) {
		IsMax = (IsMax ^ 1);
	}
	 else {
		if (!(SC_Reg_OperatorIz(X, A) and SC_Reg_OperatorIz(Y, B))) {
			return nil;
		}
		JB_Swap((X), (Y));
	}
	SC_Pac_SoftNop(Self, Bflg);
	SC_Pac_SoftNop(Self, Compare);
	ASMReg Input = ((ASMReg)JB_Ternary(IsMax, Y, X));
	FatASM* F = SC_Msg_ICLM(Exp, A, X, Input, Y, Small);
	if (IsFloat) {
		F->Prms[4] = (Small ^ 1);
		F->_Op = kSC__ASM_FCLM;
		if (0) {
			SC_Msg_FCLM(Exp, nil, nil, nil, nil, nil);
		}
	}
	 else {
		if (Mode & 2) {
			F->_Op = kSC__ASM_UCLM;
			if (0) {
				SC_Msg_UCLM(Exp, nil, nil, nil, nil, nil);
			}
		}
	}
	return SC_FAT_AsReg(F, A);
}

ASMReg SC_Pac_Minus(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (R != SC_Reg__New()) {
	}
	R = SC_Reg_SyntaxIsSet(R, kSC__Reg_Subtract, true);
	return SC_Reg_OperatorAsnt(SC_Pac_Plus(Self, Exp, Dest, R, L), kSC__Reg_Alternate);
}

void SC_Pac_MissingReturn(Assembler* Self) {
	Message* Dl = ((Message*)JB_Tree_FlatLast(SC_Pac_fn(Self)->Source));
	SC_Pac_CloseVars(Self, 1, Dl, nil);
	SC_ASMType__ReturnOpt(Self, nil);
	SC_Msg_RET(Dl, nil, nil);
}

ASMReg SC_Pac_Mod(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (SC_Reg_IsInt(Dest)) {
		return SC_Pac_ModInt(Self, Exp, Dest, L, R);
	}
	return SC_Pac_ModFloat(Self, Exp, Dest, L, R);
}

ASMReg SC_Pac_ModFloat(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Const)) {
		return SC_Pac_MakeConstFromTwo(Self, Exp, Dest, L, R, ((fn_ASMConstifier)(SC_ConstifyFloatMod)));
	}
	int Big = ((int)SC_Reg_IsSmall(Dest));
	return SC_FAT_Vectorise(SC_Msg_FMOD(Exp, Dest, L, R, SC_Reg__New(), Big), Dest, kSC__ASM_VMOD);
}

ASMReg SC_Pac_ModInt(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Const)) {
		return SC_Pac_MakeConstFromTwo(Self, Exp, Dest, L, R, ((fn_ASMConstifier)(SC_ConstifyIntMod)));
	}
	FatASM* Fat = SC_Msg_DIV(Exp, SC_Reg__New(), Dest, L, R, ((int)SC_Reg_Signed(Dest)));
	Fat->_Outputs = (Fat->_Outputs & (~1));
	return SC_FAT_VectoriseSmall(Fat, Dest, kSC__ASM_QDIV, kSC__ASM_DIVS);
}

ASMReg SC_Pac_More(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	return SC_Pac_Compare(Self, Dest, L, R, Exp, 0);
}

ASMReg SC_Pac_MoreEq(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	return SC_Pac_Compare(Self, Dest, R, L, Exp, 1);
}

FatASM* SC_Pac_MUL_(Assembler* Self, ASMReg Dest, ASMReg A, ASMReg B, ASMReg Add, Message* Exp) {
	ASMReg A2 = SC_Pac_SmallToBig(Self, A, B, Exp);
	ASMReg B2 = SC_Pac_SmallToBig(Self, B, A, Exp);
	return SC_Msg_MUL(Exp, Dest, A2, B2, Add);
}

ASMReg SC_Pac_Multiply(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (SC_Reg_OperatorIsa(L, kJB__TC_bool)) {
		return SC_Pac_BoolMul(Self, Dest, L, R, Exp);
	}
	if (SC_Reg_OperatorIsa(R, kJB__TC_bool)) {
		return SC_Pac_BoolMul(Self, Dest, R, L, Exp);
	}
	if (SC_Reg_SyntaxIs(L, kSC__Reg_Const)) {
		JB_Swap((L), (R));
	}
	if (SC_Reg_IsInt(L)) {
		return SC_Pac_IntMul(Self, Exp, Dest, R, L);
	}
	return SC_Pac_FloatMul(Self, Exp, Dest, L, R);
}

void SC_Pac_NextBasicBlock(Assembler* Self) {
	(++Self->BasicBlock);
}

void SC_Pac_Nop(Assembler* Self, FatASM* ToNop) {
	return SC_Pac_nop_sub(Self, ToNop, false, 0);
}

void SC_Pac_Nop2Consts(Assembler* Self, ASMReg A, ASMReg B) {
	bool Further = SC_Reg_FatIndex(A) > SC_Reg_FatIndex(B);
	if (Further) {
		SC_Pac_NopConstWithReg(Self, A);
	}
	SC_Pac_NopConstWithReg(Self, B);
	if (!Further) {
		SC_Pac_NopConstWithReg(Self, A);
	}
}

void SC_Pac_nop_sub(Assembler* Self, FatASM* Fat, bool Soft, int Depth) {
	uint Break = Fat->ASMIndex;
	if (Break) {
		if (Self->BranchID == Fat->BranchID) {
			Self->BreakRequest = (Self->BreakRequest | Break);
		}
	}
	ASMReg Info = Fat->Info;
	if (SC_Reg_SyntaxIs(Info, kSC__Reg_Temp) and (!SC_Reg_SyntaxIs(Info, kSC__Reg_OKAsTemp))) {
		SC_Pac_CloseOneVar(Self, nil, 1 << SC_Reg_Reg(Info));
	}
	FatASM* C = SC_Pac_Curr(Self) - 1;
	if (Fat == C) {
		Self->Curr_ = C;
	}
	(++Depth);
	if (Depth > 7) {
	}
	{
		uint _irf0 = Fat->InputFats;
		int _if1 = 0;
		while (_if1 < (6)) {
			if (!(_irf0 & (1 << _if1))) {
				(++_if1);
				continue;
			}
			FatASM* F = SC_FAT_InputFat(Fat, _if1);
			SC_Pac_Decr(Self, F, Soft, Depth);
			(++_if1);
		};
	}
	;
	{
		int _oof3 = ((int)Fat->_Outputs);
		while (_oof3) {
			int _if4 = JB_int_LowestBit(_oof3);
			_oof3 = (_oof3 & (~_if4));
			ASMParam V = Fat->Prms[JB_Int_Log2(_if4)];
			V = (V & 31);
			if (SC_Pac_Register(Self, V) == Fat) {
				SC_Pac_SetRegister(Self, V, nil, SC_FAT_FindOlder(Fat));
			}
		};
	}
	;
	int Type = kSC__ASM_NOOP * (Fat < Self->Curr_);
	(SC_FAT_SetOpSet(Fat, Type));
}

bool SC_Pac_NopConstWithRegInt64(Assembler* Self, ASMReg R, int64 K) {
	if (SC_Reg_Const(R) == K) {
		SC_Pac_NopConstWithReg(Self, R);
		return true;
	}
	return false;
}

void SC_Pac_NopConstWithReg(Assembler* Self, ASMReg R) {
	if (!SC_Reg_Reg(R)) {
		return;
	}
	if (SC_Reg_SyntaxIs(R, kSC__Reg_Temp) and (!SC_Reg_SyntaxIs(R, kSC__Reg_BlockNop))) {
		SC_Pac_AskNop(Self, SC_Reg_NeedFAT(R));
	}
}

void SC_Pac_NopRange(Assembler* Self, FatASM* Start, FatASM* After, bool Soft) {
	while (Start < After) {
		SC_Pac_nop_sub(Self, (--After), Soft, 0);
	};
}

void SC_Pac_NopReg(Assembler* Self, ASMReg R) {
	FatASM* F = SC_Reg_FAT(R);
	if (F) {
		return SC_Pac_Nop(Self, F);
	}
}

ASMReg SC_Pac_NotEq(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	return SC_Pac_Equals(Self, Exp, SC_Reg_Negate(Dest, true), L, R);
}

ASMReg SC_Pac_NumToReg(Assembler* Self, Message* Exp, ASMReg Reg, int64 K, uint /*DataTypeCode*/ SrcType) {
	if (SC_Reg_SyntaxIs(Reg, kSC__Reg_ContainsAddr)) {
		JB_DoAt(1);
		Reg = SC_Reg_SyntaxIsSet(Reg, kSC__Reg_ContainsAddr, (!true));
	}
	if (K) {
		return SC_Pac_LoadNumber(Self, Exp, K, JB_TC_SpecialReg(SrcType), Reg);
	}
	Reg = SC_Reg_xC2xB5TypeSetWithTc(Reg, SrcType);
	return SC_Pac_Zeros(Self, Reg);
}

uint64 SC_Pac_OpenVars(Assembler* Self) {
	return (((uint64)SC_Pac_vdecls(Self)) << 0) | (((uint64)SC_Pac_vtemps(Self)) << 32);
}

ASMReg SC_Pac_PackGlobAddr(Assembler* Self, SCDecl* D, Message* Exp, ASMReg Dest, int64 ExportPos) {
	ASMReg Rz = ((ASMReg)0);
	if (ExportPos > ((4294967296) - 1)) {
		JB_Msg_Fail(Exp, JB_Str_OperatorPlusWithInt64(JB_LUB[1897], ExportPos));
	}
	if ((!SC_Reg_SyntaxIs(Dest, kSC__Reg_AddrNoFiddle)) and (!SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_ClassObj))) {
		ExportPos = (ExportPos & (~63));
	}
	int Direct = ExportPos & ((1 << 18) - 1);
	FatASM* Fat = SC_Msg_GTAB(Exp, Dest, 0, Direct);
	(SC_FAT_ConstSet(Fat, Direct));
	Rz = SC_FAT_AsReg(Fat, Dest);
	int64 Missing = ExportPos - Direct;
	if (Missing >= 4096) {
		(SC_FAT_ConstSet(Fat, -1));
		Fat = SC_Msg_ADDB(Exp, Dest, Missing >> 12);
		Rz = SC_FAT_AsReg(Fat, Dest);
	}
	return Rz;
}

ASMReg SC_Pac_Plus(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	ASMReg Rz = ((ASMReg)0);
	Rz = SC_Pac_PlusSub(Self, Exp, Dest, L, R);
	Rz = SC_Reg_OperatorAsnt(Rz, kSC__Reg_Subtract);
	return Rz;
}

ASMReg SC_Pac_PlusSub(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (SC_Reg_IsZero(R)) {
		Dest = SC_Reg_RegSetWithReg(Dest, L);
		return Dest;
	}
	if (!SC_Reg_SyntaxIs(L, kSC__Reg_Subtract)) {
		if (SC_Reg_IsZero(L)) {
			Dest = SC_Reg_RegSetWithReg(Dest, R);
			return Dest;
		}
	}
	 else {
		if (SC_Reg_OperatorIz(R, L)) {
			return SC_Pac_Zeros(Self, Dest);
		}
	}
	if (SC_Reg_IsFloat(L)) {
		return SC_Pac_FloatPlus(Self, Exp, Dest, L, R);
	}
	return SC_Pac_IntPlus(Self, Exp, Dest, L, R);
}

uint64 SC_Pac_PrmCollect(Assembler* Self, Message* Prms, SCFunction* Fn) {
	uint64 Rz = 0;
	if (!SC_Func_HasCVersion(Fn)) {
		return SC_Pac_PrmCollectSpd(Self, Prms, Fn);
	}
	int64 Sh = 64;
	int Fc = 0;
	int Ic = 0;
	Array* Args = Fn->Args;
	int N = JB_Array_Size(Args);
	{
		int Ints = 0;
		while (Ints < 2) {
			int I = 0;
			{
				Message* P = ((Message*)JB_Ring_First(Prms));
				while (P) {
					SCDecl* Ty = SC_Msg_ASMDecl(P);
					if (((int)SC_Decl_SpecialReg(Ty)) != Ints) {
						int64 V = SC_Reg_Reg(SC_Pac_xC2xB5Reffed(Self, P, ((SCDecl*)JB_Array_Value(Args, I))));
						Sh = (Sh - 5);
						Rz = (Rz | (V << Sh));
						Ic = (Ic + Ints);
						Fc = (Fc + (!Ints));
					}
					(++I);
					P = ((Message*)JB_Ring_NextSib(P));
				};
				;
			}
			;
			(++Ints);
		};
	}
	;
	Rz = (Rz >> (64 - ((N * 5) + 12)));
	if ((Fc > 8) or (Ic > 8)) {
	}
	Rz = (Rz | (SC_Decl_SpecialReg(SC_Func_ASMReturnWith0(Fn)) << 11));
	if (Fc) {
		Rz = (Rz | ((8 - Fc) << 6));
		Rz = (Rz | ((8 - Ic) << 0));
	}
	 else {
		Rz = (Rz | ((17 - Ic) << 6));
	}
	return Rz;
}

uint64 SC_Pac_PrmCollectSpd(Assembler* Self, Message* Prms, SCFunction* Fn) {
	uint64 Rz = 0;
	int64 Sh = 0;
	Array* Args = Fn->Args;
	int I = 0;
	{
		Message* P = ((Message*)JB_Ring_First(Prms));
		while (P) {
			int64 V = SC_Reg_Reg(SC_Pac_xC2xB5Reffed(Self, P, ((SCDecl*)JB_Array_Value(Args, I++))));
			Sh = (Sh + 5);
			Rz = (Rz | (V << Sh));
			P = ((Message*)JB_Ring_NextSib(P));
		};
		;
	}
	;
	Rz = (Rz | I);
	return Rz;
}

ASMReg SC_Pac_Quick1Or1Sub(Assembler* Self, ASMReg Dest, ASMReg L, int Ptoi, Message* Exp) {
	if (Ptoi == -1) {
		return SC_Pac_Subtract(Self, Exp, Dest, SC_Reg__New(), L);
	}
	if (Ptoi == 1) {
		return SC_Reg_xC2xB5TypeSetWithReg(L, Dest);
	}
	return SC_TC_zero(SC_Reg_xC2xB5Type(Dest));
}

ASMReg SC_Pac_QuickFloat32Plus(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (SC_Reg_SyntaxIs(R, kSC__Reg_Const)) {
		ASMReg QQ = SC_Pac_QuickFloatPlusConstSub(Self, Exp, Dest, L, R);
		if (QQ) {
			return QQ;
		}
	}
	if (SC_Reg_SyntaxIs(L, kSC__Reg_Const) and (!SC_Reg_SyntaxIs(L, kSC__Reg_Alternate))) {
		return SC_Pac_QuickFloatPlusConstSub(Self, Exp, Dest, SC_Reg_OperatorAsnt(R, kSC__Reg_Alternate), L);
	}
	return ((ASMReg)0);
}

ASMReg SC_Pac_QuickFloatDiv(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (!SC_Reg_SyntaxIs(R, kSC__Reg_Const)) {
		return nil;
	}
	Float64 V = SC_Reg_float(R);
	Float64 V2 = fabs(V);
	if ((V2 == 1.0f) or (V2 == 0.0f)) {
		if (V2 == 0.0f) {
			SC_Msg_DivByZero(Exp);
		}
		SC_Pac_NopConstWithReg(Self, R);
		return SC_Pac_Quick1Or1Sub(Self, Dest, L, ((int)V), Exp);
	}
	return ((ASMReg)0);
}

ASMReg SC_Pac_QuickFloatMul(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (!SC_Reg_SyntaxIs(R, kSC__Reg_Const)) {
		return nil;
	}
	Float64 V = SC_Reg_float(R);
	if ((V == 1.0f) or ((V == 0.0f) or (V == -1.0f))) {
		SC_Pac_NopConstWithReg(Self, R);
		return SC_Pac_Quick1Or1Sub(Self, Dest, L, ((int)V), Exp);
	}
	if (V == 2.0f) {
		SC_Pac_NopConstWithReg(Self, R);
		return SC_Pac_Plus(Self, Exp, Dest, L, L);
	}
	if (SC_Reg_FourBytes(R)) {
		int64 X = SC_Reg_Const(R);
		int64 Y = X >> 18;
		if (X == (Y << 18)) {
			SC_Pac_NopReg(Self, R);
			if (0) {
				SC_Msg_VMLK(Exp, nil, nil, nil);
			}
			return SC_FAT_Vectorise(SC_Msg_FMLK(Exp, Dest, L, X), Dest, kSC__ASM_VMLK);
		}
	}
	return ((ASMReg)0);
}

ASMReg SC_Pac_QuickFloatPlusConstSub(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	uint64 K = ((uint64)SC_Reg_Const(R));
	K = (K ^ ((SC_Reg_SyntaxIs(L, kSC__Reg_Subtract)) << 31));
	if (((K >> 18) << 18) != K) {
		return nil;
	}
	SC_Pac_NopConstWithReg(Self, R);
	if (0) {
		SC_Msg_VADK(Exp, nil, nil, nil);
	}
	return SC_FAT_Vectorise(SC_Msg_FADK(Exp, Dest, L, K), Dest, kSC__ASM_VADK);
}

ASMReg SC_Pac_QuickIntDiv(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (!SC_Reg_SyntaxIs(R, kSC__Reg_Const)) {
		return nil;
	}
	FailableInt PToi = SC_Pac_IntPowerOfTwo(Self, R, 0);
	if (!JB_FailableInt_SyntaxCast(PToi)) {
		return nil;
	}
	if (PToi <= 1) {
		if (PToi == 0) {
			SC_Msg_DivByZero(Exp);
		}
		return SC_Pac_Quick1Or1Sub(Self, Dest, L, PToi, Exp);
	}
	if (!SC_Reg_Signed(L)) {
		return SC_Pac_BFLG_Sub(Self, Exp, Dest, L, 0, PToi - 1, false);
	}
	return SC_FAT_AsReg(SC_Msg_DIV2(Exp, Dest, L, SC_Reg_BitLoss(L), PToi - 1), Dest);
}

ASMReg SC_Pac_QuickIntMul(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (!SC_Reg_SyntaxIs(R, kSC__Reg_Const)) {
		return nil;
	}
	FailableInt Pow2 = SC_Pac_IntPowerOfTwo(Self, R, 0);
	if (JB_FailableInt_SyntaxCast(Pow2)) {
		if (Pow2 <= 1) {
			return SC_Pac_Quick1Or1Sub(Self, Dest, L, Pow2, Exp);
		}
		if (0) {
			SC_Msg_QFLG(Exp, nil, nil, nil, nil, nil);
		}
		return SC_Pac_BFLG_Sub(Self, Exp, Dest, L, Pow2 - 1, 0, false);
	}
	FailableInt Five = SC_Pac_IntPowerOfTwo(Self, R, 1);
	if (JB_FailableInt_SyntaxCast(Five)) {
		if (0) {
			SC_Msg_QADD(Exp, nil, nil, nil, nil);
			SC_Msg_QSUB(Exp, nil, nil, nil, nil);
		}
		return SC_FAT_Vectorise(SC_Msg_ADD(Exp, Dest, L, L, Five - 1), Dest, kSC__ASM_QADD);
	}
	int64 RR = SC_Reg_Const(R);
	if ((!SC_Reg_IsVec(Dest)) and SC_Pac_CanAddK(Self, R, RR)) {
		return SC_FAT_AsReg(SC_Msg_MULK(Exp, Dest, L, RR), Dest);
	}
	return ((ASMReg)0);
}

ASMReg SC_Pac_ReadOrWrite(Assembler* Self, ASMReg Dest, Message* Exp, ASMReg Base, ASMReg VarAdd, SCDecl* Ty, int Index) {
	if (!SC_Reg_SyntaxIs(Dest, kSC__Reg_Set)) {
		Dest = SC_Pac_TempTypedWithMsgReg(Self, Exp, Dest);
	}
	Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_Const, (!true));
	FatASM* Fat = SC_Pac_ReadOrWriteSub(Self, Dest, Exp, Base, VarAdd, Ty, Index);
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Set)) {
		Dest = SC_Reg_RegSetWithInt(Dest, 0);
		Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_Const, true);
	}
	return SC_FAT_AsReg(Fat, Dest);
}

FatASM* SC_Pac_ReadOrWriteSub(Assembler* Self, ASMReg Dest, Message* Exp, ASMReg Base, ASMReg VarAdd, SCDecl* Decl, int Index) {
	FatASM* Rz = nil;
	Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_AddrRequest, (!true));
	uint T = SC_Reg_xC2xB5Type(Dest);
	int Byte_shift = JB_Int_Log2(JB_TC_ByteCount(T));
	if (((uint)Byte_shift) > 4) {
		if (true) {
			JB_Msg_Fail(Exp, JB_LUB[2085]);
		}
		Byte_shift = 0;
	}
	(++Index);
	Ind VInd = SC_Pac_Const(Self, VarAdd, 7, false);
	if (JB_Ind_SyntaxCast(VInd)) {
		Index = (Index + VInd);
		VarAdd = SC_Reg__New();
	}
	if (!SC_Decl_SyntaxIs(Decl, kSC__SCDeclInfo_ClassObj)) {
		Base = SC_Pac_MemOffsetFix(Self, Base, Byte_shift, Index, 7, Decl, Exp);
	}
	int Pinc = SC_Pac_MemOpt(Self, Base, Index, Byte_shift);
	if (((!Pinc)) and (((!SC_Reg_SyntaxIs(Dest, kSC__Reg_Set))) and ((Byte_shift == 3) and ((!SC_Reg_Reg(VarAdd)))))) {
		FatASM* Bs = SC_Reg_FAT(Base);
		if (SC_FAT_OperatorIsa(Bs, kSC__ASM_GTAB)) {
			if (Bs->Prms[1]) {
				ASMParam GlobID = Bs->Prms[2];
				SC_Pac_AskNop(Self, Bs);
				return SC_Msg_GOBJ(Exp, Dest, 1, 0, GlobID);
			}
			int64 K = SC_FAT_Const(Bs) + ((Index - 1) << 3);
			if (K <= ((1 << 20) - 1)) {
				if (SC_Comp__SyntaxIs(kSC__CompilerStage_Hungry)) {
					(SC_Decl_SyntaxIsSet(Decl, kSC__SCDeclInfo_ASMReached, true));
				}
				SC_Pac_AskNop(Self, Bs);
				return SC_Msg_GOBJ(Exp, Dest, 0, 0, K >> 3);
			}
		}
	}
	ASM Op = SC__ASMType_WriteASM[Byte_shift];
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Set)) {
		Rz = SC_Msg_WR4U(Exp, Dest, Base, VarAdd, Index, Pinc);
		Rz->xC2xB5RefCount = 1;
	}
	 else {
		Rz = SC_Msg_RD4U(Exp, Dest, Base, VarAdd, Index, Pinc);
		Byte_shift = ((Byte_shift << 1) + JB_TC_IsSigned(T));
		Op = SC__ASMType_ReadASM[Byte_shift];
	}
	Rz->_Op = Op;
	if (Pinc) {
		(++Rz->xC2xB5RefCount);
		SC_FAT_Dest(Rz, 1, Base, Self);
	}
	return Rz;
}

ASMReg SC_Pac_RealTernary(Assembler* Self, Message* Exp, ASMReg Dest, Message* A, Message* B, FatRange* Branch) {
	ASMReg Rz = ((ASMReg)0);
	ASMReg xC2xB5A = SC_Pac_xC2xB5Into(Self, A, Dest);
	FatASM* Exit = SC_Msg_JUMP(Exp, nil);
	SC_Pac_BranchToCurr(Self, Branch);
	Rz = SC_Pac_xC2xB5Into(Self, B, Dest);
	SC_Pac_NextBasicBlock(Self);
	Rz = SC_Pac_TernRefCount(Self, xC2xB5A, Rz);
	SC_FAT_JumpToSet(Exit, SC_Pac_Curr(Self));
	return Rz;
}

ASMReg SC_Pac_ReDestWithFatReg(Assembler* Self, FatASM* F, ASMReg Dest) {
	int O = F->_Outputs;
	return SC_Pac_ReDestWithFatRegUint(Self, F, Dest, JB_Int_Log2(O));
}

ASMReg SC_Pac_ReDestWithFatRegUint(Assembler* Self, FatASM* F, ASMReg Dest, uint A) {
	int Old = F->Prms[A] & 31;
	if (Old) {
		if (SC_Pac_Register(Self, Old) == F) {
			SC_Pac_SetRegister(Self, Old, nil, SC_FAT_FindOlder(F));
		}
	}
	return SC_FAT_Dest(F, A, Dest, Self);
}

ASMReg SC_Pac_RefCount(Assembler* Self, Message* Exp, ASMReg Dest) {
	Message* Prms = ((Message*)JB_Ring_Last(Exp));
	SCFunction* Fn = ((SCFunction*)Prms->Obj);
	Message* Pf = ((Message*)JB_Ring_First(Prms));
	if (Fn == SC__Comp_RefNew) {
		ASMReg A = SC_Pac_xC2xB5(Self, Pf, SC_Reg__New());
		return SC_FAT_AsReg(SC_Msg_RALO(Exp, Dest, A), Dest);
	}
	if (Fn == SC__Comp_RefFreeIfDead) {
		ASMReg A = SC_Pac_xC2xB5(Self, Pf, SC_Reg__New());
		// Disallow: if obj.X(),   when obj.X() is a disowner;
		// Then we will never freeifdead within if-branch or other tests.;
		// needs understanding of disowners!;
		SC_Msg_RFUN(Exp, A, nil, nil);
		return A;
	}
	FatASM* Fat = SC_Pac_RefCountSub(Self, Exp, Prms, Fn);
	if (Fat) {
		(++Fat->xC2xB5RefCount);
		return SC_Reg_OperatorAs(Fat->Info, SC_Reg__New());
	}
	return ((ASMReg)0);
}

FatASM* SC_Pac_RefCountClear(Assembler* Self, Message* Exp, Message* Prms) {
	ASMReg A = SC_Pac_xC2xB5(Self, ((Message*)JB_Ring_First(Prms)), kSC__Reg_AddrRequest);
	int Offset = 0;
	A = SC_Pac_InlineOffsetOpt(Self, A, 3, Offset, 13, nil, ((Message*)JB_Ring_First(Prms)));
	return SC_Msg_RFWR(Exp, A, nil, 1, Offset);
}

FatASM* SC_Pac_RefCountDecr(Assembler* Self, Message* Exp, Message* Prms, ASMReg Obj) {
	FatASM* Last = SC_Pac_Last(Self, kSC__ASM_RFUN, kSC__ASM_GOBJ);
	if (Last) {
		FatASM* Ret = SC_Pac_CanOptDecr(Self, Obj, Last);
		if (Ret) {
			if (Ret != Last) {
				return nil;
			}
			return Ret;
		}
		if ((SC_FAT_OperatorIsa(Last, kSC__ASM_GOBJ)) and ((SC_ASMParam_OperatorIz(SC_FAT_p0(Last), Obj)) and SC_FAT_p1(Last))) {
			(SC_FAT_p2Set(Last, 0));
			return nil;
		}
	}
	return SC_Msg_RFUN(Exp, Obj, Obj, nil);
}

FatASM* SC_Pac_RefCountIncr(Assembler* Self, Message* Exp, Message* Prms, ASMReg Obj) {
	FatASM* Last = SC_Pac_LastWithAsm(Self, kSC__ASM_GOBJ);
	if (Last) {
		if ((SC_ASMParam_OperatorIz(SC_FAT_p0(Last), Obj)) and (!SC_FAT_p1(Last))) {
			(SC_FAT_p2Set(Last, 1));
			return Last;
		}
	}
	FatASM* Fat = SC_Msg_RFUN(Exp, SC_Reg__New(), SC_Reg__New(), Obj);
	Fat->_Outputs = 0;
	return Fat;
}

FatASM* SC_Pac_RefCountIncr2(Assembler* Self, Message* Exp, Message* Prms) {
	ASMReg A = SC_Pac_xC2xB5(Self, ((Message*)JB_Ring_First(Prms)), kSC__Reg_AddrRequest);
	int Offset = 0;
	A = SC_Pac_InlineOffsetOpt(Self, A, 3, Offset, 13, nil, ((Message*)JB_Ring_First(Prms)));
	ASMReg B = SC_Pac_xC2xB5(Self, ((Message*)JB_Tree_Second(Prms)), SC_Reg__New());
	return SC_Msg_RFWR(Exp, A, B, 0, Offset);
}

FatASM* SC_Pac_RefCountSet(Assembler* Self, Message* Exp, Message* Prms) {
	Message* DestMsg = ((Message*)JB_Ring_First(Prms));
	Message* P = ((Message*)JB_Tree_Second(Prms));
	ASMReg A = SC_Pac_xC2xB5GetReal(Self, DestMsg, SC_Reg_OperatorTemp(kSC__Reg_AddrRequest, P));
	ASMReg B = SC_Pac_xC2xB5(Self, P, kSC__Reg_AddrRequest);
	if (SC_Reg_OperatorIz(A, B)) {
		return nil;
	}
	if (!SC_Reg_SyntaxIs(A, kSC__Reg_ContainsAddr)) {
		if (SC_Reg_SyntaxIs(B, kSC__Reg_ContainsAddr)) {
			int Offset = 0;
			B = SC_Pac_InlineOffsetOpt(Self, B, 3, Offset, 13, SC_Msg_ASMDecl(P), P);
			return SC_Msg_RFRD(Exp, A, B, 1, Offset);
		}
		return SC_Msg_RFST(Exp, A, B);
	}
	SCDecl* Glob = SC_Msg_ASMDecl(DestMsg);
	if (SC_Reg_SyntaxIs(B, kSC__Reg_ContainsAddr)) {
		ASMReg Where = SC_Pac_TempOnly(Self, kSC__Reg_Temp);
		Where = SC_Reg_xC2xB5TypeSetWithTc(Where, kJB__TC__voidptr);
		B = SC_FAT_AsReg(SC_Pac_Read(Self, Where, P, B, nil, SC_Msg_ASMDecl(P), 0), Where);
	}
	int Offset = 0;
	A = SC_Pac_InlineOffsetOpt(Self, A, 3, Offset, 13, Glob, P);
	return SC_Msg_RFWR(Exp, A, B, 1, Offset);
}

FatASM* SC_Pac_RefCountSub(Assembler* Self, Message* Exp, Message* Prms, SCFunction* Fn) {
	if (Fn == SC__Comp_RefClear) {
		return SC_Pac_RefCountClear(Self, Exp, Prms);
	}
	if (Fn == SC__Comp_RefSetRef) {
		return SC_Pac_RefCountSet(Self, Exp, Prms);
	}
	if (Fn == SC__Comp_RefIncr2) {
		return SC_Pac_RefCountIncr2(Self, Exp, Prms);
	}
	ASMReg Obj = SC_Pac_xC2xB5(Self, ((Message*)JB_Ring_First(Prms)), SC_Reg__New());
	if (!SC_Pac_RegIsConst(Self, Obj, 0)) {
		if (Fn == SC__Comp_RefIncr) {
			return SC_Pac_RefCountIncr(Self, Exp, Prms, Obj);
		}
		if (Fn == SC__Comp_RefEarlyDecr) {
			return SC_Msg_RFST(Exp, Obj, SC_Reg__New());
		}
		if (Fn == SC__Comp_RefDecr) {
			FatASM* Fat = SC_Pac_RefCountDecr(Self, Exp, Prms, Obj);
			SC_Pac_CloseOneVar(Self, nil, 1 << SC_Reg_Reg(Obj));
			return Fat;
		}
		if (Fn == SC__Comp_RefSafeDecr) {
			return SC_Msg_RFUN(Exp, SC_Reg__New(), Obj, nil);
		}
	}
	return nil;
}

void SC_Pac_RegClear(Assembler* Self, Message* Exp, FatASM* C, int I) {
	C->Prms[5] = 0;
	int64 L = SC_FAT_Const(C);
	bool Signed = L < 0;
	if (Signed) {
		L = (-L);
	}
	SC_Pac_BFLG_Sub(Self, Exp, SC_int_ToASM(I), SC_int_ToASM(I), L, L, Signed);
}

bool SC_Pac_RegIsConst(Assembler* Self, ASMReg R, int64 K) {
	FatASM* F = SC_Pac_Register(Self, SC_Reg_Reg(R));
	if (SC_FAT_SyntaxIs(F, kSC__Reg_Const)) {
		return SC_FAT_Const(F) == K;
	}
	return false;
}

FatASM* SC_Pac_Register(Assembler* Self, int I) {
	uint R = Self->Regs.Setters[I];
	if (R) {
		return Self->FuncStart_ + R;
	}
	return nil;
}

FatASM* SC_Pac_RequestOp(Assembler* Self, ASM Op, Message* Exp) {
	FatASM* P = SC_Pac_Curr(Self);
	if (P < Self->End) {
		Self->Curr_ = (P + 1);
		P[0] = ((FatASM){});
		uint64 Info = ((uint64)SC_FAT_Index(P)) << 48;
		P->Info = ((ASMReg)Info);
		P->ASMIndex = Self->BreakRequest;
		P->_Op = Op;
		P->Msg = Exp;
		Self->BreakRequest = nil;
		P->BranchID = Self->BranchID;
		P->BasicBlock = Self->BasicBlock;
		P->FatMap = SC_Msg_SrcMap(Exp);
		return P;
	}
	if (true) {
		JB_Msg_Fail(Exp, JB_LUB[1016]);
	}
	return Self->Start;
}

bool SC_Pac_Rework(Assembler* Self, SCFunction* Fn) {
	JB_Mrap_NeedSpare(SC__Pac_HoistSpace, SC_Pac_FnLength(Self), 0);
	JB_Mrap_CopyFrom(SC__Pac_HoistSpace, SC_Pac_FuncStart(Self), SC_Pac_FnLength(Self));
	SC_Pac_InitAndStartFunc(Self, Fn);
	SC_Pac_RootGen(Self, Fn);
	SC_Pac_FinishASM(Self);
	return false;
}

void SC_Pac_RootGen(Assembler* Self, SCFunction* Fn) {
	SC_ASMType__ArgumentSub(Self, SC_Func_SourceArg(Fn), nil);
}

ASMReg SC_Pac_SafeDecr(Assembler* Self, ASMReg Match) {
	FatASM* Fat = SC_Pac_LastWithAsm(Self, kSC__ASM_RFUN);
	if (!Fat) {
		return nil;
	}
	ASMReg Upon = SC_FAT_SyntaxCall((Fat), 1);
	if (!Upon) {
		return nil;
	}
	if (!((!Match) or SC_Reg_OperatorIz(Upon, Match))) {
		return nil;
	}
	if ((!SC_FAT_SyntaxCall((Fat), 0)) and (!SC_FAT_SyntaxCall((Fat), 2))) {
		SC_Pac_SoftNop(Self, Fat);
		return Upon;
	}
	return ((ASMReg)0);
}

ASMReg SC_Pac_SelfDivide(Assembler* Self, ASMReg Dest, Message* Exp) {
	if (SC_Reg_IsInt(Dest)) {
		return SC_Pac_NumToReg(Self, Exp, Dest, 1, kJB__TC_Int);
	}
	if (SC_Reg_IsSmall(Dest)) {
		return SC_Pac_NumToReg(Self, Exp, Dest, 1065353216, kJB__TC_Float);
	}
	return SC_Pac_NumToReg(Self, Exp, Dest, 4607182418800017408, kJB__TC_f64);
}

ASMReg SC_Pac_SetConst(Assembler* Self, Message* Exp, int64 Value, ASMReg Ml, ASMReg Dest) {
	FatASM* F = SC_Reg_FAT(Ml);
	if (F) {
		(SC_FAT_ConstSet(F, Value));
		return Ml;
	}
	if (!SC_Reg_Reg(Ml)) {
		if (!Value) {
			return Ml;
		}
		return SC_Pac_NumToReg(Self, Exp, Dest, Value, SC_Reg_xC2xB5Type(Ml));
	}
	SC_Reg_NeedFAT(Ml);
	return ((ASMReg)0);
}

ASMReg SC_Pac_SetRegister(Assembler* Self, int Changed, ASMReg Info, FatASM* Value) {
	int N = 0;
	FatASM* Start = Self->FuncStart_;
	if (Value) {
		N = (Value - Start);
	}
	(SC_Pac_KnownValuesSet(Self, Changed, SC_FAT_SyntaxIs(Value, kSC__Reg_Const)));
	u16* Where = (&SC__Pac_Sh.Regs.Setters[Changed]);
	uint Oldi = Where[0];
	Where[0] = N;
	if (Oldi and (SC_Reg_SyntaxIs(Info, kSC__Reg_AllowNopDest))) {
		FatASM* Old = Start + Oldi;
		if ((Old->xC2xB5RefCount <= 0) and (Old->BasicBlock == Self->BasicBlock)) {
			SC_Pac_Nop((&SC__Pac_Sh), Old);
		}
	}
	Info = SC_Reg_SyntaxIsSet(Info, kSC__Reg_AllowNopDest, (!true));
	return Info;
}

ASMReg SC_Pac_SHL(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Const)) {
		return SC_Pac_MakeConstFromTwo(Self, Exp, Dest, L, R, ((fn_ASMConstifier)(SC_ConstifyBitSHL)));
	}
	Ind K = SC_Pac_Const(Self, R, 6, false);
	if (JB_Ind_SyntaxCast(K)) {
		return SC_Pac_BFLG(Self, Exp, Dest, L, K, 0);
	}
	if (0) {
		SC_Msg_QLSH(Exp, nil, nil, nil, nil);
	}
	return SC_FAT_Vectorise(SC_Msg_BLSH(Exp, Dest, L, R, SC_Reg_BitLoss(L)), Dest, kSC__ASM_QLSH);
}

ASMReg SC_Pac_SHR(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	if (SC_Reg_SyntaxIs(Dest, kSC__Reg_Const)) {
		return SC_Pac_MakeConstFromTwo(Self, Exp, Dest, L, R, ((fn_ASMConstifier)(((fn_ASMConstifier)JB_Ternary(SC_Reg_Signed(L), ((fn_ASMConstifier)(SC_ConstifyBitSHS)), ((fn_ASMConstifier)(SC_ConstifyBitSHR)))))));
	}
	Ind K = SC_Pac_Const(Self, R, 6, false);
	if (JB_Ind_SyntaxCast(K)) {
		if (K == 0) {
			return L;
		}
		return SC_Pac_BFLG(Self, Exp, Dest, L, 0, K);
	}
	FatASM* Fat = SC_Msg_BRSH(Exp, Dest, L, R, SC_Reg_BitLoss(L));
	SC_FAT_Vectorise(Fat, Dest, kSC__ASM_QRSS);
	if (SC_Reg_Signed(L)) {
		if (0) {
			SC_Msg_BRSS(Exp, nil, nil, nil, nil);
			SC_Msg_QRSS(Exp, nil, nil, nil, nil);
			SC_Msg_QRSH(Exp, nil, nil, nil, nil);
		}
		(--Fat->_Op);
	}
	return SC_FAT_AsReg(Fat, Dest);
}

ASMReg SC_Pac_SmallToBig(Assembler* Self, ASMReg Src, ASMReg Cmp, Message* Exp) {
	if (SC_Reg_IsSmall(Src) and SC_Reg_IsBig(Cmp)) {
		Cmp = SC_Reg_RegSetWithInt(Cmp, 0);
		ASMReg Dest = SC_Pac_TempOnly(Self, Cmp);
		return SC_Pac_BFLG_Sub(Self, Exp, Dest, Src, 32, 32, false);
	}
	return Src;
}

void SC_Pac_SoftNop(Assembler* Self, FatASM* ToNop) {
	return SC_Pac_nop_sub(Self, ToNop, true, 0);
}

ASMState* SC_Pac_State(Assembler* Self) {
	return (&Self->InlineState[Self->InlineDepth]);
}

ASMReg SC_Pac_Str(Assembler* Self, Message* Exp, ASMReg Dest) {
	Dest = SC_Pac_TempOnly(Self, Dest);
	Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, kJB__TC__voidptr);
	MessageID* Real = ((MessageID*)Exp->Name);
	int K = Real->Position;
	if ((!K) and (SC_Comp__SyntaxIs(kSC__CompilerStage_Hungry))) {
		JB_Array_SyntaxAppend(SC__PackMaker_PackStrings, Real);
		K = (SC__PackMaker_PackGlobSize + (JB_Array_Size(SC__PackMaker_PackStrings) << 3));
		Real->Position = K;
	}
	if (K <= ((1 << 20) - 1)) {
		return SC_FAT_AsReg(SC_Msg_GOBJ(Exp, Dest, 0, 0, K >> 3), Dest);
	}
	if (!SC__Pac_StringsOutOfRange++) {
		(JB_Msg_SyntaxProblem(Exp, JB_LUB[2118]));
	}
	ASMReg Addr = SC_Pac_PackGlobAddr(Self, nil, Exp, Dest, K);
	return SC_FAT_AsReg(SC_Pac_Read(Self, Dest, Exp, Addr, nil, ((SCDecl*)JB_Object_FastAs(Exp->Obj, &SCDeclData)), 0), Dest);
}

ASMReg SC_Pac_Subtract(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg L, ASMReg R) {
	L = SC_Reg_SyntaxIsSet(L, kSC__Reg_Subtract, true);
	return SC_Pac_Plus(Self, Exp, Dest, L, R);
}

ASMReg SC_Pac_TempOnly(Assembler* Self, ASMReg T) {
	if (SC_Reg_Reg(T)) {
		return T;
	}
	uint R = SC_Pac_vtemps(Self);
	int Free = JB_uint_Log2(((~R)));
	R = (R | (1 << Free));
	T = SC_Reg_RegSetWithInt(T, Free);
	(SC_Pac_vtempsSet(Self, R));
	T = SC_Reg_SyntaxIsSet(T, kSC__Reg_Const, (!true));
	T = SC_Reg_SyntaxIsSet(T, kSC__Reg_Temp, true);
	T = SC_Reg_FatIndexSet(T, 0);
	if (((SC_Pac_vdecls(Self) & SC_Pac_vtemps(Self)))) {
		JB_Msg_Fail(SC_Func_SourceArg(SC_Pac_fn(Self)), JB_LUB[1015]);
	}
	return T;
}

ASMReg SC_Pac_TempTypedWithDeclReg(Assembler* Self, SCDecl* Type, ASMReg T) {
	if (Type) {
		T = SC_Reg_xC2xB5TypeSetWithTc(T, Type->mu.DataType);
	}
	return SC_Pac_TempOnly(Self, T);
}

ASMReg SC_Pac_TempTypedWithMsgReg(Assembler* Self, Message* Where, ASMReg T) {
	if (!SC_Reg_SyntaxIs(T, kSC__Reg_Textual)) {
		T = SC_Reg_xC2xB5TypeSetWithTc(T, SC_Msg_ASMDecl(Where)->mu.DataType);
	}
	return SC_Pac_TempOnly(Self, T);
}

ASMReg SC_Pac_Ternary(Assembler* Self, Message* Exp, ASMReg Dest) {
	Message* A = ((Message*)JB_Tree_Second(((Message*)JB_Tree_Second(Exp))));
	Message* B = ((Message*)JB_Ring_NextSib(A));
	uint DestType = SC_Decl_TypeOnly(SC_Msg_ASMDecl(Exp));
	ASMReg mA = SC_Pac_ExistingVar(Self, A);
	ASMReg mB = SC_Pac_ExistingVar(Self, B);
	Message* Cond = ((Message*)JB_Ring_PrevSib(A));
	if (SC_Reg_OperatorIsa(mA, DestType)) {
		if ((SC_Reg_OperatorIsa(mB, DestType)) and (!JB_TC_IsFloat(DestType))) {
			return SC_Pac_InbuiltTernary(Self, Dest, mA, mB, Cond);
		}
	}
	Dest = SC_Pac_TempTypedWithMsgReg(Self, Exp, Dest);
	FatRange Br = ((FatRange){});
	SC_Pac_Branch(Self, Cond, (&Br), false);
	MaybeBool KK = Br.Constness;
	if (JB_MaybeBool_IsKnown(KK)) {
		Message* Which = ((Message*)JB_Ternary(JB_MaybeBool_Default(KK), A, B));
		return SC_Pac_xC2xB5Into(Self, Which, Dest);
	}
	return SC_Pac_RealTernary(Self, Exp, Dest, A, B, (&Br));
}

ASMReg SC_Pac_TernRefCount(Assembler* Self, ASMReg A, ASMReg B) {
	ASMReg Rz = ((ASMReg)0);
	Rz = B;
	FatASM* Fa = SC_Reg_FAT(A);
	FatASM* Fb = SC_Reg_FAT(B);
	if (Fb) {
		(SC_FAT_Prm(Fb, 5, A));
	}
	 else if (((bool)Fa)) {
		Rz = A;
	}
	return Rz;
}

ASMReg SC_Pac_TheTrinity(Assembler* Self, Message* SrcPrms, Message* ASMPrms, ASMReg Dest, uint /*byte*/ OpCode) {
	int N = 0;
	ASMReg Collection[6] = {
	};
	{
		Message* S = ((Message*)JB_Ring_First(SrcPrms));
		while (S) {
			Collection[N++] = SC_Pac_xC2xB5Trin(Self, S);
			S = ((Message*)JB_Ring_NextSib(S));
		};
		;
	}
	;
	FatASM* Fat = SC_Pac_RequestOp(Self, OpCode, ((Message*)JB_Ring_Parent(SrcPrms)));
	if (OpCode == kSC__ASM_HALT) {
		Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_Exit, true);
	}
	Ind DestPos = SC_Pac_FillTheFat(Self, Collection, Fat, ASMPrms, N);
	if (JB_Ind_SyntaxCast(DestPos)) {
		Dest = SC_Pac_TempOnly(Self, Dest);
		SC_FAT_Dest(Fat, DestPos, Dest, Self);
	}
	return SC_FAT_AsReg(Fat, Dest);
}

ASMReg SC_Pac_TryInline(Assembler* Self, Message* Prms, ASMReg Dest, SCFunction* Fn, int AllowedGain) {
	uint64 OV = SC_Pac_OpenVars(Self);
	int ID = Self->InlineDepth;
	ASMState* St = (&Self->InlineState[ID + 1]);
	St[0] = Self->InlineState[ID];
	if (!SC_Reg_SyntaxIs(Dest, kSC__Reg_Discard)) {
		if ((!SC_Reg_Reg(Dest)) or SC_Reg_SyntaxIs(Dest, kSC__Reg_Temp)) {
			SCDecl* Type = SC_Func_ASMReturnWith0(Fn);
			if (Type) {
				Dest = SC_Pac_DeclareBody(Self, Prms, Type);
			}
		}
	}
	Self->InlineDepth = (++ID);
	Self->DeepestInline = JB_int_OperatorMax(ID, Self->DeepestInline);
	if (!SC_Reg_SyntaxIs(Dest, kSC__Reg_ExitFunction)) {
		SC_Pac_State(Self)->TailInlineable = false;
	}
	Dest = SC_Reg_Simplify(Dest);
	Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, SC_Decl_ASMRegType(SC_Func_ASMReturnWith0(Fn)));
	if (!SC_Reg_Reg(Dest)) {
		Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_Discard, true);
	}
	St->Fn = Fn;
	St->Return = Dest;
	St->ParentVars = SC_Pac_OpenVars(Self);
	St->BranchDepth = 0;
	FatASM* Start = SC_Pac_Curr(Self);
	FatRange LL = ((FatRange){});
	ASMReg R = SC_Pac_TryInlineSub(Self, Prms, Fn, AllowedGain, (&LL));
	if (R) {
		if (SC_Func_SyntaxIs(Fn, kSC__FunctionType_Constructor)) {
			SCFunction* Des = Fn->Cls->DestructorFunc;
			if (Des) {
				SC_Pac_ASMReach(Self, Des);
			}
		}
	}
	Self->InlineState[ID] = ((ASMState){});
	Self->InlineDepth = (--ID);
	if (!ID) {
		Self->InlineEnd = nil;
	}
	return SC_Pac_CloseVars(Self, OV, nil, R);
}

ASMReg SC_Pac_TryInlineSub(Assembler* Self, Message* Prms, SCFunction* Fn, int AllowedGain, FatRange* LL) {
	ASMReg Rz = ((ASMReg)0);
	LL->Start = SC_Pac_Curr(Self);
	SavedRegisters Regs = ((SavedRegisters){});
	InlineInfo Info = ((InlineInfo){});
	SC_SavedRegisters_Collect((&Regs), Fn->Args, Self);
	SC_Pac_InlineParameters(Self, Prms, (&Info));
	FatASM* RealStart = SC_Pac_Curr(Self);
	SC_ASMType__ArgumentSub(Self, SC_Func_SourceArg(Fn), kSC__Reg_Exit);
	SC_InlineInfo_NopParams((&Info), JB_Array_Size(Fn->Args), SC_Pac_State(Self)->Return);
	SC_SavedRegisters_Restore((&Regs), Fn->Args);
	LL->After = SC_Pac_Curr(Self);
	Rz = SC_Pac_InlineFinish(Self, LL);
	int Grown = SC_Pac_CurrGain(Self, RealStart);
	if (Grown > AllowedGain) {
		SC_SavedRegisters_Rewind((&Regs), Self);
		SC_Pac_SoftNopRange(Self, LL->Start, SC_Pac_Curr(Self));
		return nil;
	}
	if (!Rz) {
		Rz = SC_Reg_SyntaxIsSet(Rz, kSC__Reg_Const, true);
	}
	FatASM* Last = SC_Pac_LastWith0(Self);
	if ((Last == RealStart) and SC_FAT_IsFunc(Last)) {
		Message* P = ((Message*)JB_Ring_Parent(Prms));
		Last->Msg = P;
		Last->FatMap = SC_Msg_SrcMap(P);
	}
	return Rz;
}

void SC_Pac_TryTail(Assembler* Self, FatASM* FNC) {
	FatASM* Ret = FNC + 1;
	if (!SC_FAT_OperatorIsa(Ret, kSC__ASM_RET)) {
		return;
	}
	int Rr = SC_FAT_RegOnly(Ret, 0);
	if (!((FNC->BasicBlock == Ret->BasicBlock) and ((!SC_FAT_p3(FNC))))) {
		return;
	}
	SCDecl* ReturnType = Self->Out->ReturnType;
	if (!((!ReturnType) or (SC_FAT_RegOnly(FNC, 0) == Rr))) {
		return;
	}
	FNC->Prms[0] = FNC->Prms[1];
	FNC->Prms[1] = FNC->Prms[2];
	FNC->Prms[2] = 0;
	FNC->_Outputs = 0;
	FNC->_Op = kSC__ASM_TAIL;
	(FNC->Info = SC_Reg_OperatorAs(FNC->Info, kSC__Reg_Exit));
	Ret->_Op = kSC__ASM_NOOP;
	if (0) {
		SC_Msg_TAIL(((Message*)nil), nil, nil);
	}
}

bool SC_Pac_Unchanged(Assembler* Self, Message* A, ASMReg Dest, Message* B) {
	int Dr = SC_Reg_Reg(Dest);
	return (!SC_Pac_FoundReg(Self, A, Dr)) or (!SC_Pac_FoundReg(Self, B, Dr));
}

ASMReg SC_Pac_UniqueLocation(Assembler* Self, Message* A, ASMReg Dest, Message* B) {
	ASMReg Rz = ((ASMReg)0);
	if (SC_Reg_Reg(Dest)) {
		if (SC_Pac_Unchanged(Self, A, Dest, B)) {
			return Dest;
		}
		 else {
		}
	}
	Rz = SC_Pac_TempOnly(Self, kSC__Reg_Temp);
	Rz = (SC_Reg_SyntaxIsSet(Rz, kSC__Reg_Negate, (SC_Reg_SyntaxIs(Dest, kSC__Reg_Negate))));
	Rz = SC_Reg_xC2xB5TypeSetWithTc(Rz, SC_Reg_xC2xB5Type(Dest));
	return Rz;
}

uint SC_Pac_vdecls(Assembler* Self) {
	return Self->VDecls_;
}

void SC_Pac_vdeclsSet(Assembler* Self, uint Value) {
	if (Value & Self->VTemps_) {
	}
	Self->VDecls_ = Value;
}

ASMReg SC_Pac_VecAccess(Assembler* Self, Message* Exp, ASMReg Dest, ASMReg Base, ASMReg Vara) {
	Ind K = SC_Pac_Const(Self, Vara, 8, false);
	if (JB_Ind_SyntaxCast(K)) {
		Vara = SC_Reg__New();
	}
	 else {
		K = 0;
	}
	if (!SC_Reg_SyntaxIs(Dest, kSC__Reg_Set)) {
		return SC_FAT_AsReg(SC_Msg_VGET(Exp, Dest, Base, Vara, K), Dest);
	}
	return SC_FAT_AsReg(SC_Msg_VSET(Exp, Base, Dest, Vara, K), Base);
}

ASMReg SC_Pac_VecSwizzle(Assembler* Self, Message* Exp, ASMReg Dest) {
	Dest = SC_Pac_TempTypedWithMsgReg(Self, Exp, Dest);
	int Swiz = Exp->Indent;
	Message* Src_msg = ((Message*)JB_Ring_First(((Message*)JB_Ring_First(Exp))));
	ASMReg Src = SC_Pac_xC2xB5(Self, Src_msg, Dest);
	FatASM* Fat = SC_Msg_VSWZ(Exp, Dest, Src, Swiz);
	return SC_FAT_AsReg(Fat, Dest);
}

ASMReg SC_Pac_VectorLoad(Assembler* Self, Message* Exp, ASMReg Dest) {
	uint64 Closer = SC_Pac_OpenVars(Self);
	ASMReg VV[4] = {
	};
	int Count = 0;
	{
		Message* S = ((Message*)JB_Ring_First(Exp));
		while (S) {
			VV[Count++] = SC_Pac_xC2xB5GetReal(Self, S, SC_Msg_AllowsTemp(S));
			S = ((Message*)JB_Ring_NextSib(S));
		};
		;
	}
	;
	uint T = SC_Reg_xC2xB5Type(VV[0]);
	Count = (Count + (Count == 3));
	T = JB_TC_VecCountSet(T, Count);
	T = (T & (~48));
	T = (T | 32);
	Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, T);
	SC_Pac_CloseVars(Self, Closer, nil, nil);
	Dest = SC_Pac_TempOnly(Self, Dest);
	ASMReg V3 = VV[3];
	if (SC_Reg_Reg(V3) >= 16) {
		V3 = nil;
	}
	FatASM* Fat = SC_Msg_VBLD(Exp, Dest, VV[0], VV[1], VV[2], V3);
	Dest = SC_FAT_AsReg(Fat, Dest);
	V3 = VV[3];
	if (SC_Reg_Reg(V3) >= 16) {
		SC_Msg_VSET(Exp, Dest, V3, SC_Reg__New(), 3);
	}
	return Dest;
}

ASMReg SC_Pac_VectorUpgrade(Assembler* Self, ASMReg Src, Message* Exp) {
	ASMReg T = SC_Pac_TempOnly(Self, SC_Reg_BasicVec(Src));
	return SC_FAT_AsReg(SC_Msg_VSWZ(Exp, T, Src, 0), T);
}

uint SC_Pac_vtemps(Assembler* Self) {
	return Self->VTemps_;
}

void SC_Pac_vtempsSet(Assembler* Self, uint Value) {
	if (Value & Self->VDecls_) {
	}
	Self->VTemps_ = Value;
}

ASMReg SC_Pac_While(Assembler* Self, Message* Exp, ASMReg Dest) {
	ASMReg Rz = ((ASMReg)0);
	FatASM* NothingDone = SC_Pac_Curr(Self);
	uint BreakReq = Self->BreakRequest;
	uint Old = Self->BranchID;
	Self->BranchID = (++Self->NextBranchID);
	(++SC_Pac_State(Self)->BranchDepth);
	Rz = SC_Pac_WhileSub(Self, Exp);
	(--SC_Pac_State(Self)->BranchDepth);
	Self->BranchID = Old;
	Self->BreakRequest = ((uint)JB_Ternary(NothingDone == SC_Pac_Curr(Self), BreakReq, nil));
	return Rz;
}

ASMReg SC_Pac_WhileSub(Assembler* Self, Message* Exp) {
	FatASM* InitialJump = SC_Msg_JUMP(Exp, nil);
	ASMReg Returns = SC_ASMType__ArgumentSub(Self, ((Message*)JB_Tree_Second(Exp)), kSC__Reg_Exit);
	FatRange Loop_test = ((FatRange){});
	SC_Pac_Branch(Self, ((Message*)JB_Ring_First(Exp)), (&Loop_test), true);
	if (SC_FatRange_Always((&Loop_test))) {
		SC_Pac_NopRange(Self, InitialJump, Loop_test.After, false);
		return SC_Reg__New();
	}
	if (SC_FatRange_Never((&Loop_test))) {
		SC_Pac_Nop(Self, InitialJump);
		SC_FAT_JumpToSet(SC_Msg_JUMP(Exp, nil), InitialJump + 1);
		(++Loop_test.After);
	}
	 else {
		SC_FAT_JumpToSet(InitialJump, Loop_test.Start);
		SC_FatRange_JumpTo((&Loop_test), InitialJump + 1);
		if (SC_FatRange_Length((&Loop_test)) == 1) {
			SC_FAT_CopyFrom(InitialJump, Loop_test.Start);
			SC_FAT_JumpToSet(InitialJump, Loop_test.After);
			SC_FAT_JumpNegateWith0(InitialJump);
		}
	}
	SC_Pac_LoopFill(Self, InitialJump + 1, Loop_test.Start, Loop_test.After);
	return SC_Reg_OperatorMul(Returns, SC_FatRange_Always((&Loop_test)));
}

ASMReg SC_Pac_Zeros(Assembler* Self, ASMReg Info) {
	Info = SC_Reg_RegSetWithInt(Info, 0);
	Info = SC_Reg_SyntaxIsSet(Info, kSC__Reg_Temp, (!true));
	Info = SC_Reg_SyntaxIsSet(Info, kSC__Reg_Const, true);
	return Info;
}

ASMReg SC_Pac_xC2xB5(Assembler* Self, Message* Exp, ASMReg Dest) {
	uint64 Closer = SC_Pac_OpenVars(Self);
	ASMReg V = SC_Pac_GetASM(Self, Exp, Dest);
	return SC_Pac_CloseVars(Self, Closer, nil, V);
}

ASMReg SC_Pac_xC2xB5BoolInto(Assembler* Self, Message* Exp, ASMReg Dest) {
	Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, kJB__TC_bool);
	(Dest = SC_Reg_OperatorAs(Dest, kSC__Reg_PreferEqul));
	ASMReg X = SC_Pac_xC2xB5(Self, Exp, Dest);
	if (SC_Reg_IsBool(X)) {
		return X;
	}
	return SC_Pac_Exists(Self, Dest, X, Exp);
}

ASMReg SC_Pac_xC2xB5GetReal(Assembler* Self, Message* Exp, ASMReg ModeOnly) {
	uint64 OV = SC_Pac_OpenVars(Self);
	if (SC_Reg_SyntaxIs(ModeOnly, kSC__Reg_NewlyDeclared)) {
		ModeOnly = SC_Reg_OperatorAsnt(ModeOnly, kSC__Reg_NewlyDeclared);
	}
	 else {
		if (SC_Reg_SyntaxIs(ModeOnly, kSC__Reg_Temp)) {
			ModeOnly = SC_Pac_TempOnly(Self, ModeOnly);
		}
		 else {
			ModeOnly = SC_Reg_OperatorAs(SC_Pac_DeclareMe(Self, Exp, ModeOnly), ModeOnly);
			ModeOnly = SC_Reg_SyntaxIsSet(ModeOnly, kSC__Reg_Temp, true);
		}
		ModeOnly = SC_Reg_SyntaxIsSet(ModeOnly, kSC__Reg_OKAsTemp, true);
	}
	ASMReg R = SC_Pac_GetASM(Self, Exp, ModeOnly);
	if (SC_Reg_OperatorIz(R, ModeOnly)) {
		return R;
	}
	return SC_Pac_CloseVars(Self, OV, nil, R);
}

ASMReg SC_Pac_xC2xB5GetRealOffer(Assembler* Self, Message* Exp, ASMReg Dest) {
	//"There could be a function call that smashes the first temp";
	//"for example:  y = (x+1) - .func()";
	ASMReg R = SC_Pac_ExistingVar(Self, Exp);
	if (R and ((!SC_Reg_SyntaxIs(R, kSC__Reg_Temp)) or SC_Reg_SyntaxIs(R, kSC__Reg_OKAsTemp))) {
		return R;
	}
	if (!SC_Reg_SyntaxIs(Dest, kSC__Reg_NewlyDeclared)) {
		Dest = nil;
	}
	return SC_Pac_xC2xB5GetReal(Self, Exp, Dest);
}

ASMReg SC_Pac_xC2xB5InlineParam(Assembler* Self, Message* Exp, SCDecl* A, ASMReg Dest) {
	uint64 OV = SC_Pac_OpenVars(Self);
	Dest = SC_Reg_OperatorAs(SC_Pac_DeclareBody(Self, Exp, A), Dest);
	ASMReg R = SC_Pac_GetASM(Self, Exp, Dest);
	if (SC_Reg_OperatorIz(R, Dest)) {
		return R;
	}
	if (((!SC_Reg_SyntaxIs(Dest, kSC__Reg_ForceInto))) and (!(SC_Decl_SyntaxIs(A, kSC__SCDeclInfo_AlteredOrRef) and (SC_Reg_Reg(R) == 0)))) {
		return SC_Pac_CloseVars(Self, OV, nil, R);
	}
	Dest = SC_Reg_SyntaxIsSet(Dest, kSC__Reg_ForceInto, (!true));
	return SC_Pac_Assign(Self, Exp, Dest, R);
}

ASMReg SC_Pac_xC2xB5Into(Assembler* Self, Message* Exp, ASMReg Dest) {
	uint64 Closer = SC_Pac_OpenVars(Self);
	ASMReg V = SC_Pac_GetASM(Self, Exp, Dest);
	if (!SC_Reg_OperatorIz(V, Dest)) {
		V = SC_Pac_Assign(Self, Exp, Dest, V);
	}
	return SC_Pac_CloseVars(Self, Closer, nil, V);
}

ASMReg SC_Pac_xC2xB5Reffed(Assembler* Self, Message* Exp, SCDecl* A) {
	ASMReg Mode = nil;
	Mode = (SC_Reg_SyntaxIsSet(Mode, kSC__Reg_AddrNeed, (SC_Decl_SyntaxIs(A, kSC__SCDeclInfo_Reference))));
	ASMReg R = SC_Pac_xC2xB5GetReal(Self, Exp, Mode);
	if (SC_Decl_SyntaxIs(A, kSC__SCDeclInfo_Reference) and (!SC_Reg_SyntaxIs(R, kSC__Reg_ContainsAddr))) {
		if (true) {
			JB_Object_Fail(((JB_Object*)Exp));
		}
	}
	return SC_Reg_incr(R);
}

ASMReg SC_Pac_xC2xB5Trin(Assembler* Self, Message* Exp) {
	return SC_Reg_OperatorAs(SC_Pac_xC2xB5GetReal(Self, Exp, SC_Msg_AllowsTemp(Exp)), kSC__Reg_Textual);
}

void SC_Pac__ClassLayout(FastString* J) {
	FastString* Names = JB_FS_Constructor(nil);
	{
		Array* _LoopSrcf2 = SC__Comp_ReachedClassTable;
		int _if0 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf2, _if0));
			if (C == nil) {
				break;
			}
			if ((!SC_Class_IsBehaviourTable(C)) and (SC_Base_IsLibrary(C) or SC__Options_MakeExec)) {
				SC_Str_MiniName(C->ExportName, Names, SC_Class_IsObject(C));
				JB_bin_Enter(J, kJB_SyxMsg, ((JB_String*)Names));
				Names->Length = 0;
				SC_Class_ListLayout(C, J);
				JB_bin_Exit(J, 1);
			}
			 else {
				JB_bin_Add(J, kJB_SyxChar, JB_LUB[0], false);
			}
			(++_if0);
		};
	};
}

void SC_Pac__DebugClassesAndGlobals(FastString* J) {
	JB_bin_Enter(J, kJB_SyxMsg, JB_LUB[446]);
	SC_Pac__ClassLayout(J);
	JB_bin_Exit(J, 1);
	JB_bin_Enter(J, kJB_SyxMsg, JB_LUB[1478]);
	Array* G = ((Array*)JB_Ternary(SC__Options_MakeExec, SC__PackMaker_LibGlobs, SC__PackMaker_PackGlobs));
	SC_bin_PropertyLayout(J, G);
	JB_bin_Exit(J, 1);
}

int SC_Pac__Init_() {
	{
		JB_SetRef(SC__Pac_JSM, JB_Mrap__Object(0, 64));
		JB_SetRef(SC__Pac_HoistSpace, JB_Mrap__Object(0, 64));
	}
	;
	return 0;
}

void adb() {
	//cpp_name;
	//visible;
}





















void SC_SavedRegisters_Collect(SavedRegisters* Self, Array* Args, Assembler* Sh) {
	Self->BasicBlock = Sh->BasicBlock;
	Self->Regs = Sh->Regs;
	if (JB_Array_SyntaxCompare(Args, 32 - Self->RegCount) >= 1) {
		JB_Object_Fail(nil);
		return;
	}
	{
		int _if0 = 0;
		while (true) {
			SCDecl* P = ((SCDecl*)JB_Array_Value(Args, _if0));
			if (P == nil) {
				break;
			}
			Self->Decls[Self->RegCount++] = P->mu;
			(++_if0);
		};
	};
}

void SC_SavedRegisters_Restore(SavedRegisters* Self, Array* Args) {
	if (JB_Array_SyntaxCompare(Args, Self->RegCount) <= -1) {
	}
	{
		int _if0 = JB_Array_Size(Args) - 1;
		while (true) {
			SCDecl* P = ((SCDecl*)JB_Array_Value(Args, _if0));
			if (P == nil) {
				break;
			}
			P->mu = Self->Decls[(--Self->RegCount)];
			(--_if0);
		};
	};
}

void SC_SavedRegisters_Rewind(SavedRegisters* Self, Assembler* Sh) {
	Sh->BasicBlock = Self->BasicBlock;
	Sh->Regs = Self->Regs;
}

























































SCDecl* SC_Object_AsDecl(JB_Object* Self) {
	if (JB_Object_FastIsa(Self, &SCClassData)) {
		return ((SCClass*)Self)->TypeNormal;
	}
	 else if (JB_Object_FastIsa(Self, &SCModuleData)) {
		SCClass* C = ((SCModule*)Self)->Cls;
		if (C) {
			return C->TypeNormal;
		}
	}
	 else {
		return SC_Object_BaseAsDecl(Self);
	}
	return nil;
}

SCDecl* SC_Object_BaseAsDecl(JB_Object* Self) {
	if (JB_Object_FastIsa(Self, &SCDeclData)) {
		return ((SCDecl*)Self);
	}
	if (JB_Object_FastIsa(Self, &SCFunctionData)) {
		return ((SCFunction*)Self)->ReturnType;
	}
	return nil;
}

SCNode* SC_Object_ClassOrModule(JB_Object* Self) {
	if (JB_Object_FastIsa(Self, &SCModuleData)) {
		SCClass* C = ((SCModule*)Self)->Cls;
		if (C) {
			return C;
		}
		return ((SCModule*)Self);
	}
	return nil;
}

void jdb(JB_Object* Self) {
	//cpp_name;
	//visible;
	if (Self) {
		JB_StringC* _tmPf0 = JB_StrC(JB_ObjClass(Self)->Name);
		JB_Incr(_tmPf0);
		JB_Print(_tmPf0);
		JB_Decr(_tmPf0);
		JB_Print(JB_LUB[121]);
	}
	JB_String* _tmPf1 = JB_Obj_Render(Self, nil);
	JB_Incr(_tmPf1);
	JB_PrintLine(_tmPf1);
	JB_Decr(_tmPf1);
}

bool JB_Object_MustBe(JB_Object* Self, JB_Class* X, Message* ErrNode) {
	if (JB_Object_Isa(Self, X)) {
		return true;
	}
	if (Self) {
		JB_FreeIfDead(JB_Object_TypeFailed(Self, X, ErrNode));
	}
	return false;
}

JB_Object* JB_Object_As(JB_Object* Self, JB_Class* X) {
	//cpp_name;
	if (JB_Object_Isa(Self, X)) {
		return Self;
	}
	if (Self) {
		return JB_Object_TypeFailed(Self, X, nil);
	}
	return nil;
}

JB_Object* JB_Object_FastAs(JB_Object* Self, JB_Class* X) {
	//cpp_part;
	if (Self) {
		if (JB_ObjClass(Self) == X) {
			return Self;
		}
		return JB_Object_TypeFailed(Self, X, nil);
	}
	return nil;
}

bool JB_Object_FastIsa(JB_Object* Self, JB_Class* X) {
	//cpp_part;
	return (Self) and (JB_ObjClass(Self) == X);
}

bool JB_Object_Isa(JB_Object* Self, JB_Class* Cls) {
	//cpp_part;
	if (Self) {
		JB_Class* P = JB_ObjClass(Self);
		while (P) {
			if (P == Cls) {
				return true;
			}
			P = P->Parent;
		};
	}
	return false;
}

bool JB_Object_OperatorMustBe(JB_Object* Self, JB_Class* X) {
	return JB_Object_MustBe(Self, X, nil);
}

void JB_Object_FailStr(JB_Object* Self, JB_String* Error) {
	//visible;
	//cpp_part;
	if (JB_Object_Isa(Self, &MessageData)) {
		JB_Rec__Latchkum(((Message*)Self), Error, nil);
	}
	 else {
		JB_Rec__Latchkum(nil, Error, nil);
	}
}

void JB_Object_Fail(JB_Object* Self) {
	//cpp_part;
	JB_CrashTracer();
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, kJB__Rec_NonFatal);
	JB_FS_AppendString(Fs, JB_LUB[121]);
	JB_FreeIfDead(JB_Obj_Render(Self, Fs));
	JB_FS_Fail(Fs);
	JB_Decr(Fs);
}

JB_Object* JB_Object_TypeFailed(JB_Object* Self, JB_Class* Cls, Message* Where) {
	JB_String* Name = JB_cstring_Wrap(JB_ObjClass(Self)->Name);
	JB_Incr(Name);
	if (true) {
		JB_String* _tmPf1 = JB_Str_OperatorPlusWithCstring(JB_LUB[887], Cls->Name);
		JB_Incr(_tmPf1);
		JB_String* _tmPf0 = JB_Str_OperatorPlus(Name, _tmPf1);
		JB_Incr(_tmPf0);
		JB_Decr(_tmPf1);
		JB_Msg_Fail(Where, _tmPf0);
		JB_Decr(_tmPf0);
	}
	JB_EarlyDecr(Name);
	return nil;
}


void SC_Array_AddCStr(Array* Self, JB_String* S) {
	if (JB_Str_Exists(S)) {
		JB_Array_SyntaxAppend(Self, JB_Str_MakeC(S));
	}
}

void SC_Array_AppendWords(Array* Self, JB_String* R) {
	{
		Array* _LoopSrcf2 = JB_Str_OperatorDivide(R, ' ');
		JB_Incr(_LoopSrcf2);
		int _if0 = 0;
		while (true) {
			JB_String* S = ((JB_String*)JB_Array_Value(_LoopSrcf2, _if0));
			JB_Incr(S);
			if (S == nil) {
				JB_EarlyDecr(S);
				break;
			}
			SC_Array_AddCStr(Self, S);
			JB_Decr(S);
			(++_if0);
		};
		JB_Decr(_LoopSrcf2);
	};
}

int SC_Array_CArraySize(Array* Self, int Size) {
	{
		int _if0 = 0;
		while (true) {
			SCDecl* P = ((SCDecl*)JB_Array_Value(Self, _if0));
			if (P == nil) {
				break;
			}
			Size = JB_int_OperatorAlign(Size, SC_Decl_Alignment(P, false));
			Size = (Size + SC_Decl_CArraySize(P, 1));
			(++_if0);
		};
	}
	;
	return Size;
}

void JB_Array_Clear(Array* Self) {
	if (Self != nil) {
		(JB_Array_SizeSet(Self, 0));
	}
}

void JB_Array_FastRemove(Array* Self, int Pos) {
	JB_Object* P = JB_Array_Pop(Self);
	if (P) {
		(JB_Array_ValueSet(Self, Pos, P));
	}
}

JB_Object* JB_Array_First(Array* Self) {
	return JB_Array_Value(Self, 0);
}

JB_String* JB_Array_join(Array* Self, JB_String* Sep) {
	//;
	int Sl = JB_Str_Length(Sep);
	int N = (-Sl);
	{
		int _if0 = 0;
		while (true) {
			JB_String* S = ((JB_String*)JB_Array_Value(Self, _if0));
			if (S == nil) {
				break;
			}
			N = (N + (JB_Str_Length(S) + Sl));
			(++_if0);
		};
	}
	;
	return JB_Array_join_sub(Self, Sep, N);
}

JB_String* JB_Array_join_sub(Array* Self, JB_String* Sep, int N) {
	//;
	FastString* Fs = JB_FS_ConstructorSize(nil, N);
	JB_Incr(Fs);
	{
		int _if0 = 0;
		int _firstf2 = _if0;
		while (true) {
			JB_String* S = ((JB_String*)JB_Array_Value(Self, _if0));
			JB_Incr(S);
			if (S == nil) {
				JB_EarlyDecr(S);
				break;
			}
			if (_firstf2 != _if0) {
				JB_FS_AppendString(Fs, Sep);
			}
			//start;
			JB_FS_AppendString(Fs, S);
			JB_Decr(S);
			(++_if0);
		};
	}
	;
	JB_String* _tmPf3 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf3);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf3);
	return _tmPf3;
}


AutoItem* SC_AutoItem_ConstructorAuto(AutoItem* Self, JB_String* Sort, JB_String* Insert, SCObject* Value, JB_String* Display, bool Exact, int Type) {
	if (Self == nil) {
		Self = ((AutoItem*)JB_NewClass(&AutoItemData));
	}
	//cpp_part;
	JB_Incr2(Self->Sort, Sort);
	JB_Incr2(Self->Insert, Insert);
	JB_Incr2(Self->Value, Value);
	JB_Incr2(Self->Display, Display);
	Self->Exact = Exact;
	Self->Type = Type;
	return Self;
}

int SC_AutoItem_Depth(AutoItem* Self) {
	SCObject* V = Self->Value;
	if (JB_Object_FastIsa(V, &SCClassData)) {
		return ((SCClass*)V)->Depth;
	}
	return 0;
}

void SC_AutoItem_Destructor(AutoItem* Self) {
	//cpp_part;
	JB_Clear(Self->Sort);
	JB_Clear(Self->Insert);
	JB_Clear(Self->Value);
	JB_Clear(Self->Display);
}

bool SC_AutoItem_OKBy(AutoItem* Self, AutoItem* Prev) {
	if (!Prev) {
		return true;
	}
	if (!JB_Str_Equals(Self->Insert, Prev->Insert, true)) {
		return true;
	}
	if (Self->Exact != Prev->Exact) {
		return true;
	}
	return false;
}

SortComparison SC_AutoItem__Sorter(AutoItem* Self, AutoItem* B) {
	int Type = Self->Type - B->Type;
	if (Type) {
		return ((SortComparison)Type);
	}
	int Depth = SC_AutoItem_Depth(Self) - SC_AutoItem_Depth(B);
	if (Depth) {
		return ((SortComparison)Depth);
	}
	return ((SortComparison)JB_Str_Compare(Self->Sort, B->Sort, true));
}


void SC_CppRefs_AddOne(CppRefs* Self, Message* C) {
	if ((JB_Msg_SyntaxEquals(C, JB_LUB[100], true))) {
	}
	 else if ((JB_Msg_SyntaxEquals(C, JB_LUB[401], true))) {
		Self->DisturbParams = (Self->DisturbParams | 1);
	}
	 else if ((JB_Msg_EqualsSyx(C, kJB_SyxNum))) {
		Self->DisturbParams = (Self->DisturbParams | (JB_Msg_Int(C, 0) << 1));
	}
	 else {
		JB_Array_SyntaxAppend(SC_CppRefs_DisturbsGet(Self), C->Name);
	}
}

CppRefs* SC_CppRefs_Constructor(CppRefs* Self, Message* S) {
	if (Self == nil) {
		Self = ((CppRefs*)JB_NewClass(&CppRefsData));
	}
	Self->DisturbParams = 0;
	Self->Owned = false;
	Self->Disturbs = nil;
	if (S) {
		SC_CppRefs_Read(Self, S);
	}
	return Self;
}

void SC_CppRefs_Destructor(CppRefs* Self) {
	//cpp_part;
	JB_Clear(Self->Disturbs);
}

Array* SC_CppRefs_DisturbsGet(CppRefs* Self) {
	Array* Rz = ((Array*)JB_Array_Constructor0(nil));
	JB_Incr(Rz);
	Array* Ds = Self->Disturbs;
	JB_Incr(Ds);
	if (JB_Array_SyntaxCast(Ds)) {
		JB_EarlyDecr(Rz);
		JB_SafeDecr(Ds);
		return Ds;
	}
	JB_SetRef(Rz, JB_Array_Constructor0(nil));
	JB_SetRef(Self->Disturbs, Ds);
	JB_EarlyDecr(Ds);
	JB_SafeDecr(Rz);
	return Rz;
}

void SC_CppRefs_Read(CppRefs* Self, Message* Node) {
	SC_CppRefs_SetDefaultRefStatus(Self);
	Message* Arg = JB_Msg_NeedSyx(Node, kJB_SyxArg);
	JB_Incr(Arg);
	if (!Arg) {
		JB_EarlyDecr(Arg);
		return;
	}
	JB_Msg_ExpectLast(Arg, nil);
	{
		Message* C = ((Message*)JB_Ring_First(Arg));
		JB_Incr(C);
		while (C) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(C));
			JB_Incr(_Nf1);
			JB_Msg_Expect(C, kJB_SyxTmp, nil);
			if (!((JB_Msg_SyntaxEquals(C, JB_LUB[1198], false)) or (JB_Msg_SyntaxEquals(C, JB_LUB[1199], false)))) {
				JB_Msg_Fail(C, JB_LUB[1200]);
				JB_EarlyDecr(_Nf1);
				JB_EarlyDecr(C);
				JB_EarlyDecr(Arg);
				return;
			}
			Message* Ch = ((Message*)JB_Ring_First(C));
			JB_Incr(Ch);
			if ((JB_Msg_EqualsSyx(Ch, kJB_SyxBra))) {
				Ch->Func = kJB_SyxPrm;
			}
			if (!((JB_Msg_EqualsSyx(Ch, kJB_SyxThg)) or ((JB_Msg_EqualsSyx(Ch, kJB_SyxPrm)) or (JB_Msg_EqualsSyx(Ch, kJB_SyxNum))))) {
				JB_Msg_Fail(Ch, nil);
				JB_EarlyDecr(Ch);
				JB_EarlyDecr(_Nf1);
				JB_EarlyDecr(C);
				JB_EarlyDecr(Arg);
				return;
			}
			JB_Msg_ExpectLast(Ch, nil);
			JB_Decr(Ch);
			JB_SetRef(C, _Nf1);
			JB_Decr(_Nf1);
		};
		JB_Decr(C);
		;
	}
	;
	if (!JB_Rec_OK(JB_StdErr)) {
		JB_EarlyDecr(Arg);
		return;
	}
	Message* _tmPf4 = JB_Msg_FindSyxName(Arg, kJB_SyxTmp, JB_LUB[1201], false);
	JB_Incr(_tmPf4);
	Message* Disown = ((Message*)JB_Tree_Get(_tmPf4, 0));
	JB_Incr(Disown);
	JB_Decr(_tmPf4);
	if (Disown) {
		Self->Owned = (!SC_Msg_TrueOrFalse(Disown));
	}
	JB_Decr(Disown);
	Message* _tmPf5 = JB_Msg_FindSyxName(Arg, kJB_SyxTmp, JB_LUB[1198], false);
	JB_Incr(_tmPf5);
	JB_Decr(Arg);
	Message* Stuff = ((Message*)JB_Tree_Get(_tmPf5, 0));
	JB_Incr(Stuff);
	JB_Decr(_tmPf5);
	if (Stuff) {
		JB_Array_Clear(Self->Disturbs);
		Self->DisturbParams = 0;
		if ((!JB_Msg_EqualsSyx(Stuff, kJB_SyxList))) {
			SC_CppRefs_AddOne(Self, Stuff);
		}
		 else {
			{
				Message* C = ((Message*)JB_Ring_First(Stuff));
				JB_Incr(C);
				while (C) {
					Message* _Nf3 = ((Message*)JB_Ring_NextSib(C));
					JB_Incr(_Nf3);
					SC_CppRefs_AddOne(Self, C);
					JB_SetRef(C, _Nf3);
					JB_Decr(_Nf3);
				};
				JB_Decr(C);
				;
			};
		}
	}
	JB_Decr(Stuff);
}

void SC_CppRefs_SetDefaultRefStatus(CppRefs* Self) {
	Self->Owned = false;
	JB_SetRef(Self->Disturbs, JB_Array_Constructor0(nil));
	Self->DisturbParams = -1;
	Array* _tmPf0 = SC_CppRefs_DisturbsGet(Self);
	JB_Incr(_tmPf0);
	JB_Array_SyntaxAppend(_tmPf0, JB_LUB[572]);
	JB_Decr(_tmPf0);
}

SCNode* SC_CppRefs__Linkage(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	Message* _tmPf0 = JB_Msg_NeedSyx(Node, kJB_SyxArg);
	JB_Incr(_tmPf0);
	SCNode* _tmPf1 = SC_Base_ProcessLinkage(Name_space, _tmPf0, SC_ClassOrModuleLinkage, true);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

SCNode* SC_CppRefs__ReadIntoCppRefs(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	SCModule* _tmPf0 = SC_Base_SpaceModule(Name_space, nil);
	JB_Incr(_tmPf0);
	if (!_tmPf0) {
		JB_EarlyDecr(_tmPf0);
		return nil;
	}
	SC_CppRefs_Read(_tmPf0->DefaultRefs, Node);
	JB_EarlyDecr(_tmPf0);
	return SC__Comp_Program;
}


void SC_Cpp_AppendCppField(Cpp_Export* Self, JB_String* Prop, FastStringCpp* Fs) {
	JB_FS_AppendString(Fs, JB_LUB[389]);
	JB_FS_AppendString(Fs, Prop);
	JB_FS_AppendByte2(Fs, ';');
}

void SC_Cpp_AppendPropField(Cpp_Export* Self, SCDecl* Prop, FastStringCpp* Fs) {
	JB_FS_AppendString(Fs, JB_LUB[389]);
	SC_Cpp__WriteDecl(Prop, Fs, nil);
	JB_FS_AppendByte2(Fs, ';');
}

bool SC_Cpp_CanExportFunc(Cpp_Export* Self, SCFunction* F) {
	if (!(F->MyReacher or SC_Func_SyntaxIs(F, kSC__FunctionType_API))) {
		return nil;
	}
	if (SC_Func_SyntaxIs(F, kSC__FunctionType_Disabled)) {
		return nil;
	}
	if (!SC_Func_SyntaxIs(F, kSC__FunctionType_ExternalLib)) {
		if (!(((!SC_Func_SyntaxIs(F, kSC__FunctionType_Wrapper))) and (!F->IsMacro))) {
			return nil;
		}
	}
	return (!SC_Func_SyntaxIs(F, kSC__FunctionType_NewStruct)) and (!SC_Func_SyntaxIs(F, kSC__FunctionType_AlreadyExported));
}

bool SC_Cpp_CanOpt(Cpp_Export* Self, bool Force) {
	if (Force) {
		return true;
	}
	SCClass* C = SC__Cpp_CurrClass;
	if (C) {
		return (!C->MinOpt);
	}
	return false;
}

void SC_Cpp_Codify(Cpp_Export* Self, SCModule* Scb, JB_String* fName) {
	JB_Incr(fName);
	SCClass* Cls = Scb->Cls;
	JB_Incr(Cls);
	if (!JB_Str_Exists(fName)) {
		JB_SetRef(fName, ((JB_String*)JB_Ternary(Cls, Cls->ExportName, Scb->ExportName)));
	}
	if (Scb == SC__Comp_Program) {
		JB_SetRef(fName, JB_LUB[11]);
	}
	Array* ModuleFuncs = SC_Base_ListFunctions(Scb);
	JB_Incr(ModuleFuncs);
	if (!(Cls or (JB_Array_SyntaxCast(ModuleFuncs) or Scb->Access))) {
		JB_EarlyDecr(fName);
		JB_EarlyDecr(ModuleFuncs);
		JB_EarlyDecr(Cls);
		return;
	}
	JB_SetRef(SC__Cpp_CurrClass, Cls);
	JB_String* _tmPf0 = JB_Str_OperatorPlus(fName, JB_LUB[1876]);
	JB_Incr(_tmPf0);
	FastStringCpp* File = SC_Cpp_StreamChild(Self, _tmPf0);
	JB_Incr(File);
	JB_Decr(_tmPf0);
	JB_FS_AppendString(Self->HeaderProj, JB_LUB[1877]);
	JB_FS_AppendString(Self->HeaderProj, fName);
	JB_Decr(fName);
	JB_FS_AppendByte(Self->HeaderProj, '\n');
	SC_Cpp_ExportModuleProperties(Self, Scb, Self->ModuleProperties);
	if (Cls and SC_Class_NeedsExport(Cls)) {
		SC_Cpp_ExportClass(Self, Cls, Self->ModuleProperties);
		SC_Cpp_OptStart(Self, File, Cls->MinOpt, true);
		Array* _tmPf1 = SC_Base_ListFunctions(Cls);
		JB_Incr(_tmPf1);
		SC_Cpp_CodifyFuncs(Self, File, _tmPf1);
		JB_Decr(_tmPf1);
		SC_Cpp_OptEnd(Self, File, Cls->MinOpt, true);
	}
	JB_Decr(Cls);
	SC_Cpp_CodifyFuncs(Self, File, ModuleFuncs);
	JB_Decr(ModuleFuncs);
	JB_Decr(File);
	JB_SetRef(SC__Cpp_CurrClass, nil);
}

void SC_Cpp_CodifyFuncs(Cpp_Export* Self, FastStringCpp* File, Array* List) {
	{
		int _if0 = 0;
		while (true) {
			SCFunction* F = ((SCFunction*)JB_Array_Value(List, _if0));
			if (F == nil) {
				break;
			}
			if (((!SC_Func_SyntaxIs(F, kSC__FunctionType_OptInline))) and SC_Cpp_CanExportFunc(Self, F)) {
				SC_Cpp_CppFunc(Self, File, F);
			}
			(++_if0);
		};
	}
	;
	(SC_Func__CurrFuncSet(nil));
}

void SC_Cpp_CodifyInlines(Cpp_Export* Self) {
	{
		Array* _LoopSrcf2 = SC__Comp_FuncList;
		int _if0 = 0;
		while (true) {
			SCFunction* F = ((SCFunction*)JB_Array_Value(_LoopSrcf2, _if0));
			if (F == nil) {
				break;
			}
			if ((SC_Func_SyntaxIs(F, kSC__FunctionType_OptInline)) and SC_Cpp_CanExportFunc(Self, F)) {
				SC_Cpp_CppFunc(Self, Self->Inlines, F);
			}
			(++_if0);
		};
	}
	;
	(SC_Func__CurrFuncSet(nil));
}

Cpp_Export* SC_Cpp_Constructor(Cpp_Export* Self) {
	if (Self == nil) {
		Self = ((Cpp_Export*)JB_NewClass(&Cpp_ExportData));
	}
	Array* _tmPf0 = (JB_Array_Constructor0(nil));
	JB_Incr(_tmPf0);
	JB_Incr2(Self->Outputs_cpp, _tmPf0);
	JB_Decr(_tmPf0);
	Array* _tmPf1 = (JB_Array_Constructor0(nil));
	JB_Incr(_tmPf1);
	JB_Incr2(Self->Outputs_h, _tmPf1);
	JB_Decr(_tmPf1);
	JB_Incr2(Self->T, SC_FastStringCpp_Constructor(nil, JB_LUB[0]));
	JB_Incr2(Self->AllTypes, SC_Cpp_StreamChild(Self, JB_LUB[1932]));
	JB_Incr2(Self->Syxes, SC_Cpp_StreamChild(Self, JB_LUB[1933]));
	JB_Incr2(Self->TypesProj, SC_Cpp_StreamChild(Self, JB_LUB[1934]));
	JB_Incr2(Self->GlobsInLib, SC_Cpp_StreamChild(Self, JB_LUB[1935]));
	JB_Incr2(Self->HeaderProj, SC_Cpp_StreamChild(Self, JB_LUB[1291]));
	JB_Incr2(Self->Inlines, SC_Cpp_StreamChild(Self, JB_LUB[1936]));
	JB_Incr2(Self->ModuleProperties, SC_Cpp_StreamChild(Self, JB_LUB[1937]));
	SC_Cpp__Init();
	return Self;
}

void SC_Cpp_CppFunc(Cpp_Export* Self, FastStringCpp* Fs, SCFunction* F) {
	(SC_Func__CurrFuncSet(F));
	(SC_Func_SyntaxIsSet(F, kSC__FunctionType_AlreadyExported, true));
	JB_String* FuncHeader = SC_Cpp_FuncHeader(Self, F);
	if (!JB_Str_Exists(FuncHeader)) {
		return;
	}
	SC_Cpp_SetupFlow(Self, F);
	SC_Cpp_FuncStart(Self, Fs, F, FuncHeader);
	JB_Msg_Export(SC_Func_SourceArg(F), Fs);
	SC_Cpp_OptEnd(Self, Fs, F->MinOpt, 0);
	JB_FS_AppendString(Fs, JB_LUB[1575]);
}

void SC_Cpp_Destructor(Cpp_Export* Self) {
	//cpp_part;
	JB_Clear(Self->Outputs_cpp);
	JB_Clear(Self->Outputs_h);
	JB_Clear(Self->T);
	JB_Clear(Self->AllTypes);
	JB_Clear(Self->TypesProj);
	JB_Clear(Self->HeaderProj);
	JB_Clear(Self->GlobsInLib);
	JB_Clear(Self->Syxes);
	JB_Clear(Self->Inlines);
	JB_Clear(Self->ModuleProperties);
}

void SC_Cpp_ExportBehaviourHeader(Cpp_Export* Self, SCClass* Cls) {
	if (Cls->IsRole) {
		return;
	}
	SCBehaviour* B = Cls->Behaviour;
	JB_Incr(B);
	if (B) {
		SC_Cpp_ExportStruct(Self, B->FuncTable->Cls, true);
	}
	JB_Decr(B);
}

bool SC_Cpp_ExportBehaviourInstance(Cpp_Export* Self, SCClass* Cls, FastStringCpp* Fs) {
	SCBehaviour* B = Cls->Behaviour;
	JB_Incr(B);
	if (!B) {
		JB_EarlyDecr(B);
		return nil;
	}
	SCClass* TableCls = B->FuncTable->Cls;
	JB_Incr(TableCls);
	JB_String* N = SC_Class_CStructName(TableCls);
	JB_Incr(N);
	JB_Decr(TableCls);
	JB_String* CN = SC_Class_CStructName(Cls);
	JB_Incr(CN);
	JB_FS_AppendString(Fs, N);
	JB_FS_AppendString(Fs, JB_LUB[1376]);
	JB_FS_AppendString(Fs, CN);
	JB_FS_AppendString(Fs, JB_LUB[1377]);
	JB_FS_AppendString(Fs, N);
	JB_FS_AppendString(Fs, JB_LUB[1378]);
	SC_FastStringCpp_AppendBehaviour(Fs, JB_LUB[0], Cls->DestructorFunc, nil);
	while (B) {
		{
			Dictionary* _LoopSrcf3 = B->Interfaces;
			JB_Incr(_LoopSrcf3);
			DictionaryReader* _navf1 = JB_Dict_Navigate(_LoopSrcf3);
			JB_Incr(_navf1);
			JB_Decr(_LoopSrcf3);
			while (true) {
				SCModule* M = ((SCModule*)JB_DictionaryReader_NextValue(_navf1));
				JB_Incr(M);
				if (M == nil) {
					JB_EarlyDecr(M);
					break;
				}
				JB_String* S = SC_Str_InterfaceToBehaviour(M->Name);
				JB_Incr(S);
				SCFunction* Fn = SC_Class_BestBehaviourFor(Cls, S);
				JB_Incr(Fn);
				if (Fn) {
					SCClass* BaseClass = SC_Class_InterfaceForBehaviour(Cls, Fn);
					JB_Incr(BaseClass);
					if (BaseClass) {
						if (!(M->IsRequiredInterface and (!JB_FreeIfDead(SC_Base_SyntaxAccessWithStr(Cls->Behaviour, S))))) {
							SC_FastStringCpp_AppendBehaviour(Fs, S, Fn, BaseClass);
							JB_SetRef(Fn, nil);
						}
					}
					JB_Decr(BaseClass);
				}
				JB_Decr(M);
				if (Fn) {
					SC_Class_MissingVirtual(Cls, S);
				}
				JB_Decr(S);
				JB_Decr(Fn);
			};
			JB_Decr(_navf1);
		}
		;
		JB_SetRef(B, SC_Beh_Upwards(B));
	};
	JB_Decr(B);
	JB_FS_AppendString(Fs, JB_LUB[1379]);
	//;
	JB_FS_AppendString(Fs, N);
	JB_Decr(N);
	JB_FS_AppendByte(Fs, ' ');
	JB_FS_AppendString(Fs, CN);
	JB_FS_AppendString(Fs, JB_LUB[1380]);
	JB_FS_AppendString(Fs, CN);
	JB_Decr(CN);
	JB_FS_AppendString(Fs, JB_LUB[1381]);
	//;
	return true;
}

void SC_Cpp_ExportClass(Cpp_Export* Self, SCClass* Cls, FastStringCpp* CppFile) {
	JB_Incr(Cls);
	if (SC_Class_IsDataTypeOrFP(Cls)) {
		JB_EarlyDecr(Cls);
		return;
	}
	if (SC_Class_IsBehaviourTable(Cls)) {
		JB_EarlyDecr(Cls);
		return;
	}
	if (Cls->IsRole == 1) {
		JB_EarlyDecr(Cls);
		return;
	}
	if (Cls->IsRole != 2) {
		if (Cls->IsWrapper) {
			SC_Cpp_ExportBehaviourHeader(Self, Cls);
		}
		if (Cls->IsWrapper) {
			JB_EarlyDecr(Cls);
			return;
		}
		if (SC_Class_IsStruct(Cls)) {
			SC_Cpp_ExportStruct(Self, Cls, false);
			JB_EarlyDecr(Cls);
			return;
		}
	}
	FastStringCpp* HFile = Self->TypesProj;
	JB_Incr(HFile);
	if (!Cls->IsRole) {
		SC_Cpp_ExportBehaviourHeader(Self, Cls);
	}
	JB_FS_AppendString(HFile, JB_LUB[1434]);
	JB_String* _tmPf4 = SC_Class_CStructName(Cls);
	JB_Incr(_tmPf4);
	JB_FS_AppendString(HFile, _tmPf4);
	JB_Decr(_tmPf4);
	JB_FS_AppendString(HFile, JB_LUB[1435]);
	if (Cls->Super) {
		JB_String* _tmPf5 = SC_Class_CStructName(Cls->Super);
		JB_Incr(_tmPf5);
		JB_FS_AppendString(HFile, _tmPf5);
		JB_Decr(_tmPf5);
	}
	 else {
		JB_FS_AppendString(HFile, JB_LUB[1436]);
	}
	JB_FS_AppendString(HFile, JB_LUB[1435]);
	{
		Array* _LoopSrcf3 = Cls->Properties;
		JB_Incr(_LoopSrcf3);
		int _if1 = 0;
		while (true) {
			SCDecl* Prop = ((SCDecl*)JB_Array_Value(_LoopSrcf3, _if1));
			JB_Incr(Prop);
			if (Prop == nil) {
				JB_EarlyDecr(Prop);
				break;
			}
			JB_FS_AppendString(HFile, JB_LUB[389]);
			SC_Cpp__WriteDecl(Prop, HFile, nil);
			JB_Decr(Prop);
			JB_FS_AppendByte2(HFile, ';');
			(++_if1);
		};
		JB_Decr(_LoopSrcf3);
	}
	;
	JB_FS_AppendString(HFile, JB_LUB[1437]);
	JB_Decr(HFile);
	if (!Cls->IsRole) {
		bool HasTable = SC_Cpp_ExportBehaviourInstance(Self, Cls, CppFile);
		//;
		JB_FS_AppendString(CppFile, JB_LUB[1438]);
		JB_String* _tmPf6 = SC_Class_CStructName(Cls);
		JB_Incr(_tmPf6);
		JB_FS_AppendString(CppFile, _tmPf6);
		JB_Decr(_tmPf6);
		JB_FS_AppendString(CppFile, JB_LUB[47]);
		JB_String* _tmPf7 = SC_Class_CSuperStructName(Cls);
		JB_Incr(_tmPf7);
		JB_FS_AppendString(CppFile, _tmPf7);
		JB_Decr(_tmPf7);
		JB_FS_AppendString(CppFile, JB_LUB[1439]);
		JB_FS_AppendString(CppFile, Cls->Name);
		JB_FS_AppendString(CppFile, JB_LUB[1440]);
		//;
		if ((!HasTable)) {
			JB_SetRef(Cls, SC_TypeObject);
		}
		JB_String* _tmPf8 = SC_Class_CStructName(Cls);
		JB_Incr(_tmPf8);
		JB_FS_AppendString(CppFile, _tmPf8);
		JB_Decr(_tmPf8);
		JB_FS_AppendString(CppFile, JB_LUB[1441]);
	}
	JB_Decr(Cls);
}

void SC_Cpp_ExportModuleProperties(Cpp_Export* Self, SCModule* Modl, FastStringCpp* IntoModule) {
	FastStringCpp* Fs = ((FastStringCpp*)JB_Ternary(IntoModule, IntoModule, Self->TypesProj));
	JB_Incr(Fs);
	{
		DictionaryReader* _df0 = JB_Dict_Navigate(Modl->Access);
		JB_Incr(_df0);
		while (JB_Nav_MoveNext(_df0)) {
			SCDecl* Prop = SC_DictionaryReader_ValueDecl(_df0);
			JB_Incr(Prop);
			if (Prop) {
				if (SC_FastStringCpp_AddProperty(Fs, Prop, IntoModule != nil)) {
					JB_FS_AppendByte(Fs, '\n');
				}
			}
			JB_Decr(Prop);
		};
		JB_Decr(_df0);
	}
	;
	JB_Decr(Fs);
}

bool SC_Cpp_ExportOneProperty(Cpp_Export* Self, SCClass* Cls, FastStringCpp* Fs, JB_String* Only) {
	{
		Array* _LoopSrcf2 = Cls->Properties;
		int _if0 = 0;
		while (true) {
			SCDecl* Prop = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (Prop == nil) {
				break;
			}
			if (JB_Str_Equals(Prop->Name, Only, false)) {
				SC_Cpp_AppendPropField(Self, Prop, Fs);
				return true;
			}
			(++_if0);
		};
	}
	;
	return false;
}

void SC_Cpp_ExportProperties(Cpp_Export* Self, SCClass* Cls, FastStringCpp* Fs, JB_String* Ignore) {
	{
		Array* _LoopSrcf2 = Cls->Properties;
		int _if0 = 0;
		while (true) {
			SCDecl* Prop = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (Prop == nil) {
				break;
			}
			if (!JB_Str_Equals(Prop->Name, Ignore, false)) {
				SC_Cpp_AppendPropField(Self, Prop, Fs);
			}
			(++_if0);
		};
	};
}

void SC_Cpp_ExportStruct(Cpp_Export* Self, SCClass* Cls, bool IsBehaviour) {
	FastStringCpp* Fs = Self->TypesProj;
	JB_Incr(Fs);
	SC_Class_WriteStructOrUnion(Cls, Fs);
	if (Cls->IsModel) {
		JB_FS_AppendString(Fs, JB_LUB[1095]);
	}
	JB_String* _tmPf0 = SC_Class_CStructName(Cls);
	JB_Incr(_tmPf0);
	JB_FS_AppendString(Fs, _tmPf0);
	JB_Decr(_tmPf0);
	if (Cls->Super) {
		JB_FS_AppendString(Fs, JB_LUB[121]);
		JB_String* _tmPf1 = SC_Class_CStructName(Cls->Super);
		JB_Incr(_tmPf1);
		JB_FS_AppendString(Fs, _tmPf1);
		JB_Decr(_tmPf1);
	}
	JB_FS_AppendString(Fs, JB_LUB[1096]);
	if (IsBehaviour) {
		if ((!Cls->Super)) {
			SC_Cpp_AppendCppField(Self, JB_LUB[1097], Fs);
			SC_Cpp_ExportOneProperty(Self, Cls, Fs, JB_LUB[1098]);
		}
		SC_Cpp_ExportProperties(Self, Cls, Fs, JB_LUB[1098]);
	}
	 else {
		SC_Cpp_ExportProperties(Self, Cls, Fs, nil);
	}
	JB_FS_AppendString(Fs, JB_LUB[1099]);
	JB_Decr(Fs);
}

void SC_Cpp_ExportSyx(Cpp_Export* Self) {
	if (!JB_Array_SyntaxCast(SC__Comp_SyxArray)) {
		return;
	}
	FastStringCpp* Fs = Self->Syxes;
	JB_Incr(Fs);
	{
		Array* _LoopSrcf3 = SC__Comp_SyxArray;
		JB_Incr(_LoopSrcf3);
		int _if1 = 0;
		while (true) {
			JB_String* Syx = ((JB_String*)JB_Array_Value(_LoopSrcf3, _if1));
			JB_Incr(Syx);
			if (Syx == nil) {
				JB_EarlyDecr(Syx);
				break;
			}
			int I = _if1;
			//;
			JB_FS_AppendString(Fs, JB_LUB[390]);
			JB_FS_AppendString(Fs, Syx);
			JB_Decr(Syx);
			JB_FS_AppendByte(Fs, ' ');
			JB_FS_AppendInt32(Fs, I);
			JB_FS_AppendByte(Fs, '\n');
			//;
			(++_if1);
		};
		JB_Decr(_LoopSrcf3);
	}
	;
	JB_Decr(Fs);
}

void SC_Cpp_FillInterpreter(Cpp_Export* Self) {
	SC_LibStability__StabiliseFuncs();
	SC_LibStability__StabiliseGlobs();
	SC__PackMaker_LibGlobSize = SC_PackMaker__GlobalsSize(SC__PackMaker_LibGlobs);
	SC_Pac_FillDebugInfo((&SC__Pac_Sh));
	SC_Cpp_WriteVMGlobsAndPtrs(Self, Self->ModuleProperties);
}

void SC_Cpp_FillLibGlobs(Cpp_Export* Self, FastStringCpp* Fs, bool Simple) {
	JB_FS_AppendString(Fs, JB_LUB[859]);
	{
		Array* _LoopSrcf2 = SC__PackMaker_LibGlobs;
		int _if0 = 0;
		while (true) {
			SCDecl* Prop = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (Prop == nil) {
				break;
			}
			if (Simple and (SC_Decl_Complexity(Prop) > 1)) {
				break;
			}
			if (Simple and SC_Decl_IsObject(Prop)) {
				JB_FS_AppendString(Fs, JB_LUB[860]);
				SC_FS_AppendLibGlob(Fs, Prop);
			}
			 else {
				SC_Cpp__WriteDecl(Prop, Fs, nil);
			}
			JB_FS_AppendString(Fs, JB_LUB[861]);
			(++_if0);
		};
	}
	;
	Fs->Length = (Fs->Length - 1);
	JB_FS_AppendString(Fs, JB_LUB[862]);
}

void SC_Cpp_FinalMergeOutputIntoACpp(Cpp_Export* Self) {
	FastStringCpp* Fs = SC_FastStringCpp_Constructor(nil, JB_LUB[0]);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, JB_LUB[1495]);
	JB_String* _tmPf10 = SC_Cpp__CppLicence();
	JB_Incr(_tmPf10);
	JB_FS_AppendString(Fs, _tmPf10);
	JB_Decr(_tmPf10);
	SC_FS_IncludeH(Fs, JB_LUB[1496]);
	SC_FS_IncludeH(Fs, JB_LUB[1291]);
	{
		Array* _LoopSrcf3 = SC__Cpp_H_PostInput;
		JB_Incr(_LoopSrcf3);
		int _if1 = 0;
		while (true) {
			JB_String* H = ((JB_String*)JB_Array_Value(_LoopSrcf3, _if1));
			JB_Incr(H);
			if (H == nil) {
				JB_EarlyDecr(H);
				break;
			}
			SC_FS_IncludeH(Fs, H);
			JB_Decr(H);
			(++_if1);
		};
		JB_Decr(_LoopSrcf3);
	}
	;
	if (!SC__Options_TargetDebug) {
		JB_FS_AppendString(Fs, JB_LUB[1497]);
	}
	JB_FS_AppendString(Fs, JB_LUB[1498]);
	JB_FS_AppendString(Fs, JB_LUB[865]);
	SC_Cpp__GenLub(Fs);
	//;
	JB_FS_AppendString(Fs, JB_LUB[865]);
	JB_String* _tmPf11 = SC_Class_CStructName(SC_TypeObject->Behaviour->FuncTable->Cls);
	JB_Incr(_tmPf11);
	JB_FS_AppendString(Fs, _tmPf11);
	JB_Decr(_tmPf11);
	JB_FS_AppendString(Fs, JB_LUB[1499]);
	//;
	if (SC_Cpp__DoSavers()) {
		SC_Cpp__CreateClassListHeader(Fs, JB_LUB[663]);
	}
	SC_Cpp__GenStrings(Self->ModuleProperties);
	JB_String* _tmPf12 = JB_FS_SyntaxCast(Self->ModuleProperties);
	JB_Incr(_tmPf12);
	JB_File* _tmPf13 = SC_Cpp__Product(JB_LUB[1388]);
	JB_Incr(_tmPf13);
	SC_Cpp__SmartWrite(_tmPf12, _tmPf13);
	JB_Decr(_tmPf12);
	JB_Decr(_tmPf13);
	Self->ModuleProperties->Length = 0;
	{
		Array* _LoopSrcf6 = Self->Outputs_cpp;
		JB_Incr(_LoopSrcf6);
		int _if4 = 0;
		while (true) {
			FastStringCpp* F = ((FastStringCpp*)JB_Array_Value(_LoopSrcf6, _if4));
			JB_Incr(F);
			if (F == nil) {
				JB_EarlyDecr(F);
				break;
			}
			JB_String* _tmPf14 = SC_Cpp__SplitCpp(F, F->Cpp_Name);
			JB_Incr(_tmPf14);
			JB_Decr(F);
			JB_FS_AppendString(Fs, _tmPf14);
			JB_Decr(_tmPf14);
			(++_if4);
		};
		JB_Decr(_LoopSrcf6);
	}
	;
	if (SC_Cpp__DoSavers()) {
		SC_Cpp__CreateClassListFunc(Fs);
	}
	JB_FS_AppendString(Fs, JB_LUB[1500]);
	{
		Array* _LoopSrcf9 = SC__Cpp_Cpp_Includes;
		JB_Incr(_LoopSrcf9);
		int _if7 = 0;
		while (true) {
			JB_String* I = ((JB_String*)JB_Array_Value(_LoopSrcf9, _if7));
			JB_Incr(I);
			if (I == nil) {
				JB_EarlyDecr(I);
				break;
			}
			JB_FS_AppendByte2(Fs, ' ');
			JB_FS_AppendString(Fs, I);
			JB_Decr(I);
			(++_if7);
		};
		JB_Decr(_LoopSrcf9);
	}
	;
	JB_String* _tmPf15 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf15);
	JB_Decr(Fs);
	JB_File* _tmPf16 = SC_Cpp__CppProduct();
	JB_Incr(_tmPf16);
	SC_Cpp__SmartWrite(_tmPf15, _tmPf16);
	JB_Decr(_tmPf15);
	JB_Decr(_tmPf16);
}

JB_String* SC_Cpp_FuncHeader(Cpp_Export* Self, SCFunction* F) {
	JB_String* Rz = JB_LUB[0];
	JB_Incr(Rz);
	SC_Cpp__WriteFunctionHeader(F, Self->T);
	JB_SetRef(Rz, JB_FS_GetResult(Self->T));
	JB_FS_AppendString(Self->HeaderProj, Rz);
	JB_FS_AppendString(Self->HeaderProj, JB_LUB[1202]);
	if (SC_Func_SyntaxIs(F, kSC__FunctionType_ExternalLib)) {
		JB_SetRef(Rz, JB_LUB[0]);
	}
	JB_SafeDecr(Rz);
	return Rz;
}

void SC_Cpp_FuncStart(Cpp_Export* Self, FastStringCpp* Fs, SCFunction* F, JB_String* Funcheader) {
	if (SC_Func_SyntaxIs(F, kSC__FunctionType_API)) {
		JB_FS_AppendString(Fs, JB_LUB[628]);
	}
	SC_Cpp_OptStart(Self, Fs, F->MinOpt, 0);
	JB_FS_AppendString(Fs, Funcheader);
	Self->T->Length = 0;
	JB_FS_AppendByte2(Fs, ' ');
}

void SC_Cpp_LibAPI_Cpp(Cpp_Export* Self) {
	JB_File* WriteTo = SC_Cpp__APIHeader();
	JB_Incr(WriteTo);
	if (WriteTo) {
		FastStringCpp* File = SC_Cpp_StreamChild(Self, JB_LUB[1878]);
		JB_Incr(File);
		JB_FS_AppendString(File, JB_LUB[1879]);
		JB_FS_AppendString(File, JB_LUB[1880]);
		SC_Cpp_CodifyFuncs(Self, File, SC__Comp_API_Funcs);
		JB_FS_AppendString(File, JB_LUB[1881]);
		JB_FS_AppendString(File, JB_LUB[1882]);
		JB_Decr(File);
		SC_Cpp_WriteAPIHeader(Self, WriteTo);
	}
	JB_Decr(WriteTo);
}

void SC_Cpp_MakeWrapperFor(Cpp_Export* Self, FastStringCpp* Fs, SCFunction* F) {
	JB_String* N = SC_Func_WrappedName(F);
	JB_Incr(N);
	SC_Cpp__WriteFuncSub(F, N, Fs);
	JB_Decr(N);
	JB_FS_AppendString(Fs, JB_LUB[1100]);
	if (F->ReturnType) {
		JB_FS_AppendString(Fs, JB_LUB[1101]);
	}
	JB_FS_AppendString(Fs, F->ExportName);
	SC_Cpp__WriteFuncArgs(F, Fs, true);
	JB_FS_AppendString(Fs, JB_LUB[1102]);
}

void SC_Cpp_OptEnd(Cpp_Export* Self, FastStringCpp* Fs, int M, bool Force) {
	if (M and SC_Cpp_CanOpt(Self, Force)) {
		JB_FS_AppendString(Fs, JB_LUB[72]);
	}
}

#pragma GCC optimize ("O3")
void SC_Cpp_OptStart(Cpp_Export* Self, FastStringCpp* Fs, int M, bool Force) {
	if (M and SC_Cpp_CanOpt(Self, Force)) {
		JB_String* S = JB_LUB[128];
		JB_Incr(S);
		if (M <= 3) {
			JB_SetRef(S, JB_int_RenderFS(M, nil));
		}
		//;
		JB_FS_AppendString(Fs, JB_LUB[573]);
		JB_FS_AppendString(Fs, S);
		JB_Decr(S);
		JB_FS_AppendString(Fs, JB_LUB[574]);
		//;
	}
}
#pragma GCC reset_options



void SC_Cpp_PreRun(Cpp_Export* Self) {
	JB_FS_AppendString(Self->AllTypes, JB_LUB[391]);
	JB_FS_AppendByte2(Self->HeaderProj, '\n');
	FastStringCpp* Fs = Self->ModuleProperties;
	JB_FS_AppendString(Fs, JB_LUB[392]);
	JB_FS_AppendString(Fs, SC__Comp_ProjectName);
	JB_FS_AppendString(Fs, JB_LUB[393]);
	JB_FS_AppendString(Fs, SC__Comp_ProjectName);
	JB_FS_AppendString(Fs, JB_LUB[394]);
	if (!SC__Options_TargetDebug) {
		JB_FS_AppendString(Fs, JB_LUB[395]);
	}
}

void SC_Cpp_Run(Cpp_Export* Self) {
	{
		Array* _LoopSrcf2 = SC__Comp_ClassList;
		int _if0 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf2, _if0));
			if (C == nil) {
				break;
			}
			if (!SC_Class_IsFunc(C)) {
				SC_Cpp__WriteType(C, Self->AllTypes, true);
			}
			(++_if0);
		};
	}
	;
	{
		Array* _LoopSrcf5 = SC__Comp_ClassList;
		int _if3 = 0;
		while (true) {
			SCClass* C = ((SCClass*)JB_Array_Value(_LoopSrcf5, _if3));
			if (C == nil) {
				break;
			}
			if (SC_Class_IsFunc(C)) {
				SC_Cpp__WriteType(C, Self->AllTypes, false);
			}
			(++_if3);
		};
	}
	;
	{
		Array* _LoopSrcf8 = SC__Comp_ModuleList;
		int _if6 = 0;
		while (true) {
			SCModule* C = ((SCModule*)JB_Array_Value(_LoopSrcf8, _if6));
			if (C == nil) {
				break;
			}
			SC_Cpp_Codify(Self, C, JB_LUB[0]);
			(++_if6);
		};
	}
	;
	{
		Array* _LoopSrcf11 = SC__Comp_ModuleList;
		int _if9 = 0;
		while (true) {
			SCModule* C = ((SCModule*)JB_Array_Value(_LoopSrcf11, _if9));
			if (C == nil) {
				break;
			}
			SC_Cpp_ExportModuleProperties(Self, C, nil);
			(++_if9);
		};
	}
	;
	SC_Cpp_CodifyInlines(Self);
	if (SC__Options_ProjectIsLibrary) {
		SC_Cpp_LibAPI_Cpp(Self);
	}
}

void SC_Cpp_SetupFlow(Cpp_Export* Self, SCFunction* F) {
	(SC_Func__CurrFuncSet(F));
	if (SC__Options_GenFlowControlCode and ((!SC_Func_SyntaxIs(F, kSC__FunctionType_FlowDisabled)))) {
		JB_SetRef(SC__Cpp_IfName, JB_LUB[1501]);
		JB_SetRef(SC__Cpp_WhileName, JB_LUB[1502]);
		JB_SetRef(SC__Comp_TernaryFunc->ExportName, JB_LUB[1503]);
	}
	 else {
		JB_SetRef(SC__Cpp_IfName, JB_LUB[397]);
		JB_SetRef(SC__Cpp_WhileName, JB_LUB[398]);
		JB_SetRef(SC__Comp_TernaryFunc->ExportName, JB_LUB[1504]);
	}
}

FastStringCpp* SC_Cpp_StreamChild(Cpp_Export* Self, JB_String* S) {
	FastStringCpp* Rz = nil;
	JB_Incr(Rz);
	JB_String* _tmPf0 = JB_Str_TrimExtAndPath(S, true);
	JB_Incr(_tmPf0);
	JB_SetRef(Rz, SC_FastStringCpp_Constructor(nil, _tmPf0));
	JB_Decr(_tmPf0);
	if (JB_Str_OperatorIsa(S, JB_LUB[575])) {
		JB_Array_SyntaxAppend(Self->Outputs_h, Rz);
		JB_FS_AppendString(Rz, JB_LUB[576]);
		JB_FS_AppendString(Rz, S);
	}
	 else {
		JB_Array_SyntaxAppend(Self->Outputs_cpp, Rz);
	}
	JB_FS_AppendByte2(Rz, '\n');
	JB_SafeDecr(Rz);
	return Rz;
}

void SC_Cpp_WriteAPIFuncHeader(Cpp_Export* Self, SCFunction* F, FastStringCpp* Fs) {
	SC__Cpp_WriteAPI = true;
	SC_Cpp__WriteFunctionHeader(F, Fs);
	SC__Cpp_WriteAPI = false;
}

void SC_Cpp_WriteAPIHeader(Cpp_Export* Self, JB_File* Destfile) {
	if (Destfile == nil) {
		return;
	}
	FastStringCpp* Fs = SC_FastStringCpp_Constructor(nil, JB_LUB[0]);
	JB_Incr(Fs);
	JB_String* _tmPf14 = SC_Cpp__CppLicence();
	JB_Incr(_tmPf14);
	JB_FS_AppendString(Fs, _tmPf14);
	JB_Decr(_tmPf14);
	JB_FS_AppendString(Fs, JB_LUB[1442]);
	{
		Array* _LoopSrcf7 = SC__Comp_API_List;
		JB_Incr(_LoopSrcf7);
		int _if5 = 0;
		while (true) {
			Message* M = ((Message*)JB_Array_Value(_LoopSrcf7, _if5));
			JB_Incr(M);
			if (M == nil) {
				JB_EarlyDecr(M);
				break;
			}
			if ((JB_Msg_SyntaxEquals(M, JB_LUB[1167], false))) {
				Message* F = ((Message*)JB_Ring_First(M));
				JB_Incr(F);
				SCClass* Cls = SC_Comp__SyntaxAccess(F);
				JB_Incr(Cls);
				JB_Decr(F);
				if (!Cls) {
					JB_EarlyDecr(Cls);
					JB_EarlyDecr(M);
					JB_EarlyDecr(_LoopSrcf7);
					JB_EarlyDecr(Fs);
					return;
				}
				if (SC_Class_IsObject(Cls)) {
					//;
					JB_FS_AppendString(Fs, JB_LUB[1443]);
					JB_String* _tmPf15 = SC_Class_APIStructName(Cls);
					JB_Incr(_tmPf15);
					JB_FS_AppendString(Fs, _tmPf15);
					JB_Decr(_tmPf15);
					JB_FS_AppendString(Fs, JB_LUB[1444]);
					//;
				}
				 else if (SC_Class_IsDataTypeOrFP(Cls)) {
					//;
					JB_FS_AppendString(Fs, JB_LUB[1445]);
					JB_String* _tmPf16 = SC_Class_CStructName(Cls->Super);
					JB_Incr(_tmPf16);
					JB_FS_AppendString(Fs, _tmPf16);
					JB_Decr(_tmPf16);
					JB_FS_AppendByte(Fs, ' ');
					JB_String* _tmPf17 = SC_Class_APIStructName(Cls);
					JB_Incr(_tmPf17);
					JB_FS_AppendString(Fs, _tmPf17);
					JB_Decr(_tmPf17);
					JB_FS_AppendString(Fs, JB_LUB[663]);
					//;
				}
				 else {
					if (true) {
						JB_Msg_Fail(M, JB_LUB[1446]);
					}
				}
				JB_Decr(Cls);
			}
			JB_Decr(M);
			(++_if5);
		};
		JB_Decr(_LoopSrcf7);
	}
	;
	SCClass* PrevCls = nil;
	JB_Incr(PrevCls);
	{
		Array* _LoopSrcf10 = SC__Comp_API_Funcs;
		JB_Incr(_LoopSrcf10);
		int _if8 = 0;
		while (true) {
			SCFunction* F = ((SCFunction*)JB_Array_Value(_LoopSrcf10, _if8));
			JB_Incr(F);
			if (F == nil) {
				JB_EarlyDecr(F);
				break;
			}
			if (F->Cls != PrevCls) {
				JB_SetRef(PrevCls, F->Cls);
				JB_FS_AppendString(Fs, JB_LUB[1447]);
				if (PrevCls) {
					JB_FS_AppendString(Fs, PrevCls->Name);
				}
				 else {
					JB_FS_AppendString(Fs, JB_LUB[486]);
				}
				JB_FS_AppendString(Fs, JB_LUB[1448]);
			}
			if ((!SC_Func_SyntaxIs(F, kSC__FunctionType_Wrapper))) {
				SC_Cpp_WriteAPIFuncHeader(Self, F, Fs);
			}
			JB_FS_AppendByte2(Fs, ';');
			if (((JB_String*)JB_Str_Exists(F->Description))) {
				//;
				JB_FS_AppendString(Fs, JB_LUB[1449]);
				JB_FS_AppendString(Fs, F->Description);
				JB_FS_AppendString(Fs, JB_LUB[1450]);
				//;
			}
			JB_Decr(F);
			JB_FS_AppendByte2(Fs, '\n');
			(++_if8);
		};
		JB_Decr(_LoopSrcf10);
	}
	;
	JB_Decr(PrevCls);
	if (((Array*)JB_Array_SyntaxCast(SC__Comp_SyxArray))) {
		JB_FS_AppendString(Fs, JB_LUB[1451]);
		{
			Array* _LoopSrcf13 = SC__Comp_SyxArray;
			JB_Incr(_LoopSrcf13);
			int _if11 = 0;
			while (true) {
				JB_String* S = ((JB_String*)JB_Array_Value(_LoopSrcf13, _if11));
				JB_Incr(S);
				if (S == nil) {
					JB_EarlyDecr(S);
					break;
				}
				JB_String* Slower = JB_Str_LowerCase(S);
				JB_Incr(Slower);
				SyntaxObj* _tmPf18 = ((SyntaxObj*)JB_Dict_Value0(JB__Constants__SyxDict, Slower));
				JB_Incr(_tmPf18);
				int Id = ((int)_tmPf18->ID);
				JB_Decr(_tmPf18);
				//;
				JB_FS_AppendString(Fs, JB_LUB[1452]);
				JB_FS_AppendString(Fs, S);
				JB_Decr(S);
				JB_FS_AppendByte(Fs, ' ');
				JB_FS_AppendInt32(Fs, Id);
				JB_FS_AppendString(Fs, JB_LUB[663]);
				//;
				//;
				JB_FS_AppendString(Fs, JB_LUB[1453]);
				JB_FS_AppendString(Fs, Slower);
				JB_Decr(Slower);
				JB_FS_AppendByte(Fs, ' ');
				JB_FS_AppendInt32(Fs, Id);
				JB_FS_AppendByte(Fs, '\n');
				//;
				(++_if11);
			};
			JB_Decr(_LoopSrcf13);
		};
	}
	JB_FS_AppendString(Fs, JB_LUB[1454]);
	JB_String* _tmPf19 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf19);
	JB_Decr(Fs);
	SC_Cpp__SmartWrite(_tmPf19, Destfile);
	JB_Decr(_tmPf19);
}

void SC_Cpp_WriteHeader(Cpp_Export* Self) {
	FastStringCpp* Fs = SC_FastStringCpp_Constructor(nil, JB_LUB[0]);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, JB_LUB[1455]);
	JB_String* _tmPf6 = SC_Cpp__CppLicence();
	JB_Incr(_tmPf6);
	JB_FS_AppendString(Fs, _tmPf6);
	JB_Decr(_tmPf6);
	if (SC_Linkage__VM()) {
		JB_FS_AppendString(Fs, JB_LUB[1456]);
	}
	JB_FS_AppendString(Fs, JB_LUB[1457]);
	{
		Array* _LoopSrcf2 = SC__Cpp_H_Input;
		JB_Incr(_LoopSrcf2);
		int _if0 = 0;
		while (true) {
			JB_String* H = ((JB_String*)JB_Array_Value(_LoopSrcf2, _if0));
			JB_Incr(H);
			if (H == nil) {
				JB_EarlyDecr(H);
				break;
			}
			SC_FS_IncludeH(Fs, H);
			JB_Decr(H);
			(++_if0);
		};
		JB_Decr(_LoopSrcf2);
	}
	;
	JB_FS_AppendString(Fs, JB_LUB[1458]);
	{
		Array* _LoopSrcf5 = Self->Outputs_h;
		JB_Incr(_LoopSrcf5);
		int _if3 = 0;
		while (true) {
			FastStringCpp* F = ((FastStringCpp*)JB_Array_Value(_LoopSrcf5, _if3));
			JB_Incr(F);
			if (F == nil) {
				JB_EarlyDecr(F);
				break;
			}
			JB_FS_AppendFastString(Fs, F);
			JB_Decr(F);
			JB_FS_AppendByte2(Fs, '\n');
			(++_if3);
		};
		JB_Decr(_LoopSrcf5);
	}
	;
	JB_FS_AppendString(Fs, JB_LUB[1459]);
	JB_FS_AppendString(Fs, JB_LUB[1460]);
	SC_Cpp_FillLibGlobs(Self, Fs, true);
	JB_FS_AppendByte(Fs, '\n');
	JB_FS_AppendString(Fs, JB_LUB[1461]);
	JB_String* _tmPf7 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf7);
	JB_Decr(Fs);
	JB_File* _tmPf8 = SC_Cpp__HProduct();
	JB_Incr(_tmPf8);
	SC_Cpp__SmartWrite(_tmPf7, _tmPf8);
	JB_Decr(_tmPf7);
	JB_Decr(_tmPf8);
}

void SC_Cpp_WriteLibGlobLookup(Cpp_Export* Self, FastStringCpp* Fs) {
	int Position = 0;
	JB_FS_AppendString(Fs, JB_LUB[1203]);
	{
		Array* _LoopSrcf2 = SC__PackMaker_LibGlobs;
		int _if0 = 0;
		while (true) {
			SCDecl* G = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (G == nil) {
				break;
			}
			int Id = ((int)G->GPackID);
			int Missing = Id - Position;
			if (Missing <= 0) {
				JB_Msg_Fail(G->Source, JB_LUB[939]);
			}
			if (Missing >= 1000) {
				JB_Object_Fail(nil);
				return;
			}
			while ((--Missing) >= 1) {
				JB_FS_AppendString(Fs, JB_LUB[1204]);
			};
			JB_FS_AppendString(Fs, JB_LUB[1205]);
			SC_FS_AppendLibGlob(Fs, G);
			JB_FS_AppendString(Fs, JB_LUB[1206]);
			Position = Id;
			(++_if0);
		};
	}
	;
	JB_FS_AppendString(Fs, JB_LUB[1207]);
}

void SC_Cpp_WriteVMFuncs(Cpp_Export* Self, FastStringCpp* Fs) {
	{
		int _Valuef1 = 0;
		while (_Valuef1 < 32) {
			SC_FS_AppendVoid(Fs, JB_LUB[938], 0);
			(++_Valuef1);
		};
	}
	;
	int Position = 0;
	{
		Array* _LoopSrcf4 = SC__PackMaker_LibFuncs;
		int _if2 = 0;
		while (true) {
			SCFunction* Fn = ((SCFunction*)JB_Array_Value(_LoopSrcf4, _if2));
			if (Fn == nil) {
				break;
			}
			if (SC_Func_NeedsLibExport(Fn)) {
				int Id = ((int)Fn->FPackID);
				int Missing = Id - Position;
				if (Missing <= 0) {
					SC_SCObject_Fail(Fn, JB_LUB[939]);
				}
				while ((--Missing) >= 1) {
					SC_FS_AppendVoid(Fs, JB_LUB[938], 0);
				};
				SC_FS_AppendWrap(Fs, Fn);
				Position = Id;
			}
			(++_if2);
		};
	}
	;
	SC_FS_AppendVoid(Fs, JB_LUB[478], 0);
}

void SC_Cpp_WriteVMGlobsAndPtrs(Cpp_Export* Self, FastStringCpp* Fs) {
	JB_FS_AppendString(Fs, JB_LUB[1505]);
	SC_Cpp_WriteLibGlobLookup(Self, Fs);
	JB_FS_AppendString(Fs, JB_LUB[1506]);
	{
		Array* _LoopSrcf3 = SC__PackMaker_LibFuncs;
		int _if1 = 0;
		while (true) {
			SCFunction* F = ((SCFunction*)JB_Array_Value(_LoopSrcf3, _if1));
			if (F == nil) {
				break;
			}
			if (F->IsCppInBuilt == 1) {
				SC_Cpp_MakeWrapperFor(Self, Fs, F);
			}
			(++_if1);
		};
	}
	;
	JB_FS_AppendString(Fs, JB_LUB[1507]);
	SC_Cpp_WriteVMFuncs(Self, Fs);
	FastString* J = JB_bin_Constructor(nil, kJB_SyxArg, JB_LUB[0]);
	SC_Pac__DebugClassesAndGlobals(J);
	//;
	JB_FS_AppendString(Fs, JB_LUB[1508]);
	JB_FS_AppendInt32(Fs, J->Length);
	JB_FS_AppendString(Fs, JB_LUB[1509]);
	//;
	SC_FS_AppendCppAll(Fs, ((JB_String*)J));
	JB_FS_AppendString(Fs, JB_LUB[1510]);
}

JB_File* SC_Cpp__APIHeader() {
	JB_File* Rz = nil;
	JB_Incr(Rz);
	Message* Arg = JB_Msg_Last(SC__Comp_API_Place, kJB_SyxArg);
	JB_Incr(Arg);
	Message* _tmPf1 = JB_Msg_FindSyxName(Arg, kJB_SyxTmp, JB_LUB[1166], false);
	JB_Incr(_tmPf1);
	Message* ForLib = JB_Msg_NeedSyx(_tmPf1, kJB_SyxStr);
	JB_Incr(ForLib);
	JB_Decr(_tmPf1);
	if (ForLib) {
		Message* _tmPf2 = JB_Msg_FindSyxName(Arg, kJB_SyxTmp, JB_LUB[1168], false);
		JB_Incr(_tmPf2);
		Message* FolName = JB_Msg_NeedSyx(_tmPf2, kJB_SyxStr);
		JB_Incr(FolName);
		JB_Decr(_tmPf2);
		if (FolName) {
			JB_File* Fol = JB_File_SyntaxAccess(SC__Comp_BaseProjectPath, FolName->Name);
			JB_Incr(Fol);
			SCFile* _tmPf4 = SC_Msg_File(Arg);
			JB_Incr(_tmPf4);
			JB_String* _tmPf3 = JB_Str_OperatorPlus(JB_LUB[1208], _tmPf4);
			JB_Incr(_tmPf3);
			JB_Decr(_tmPf4);
			if (JB_File_MustExist(Fol, _tmPf3)) {
				JB_String* _tmPf5 = JB_Str_OperatorPlus(SC__Comp_ProjectName, JB_LUB[1209]);
				JB_Incr(_tmPf5);
				JB_SetRef(Rz, JB_File_SyntaxAccess(Fol, _tmPf5));
				JB_Decr(_tmPf5);
			}
			JB_Decr(Fol);
			JB_Decr(_tmPf3);
		}
		JB_Decr(FolName);
	}
	JB_Decr(Arg);
	JB_EarlyDecr(ForLib);
	JB_SafeDecr(Rz);
	return Rz;
}

bool SC_Cpp__C_OneParamType(FastStringCpp* Fs, Message* Curr, SCDecl* D) {
	if (!D) {
		return nil;
	}
	SCClass* ActualType = SC_ClassOfObjForC(Curr);
	JB_Incr(ActualType);
	if (!ActualType) {
		JB_EarlyDecr(ActualType);
		return nil;
	}
	if (ActualType != D->Type) {
		JB_FS_AppendByte2(Fs, '(');
		JB_FS_AppendByte2(Fs, '(');
		SC_Cpp__WriteDeclNoName(D, Fs);
		JB_FS_AppendByte2(Fs, ')');
		JB_EarlyDecr(ActualType);
		return true;
	}
	JB_EarlyDecr(ActualType);
	return false;
}

void SC_Cpp__C_ParamsRender(Message* Self, FastStringCpp* Fs) {
	JB_FS_AppendByte2(Fs, '(');
	SCFunction* Fn = ((SCFunction*)JB_Object_FastAs(Self->Obj, &SCFunctionData));
	Array* Args = ((Array*)JB_Ternary(Fn, Fn->Args, nil));
	if (!SC_Func_SyntaxIs(Fn, kSC__FunctionType_Cpp)) {
		Args = nil;
	}
	int I = 0;
	{
		Message* Item = ((Message*)JB_Ring_First(Self));
		Message* _firstf1 = Item;
		while (Item) {
			if (_firstf1 != Item) {
				JB_FS_AppendString(Fs, JB_LUB[47]);
			}
			//start;
			SCDecl* Dest = ((SCDecl*)JB_Array_Value(Args, I));
			if (SC_Decl_SyntaxIs(Dest, kSC__SCDeclInfo_Reference)) {
				JB_FS_AppendByte(Fs, '&');
			}
			SCDecl* Ty2 = ((SCDecl*)Item->Obj);
			JB_String* CloseStr = SC_Cpp__CDotType(Self, Ty2, Fs, false);
			JB_Msg_Export(Item, Fs);
			JB_FS_AppendString(Fs, CloseStr);
			(++I);
			Item = ((Message*)JB_Ring_NextSib(Item));
		};
		;
	}
	;
	JB_FS_AppendByte2(Fs, ')');
}

void SC_Cpp__C_RenderAcc(Message* Self, FastStringCpp* Fs) {
	JB_Msg_Export(((Message*)JB_Ring_First(Self)), Fs);
	JB_FS_AppendByte2(Fs, '[');
	JB_Msg_Export(((Message*)JB_Ring_First(((Message*)JB_Tree_Second(Self)))), Fs);
	JB_FS_AppendByte2(Fs, ']');
}

void SC_Cpp__C_RenderArel(Message* Self, FastStringCpp* Fs) {
	JB_Msg_Export(((Message*)JB_Ring_First(Self)), Fs);
	uint S = JB_Str_First(Self->Name);
	if ((S != '&') and (S != '!')) {
		JB_FS_AppendString(Fs, Self->Name);
	}
}

void SC_Cpp__C_RenderArg(Message* Self, FastStringCpp* Fs) {
	JB_FS_AppendByte2(Fs, '{');
	(++Fs->Indent);
	{
		Message* Ch = ((Message*)JB_Ring_First(Self));
		while (Ch) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Ch));
			JB_FS_LineIndent(Fs);
			JB_Msg_Export(Ch, Fs);
			if (!(SC_Msg_OperatorIsTmp(Ch, JB_LUB[397]) or (SC_Msg_OperatorIsTmp(Ch, JB_LUB[577]) or SC_Msg_OperatorIsTmp(Ch, JB_LUB[578])))) {
				JB_FS_AppendByte2(Fs, ';');
			}
			Ch = _Nf1;
		};
		;
	}
	;
	(--Fs->Indent);
	JB_FS_LineIndent(Fs);
	JB_FS_AppendByte2(Fs, '}');
	if (((Message*)JB_Ring_NextSib(Self))) {
		JB_FS_LineIndent(Fs);
	}
}

void SC_Cpp__C_RenderBak(Message* Self, FastStringCpp* Fs) {
	JB_FS_AppendString(Fs, Self->Name);
}

void SC_Cpp__C_RenderBra(Message* Self, FastStringCpp* Fs) {
	Message* F = ((Message*)JB_Ring_First(Self));
	if (!(JB_Msg_OperatorIn(Self, kJB_SyxArg) and (JB_Msg_EqualsSyx(F, kJB_SyxThg)))) {
		JB_FS_AppendByte2(Fs, '(');
		JB_Msg_Export(F, Fs);
		JB_FS_AppendByte2(Fs, ')');
	}
}

void SC_Cpp__C_RenderBrel(Message* Self, FastStringCpp* Fs) {
	if (JB_Str_Equals(Self->Name, JB_LUB[32], false)) {
		SCDecl* Type = ((SCDecl*)Self->Obj);
		if (Type and SC_Decl_NeedsCppCarrayFix(Type)) {
			SC_Cpp__WriteDeclBrackets(Self, Fs);
		}
	}
	JB_FS_AppendByte2(Fs, '(');
	JB_FS_AppendString(Fs, Self->Name);
	SC_Cpp__RenderInBracketsIfRel(((Message*)JB_Ring_First(Self)), Fs);
	JB_FS_AppendByte2(Fs, ')');
}

void SC_Cpp__C_RenderChr(Message* Self, FastStringCpp* Fs) {
	JB_FS_AppendByte2(Fs, '\'');
	uint B = JB_Str_First(Self->Name);
	if ((B < 32) and ((B != 9) and (B != 10))) {
		JB_FS_AppendString(Fs, JB_LUB[396]);
		JB_FS_AppendHex(Fs, B, 2);
	}
	 else {
		JB_String* _tmPf0 = JB_Str_EscapeChr(Self->Name);
		JB_Incr(_tmPf0);
		JB_FS_AppendString(Fs, _tmPf0);
		JB_Decr(_tmPf0);
	}
	JB_FS_AppendByte2(Fs, '\'');
}

void SC_Cpp__C_RenderDcl(Message* Self, FastStringCpp* Fs) {
	Message* Name = SC_Msg_GetDclName(Self, false);
	SCDecl* D = SC_Msg_AsDecl(Name);
	if (!D) {
		JB_Object_Fail(nil);
		return;
	}
	SC_Cpp__WriteDecl(D, Fs, SC_DeclsDefault(((Message*)JB_Ring_Last(Self))));
}

void SC_Cpp__C_RenderDot(Message* Self, FastStringCpp* Fs) {
	SCDecl* Type = SC_Msg_DotMustBeProperty(Self);
	if (!Type) {
		return;
	}
	Message* Ch = ((Message*)JB_Ring_First(Self));
	if (JB_Object_FastIsa(Ch->Obj, &SCModuleData)) {
		SC_Str_Safe(Type->ExportName, Fs, false);
	}
	 else {
		JB_String* CloseStr = SC_Cpp__CDotType(Self, Type, Fs, SC_Decl_SyntaxIs(Type, kSC__SCDeclInfo_UpgradeableContained));
		JB_Msg_Export(Ch, Fs);
		SCDecl* Ch_decl = SC_DeclOfObjForC(Ch);
		if (Ch_decl) {
			if (SC_Cpp__NeedsDotForC(Ch_decl)) {
				JB_FS_AppendByte2(Fs, '.');
			}
			 else {
				JB_FS_AppendString(Fs, JB_LUB[1382]);
			}
		}
		SC_Str_Safe(Type->ExportName, Fs, false);
		JB_FS_AppendString(Fs, CloseStr);
	}
}

void SC_Cpp__C_RenderFnc(Message* Self, FastStringCpp* Fs) {
	Message* F = ((Message*)JB_Ring_First(Self));
	Message* Ch1 = ((Message*)JB_Ring_NextSib(F));
	SCFunction* Fn = ((SCFunction*)Ch1->Obj);
	bool PostBracket = false;
	if ((JB_Object_FastIsa(Fn, &SCFunctionData)) and (!Fn->ProtoType)) {
		if (((SCFunction*)Fn)->ReturnType and ((!JB_Msg_EqualsSyx(((Message*)JB_Ring_Parent(Self)), kJB_SyxArg)))) {
			PostBracket = SC_Cpp__C_OneParamType(Fs, Self, SC_Msg_BraDeclfind(Self));
		}
		JB_FS_AppendString(Fs, ((SCFunction*)Fn)->ExportName);
	}
	 else {
		JB_Msg_Export(F, Fs);
	}
	SC_Cpp__C_ParamsRender(Ch1, Fs);
	if (PostBracket) {
		JB_FS_AppendByte2(Fs, ')');
	}
}

void SC_Cpp__C_RenderItem(Message* Self, FastStringCpp* Fs) {
	JB_Msg_Export(((Message*)JB_Tree_Second(Self)), Fs);
}

void SC_Cpp__C_RenderList(Message* Self, FastStringCpp* Fs) {
	JB_Object* D = Self->Obj;
	if (JB_Object_FastIsa(D, &SCDeclData)) {
		JB_FS_AppendString(Fs, ((SCDecl*)D)->Type->Name);
		SC_Msg_MiniArgCpp(Self, Fs);
	}
}

void SC_Cpp__C_RenderNothing(Message* Self, FastStringCpp* Fs) {
}

void SC_Cpp__C_RenderNum(Message* Self, FastStringCpp* Fs) {
	SCDecl* D = SC_Msg_FastDecl(Self);
	int64 Num = ((int64)SC_Decl_ExportPosition(D));
	if (SC_Decl_IsFloat(D)) {
		JB_FS_AppendString(Fs, Self->Name);
		JB_FS_AppendByte2(Fs, 'f');
	}
	 else if (Num) {
		JB_FS_AppendInt64(Fs, Num);
	}
	 else {
		JB_FS_AppendString(Fs, Self->Name);
	}
}

void SC_Cpp__C_RenderOpp(Message* Self, FastStringCpp* Fs) {
	JB_String* S = Self->Name;
	if (JB_Str_Equals(S, JB_LUB[73], false)) {
		JB_FS_AppendByte(Fs, '|');
	}
	 else if (JB_Str_Equals(S, JB_LUB[32], false)) {
		JB_FS_AppendByte(Fs, '&');
	}
	 else if (JB_Str_Equals(S, JB_LUB[74], false)) {
		JB_FS_AppendByte(Fs, '^');
	}
	 else if (JB_Str_Equals(S, JB_LUB[75], false)) {
		JB_FS_AppendByte(Fs, '~');
	}
	 else if (JB_Str_Equals(S, JB_LUB[76], false)) {
		JB_FS_AppendByte(Fs, '%');
	}
	 else {
		JB_FS_AppendString(Fs, S);
	}
}

void SC_Cpp__C_RenderRel(Message* Self, FastStringCpp* Fs) {
	Message* F = ((Message*)JB_Ring_First(Self));
	SC_Cpp__RenderInBracketsIfRel(F, Fs);
	JB_FS_AppendByte2(Fs, ' ');
	F = ((Message*)JB_Ring_NextSib(F));
	JB_Msg_Export(F, Fs);
	JB_FS_AppendByte2(Fs, ' ');
	SC_Cpp__RenderInBracketsIfRel(((Message*)JB_Ring_NextSib(F)), Fs);
}

void SC_Cpp__C_RenderShe(Message* Self, FastStringCpp* Fs) {
	JB_FS_AppendString(Fs, JB_LUB[77]);
	JB_FS_AppendString(Fs, Self->Name);
}

void SC_Cpp__C_RenderSStr(Message* Self, FastStringCpp* Fs) {
	JB_String* N = Self->Name;
	if (!JB_Str_Exists(N)) {
		JB_FS_AppendString(Fs, JB_LUB[940]);
	}
	 else {
		JB_FS_AppendString(Fs, JB_LUB[941]);
		uint ID = 0;
		if (JB_Object_FastIsa(N, &MessageIDData)) {
			ID = (((MessageID*)((MessageID*)N))->ID + 1);
			if (ID > ((uint)SC_Crkt__Count())) {
				ID = 0;
				if (true) {
					JB_Msg_Fail(Self, SC_Str_internal(JB_LUB[942]));
				}
			}
		}
		 else {
			if (true) {
				JB_Msg_Fail(Self, SC_Str_internal(JB_LUB[943]));
			}
		}
		JB_FS_AppendUint(Fs, ID);
		JB_FS_AppendByte(Fs, ']');
	}
}

void SC_Cpp__C_RenderStr(Message* Self, FastStringCpp* Fs) {
	SC_FS_AppendCpp(Fs, Self->Name);
}

void SC_Cpp__C_RenderThg(Message* Self, FastStringCpp* Fs) {
	JB_Object* O = Self->Obj;
	if (JB_Object_FastIsa(O, &SCDeclData)) {
		SC_Cpp__WriteThgMaybeTypeToo(Self, ((SCDecl*)O), Fs);
		return;
	}
	JB_PrintLine(JB_Str_OperatorPlusWithInt64(JB_LUB[1103], JB_ObjectID(Self)));
	SC_Msg_Safe(Self, Fs);
}

void SC_Cpp__C_RenderTmp(Message* Self, FastStringCpp* Fs) {
	JB_String* Name = Self->Name;
	bool Needbra = false;
	if ((JB_Str_Equals(Name, JB_LUB[589], false))) {
		JB_FS_AppendString(Fs, JB_LUB[1286]);
	}
	 else if ((JB_Str_Equals(Name, JB_LUB[397], false))) {
		JB_FS_AppendString(Fs, SC__Cpp_IfName);
		Needbra = true;
	}
	 else if ((JB_Str_Equals(Name, JB_LUB[398], false))) {
		if (SC_Msg_OperatorIsThing(SC_Msg_UnBra(((Message*)JB_Ring_First(Self))), JB_LUB[6])) {
			JB_FS_AppendString(Fs, JB_LUB[398]);
		}
		 else {
			JB_FS_AppendString(Fs, SC__Cpp_WhileName);
		}
		Needbra = true;
	}
	 else if ((JB_Str_Equals(Name, JB_LUB[577], false))) {
		JB_FS_AppendString(Fs, JB_LUB[1287]);
		JB_FS_AppendString(Fs, SC__Cpp_IfName);
		Needbra = true;
	}
	 else if ((JB_Str_Equals(Name, JB_LUB[635], false))) {
		return;
	}
	 else if ((JB_Str_Equals(Name, JB_LUB[454], false))) {
		0;
	}
	 else if ((JB_Str_Equals(Name, JB_LUB[1288], false))) {
		JB_FS_AppendString(Fs, JB_LUB[1289]);
		JB_DoAt(1);
		SC_Cpp__C_ParamsRender(Self, Fs);
		return;
	}
	 else {
		JB_FS_AppendString(Fs, Name);
	}
	if (Needbra) {
		Message* F = ((Message*)JB_Ring_First(Self));
		Needbra = ((!JB_Msg_EqualsSyx(F, kJB_SyxBra)) and (!JB_Msg_EqualsSyx(F, kJB_SyxBRel)));
	}
	{
		Message* Mv = ((Message*)JB_Ring_First(Self));
		while (Mv) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Mv));
			JB_FS_AppendByte2(Fs, ' ');
			if (Needbra) {
				JB_FS_AppendByte2(Fs, '(');
			}
			JB_Msg_Export(Mv, Fs);
			if (Needbra) {
				JB_FS_AppendByte2(Fs, ')');
			}
			Needbra = false;
			Mv = _Nf1;
		};
		;
	};
}

void SC_Cpp__C_RenderTyp(Message* Self, FastStringCpp* Fs) {
	int Saveness = SC_Cpp__DontNeedMoreBrackets(Self);
	Message* Fc = ((Message*)JB_Ring_First(Self));
	JB_Incr(Fc);
	if (Saveness == kSC__Cpp_kNeedsNoBrackets) {
		JB_Msg_Export(Fc, Fs);
		JB_EarlyDecr(Fc);
		return;
	}
	if (Saveness == kSC__Cpp_kNeedsOuterBrackets) {
		JB_FS_AppendByte2(Fs, '(');
	}
	SC_Cpp__WriteDeclBrackets(Self, Fs);
	if ((JB_Msg_EqualsSyx(Fc, kJB_SyxRel))) {
		JB_FS_AppendByte2(Fs, '(');
	}
	if ((JB_Msg_EqualsSyx(Fc, kJB_SyxArg))) {
		SC_Msg_MiniArgCpp(Fc, Fs);
	}
	 else {
		JB_Msg_Export(Fc, Fs);
	}
	if ((JB_Msg_EqualsSyx(Fc, kJB_SyxRel))) {
		JB_FS_AppendByte2(Fs, ')');
	}
	JB_Decr(Fc);
	if (Saveness == kSC__Cpp_kNeedsOuterBrackets) {
		JB_FS_AppendByte2(Fs, ')');
	}
}

void SC_Cpp__C_RenderUnt(Message* Self, FastStringCpp* Fs) {
	if ((!JB_Msg_SyntaxEquals(Self, JB_LUB[883], false))) {
		JB_Object_Fail(nil);
		return;
	}
	Message* Num = ((Message*)JB_Ring_First(Self));
	JB_Incr(Num);
	JB_String* S = JB_Str_ReplaceAll(Num->Name, JB_LUB[385], JB_LUB[0], false, nil);
	JB_Incr(S);
	JB_Decr(Num);
	JB_FS_AppendString(Fs, JB_LUB[210]);
	if ((JB_Str_Length(S) % 2) and JB_byte_IsLetter((JB_Str_First(S)))) {
		JB_FS_AppendByte2(Fs, '0');
	}
	JB_FS_AppendString(Fs, S);
	JB_Decr(S);
}

JB_String* SC_Cpp__CDotType(Message* Msg, SCDecl* Type, FastStringCpp* Fs, bool DoIt) {
	if (!(Type and (DoIt or Type->Type->FuncProto))) {
		return JB_LUB[0];
	}
	if (SC_Msg_IsFirstOfSetRel(Msg)) {
		return JB_LUB[0];
	}
	Message* P = ((Message*)JB_Ring_Parent(Msg));
	if (P) {
		JB_Object* Fn = P->Obj;
		if (JB_Object_FastIsa(Fn, &SCFunctionData)) {
			if (SC_Func_SyntaxIs(((SCFunction*)Fn), kSC__FunctionType_Reffer)) {
				return JB_LUB[0];
			}
		}
	}
	JB_FS_AppendString(Fs, JB_LUB[805]);
	SC_Cpp__WriteDeclNoName(Type, Fs);
	JB_FS_AppendString(Fs, JB_LUB[806]);
	return JB_LUB[807];
}

JB_String* SC_Cpp__CppLicence() {
	if (!JB_Str_Exists(SC__Cpp_CppLicenceStr)) {
		JB_File* F = SC_Comp__InputFile(JB_LUB[1383], nil);
		JB_Incr(F);
		if (F) {
			JB_SetRef(SC__Cpp_CppLicenceStr, JB_File_ReadAll(F, 16384, true));
		}
		JB_Decr(F);
		if (!JB_Str_Exists(SC__Cpp_CppLicenceStr)) {
			JB_SetRef(SC__Cpp_CppLicenceStr, JB_LUB[60]);
		}
	}
	return SC__Cpp_CppLicenceStr;
}

JB_File* SC_Cpp__CppProduct() {
	JB_File* _tmPf0 = SC_Comp__GeneratedCppsFolder();
	JB_Incr(_tmPf0);
	JB_File* _tmPf1 = JB_File_SyntaxAccess(_tmPf0, JB_LUB[1290]);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

void SC_Cpp__CreateClassListFunc(FastString* Dest) {
	FastStringCpp* Fs = SC_FastStringCpp_Constructor(nil, JB_LUB[0]);
	JB_Incr(Fs);
	SC_Cpp__CreateClassListHeader(Fs, JB_LUB[1462]);
	JB_FS_AppendString(Fs, JB_LUB[1463]);
	JB_String* _tmPf0 = SC_Cpp__SplitCpp(Fs, JB_LUB[1464]);
	JB_Incr(_tmPf0);
	JB_Decr(Fs);
	JB_FS_AppendString(Dest, _tmPf0);
	JB_Decr(_tmPf0);
}

void SC_Cpp__CreateClassListHeader(FastString* Fs, JB_String* S) {
	JB_FS_AppendString(Fs, JB_LUB[78]);
	JB_FS_AppendString(Fs, S);
}

int SC_Cpp__DontNeedMoreBrackets(Message* Msg) {
	if (JB_Msg_EqualsSyx(((Message*)JB_Ring_First(Msg)), kJB_SyxRel)) {
		return kSC__Cpp_kNeedsOuterBrackets;
	}
	Message* P = ((Message*)JB_Ring_Parent(Msg));
	int Result = kSC__Cpp_kNeedsOuterBrackets;
	while (JB_Msg_EqualsSyx(P, kJB_SyxBra)) {
		P = ((Message*)JB_Ring_Parent(P));
		Result = kSC__Cpp_kNeedsInnerBrackets;
	};
	if (SC_Msg_OperatorIsBRel(P, JB_LUB[96])) {
		return kSC__Cpp_kNeedsNoBrackets;
	}
	if (SC_Msg_OperatorIsTmp(P, JB_LUB[397]) or SC_Msg_OperatorIsTmp(P, JB_LUB[398])) {
		return kSC__Cpp_kNeedsNoBrackets;
	}
	return Result;
}

bool SC_Cpp__DoSavers() {
	return SC_Comp__Reached(JB_LUB[1465]) and SC_Comp__Reached(JB_LUB[1466]);
}

void SC_Cpp__ExportAllSource() {
	if (!JB_Rec_OK(JB_StdErr)) {
		return;
	}
	Cpp_Export* Exp = SC_Cpp_Constructor(nil);
	JB_Incr(Exp);
	SC_Cpp_PreRun(Exp);
	SC_Cpp_ExportSyx(Exp);
	if (SC__Options_MakeExec) {
		SC_Cpp_FillInterpreter(Exp);
	}
	 else {
		SC_PackMaker__OrderLibGlobs();
	}
	SC_Cpp_FillLibGlobs(Exp, Exp->GlobsInLib, false);
	SC_Cpp_Run(Exp);
	SC_Cpp_WriteHeader(Exp);
	SC_Cpp_FinalMergeOutputIntoACpp(Exp);
	JB_Decr(Exp);
}

void SC_Cpp__GenLub(FastString* Fs) {
	JB_FS_AppendString(Fs, JB_LUB[399]);
	JB_FS_AppendInt32(Fs, SC_Crkt__Count() + 1);
	JB_FS_AppendString(Fs, JB_LUB[400]);
}

void SC_Cpp__GenStrings(FastString* Fs) {
	FastString* Sl2 = JB_FS_Constructor(nil);
	JB_Incr(Sl2);
	JB_String* Blob = SC_Cpp__WriteCppStrings(Sl2);
	JB_Incr(Blob);
	JB_String* Lengths = JB_FS_GetResult(Sl2);
	JB_Incr(Lengths);
	JB_Decr(Sl2);
	SC_Cpp__GenLub(Fs);
	FastString* Blob2 = JB_FS_Constructor(nil);
	JB_Incr(Blob2);
	JB_FS_AppendByte2(Blob2, ((byte)2));
	SC_FS_EncodeLength(Blob2, JB_Str_Length(Lengths));
	SC_FS_EncodeLength(Blob2, JB_Str_Length(Blob));
	SC_FS_EncodeLength(Blob2, SC_Crkt__Count());
	JB_FS_AppendString(Blob2, Lengths);
	JB_Decr(Lengths);
	JB_FS_AppendString(Blob2, Blob);
	JB_SetRef(Blob, JB_FS_GetResult(Blob2));
	JB_Decr(Blob2);
	SC__Cpp_LubHash = JB_Str_CRC(Blob, 0);
	//;
	JB_FS_AppendString(Fs, JB_LUB[662]);
	JB_FS_AppendInt64(Fs, ((int64)SC__Cpp_LubHash));
	JB_FS_AppendString(Fs, JB_LUB[663]);
	//;
	JB_FS_AppendString(Fs, JB_LUB[664]);
	SC_FS_AppendCppAll(Fs, Blob);
	JB_Decr(Blob);
	JB_FS_AppendString(Fs, JB_LUB[663]);
	JB_String* FlowStr = JB_bool_Render0(SC__Options_GenFlowControlCode);
	JB_Incr(FlowStr);
	JB_String* _tmPf1 = JB_Str_ReplaceAll(SC__Cpp_FindGlobalsCpp, JB_LUB[665], FlowStr, false, nil);
	JB_Incr(_tmPf1);
	JB_Decr(FlowStr);
	JB_FS_AppendString(Fs, _tmPf1);
	JB_Decr(_tmPf1);
}

JB_File* SC_Cpp__HProduct() {
	JB_File* _tmPf0 = SC_Comp__GeneratedCppsFolder();
	JB_Incr(_tmPf0);
	JB_File* _tmPf1 = JB_File_SyntaxAccess(_tmPf0, JB_LUB[1291]);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

void SC_Cpp__Init() {
	Array* _tmPf0 = (JB_Array_Constructor0(nil));
	JB_Incr(_tmPf0);
	JB_SetRef(SC__Cpp_Cpp_Includes, _tmPf0);
	JB_Decr(_tmPf0);
	(JB_Syx_ExportAddrSet(kJB_SyxAcc, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderAcc)))));
	(JB_Syx_ExportAddrSet(kJB_SyxItem, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderItem)))));
	(JB_Syx_ExportAddrSet(kJB_SyxList, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderList)))));
	(JB_Syx_ExportAddrSet(kJB_SyxPrm, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderList)))));
	(JB_Syx_ExportAddrSet(kJB_SyxArg, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderArg)))));
	(JB_Syx_ExportAddrSet(kJB_SyxDot, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderDot)))));
	(JB_Syx_ExportAddrSet(kJB_SyxDecl, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderDcl)))));
	(JB_Syx_ExportAddrSet(kJB_SyxFunc, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderFnc)))));
	(JB_Syx_ExportAddrSet(kJB_SyxThg, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderThg)))));
	(JB_Syx_ExportAddrSet(kJB_SyxXML, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderNothing)))));
	(JB_Syx_ExportAddrSet(kJB_SyxType, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderTyp)))));
	(JB_Syx_ExportAddrSet(kJB_SyxTmp, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderTmp)))));
	(JB_Syx_ExportAddrSet(kJB_SyxOpp, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderOpp)))));
	(JB_Syx_ExportAddrSet(kJB_SyxBRel, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderBrel)))));
	(JB_Syx_ExportAddrSet(kJB_SyxRel, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderRel)))));
	(JB_Syx_ExportAddrSet(kJB_SyxNum, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderNum)))));
	(JB_Syx_ExportAddrSet(kJB_SyxUnit, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderUnt)))));
	(JB_Syx_ExportAddrSet(kJB_SyxBra, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderBra)))));
	(JB_Syx_ExportAddrSet(kJB_SyxARel, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderArel)))));
	(JB_Syx_ExportAddrSet(kJB_SyxChar, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderChr)))));
	(JB_Syx_ExportAddrSet(kJB_SyxStr, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderStr)))));
	(JB_Syx_ExportAddrSet(kJB_SyxSStr, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderSStr)))));
	(JB_Syx_ExportAddrSet(kJB_SyxBack, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderBak)))));
	(JB_Syx_ExportAddrSet(kJB_SyxSheb, ((FP_fpMsgRender)(((FP_fpMsgRender)SC_Cpp__C_RenderShe)))));
}

int SC_Cpp__Init_() {
	{
		JB_SetRef(SC__Cpp_H_Input, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Cpp_H_PostInput, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Cpp_Cpp_Input, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Cpp_Cpp_Includes, JB_Array_Constructor0(nil));
		JB_SetRef(SC__Cpp_IfName, JB_LUB[0]);
		JB_SetRef(SC__Cpp_WhileName, JB_LUB[0]);
		JB_SetRef(SC__Cpp_FindGlobalsCpp, (JB_LUB[79]));
		JB_SetRef(SC__Cpp_CppLicenceStr, JB_LUB[0]);
	}
	;
	return 0;
}

bool SC_Cpp__MsgOKToImprove(Message* Msg) {
	Message* P = ((Message*)JB_Ring_Parent(Msg));
	if ((JB_Msg_EqualsSyx(P, kJB_SyxPrm))) {
		return (SC_Msg_AsFunc(P) != SC__Comp_RefSetRef);
	}
	if ((JB_Msg_EqualsSyx(P, kJB_SyxRel)) and (Msg == ((Message*)JB_Ring_First(P)))) {
		return false;
	}
	return true;
}

bool SC_Cpp__NeedsDotForC(SCDecl* D) {
	if (D->PointerCount) {
		return nil;
	}
	if (SC_Class_IsStruct(D->Type)) {
		return true;
	}
	return false;
}

JB_File* SC_Cpp__Product(JB_String* Name) {
	JB_File* _tmPf0 = SC_Comp__GeneratedCppsFolder();
	JB_Incr(_tmPf0);
	JB_File* _tmPf1 = JB_File_SyntaxAccess(_tmPf0, Name);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

void SC_Cpp__RenderInBracketsIfRel(Message* Self, FastStringCpp* Fs) {
	if (JB_Msg_EqualsSyx(Self, kJB_SyxRel)) {
		JB_FS_AppendByte2(Fs, '(');
	}
	JB_Msg_Export(Self, Fs);
	if (JB_Msg_EqualsSyx(Self, kJB_SyxRel)) {
		JB_FS_AppendByte2(Fs, ')');
	}
}

void SC_Cpp__SmartWrite(JB_String* S, JB_File* F) {
	//;
	JB_Flow__DisabledIncr(1);
	JB_String* _tmPf0 = JB_int64_Render(((int64)JB_Str_CRC(S, 0)), nil);
	JB_Incr(_tmPf0);
	JB_Array_SyntaxAppend(SC__Cpp_Cpp_Includes, _tmPf0);
	JB_Decr(_tmPf0);
	if (((bool)F) and (!JB_File_CompareData(F, S, JB_LUB[0]))) {
		JB_File_DataSet(F, S);
	}
	JB_Flow__DisabledIncr(-1);
}

JB_String* SC_Cpp__SplitCpp(FastStringCpp* Fs, JB_String* Name) {
	JB_Incr(Name);
	if (SC__Options_SingleCppOutput) {
		JB_EarlyDecr(Name);
		return JB_FS_SyntaxCast(Fs);
	}
	if (Fs->Length <= 1) {
		JB_EarlyDecr(Name);
		return JB_LUB[0];
	}
	JB_SetRef(Name, JB_Str_OperatorPlus(Name, JB_LUB[1384]));
	JB_String* _tmPf0 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf0);
	JB_File* _tmPf1 = SC_Cpp__Product(Name);
	JB_Incr(_tmPf1);
	SC_Cpp__SmartWrite(_tmPf0, _tmPf1);
	JB_Decr(_tmPf0);
	JB_Decr(_tmPf1);
	SC_FS_IncludeH(Fs, Name);
	JB_EarlyDecr(Name);
	return JB_FS_SyntaxCast(Fs);
}

void SC_Cpp__WriteConst(SCDecl* D, FastStringCpp* T) {
	JB_FS_AppendString(T, JB_LUB[808]);
	SC_Str_Safe(D->ExportName, T, false);
	JB_FS_AppendString(T, JB_LUB[809]);
	if (SC_Decl_IsInt(D)) {
		JB_FS_AppendByte(T, '(');
		SC_Cpp__WriteDeclNoName(D, T);
		JB_FS_AppendByte(T, ')');
	}
	if (SC_Decl_ExportPosition(D) and SC_Decl_IsInt(D)) {
		JB_FS_AppendInt64(T, ((int64)SC_Decl_ExportPosition(D)));
	}
	 else {
		JB_Msg_Export(D->Default, T);
	}
	JB_FS_AppendByte(T, ')');
}

JB_String* SC_Cpp__WriteCppStrings(FastString* Lengths) {
	FastString* Fs = JB_FS_Constructor(nil);
	{
		Array* _LoopSrcf2 = SC__Crkt_CppStrings;
		int _if0 = 0;
		while (true) {
			MessageID* S = ((MessageID*)JB_Array_Value(_LoopSrcf2, _if0));
			if (S == nil) {
				break;
			}
			SC_Cpp__WriteName(S, Fs, Lengths);
			(++_if0);
		};
	}
	;
	return JB_FS_SyntaxCast(Fs);
}

void SC_Cpp__WriteDecl(SCDecl* D, FastString* T, Message* Equality) {
	if ((!D)) {
		JB_FS_AppendString(T, JB_LUB[810]);
		return;
	}
	if (SC_Decl_IsCArray(D)) {
		SC_Cpp__WriteDeclNoName(D->Internal, T);
	}
	 else {
		SC_Cpp__WriteDeclNoName(D, T);
	}
	if (((JB_String*)JB_Str_Exists(D->ExportName))) {
		JB_FS_AppendByte2(T, ' ');
		if (SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Library) and SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Global)) {
			SC_FS_AppendLibGlob(T, D);
		}
		 else {
			SC_Str_Safe(D->ExportName, T, SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Local));
		}
		if (SC_Decl_IsCArray(D)) {
			JB_FS_AppendByte2(T, '[');
			JB_FS_AppendInt32(T, D->C_Array);
			JB_FS_AppendByte2(T, ']');
		}
	}
	if (Equality) {
		JB_FS_AppendString(T, JB_LUB[811]);
		JB_Msg_Export(Equality, T);
	}
}

void SC_Cpp__WriteDeclBrackets(Message* Self, FastStringCpp* Fs) {
	JB_FS_AppendByte2(Fs, '(');
	SCDecl* D = SC_Msg_AsDecl(Self);
	JB_Incr(D);
	if (D) {
		SC_Cpp__WriteDeclNoName(D, Fs);
	}
	 else {
		Message* _tmPf0 = ((Message*)JB_Tree_Second(Self));
		JB_Incr(_tmPf0);
		JB_Msg_Export(_tmPf0, Fs);
		JB_Decr(_tmPf0);
	}
	JB_Decr(D);
	JB_FS_AppendByte2(Fs, ')');
}

void SC_Cpp__WriteDeclNoName(SCDecl* D, FastString* T) {
	SCClass* C = D->Type;
	int Ptrs = SC_Class_IsObject(C) + D->PointerCount;
	if (SC__Cpp_WriteAPI) {
		JB_FS_AppendString(T, SC_Class_APIStructName(C));
	}
	 else if ((!Ptrs) and SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Local)) {
		SC_Class_SimplerDataTypes(C, T, D);
	}
	 else {
		JB_FS_AppendString(T, SC_Class_CStructName(C));
	}
	JB_FS_AppendMultiByte(T, '*', Ptrs);
	if (SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Reference)) {
		JB_FS_AppendByte2(T, '&');
	}
}

void SC_Cpp__WriteFuncArgs(SCFunction* F, FastString* T, bool Names_only) {
	JB_FS_AppendByte2(T, '(');
	bool N = false;
	{
		Array* _LoopSrcf2 = F->Args;
		int _if0 = 0;
		while (true) {
			SCDecl* D = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (D == nil) {
				break;
			}
			if (N) {
				JB_FS_AppendString(T, JB_LUB[47]);
			}
			N = true;
			if (Names_only) {
				SC_Str_Safe(D->ExportName, T, true);
			}
			 else {
				SC_Cpp__WriteDecl(D, T, nil);
			}
			(++_if0);
		};
	}
	;
	JB_FS_AppendByte2(T, ')');
}

void SC_Cpp__WriteFuncSub(SCFunction* F, JB_String* E, FastString* T) {
	if (F->StructReturnPos) {
		JB_FS_AppendString(T, JB_LUB[810]);
	}
	 else {
		SC_Cpp__WriteDecl(F->ReturnType, T, nil);
	}
	JB_FS_AppendByte2(T, ' ');
	JB_FS_AppendString(T, E);
	SC_Cpp__WriteFuncArgs(F, T, false);
}

void SC_Cpp__WriteFunctionHeader(SCFunction* F, FastStringCpp* T) {
	if (SC_Func_SyntaxIs(F, kSC__FunctionType_OptInline)) {
		JB_FS_AppendString(T, JB_LUB[1104]);
	}
	SC_Cpp__WriteFuncSub(F, F->ExportName, T);
}

void SC_Cpp__WriteName(JB_String* Name, FastString* Blob, FastString* Lengths) {
	JB_FS_AppendString(Blob, Name);
	JB_FS_AppendByte2(Blob, ((byte)0));
	SC_FS_EncodeLength(Lengths, JB_Str_Length(Name));
}

void SC_Cpp__WriteThgMaybeTypeToo(Message* Msg, SCDecl* D, FastStringCpp* Fs) {
	if (!JB_Str_Exists(D->ExportName)) {
		if (true) {
			JB_Msg_Fail(Msg, kJB__Rec_NonFatal);
		}
		SC_Msg_Safe(Msg, Fs);
	}
	 else if ((SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_TypeImprove)) and (SC_Cpp__MsgOKToImprove(Msg))) {
		JB_FS_AppendByte2(Fs, '(');
		SC_Cpp__WriteDeclBrackets(Msg, Fs);
		SC_Str_Safe(D->ExportName, Fs, SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Local));
		JB_FS_AppendByte2(Fs, ')');
	}
	 else {
		if (SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_ClassObj)) {
			JB_FS_AppendByte2(Fs, '&');
		}
		SC_Str_Safe(D->ExportName, Fs, SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Local));
	}
}

void SC_Cpp__WriteType(SCClass* C, FastStringCpp* Fs, bool Always) {
	if (SC_Class_SyntaxIs(C, kSC__ClassInfo_Builtin)) {
		return;
	}
	if (!Always) {
		if (!SC_Class_NeedsExport(C)) {
			return;
		}
	}
	SCFunction* F = C->FuncProto;
	JB_Incr(F);
	if (F) {
		JB_FS_AppendString(Fs, JB_LUB[944]);
		SC_Cpp__WriteDecl(F->ReturnType, Fs, nil);
		//;
		JB_FS_AppendString(Fs, JB_LUB[945]);
		JB_String* _tmPf2 = SC_Class_CStructName(C);
		JB_Incr(_tmPf2);
		JB_FS_AppendString(Fs, _tmPf2);
		JB_Decr(_tmPf2);
		JB_FS_AppendByte(Fs, ')');
		//;
		SC_Cpp__WriteFuncArgs(F, Fs, false);
	}
	 else {
		if (SC_Class_IsDataTypeOrFP(C)) {
			JB_String* Name = SC_Class_CStructName(C->Super);
			JB_Incr(Name);
			if (!JB_Str_Exists(Name)) {
				JB_EarlyDecr(Name);
				JB_EarlyDecr(F);
				return;
			}
			//;
			JB_FS_AppendString(Fs, JB_LUB[944]);
			JB_FS_AppendString(Fs, Name);
			JB_Decr(Name);
			JB_FS_AppendByte(Fs, ' ');
			//;
		}
		 else {
			if (C->IsWrapper) {
				JB_EarlyDecr(F);
				return;
			}
			SC_Class_WriteStructOrUnion(C, Fs);
		}
		JB_String* _tmPf3 = SC_Class_CStructName(C);
		JB_Incr(_tmPf3);
		JB_FS_AppendString(Fs, _tmPf3);
		JB_Decr(_tmPf3);
	}
	JB_Decr(F);
	JB_FS_AppendString(Fs, JB_LUB[663]);
}


DTWrap* JB_Wrap_ConstructorInt(DTWrap* Self, int64 V) {
	if (Self == nil) {
		Self = ((DTWrap*)JB_NewClass(&DTWrapData));
	}
	Self->DeathAction = 0;
	//cpp_part;
	Self->Kind = kJB__TC_s64;
	Self->PrivValue = V;
	return Self;
}

DTWrap* JB_Wrap_ConstructorVoidPtr(DTWrap* Self, void* P) {
	if (Self == nil) {
		Self = ((DTWrap*)JB_NewClass(&DTWrapData));
	}
	Self->DeathAction = 0;
	//cpp_part;
	Self->Kind = kJB__TC__voidptr;
	Self->PrivValue = ((int64)P);
	return Self;
}

void JB_Wrap_Destructor(DTWrap* Self) {
	if (Self->DeathAction == kJB__Wrap_kFree) {
		JB_Free(((void*)Self->PrivValue));
	}
}

JB_String* JB_Wrap_Render(DTWrap* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	//visible;
	uint K = Self->Kind;
	if (JB_TC_IsFloat(K)) {
		JB_FS_AppendDoubleAsText0(Fs, JB_int64_AsFloat(Self->PrivValue));
	}
	 else {
		int64 V = Self->PrivValue;
		if (K == kJB__TC_bool) {
			JB_bool_Append(((bool)V), Fs);
		}
		 else if (!JB_TC_SyntaxIs(K, kJB__TC_Numeric)) {
			JB_FS_AppendString(Fs, JB_LUB[210]);
			JB_FS_AppendHex(Fs, V, 2);
		}
		 else {
			JB_FS_AppendInt64(Fs, V);
		}
	}
	return JB_FS_SmartResult(Fs, Fs_in);
}


JB_Object* JB_Dict_Expect(Dictionary* Self, Message* M) {
	JB_Object* _tmPf0 = JB_Dict_Value0(Self, M->Name);
	JB_Incr(_tmPf0);
	if (!_tmPf0) {
		JB_Msg_Fail(M, nil);
		JB_EarlyDecr(_tmPf0);
		return nil;
	}
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

JB_Object* JB_Dict_Obj(Dictionary* Self, JB_Object* Prm) {
	return JB_Dict_Value0(Self, JB_Obj_DictName(Prm));
}

void JB_Dict_ObjSet(Dictionary* Self, JB_Object* Prm, JB_Object* Value) {
	(JB_Dict_ValueSet(Self, JB_Obj_DictName(Prm), Value));
}

void JB_Dict_SetValue(Dictionary* Self, JB_String* Key, int64 Value) {
	//cpp_part;
	(JB_Dict_ValueSet(Self, Key, JB_Wrap_ConstructorInt(nil, Value)));
}

JB_Object* JB_Dict_Value0(Dictionary* Self, JB_String* Key) {
	//cpp_part;
	return JB_Dict_Value(Self, Key, nil);
}

void JB_Dict_SetInt(Dictionary* Self, uint64 Key, JB_Object* Value) {
	//cpp_part;
	(JB_Dict_ValueSet(Self, JB_int64_DictName(((int64)Key)), Value));
}

JB_Object* JB_Dict_ValueInt(Dictionary* Self, uint64 Key) {
	//cpp_part;
	return JB_Dict_Value0(Self, JB_int64_DictName(((int64)Key)));
}

JB_Object* JB_Dict_ValueLower(Dictionary* Self, JB_String* S) {
	if (JB_Str_IsLower(S)) {
		return JB_Dict_Value0(Self, S);
	}
	JB_String* L = JB_Str_LowerCase(S);
	JB_Incr(L);
	JB_Object* V = ((JB_Object*)JB_Dict_Value0(Self, L));
	JB_EarlyDecr(L);
	return V;
}

void JB_Dict_ValueLowerSet(Dictionary* Self, JB_String* S, JB_Object* Value) {
	if (JB_Str_IsLower(S)) {
		(JB_Dict_ValueSet(Self, S, Value));
	}
	 else {
		JB_String* _tmPf0 = JB_Str_LowerCase(S);
		JB_Incr(_tmPf0);
		(JB_Dict_ValueSet(Self, _tmPf0, Value));
		JB_Decr(_tmPf0);
	}
}

Dictionary* JB_Dict__Copy(Dictionary* Dict) {
	Dictionary* Rz = ((Dictionary*)nil);
	JB_Incr(Rz);
	//cpp_name;
	JB_SetRef(Rz, JB_Dict_Constructor(nil));
	{
		DictionaryReader* _navf0 = JB_Dict_Navigate(Dict);
		JB_Incr(_navf0);
		while (true) {
			JB_String* Value = ((JB_String*)JB_DictionaryReader_NextValue(_navf0));
			JB_Incr(Value);
			if (Value == nil) {
				JB_EarlyDecr(Value);
				break;
			}
			JB_String* Key = JB_Nav_Name(_navf0);
			JB_Incr(Key);
			(JB_Dict_ValueSet(Rz, Key, Value));
			JB_Decr(Value);
			JB_Decr(Key);
		};
		JB_Decr(_navf0);
	}
	;
	JB_SafeDecr(Rz);
	return Rz;
}

Dictionary* JB_Dict__Reverse(Dictionary* Dict) {
	Dictionary* Rz = ((Dictionary*)nil);
	JB_Incr(Rz);
	//cpp_name;
	JB_SetRef(Rz, JB_Dict_Constructor(nil));
	{
		DictionaryReader* _navf0 = JB_Dict_Navigate(Dict);
		JB_Incr(_navf0);
		while (true) {
			JB_String* Value = ((JB_String*)JB_DictionaryReader_NextValue(_navf0));
			JB_Incr(Value);
			if (Value == nil) {
				JB_EarlyDecr(Value);
				break;
			}
			JB_String* Key = JB_Nav_Name(_navf0);
			JB_Incr(Key);
			(JB_Dict_ValueSet(Rz, Value, Key));
			JB_Decr(Value);
			JB_Decr(Key);
		};
		JB_Decr(_navf0);
	}
	;
	JB_SafeDecr(Rz);
	return Rz;
}


JB_Object* JB_DictionaryReader_NextValue(DictionaryReader* Self) {
	if (JB_Nav_MoveNext(Self)) {
		return JB_Nav_Value(Self);
	}
	return nil;
}

SCDecl* SC_DictionaryReader_ValueDecl(DictionaryReader* Self) {
	JB_Object* T = JB_Nav_Value(Self);
	if (JB_Object_FastIsa(T, &SCDeclData)) {
		if (!((SCDecl*)T)->IsLookupOnly) {
			return ((SCDecl*)T);
		}
	}
	return nil;
}


bool JB_Rec_CanAddMore(JB_ErrorReceiver* Self, uint /*ErrorSeverity*/ Level) {
	if (!((!Self->BlockErrors) and (!JB_OutOfMemoryOccurred()))) {
		return nil;
	}
	if (Level == kJB__ErrorSeverity_Problem) {
		return (Self->ProblemCount < Self->MaxProblems);
	}
	if (Level >= kJB__ErrorSeverity_Error) {
		return (Self->ErrorCount < Self->MaxErrors);
	}
	return (Self->WarnCount < Self->MaxErrors);
}

void JB_Rec_Clear(JB_ErrorReceiver* Self) {
	JB_Tree_Clear(Self->Errors);
	Self->ErrorCount = 0;
	Self->WarnCount = 0;
	Self->ProblemCount = 0;
}

JB_ErrorReceiver* JB_Rec_Constructor(JB_ErrorReceiver* Self) {
	if (Self == nil) {
		Self = ((JB_ErrorReceiver*)JB_NewClass(&JB_ErrorReceiverData));
	}
	Self->_LogObj = nil;
	Self->LowerErrorsTo = 0;
	Self->BlockErrors = false;
	Self->ErrorCount = 0;
	Self->ProblemCount = 0;
	Self->WarnCount = 0;
	Self->_LogFunc = nil;
	JB_Incr2(Self->Source, JB_LUB[0]);
	JB_Incr2(Self->Errors, JB_Err_ConstructorNothing(nil));
	Self->MaxErrors = 512;
	Self->MaxProblems = 64;
	JB__API_NilHappened_ = nil;
	return Self;
}

void JB_Rec_Destructor(JB_ErrorReceiver* Self) {
	//cpp_part;
	JB_Clear(Self->_LogObj);
	JB_Clear(Self->Errors);
	JB_Clear(Self->Source);
}

bool JB_Rec_HasAnything(JB_ErrorReceiver* Self) {
	if (!Self) {
		Self = JB_StdErr;
	}
	return ((bool)(Self->ErrorCount | (Self->ProblemCount | Self->WarnCount)));
}

bool JB_Rec_HasProblems(JB_ErrorReceiver* Self) {
	if (!Self) {
		Self = JB_StdErr;
	}
	return ((bool)(Self->ErrorCount | Self->ProblemCount));
}

void JB_Rec_Incr(JB_ErrorReceiver* Self, JB_Error* Err, bool Add) {
	int N = JB_Ternary(Add, 1, -1);
	if (Err->Severity == kJB__ErrorSeverity_Problem) {
		Self->ProblemCount = (Self->ProblemCount + N);
	}
	 else if (JB_Err_IsError(Err)) {
		Self->ErrorCount = (Self->ErrorCount + N);
	}
	 else if (JB_Err_IsWarning(Err)) {
		Self->WarnCount = (Self->WarnCount + N);
	}
}

JB_Error* JB_Rec_LastError(JB_ErrorReceiver* Self) {
	//visible;
	{
		JB_Error* _LoopSrcf1 = Self->Errors;
		JB_Error* Err = ((JB_Error*)JB_Ring_Last(_LoopSrcf1));
		while (Err) {
			if (JB_Err_IsError(Err)) {
				return Err;
			}
			Err = ((JB_Error*)JB_Ring_PrevSib(Err));
		};
		;
	}
	;
	return nil;
}

void JB_Rec_LogFileWriter(JB_ErrorReceiver* Self, JB_String* Data) {
	//visible;
	JB_Object* F = Self->_LogObj;
	if (JB_Object_Isa(F, &JB_FileData)) {
		if (!JB_File_Opened(((JB_File*)F))) {
			JB_File_OpenEmpty(((JB_File*)F));
		}
		JB_File_Write(((JB_File*)F), Data);
	}
}

bool JB_Rec_OK(JB_ErrorReceiver* Self) {
	if (Self) {
		return (!Self->ErrorCount);
	}
	return (!JB_StdErr->ErrorCount);
}

JB_Error* JB_Rec_Pop(JB_ErrorReceiver* Self) {
	JB_Error* Err = ((JB_Error*)JB_Tree_Pop(Self->Errors));
	if (Err) {
		JB_Rec_Incr(Self, Err, false);
		return Err;
	}
	return nil;
}

void SC_Rec_PrePrintErrors(JB_ErrorReceiver* Self) {
	{
		JB_Error* _LoopSrcf2 = Self->Errors;
		JB_Incr(_LoopSrcf2);
		JB_Error* Err = ((JB_Error*)JB_Ring_First(_LoopSrcf2));
		JB_Incr(Err);
		while (Err) {
			JB_Error* _Nf1 = ((JB_Error*)JB_Ring_NextSib(Err));
			JB_Incr(_Nf1);
			SC_Err_Improve(Err);
			JB_SetRef(Err, _Nf1);
			JB_Decr(_Nf1);
		};
		JB_Decr(Err);
		;
		JB_Decr(_LoopSrcf2);
	}
	;
	if (!SC__Options_KeepAllErrors) {
		{
			JB_Error* _LoopSrcf5 = Self->Errors;
			JB_Incr(_LoopSrcf5);
			JB_Error* Err = ((JB_Error*)JB_Ring_First(_LoopSrcf5));
			JB_Incr(Err);
			while (Err) {
				JB_Error* _Nf4 = ((JB_Error*)JB_Ring_NextSib(Err));
				JB_Incr(_Nf4);
				if (!SC_Errors__CanKeep(Err)) {
					JB_Tree_Remove(Err);
				}
				JB_SetRef(Err, _Nf4);
				JB_Decr(_Nf4);
			};
			JB_Decr(Err);
			;
			JB_Decr(_LoopSrcf5);
		};
	}
}

int JB_Rec_PrintErrorsMain(JB_ErrorReceiver* Self, uint /*ErrorSeverity*/ Level, bool PrintCount, bool Shell) {
	//cpp_part;
	JB_ErrorReceiver* Rec = JB_StdErr;
	JB_Incr(Rec);
	if (Self) {
		JB_SetRef(Rec, Self);
	}
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	int Count = JB_Rec_RenderErrors(Rec, Fs, Level, Shell);
	JB_Decr(Rec);
	if (!Count) {
		JB_EarlyDecr(Fs);
		return 0;
	}
	JB_String* _tmPf0 = JB_FS_GetResult(Fs);
	JB_Incr(_tmPf0);
	JB_Str_PrintError(_tmPf0);
	JB_Decr(_tmPf0);
	JB_FS_ProblemsFound(Fs, Count);
	JB_String* _tmPf1 = JB_FS_GetResult(Fs);
	JB_Incr(_tmPf1);
	JB_Decr(Fs);
	JB_Str_PrintError(_tmPf1);
	JB_Decr(_tmPf1);
	if (Count) {
		return -1;
	}
	return 0;
}

JB_String* JB_Rec_Render(JB_ErrorReceiver* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	JB_Rec_RenderErrors(Self, Fs, 0, false);
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

int JB_Rec_RenderErrors(JB_ErrorReceiver* Self, FastString* Fs, uint /*ErrorSeverity*/ Level, bool Shell) {
	int Rz = 0;
	if (!Self) {
		return 0;
	}
	{
		JB_Error* Err = ((JB_Error*)JB_Ring_First(Self->Errors));
		while (Err) {
			JB_Error* _Nf1 = ((JB_Error*)JB_Ring_NextSib(Err));
			if (Err->Severity >= Level) {
				(++Rz);
				if (Shell) {
					JB_FreeIfDead(JB_Err_RenderUnix(Err, Fs));
				}
				 else {
					JB_FreeIfDead(JB_Err_Render(Err, Fs));
				}
				JB_FS_AppendByte(Fs, '\n');
			}
			Err = _Nf1;
		};
	}
	;
	return Rz;
}

int SC_Rec_ReturnErrors(JB_ErrorReceiver* Self, JB_ErrorReceiver* To) {
	int Rz = 0;
	{
		JB_Error* E = ((JB_Error*)JB_Ring_First(Self->Errors));
		while (E) {
			JB_Error* _Nf1 = ((JB_Error*)JB_Ring_NextSib(E));
			JB_Rec_AppendErr(To, E);
			(++Rz);
			E = _Nf1;
		};
	}
	;
	return Rz;
}

int JB_Rec_ShellPrintErrors(JB_ErrorReceiver* Self) {
	//visible;
	return JB_Rec_PrintErrorsMain(Self, kJB__ErrorSeverity_Problem, false, true);
}

void JB_Rec_AppendErr(JB_ErrorReceiver* Self, JB_Error* Err) {
	//cpp_part;
	if (!Self) {
		Self = JB_StdErr;
	}
	bool CanPrint = false;
	JB_Rec_Incr(Self, Err, true);
	if (!JB_Str_Exists(Err->Path)) {
		JB_SetRef(Err->Path, Self->Source);
	}
	if (JB__Err_KeepStackTrace) {
		if (!JB_Str_Exists(Err->StackTrace)) {
			JB_SetRef(Err->StackTrace, JB_App__StackTrace(2, nil));
		}
	}
	FP_fnErrorLogger Log = ((FP_fnErrorLogger)(Self->_LogFunc));
	if (Log) {
		JB_String* _tmPf0 = JB_Err_Render(Err, nil);
		JB_Incr(_tmPf0);
		(Log)(Self, _tmPf0);
		JB_Decr(_tmPf0);
	}
	if (CanPrint and JB_Err_IsBad(Err)) {
		JB_String* _tmPf1 = JB_Err_Render(Err, nil);
		JB_Incr(_tmPf1);
		JB_PrintLine(_tmPf1);
		JB_Decr(_tmPf1);
	}
	if (JB__Err_AutoPrint != kJB__ErrorFlags_PrintAndRemove) {
		JB_Tree_SyntaxAppend(Self->Errors, Err);
	}
}

JB_ErrorReceiver* JB_Rec_SyntaxUsing(JB_ErrorReceiver* Self) {
	JB_ErrorReceiver* Old = JB_StdErr;
	JB_Incr(Old);
	JB_SetRef(JB_StdErr, Self);
	JB_SafeDecr(Old);
	return Old;
}

bool SC_Rec_TooMany(JB_ErrorReceiver* Self) {
	return Self->ErrorCount >= 50;
}

int JB_Rec__Init_() {
	{
	}
	;
	return 0;
}

void JB_Rec__NewCriticalError(Message* Node, JB_String* Desc, JB_String* Path) {
	JB_Rec__NewErrorSub(Node, Desc, Path, kJB__ErrorSeverity_Critical);
}

void JB_Rec__Latchkum(Message* Node, JB_String* Desc, JB_String* Path) {
	//cpp_part;
	JB_Rec__NewErrorSub(Node, Desc, Path, kJB__ErrorSeverity_Error);
}

void JB_Rec__NewErrorSub(Message* Node, JB_String* Desc, JB_String* Path, uint /*ErrorSeverity*/ Sev) {
	uint Lower = JB_StdErr->LowerErrorsTo;
	if (Lower) {
		Sev = JB_int_OperatorMin(((int)Lower), Sev);
	}
	if (JB_Rec_CanAddMore(JB_StdErr, Sev)) {
		if (!JB_Str_Exists(Desc)) {
			Desc = JB_Msg_MiniName(Node, JB_LUB[682]);
		}
		JB_Rec_AppendErr(((JB_ErrorReceiver*)nil), JB_Err_Constructor(nil, JB_Msg_FindNotInserted(Node), Desc, Sev, ((JB_String*)JB_Ternary(JB_Str_Exists(Path), Path, JB_LUB[0]))));
	}
}

void JB_Rec__NewProblem(Message* Node, JB_String* Desc, JB_String* Path) {
	JB_Rec__NewErrorSub(Node, Desc, Path, kJB__ErrorSeverity_Problem);
}

void JB_Rec__NewWarning(Message* Node, JB_String* Desc, JB_String* Path) {
	JB_Rec__NewErrorSub(Node, Desc, Path, kJB__ErrorSeverity_Warning);
}


void SC_FS_AppendCpp(FastString* Self, JB_String* S) {
	JB_FS_AppendByte2(Self, '"');
	{
		byte* _Startf0 = JB_Str_Address(S);
		byte* _Endf1 = _Startf0 + JB_Str_Length(S);
		while (_Startf0 < _Endf1) {
			int64 I = _Startf0 - S->Addr;
			uint C = _Startf0[0];
			if (C == '?') {
				JB_FS_AppendString(Self, JB_LUB[439]);
			}
			 else if (C == '\\') {
				JB_FS_AppendString(Self, JB_LUB[29]);
			}
			 else if (C == 9) {
				JB_FS_AppendString(Self, JB_LUB[23]);
			}
			 else if (C == 10) {
				JB_FS_AppendString(Self, JB_LUB[19]);
			}
			 else if (C == 13) {
				JB_FS_AppendString(Self, JB_LUB[21]);
			}
			 else if ((C >= 32) and ((C != '"') and (C <= 127))) {
				JB_FS_AppendByte2(Self, C);
			}
			 else {
				JB_FS_AppendString(Self, JB_LUB[396]);
				JB_FS_AppendHex(Self, C, 2);
				if (JB_byte_IsHex(JB_Str_ByteValue(S, I + 1))) {
					JB_FS_AppendString(Self, JB_LUB[440]);
				}
			}
			(++_Startf0);
		};
	}
	;
	JB_FS_AppendByte2(Self, '"');
}

void SC_FS_AppendCppAll(FastString* Self, JB_String* S) {
	JB_FS_AppendByte2(Self, '"');
	{
		byte* _Startf0 = JB_Str_Address(S);
		byte* _Endf1 = _Startf0 + JB_Str_Length(S);
		while (_Startf0 < _Endf1) {
			uint C = _Startf0[0];
			JB_FS_AppendString(Self, JB_LUB[396]);
			JB_FS_AppendHex(Self, C, 2);
			(++_Startf0);
		};
	}
	;
	JB_FS_AppendByte2(Self, '"');
}

void JB_FS_AppendEscape(FastString* Self, JB_String* S) {
	JB_FS_AppendMultiReplace(Self, S, JB__Constants_EscapeStr, JB_StdErr);
}

void JB_FS_AppendHexStr(FastString* Self, JB_String* Data) {
	//cpp_part;
	if (JB_Str_Exists(Data)) {
		JB_FS_AppendHexData(Self, Data->Addr, JB_Str_Length(Data), 0);
	}
}

void JB_FS_AppendHInt(FastString* Self, int N) {
	while (N >= 128) {
		JB_FS_AppendByte(Self, N | 128);
		N = (N >> 7);
	};
	JB_FS_AppendByte(Self, N);
}

void SC_FS_AppendLibGlob(FastString* Self, SCDecl* D) {
	JB_String* N = D->ExportName;
	Ind Skip = JB_Str_FindByte(N, '_', 0, 6);
	if (JB_Ind_SyntaxCast(Skip)) {
		while ((JB_Str_ByteValue(N, (++Skip))) == '_') {
			0;
		};
	}
	JB_FS_AppendRange(Self, N, Skip, kJB__int_Max);
}

void JB_FS_AppendQuotedEscape(FastString* Self, JB_String* S, uint /*byte*/ Quote) {
	JB_FS_AppendByte2(Self, Quote);
	JB_FS_AppendEscape(Self, S);
	JB_FS_AppendByte2(Self, Quote);
}

void SC_FS_AppendVoid(FastString* Self, JB_String* S, uint /*byte*/ Extra) {
	JB_FS_AppendString(Self, JB_LUB[441]);
	if (Extra) {
		JB_FS_AppendByte2(Self, Extra);
	}
	JB_FS_AppendString(Self, S);
	JB_FS_AppendString(Self, JB_LUB[132]);
}

void SC_FS_AppendWidth(FastString* Self, JB_String* S, int Width) {
	JB_FS_AppendString(Self, S);
	JB_FS_AppendMultiByte(Self, ' ', Width - JB_Str_Length(S));
}

void SC_FS_AppendWrap(FastString* Self, SCFunction* F) {
	if (F->IsCppInBuilt == 1) {
		JB_String* _tmPf0 = JB_Str_OperatorPlus(F->ExportName, JB_LUB[94]);
		JB_Incr(_tmPf0);
		SC_FS_AppendVoid(Self, _tmPf0, 0);
		JB_Decr(_tmPf0);
	}
	 else {
		SC_FS_AppendVoid(Self, F->ExportName, 0);
	}
}

void SC_FS_CArrayAdd(FastString* Self, JB_String* S) {
	{
		byte* _Startf0 = JB_Str_Address(S);
		byte* _Endf1 = _Startf0 + JB_Str_Length(S);
		while (_Startf0 < _Endf1) {
			uint B = _Startf0[0];
			SC_FS_CArrayAddB(Self, B);
			(++_Startf0);
		};
	}
	;
	SC_FS_CArrayAddB(Self, 0);
}

void SC_FS_CArrayAddB(FastString* Self, uint /*byte*/ B) {
	if (!B) {
		JB_FS_AppendByte2(Self, '0');
	}
	 else {
		JB_FS_AppendByte2(Self, '\'');
		if (JB_CharSet_SyntaxAccess(kJB__CharSet_SafeInC, B)) {
			JB_FS_AppendByte2(Self, B);
		}
		 else {
			JB_FS_AppendString(Self, JB_LUB[396]);
			JB_FS_AppendHex(Self, B, 2);
		}
		JB_FS_AppendByte2(Self, '\'');
	}
	JB_FS_AppendString(Self, JB_LUB[47]);
}

void SC_FS_CArrayAddB0(FastString* Self, uint /*byte*/ B) {
	SC_FS_CArrayAddB(Self, B);
	SC_FS_CArrayAddB(Self, 0);
}

void SC_FS_EncodeLength(FastString* Self, uint64 N) {
	JB_FS_AppendHInt(Self, N);
}

void JB_FS_AppendInfo(FastString* Self, JB_String* Name, JB_String* Data) {
	//cpp_part;
	if (JB_Str_Exists(Data)) {
		JB_FS_FieldStart(Self, Name);
		JB_FS_AppendQuotedEscape(Self, Data, '"');
	}
}

void JB_FS_AppendInfoNum(FastString* Self, JB_String* Name, int64 Data) {
	//cpp_part;
	if (Data) {
		JB_FS_FieldStart(Self, Name);
		JB_FS_AppendInt64(Self, Data);
	}
}

void JB_FS_FieldStart(FastString* Self, JB_String* Name) {
	JB_FS_LineIndent(Self);
	if (JB_Str_Exists(Name)) {
		JB_FS_AppendString(Self, Name);
		JB_FS_AppendByte2(Self, ' ');
	}
}

void SC_FS_IncludeH(FastString* Self, JB_String* Name) {
	JB_FS_AppendString(Self, JB_LUB[442]);
	JB_FS_AppendString(Self, Name);
	JB_FS_AppendByte2(Self, '"');
	JB_FS_AppendByte2(Self, '\n');
}

void JB_FS_MemoryReport(FastString* Self, JB_String* Name, int64 Amount) {
	if (Amount) {
		JB_FS_AppendString(Self, Name);
		JB_FS_AppendString(Self, JB_LUB[121]);
		JB_FreeIfDead(JB_int64_StrSize(Amount, Self));
		JB_FS_AppendByte(Self, '\n');
	}
}

void JB_FS_MsgErrorName(FastString* Self, JB_String* Name) {
	if (((JB_String*)JB_Str_Exists(Name))) {
		JB_FS_AppendString(Self, JB_LUB[44]);
		JB_FS_AppendString(Self, Name);
		JB_FS_AppendString(Self, JB_LUB[45]);
	}
}

void SC_FS_Normal(FastString* Self, JB_String* S) {
	if (JB__TerminalColor_Enabled) {
		JB_FS_AppendString(Self, kJB__TerminalColor_Normal);
	}
	JB_FS_AppendByte(Self, '\n');
	JB_FS_AppendString(Self, S);
	JB_FS_AppendByte(Self, ':');
	JB_FS_AppendMultiByte(Self, ' ', 18 - JB_Str_LengthUTF8(S));
	if (JB__TerminalColor_Enabled) {
		JB_FS_AppendString(Self, kJB__TerminalColor_Good);
	}
}

void JB_FS_PrintNicely(FastString* Self, JB_String* S) {
	int Cause = JB_Str_UnPrintable(S);
	if (Cause < 0) {
		//;
		JB_FS_AppendString(Self, JB_LUB[146]);
		JB_String* _tmPf1 = JB_Str_Hex(S, 0, nil);
		JB_Incr(_tmPf1);
		JB_FS_AppendString(Self, _tmPf1);
		JB_Decr(_tmPf1);
		JB_FS_AppendString(Self, JB_LUB[147]);
		//;
	}
	 else if (Cause == '\n') {
		JB_FreeIfDead(JB_Str_ReplaceAll(S, JB_LUB[18], JB_LUB[19], false, Self));
	}
	 else {
		JB_FS_AppendString(Self, S);
	}
}

void JB_FS_ProblemsFound(FastString* Self, int Count) {
	JB_String* _tmPf0 = JB_int_operatorof(Count, JB_LUB[643], JB_LUB[0]);
	JB_Incr(_tmPf0);
	JB_FS_AppendString(Self, _tmPf0);
	JB_Decr(_tmPf0);
	JB_FS_AppendString(Self, JB_LUB[644]);
}

JB_String* JB_FS_Render(FastString* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_FS_AppendFastString(Fs, Self);
	return JB_FS_SmartResult(Fs, Fs_in);
}

void JB_FS_AppendJoin(FastString* Self, Array* Data, JB_String* Sep) {
	//cpp_part;
	JB_FS_AppendString(Self, ((JB_String*)JB_Array_Value(Data, 0)));
	int I = 0;
	while (true) {
		JB_String* S = ((JB_String*)JB_Array_Value(Data, (++I)));
		if (S == nil) {
			break;
		}
		JB_FS_AppendString(Self, Sep);
		JB_FS_AppendString(Self, S);
	};
}

void JB_FS_AppendMultiStr(FastString* Self, JB_String* Data, int Count) {
	//cpp_part;
	int Needed = JB_Str_Length(Data) * Count;
	if (JB_FS_FreeSize(Self) < Needed) {
		(JB_FS_NeedSpare(Self, Needed));
	}
	{
		int _Valuef1 = 0;
		while (_Valuef1 < Count) {
			JB_FS_AppendString(Self, Data);
			(++_Valuef1);
		};
	};
}

void JB_FS_AppendBuff(FastString* Self, FastBuff* B) {
	//cpp_part;
	JB_FS_AppendMem_(Self, B->Start, JB_FastBuff_Length(B));
}

void JB_FS_SyntaxAppend(FastString* Self, Message* Msg) {
	if (Msg) {
		(JB_Syx_RenderAddr(Msg->Func))(Msg, Self);
	}
}

FastString* JB_FS__NewFile(JB_File* F) {
	//cpp_part;
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	(JB_FS_FileSet(Fs, F));
	JB_SafeDecr(Fs);
	return Fs;
}

FastString* JB_FS__UseAsOutput(JB_Object* Other) {
	if (Other) {
		if (JB_Object_Isa(Other, &FastStringData)) {
			return ((FastString*)Other);
		}
		if (JB_Object_Isa(Other, &JB_FileData)) {
			return JB_FS__NewFile(((JB_File*)Other));
		}
		if (JB_Object_Isa(Other, &JB_StringData)) {
			return JB_Str_OutputStream(((JB_String*)Other), true);
		}
		if (true) {
			JB_Object_FailStr(Other, JB_LUB[869]);
		}
	}
	return JB_FS__FastNew(((FastString*)nil));
}



void JB_Flow_AddByte(FlowControl* Self, uint /*byte*/ Value) {
	//;
	if (JB_FastBuff_AppendU8((&Self->Buff), Value)) {
		JB_Flow_Flush(Self);
	}
}

void JB_Flow_Destructor(FlowControl* Self) {
	//;
	(JB_Flow__DisabledSet(kJB__int_Max));
	JB_Flow_Flush(Self);
	if (Self->ReadInput != nil) {
		JB_PrintLine(JB_LUB[606]);
	}
	JB_Clear(Self->Write);
	JB_Clear(Self->ReadInput);
	JB_FastBuff_Destructor((&Self->Buff));
}

void JB_Flow_Fail(FlowControl* Self, JB_String* Found, JB_String* Expected, JB_String* InputName) {
	//;
	JB_SetRef(Self->ReadInput, Self->ReadInput);
	if (!Self->CanDoErrors) {
		return;
	}
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	if (JB_Str_Exists(InputName)) {
		//;
		JB_FS_AppendString(Fs, JB_LUB[645]);
		JB_FS_AppendString(Fs, InputName);
		JB_FS_AppendString(Fs, JB_LUB[646]);
		//;
	}
	if (!JB_SS_HasAny(Self->ReadInput)) {
		JB_FS_AppendString(Fs, JB_LUB[647]);
	}
	 else {
		JB_FS_AppendString(Fs, JB_LUB[648]);
		JB_FS_PrintNicely(Fs, Expected);
		JB_FS_AppendString(Fs, JB_LUB[649]);
		JB_FS_PrintNicely(Fs, Found);
	}
	JB_FS_AppendByte(Fs, '\n');
	JB_FreeIfDead(JB_App__StackTrace(3, Fs));
	JB_String* _tmPf1 = JB_FS_GetResult(Fs);
	JB_Incr(_tmPf1);
	JB_Decr(Fs);
	JB_PrintLine(_tmPf1);
	JB_Decr(_tmPf1);
	Self->CanDoErrors = false;
	JB_SetRef(Self->ReadInput, nil);
	if (JB__Flow_BreakOnFail) {
	}
}

void JB_Flow_Flush(FlowControl* Self) {
	//;
	FastString* W = Self->Write;
	JB_Incr(W);
	if (W) {
		JB_FS_AppendBuff(W, (&Self->Buff));
	}
	JB_Decr(W);
	Self->Buff.Curr = Self->Buff.Start;
}

bool JB_Flow_TestByte(FlowControl* Self, uint /*byte*/ Value) {
	//;
	//visible;
	JB_Flow_AddByte(Self, Value);
	InputStream* R = Self->ReadInput;
	if (R == nil) {
		return true;
	}
	Ind B = JB_SS_Byte(R);
	if (B == Value) {
		return true;
	}
	JB_Flow_Fail(Self, JB_Str__Byte(Value), JB_Str__Byte(B), JB_LUB[0]);
	return false;
}

FlowControlStopper JB_Flow__Attempt(JB_String* Name) {
	//;
	return 0;
}

bool JB_Flow__Cond(bool Value) {
	//cpp_name;
	//visible;
	//;
	JB_Flow__SyntaxAppend(((byte)('A' + Value)));
	return Value;
}

void JB_Flow__GetActiveFlow() {
	JB_String* Str = JB_App__ArgValue(JB_LUB[650]);
	if (JB_Str_Equals(Str, JB_LUB[651], true)) {
		JB__Flow_Active = kJB__Flow_Validate;
	}
	 else if (JB_Str_Equals(Str, JB_LUB[652], true)) {
		JB__Flow_Active = kJB__Flow_Log;
	}
}

int JB_Flow__Init_() {
	{
		JB__Flow_AlwaysMove = true;
	}
	;
	return 0;
}

int JB_Flow__InitCode_() {
	{
	}
	;
	JB_Flow__GetActiveFlow();
	return 0;
}

void JB_Flow__InputStrings(Array* Lines, JB_String* Name) {
	//cpp_part;
	//;
	JB_String* _tmPf0 = JB_Array_join(Lines, JB_LUB[18]);
	JB_Incr(_tmPf0);
	JB_Flow__InputLine(_tmPf0, Name);
	JB_Decr(_tmPf0);
}

void JB_Flow__Input(JB_String* Data, JB_String* Name) {
	//visible;
	//;
	if (JB_Flow__IsDisabled()) {
		return;
	}
	(JB_Flow__DisabledSet(1));
	FlowControl* F = JB__Flow_Flow;
	InputStream* R = F->ReadInput;
	if (R != nil) {
		JB_String* Str = JB_SS_Str(R, JB_Str_Length(Data), 0);
		JB_Incr(Str);
		if (!JB_Str_Equals(Str, Data, false)) {
			JB_Flow_Fail(F, Str, Data, Name);
		}
		JB_Decr(Str);
	}
	{
		byte* _Startf0 = JB_Str_Address(Data);
		byte* _Endf1 = _Startf0 + JB_Str_Length(Data);
		while (_Startf0 < _Endf1) {
			uint C = _Startf0[0];
			JB_Flow_AddByte(F, C);
			(++_Startf0);
		};
	}
	;
	(JB_Flow__DisabledSet(0));
}

void JB_Flow__InputLine(JB_String* Data, JB_String* Name) {
	JB_Flow__Input(Data, Name);
	JB_Flow__SyntaxAppend('\n');
}

void JB_Flow__Stop() {
	//;
	(JB_Flow__DisabledSet(kJB__int_Max));
	JB_SetRef(JB__Flow_Flow, nil);
}

void JB_Flow__SyntaxAppend(uint /*byte*/ Value) {
	//visible;
	//;
	if (!JB_Flow__IsDisabled()) {
		(JB_Flow__DisabledSet(1));
		JB_Flow_TestByte(JB__Flow_Flow, Value);
		(JB_Flow__DisabledSet(0));
	}
}

bool JB_Flow__Cond2(bool Value) {
	//cpp_name;
	//visible;
	//;
	if (Value) {
		return true;
	}
	JB_Flow__SyntaxAppend('W');
	return false;
}


Ind JB_SS_Byte(InputStream* Self) {
	if (JB_FastBuff_HasAny((&Self->Data)) or JB_SS_NextChunk(Self)) {
		return JB_FastBuff_Byte((&Self->Data));
	}
	return -1;
}

void JB_SS_CompressInto(InputStream* Self, JB_Object* Dest, int Strength, CompressionStats* St) {
	FastString* Fs = JB_FS__UseAsOutput(Dest);
	JB_Incr(Fs);
	if (!Fs) {
		JB_EarlyDecr(Fs);
		return;
	}
	St = JB_MzSt_Start(St, kJB__MzSt_Compression);
	JB_FS_AppendString(Fs, JB_LUB[58]);
	JB_FS_AppendInteger(Fs, Self->Length);
	St->Out = (St->Out + 8);
	while (JB_SS_HasAny(Self)) {
		JB_String* Str = JB_SS_Str(Self, 4194304, 0);
		JB_Incr(Str);
		int O = JB_Str_CompressChunk(Fs, Str, Strength);
		int N = JB_Str_Length(Str);
		JB_Decr(Str);
		JB_MzSt_LiveUpdate(St, N, O);
		JB_FS_Flush(Fs);
	};
	JB_Decr(Fs);
	JB_MzSt_End(St);
}

InputStream* JB_SS_Constructor(InputStream* Self, JB_String* Data) {
	if (Self == nil) {
		Self = ((InputStream*)JB_NewClass(&InputStreamData));
	}
	Self->StartFrom = 0;
	Self->File = nil;
	Self->_NoMoreChunks = false;
	Self->TryRecoverBadData = false;
	Self->ChunkSize = 0;
	Self->Length = 0;
	Self->CallBack = nil;
	Self->_Object = nil;
	Self->Data = ((FastBuff){});
	JB_SS_Reset(Self, Data);
	return Self;
}

JB_String* JB_SS_Decompress(InputStream* Self, JB_Object* Dest, uint Limit, CompressionStats* St) {
	JB_String* Header = JB_SS_Str(Self, 4, 0);
	JB_Incr(Header);
	if (!JB_Str_IsCompressed(Header)) {
		JB_SS_Fail(Self, JB_LUB[1486]);
		JB_EarlyDecr(Header);
		return (JB_Str__Error());
	}
	JB_Decr(Header);
	uint64 Remain = JB_SS_UInt(Self, 4);
	if (Remain > Limit) {
		JB_SS_Fail(Self, JB_LUB[1487]);
		return (JB_Str__Error());
	}
	FastString* Fs = JB_FS__UseAsOutput(Dest);
	JB_Incr(Fs);
	if (!Fs) {
		JB_EarlyDecr(Fs);
		return (JB_Str__Error());
	}
	JB_String* D = JB_Str__Error();
	JB_Incr(D);
	St = JB_MzSt_Start(St, kJB__MzSt_Decompression);
	if (JB_SS_DecompressSub(Self, Fs, St, Remain)) {
		JB_SetRef(D, JB_FS_SmartResult(Fs, Dest));
	}
	JB_Decr(Fs);
	JB_MzSt_End(St);
	JB_SafeDecr(D);
	return D;
}

bool JB_SS_DecompressSub(InputStream* Self, FastString* Fs, CompressionStats* St, int OutRemain) {
	while (OutRemain > 0) {
		int64 InSize = JB_SS_UInt(Self, 4) - 4;
		if (InSize >= 16777216) {
			JB_SS_Fail(Self, JB_LUB[1425]);
			return nil;
		}
		JB_String* ChunkData = JB_SS_Str(Self, InSize, 0);
		JB_Incr(ChunkData);
		if ((!JB_Str_EqualsInt(ChunkData, InSize))) {
			JB_SS_Fail(Self, JB_LUB[1426]);
			JB_EarlyDecr(ChunkData);
			return nil;
		}
		int OutSize = JB_Str_DecompressChunk(Fs, ChunkData);
		JB_Decr(ChunkData);
		if (!OutSize) {
			return nil;
		}
		OutRemain = (OutRemain - OutSize);
		if (OutRemain < 0) {
			JB_SS_Fail(Self, JB_LUB[1427]);
			return nil;
		}
		JB_FS_Flush(Fs);
		JB_MzSt_LiveUpdate(St, InSize + 4, OutSize);
	};
	return true;
}

void JB_SS_Destructor(InputStream* Self) {
	//cpp_part;
	JB_Clear(Self->File);
	JB_Clear(Self->CallBack);
	JB_FastBuff_Destructor((&Self->Data));
}

int JB_SS_Eat(InputStream* Self, JB_String* S) {
	int Rz = 0;
	{
		byte* _Startf0 = JB_Str_Address(S);
		byte* _Endf1 = _Startf0 + JB_Str_Length(S);
		while (_Startf0 < _Endf1) {
			uint C = _Startf0[0];
			int P = JB_SS_Position(Self);
			if (JB_SS_Byte(Self) != C) {
				(JB_SS_PositionSet(Self, P));
				break;
			}
			(++Rz);
			(++_Startf0);
		};
	}
	;
	return Rz;
}

int JB_SS_Find(InputStream* Self, uint /*byte*/ C) {
	int N = 0;
	while (true) {
		Ind B = JB_SS_Byte(Self);
		if (B < 0) {
			return -1;
		}
		(++N);
		if (B == C) {
			return N;
		}
	};
}

bool JB_SS_HasAny(InputStream* Self) {
	if (Self == nil) {
		return nil;
	}
	if (JB_FastBuff_HasAny((&Self->Data))) {
		return true;
	}
	return JB_SS_NextChunk(Self);
}

bool JB_SS_HasHeader(InputStream* Self, JB_String* Header) {
	if (!JB_Str_Exists(Header)) {
		return true;
	}
	JB_String* _tmPf0 = JB_SS_Str(Self, JB_Str_Length(Header), 0);
	JB_Incr(_tmPf0);
	bool _tmPf1 = (JB_Str_Equals(Header, _tmPf0, false));
	JB_EarlyDecr(_tmPf0);
	return _tmPf1;
}

int JB_SS_HInt(InputStream* Self) {
	uint V = JB_SS_Byte(Self);
	if (V <= 127) {
		return V;
	}
	V = (V & 127);
	int Sh = 7;
	while (true) {
		uint B = JB_SS_Byte(Self);
		V = (V | ((B & 127) << Sh));
		if (B <= 127) {
			return V;
		}
		Sh = (Sh + 7);
		if (Sh > 28) {
			JB_SS_Fail(Self, JB_LUB[891]);
			return 0;
		}
	};
}

bool JB_SS_NextChunk(InputStream* Self) {
	JB_File* F = Self->File;
	if (F) {
		Self->StartFrom = (Self->StartFrom + JB_FastBuff_Size((&Self->Data)));
		if (JB_SS_ReadChunk(Self, F)) {
			return true;
		}
		JB_SetRef(Self->File, nil);
	}
	return false;
}

uint64 JB_SS_NextMsgInfo(InputStream* Self) {
	Message* Msg = ((Message*)Self->_Object);
	int Info = 0;
	while (true) {
		Info = JB_SS_NonZeroByte(Self);
		if (Info <= 239) {
			break;
		}
		Msg = ((Message*)JB_Tree_Upward(Msg, Info - 239));
		Self->_Object = Msg;
		if (!Msg) {
			return 0;
		}
	};
	Syntax T = ((Syntax)(Info >> 1));
	if ((T < kJB_Syxmax) and (T > kJB_SyxNil)) {
		Msg = JB_Msg_Msg(Msg, T, JB_SS_Str(Self, JB_SS_HInt(Self), 0));
		if (Info & 1) {
			Self->_Object = Msg;
		}
		ParserCallBack* Cb = Self->CallBack;
		if (!Cb) {
			return ((uint64)Msg);
		}
		JB_SS_ParserCallBack_interface_SyntaxCall((Cb), Msg);
		return ((uint64)Msg);
	}
	Self->_Object = nil;
	if (Info >= 0) {
		if (T <= kJB_SyxNil) {
			JB_SS_Fail(Self, JB_LUB[1266]);
			return 0;
		}
		if (true) {
			JB_SS_Fail(Self, JB_LUB[1267]);
		}
	}
	return 0;
}

bool JB_SS_NoMoreChunksToRead(InputStream* Self) {
	if (Self->_NoMoreChunks) {
		return true;
	}
	if (JB_FastBuff_Remaining((&Self->Data)) <= 0) {
		if (!Self->File) {
			return true;
		}
		if (Self->Length <= Self->StartFrom) {
			return true;
		}
	}
	return false;
}

int JB_SS_NonZeroByte(InputStream* Self) {
	while (true) {
		Ind B = JB_SS_Byte(Self);
		if (B != 0) {
			return B;
		}
	};
}

ParserCallBack* JB_SS_ParserCallBack_Constructor(ParserCallBack* Self, InputStream* Upon) {
	if (Self == nil) {
		Self = ((ParserCallBack*)JB_Task_Constructor(nil, 256, ((void*)(&JB_SS_ParserCallBack_run))));
	}
	JB_Incr2(Self->Upon, Upon);
	//task;
	return Self;
}

int JB_SS_Position(InputStream* Self) {
	return JB_FastBuff_Position((&Self->Data)) + Self->StartFrom;
}

void JB_SS_PositionSet(InputStream* Self, int Value) {
	(JB_FastBuff_PositionSet((&Self->Data), Value - Self->StartFrom));
}

bool JB_SS_ReadChunk(InputStream* Self, JB_File* F) {
	JB_String* _tmPf0 = JB_File_Read(F, Self->ChunkSize, true);
	JB_Incr(_tmPf0);
	(JB_FastBuff_ReadFromSet((&Self->Data), _tmPf0));
	JB_Decr(_tmPf0);
	if (JB_Str_Length(Self->Data.ReadFrom) < Self->ChunkSize) {
		Self->_NoMoreChunks = true;
	}
	return JB_Str_Exists(Self->Data.ReadFrom);
}

int JB_SS_Remaining(InputStream* Self) {
	return Self->Length - JB_SS_Position(Self);
}

void JB_SS_Reset(InputStream* Self, JB_String* Data) {
	(JB_FastBuff_ReadFromSet((&Self->Data), Data));
	Self->Length = JB_Str_Length(Data);
	Self->_NoMoreChunks = true;
}

JB_String* JB_SS_Str(InputStream* Self, int N, int Skip) {
	if (!((N > 0) and (Skip < N))) {
		return JB_LUB[0];
	}
	if ((JB_FastBuff_Has((&Self->Data), N)) or (JB_SS_NoMoreChunksToRead(Self))) {
		(N = JB_int_OperatorMin(N, JB_SS_Remaining(Self)));
		int Pos = JB_FastBuff_Position((&Self->Data));
		N = (N + Pos);
		(JB_FastBuff_PositionSet((&Self->Data), N));
		return JB_FastBuff_AccessStr((&Self->Data), Pos + Skip, N);
	}
	int Remaining = N - Skip;
	JB_String* R = JB_Str_New(Remaining);
	JB_Incr(R);
	if (!JB_Str_Exists(R)) {
		JB_EarlyDecr(R);
		return JB_LUB[0];
	}
	byte* Dest = R->Addr;
	while (true) {
		int Copied = JB_FastBuff_CopyTo((&Self->Data), Dest, JB_int_OperatorMin(JB_FastBuff_Remaining((&Self->Data)), Remaining));
		Remaining = (Remaining - Copied);
		Dest = (Dest + Copied);
		if (Remaining <= 0) {
			break;
		}
		if (!JB_SS_NextChunk(Self)) {
			JB_String* _tmPf0 = JB_Str_Range(R, 0, JB_Str_Length(R) - Remaining, false);
			JB_Incr(_tmPf0);
			JB_SetRef(R, JB_Str_Copy(_tmPf0));
			JB_EarlyDecr(_tmPf0);
			break;
		}
	};
	JB_SafeDecr(R);
	return R;
}

Message* JB_SS_StreamJbin(InputStream* Self, int64 Remain) {
	if (JB_SS_Eat(Self, JB_LUB[152]) == 2) {
		JB_SS_Find(Self, '\n');
	}
	if (!JB_SS_HasHeader(Self, JB__bin_Header)) {
		JB_SS_Fail(Self, JB_LUB[1366]);
		return nil;
	}
	Self->_Object = nil;
	Message* Root = ((Message*)JB_SS_NextMsgInfo(Self));
	JB_Incr(Root);
	while ((--Remain) > 0) {
		if (!JB_SS_NextMsgInfo(Self)) {
			break;
		}
	};
	if (Self->Data.WentBad and (!Self->TryRecoverBadData)) {
		JB_SetRef(Root, nil);
	}
	JB_SafeDecr(Root);
	return Root;
}

void JB_SS_Fail(InputStream* Self, JB_String* Error) {
	//cpp_part;
	Self->_Object = nil;
	if (Self->Data.WentBad) {
		return;
	}
	Self->Data.WentBad = true;
	if (!JB_Str_Exists(Error)) {
		if (Self->File) {
			Error = JB_LUB[832];
		}
		 else {
			Error = JB_LUB[833];
		}
	}
	JB_Rec__Latchkum(nil, Error, Self->File);
}

uint64 JB_SS_UInt(InputStream* Self, int Size) {
	uint64 Rz = 0;
	{
		int I = 0;
		while (I < Size) {
			int B = JB_int_OperatorMax(JB_SS_Byte(Self), 0);
			Rz = (Rz + (B << (I << 3)));
			(++I);
		};
	}
	;
	return Rz;
}


void SC_Instruction_Const(Instruction* Self) {
	if (Self) {
		Self->aType = kSC__Instruction_kTypeConst;
	}
}

Instruction* SC_Instruction_Constructor(Instruction* Self, JB_String* FormName, JB_String* Name, int Pos) {
	if (Self == nil) {
		Self = ((Instruction*)JB_NewClass(&InstructionData));
	}
	Self->aType = 0;
	Self->OpCode = Pos;
	JB_Incr2(Self->Name, Name);
	JB_Incr2(Self->Sizes, SC_xC2xB5Form__NeedForm(FormName, nil));
	Self->PCount = Self->Sizes->Count;
	return Self;
}

void SC_Instruction_Destructor(Instruction* Self) {
	//cpp_part;
	JB_Clear(Self->Sizes);
	JB_Clear(Self->Name);
}

JB_String* SC_Instruction_Render(Instruction* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, Self->Name);
	JB_FS_AppendByte(Fs, '\n');
	JB_FreeIfDead(SC_xC2xB5Form_Render(Self->Sizes, Fs));
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

void SC_Instruction__Add(JB_String* FormName, JB_String* Name, int Pos) {
	Instruction* Ins = ((Instruction*)JB_Dict_ValueLower(SC__Instruction_OpDict, Name));
	if (!Ins) {
		Ins = SC_Instruction_Constructor(nil, FormName, Name, Pos);
		(JB_Dict_ValueLowerSet(SC__Instruction_OpDict, Name, Ins));
	}
	JB_SetRef(SC__Instruction_TypeList[Pos], Ins);
}

int SC_Instruction__Init_() {
	{
		JB_SetRef(SC__Instruction_OpDict, JB_Dict_Constructor(nil));
	}
	;
	return 0;
}

void SC_Instruction__InstructionInit() {
	//;
	SC_Instruction__Add(JB_LUB[220], JB_LUB[1600], 0);
	SC_Instruction__Add(JB_LUB[212], JB_LUB[1601], 2);
	SC_Instruction__Add(JB_LUB[1602], JB_LUB[1603], 4);
	SC_Instruction__Add(JB_LUB[1602], JB_LUB[1604], 5);
	SC_Instruction__Add(JB_LUB[742], JB_LUB[1605], 24);
	SC_Instruction__Add(JB_LUB[742], JB_LUB[1606], 25);
	SC_Instruction__Add(JB_LUB[1607], JB_LUB[1608], 26);
	SC_Instruction__Add(JB_LUB[1607], JB_LUB[1609], 27);
	SC_Instruction__Add(JB_LUB[221], JB_LUB[1610], 32);
	SC_Instruction__Add(JB_LUB[1611], JB_LUB[1612], 33);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1614], 34);
	SC_Instruction__Add(JB_LUB[1615], JB_LUB[1616], 35);
	SC_Instruction__Add(JB_LUB[233], JB_LUB[1617], 36);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1618], 37);
	SC_Instruction__Add(JB_LUB[227], JB_LUB[1619], 38);
	SC_Instruction__Add(JB_LUB[1620], JB_LUB[1621], 39);
	SC_Instruction__Add(JB_LUB[1622], JB_LUB[1623], 40);
	SC_Instruction__Add(JB_LUB[1624], JB_LUB[1625], 41);
	SC_Instruction__Add(JB_LUB[1602], JB_LUB[1626], 42);
	SC_Instruction__Add(JB_LUB[232], JB_LUB[1627], 43);
	SC_Instruction__Add(JB_LUB[233], JB_LUB[1628], 44);
	SC_Instruction__Add(JB_LUB[1629], JB_LUB[1630], 45);
	SC_Instruction__Add(JB_LUB[233], JB_LUB[1631], 46);
	SC_Instruction__Add(JB_LUB[1632], JB_LUB[1633], 47);
	SC_Instruction__Add(JB_LUB[1632], JB_LUB[1634], 48);
	SC_Instruction__Add(JB_LUB[1635], JB_LUB[1636], 49);
	SC_Instruction__Add(JB_LUB[239], JB_LUB[1637], 50);
	SC_Instruction__Add(JB_LUB[240], JB_LUB[1638], 51);
	SC_Instruction__Add(JB_LUB[1639], JB_LUB[1640], 52);
	SC_Instruction__Add(JB_LUB[1639], JB_LUB[1641], 53);
	SC_Instruction__Add(JB_LUB[1642], JB_LUB[1643], 54);
	SC_Instruction__Add(JB_LUB[1642], JB_LUB[1644], 55);
	SC_Instruction__Add(JB_LUB[239], JB_LUB[1645], 56);
	SC_Instruction__Add(JB_LUB[1635], JB_LUB[1646], 57);
	SC_Instruction__Add(JB_LUB[1647], JB_LUB[1648], 58);
	SC_Instruction__Add(JB_LUB[1632], JB_LUB[1649], 59);
	SC_Instruction__Add(JB_LUB[1632], JB_LUB[1650], 60);
	SC_Instruction__Add(JB_LUB[1632], JB_LUB[1651], 61);
	SC_Instruction__Add(JB_LUB[1632], JB_LUB[1652], 62);
	SC_Instruction__Add(JB_LUB[1632], JB_LUB[1653], 63);
	SC_Instruction__Add(JB_LUB[1632], JB_LUB[1654], 64);
	SC_Instruction__Add(JB_LUB[1632], JB_LUB[1655], 65);
	SC_Instruction__Add(JB_LUB[233], JB_LUB[1656], 66);
	SC_Instruction__Add(JB_LUB[233], JB_LUB[1657], 67);
	SC_Instruction__Add(JB_LUB[233], JB_LUB[1658], 68);
	SC_Instruction__Add(JB_LUB[260], JB_LUB[1659], 69);
	SC_Instruction__Add(JB_LUB[259], JB_LUB[1660], 70);
	SC_Instruction__Add(JB_LUB[260], JB_LUB[1661], 71);
	SC_Instruction__Add(JB_LUB[261], JB_LUB[1662], 72);
	SC_Instruction__Add(JB_LUB[262], JB_LUB[1663], 73);
	SC_Instruction__Add(JB_LUB[1664], JB_LUB[1665], 74);
	SC_Instruction__Add(JB_LUB[1666], JB_LUB[1667], 75);
	SC_Instruction__Add(JB_LUB[1668], JB_LUB[1669], 76);
	SC_Instruction__Add(JB_LUB[1668], JB_LUB[1670], 77);
	SC_Instruction__Add(JB_LUB[1671], JB_LUB[1672], 78);
	SC_Instruction__Add(JB_LUB[1671], JB_LUB[1673], 79);
	SC_Instruction__Add(JB_LUB[1671], JB_LUB[1674], 80);
	SC_Instruction__Add(JB_LUB[1671], JB_LUB[1675], 81);
	SC_Instruction__Add(JB_LUB[753], JB_LUB[1676], 82);
	SC_Instruction__Add(JB_LUB[753], JB_LUB[1677], 83);
	SC_Instruction__Add(JB_LUB[464], JB_LUB[1678], 84);
	SC_Instruction__Add(JB_LUB[464], JB_LUB[1679], 85);
	SC_Instruction__Add(JB_LUB[1680], JB_LUB[1681], 86);
	SC_Instruction__Add(JB_LUB[1682], JB_LUB[1683], 87);
	SC_Instruction__Add(JB_LUB[1684], JB_LUB[1685], 88);
	SC_Instruction__Add(JB_LUB[1686], JB_LUB[1687], 89);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1688], 90);
	SC_Instruction__Add(JB_LUB[1689], JB_LUB[1690], 91);
	SC_Instruction__Add(JB_LUB[281], JB_LUB[1691], 92);
	SC_Instruction__Add(JB_LUB[1692], JB_LUB[1693], 93);
	SC_Instruction__Add(JB_LUB[1694], JB_LUB[1695], 94);
	SC_Instruction__Add(JB_LUB[1694], JB_LUB[1696], 95);
	SC_Instruction__Add(JB_LUB[1694], JB_LUB[1697], 96);
	SC_Instruction__Add(JB_LUB[1694], JB_LUB[1698], 97);
	SC_Instruction__Add(JB_LUB[1694], JB_LUB[1699], 98);
	SC_Instruction__Add(JB_LUB[1694], JB_LUB[1700], 99);
	SC_Instruction__Add(JB_LUB[1694], JB_LUB[1701], 100);
	SC_Instruction__Add(JB_LUB[1694], JB_LUB[1702], 101);
	SC_Instruction__Add(JB_LUB[1703], JB_LUB[1704], 102);
	SC_Instruction__Add(JB_LUB[1703], JB_LUB[1705], 103);
	SC_Instruction__Add(JB_LUB[1703], JB_LUB[1706], 104);
	SC_Instruction__Add(JB_LUB[1703], JB_LUB[1707], 105);
	SC_Instruction__Add(JB_LUB[1703], JB_LUB[1708], 106);
	SC_Instruction__Add(JB_LUB[296], JB_LUB[1709], 107);
	SC_Instruction__Add(JB_LUB[296], JB_LUB[1710], 108);
	SC_Instruction__Add(JB_LUB[1711], JB_LUB[1712], 109);
	SC_Instruction__Add(JB_LUB[164], JB_LUB[1713], 110);
	SC_Instruction__Add(JB_LUB[1714], JB_LUB[1715], 111);
	SC_Instruction__Add(JB_LUB[164], JB_LUB[1716], 112);
	SC_Instruction__Add(JB_LUB[1714], JB_LUB[1717], 113);
	SC_Instruction__Add(JB_LUB[164], JB_LUB[1718], 114);
	SC_Instruction__Add(JB_LUB[164], JB_LUB[1719], 115);
	SC_Instruction__Add(JB_LUB[164], JB_LUB[1720], 116);
	SC_Instruction__Add(JB_LUB[164], JB_LUB[1721], 117);
	SC_Instruction__Add(JB_LUB[164], JB_LUB[1722], 118);
	SC_Instruction__Add(JB_LUB[1723], JB_LUB[1724], 119);
	SC_Instruction__Add(JB_LUB[1725], JB_LUB[1726], 120);
	SC_Instruction__Add(JB_LUB[1727], JB_LUB[1728], 121);
	SC_Instruction__Add(JB_LUB[1729], JB_LUB[1730], 122);
	SC_Instruction__Add(JB_LUB[1635], JB_LUB[1731], 123);
	SC_Instruction__Add(JB_LUB[164], JB_LUB[1732], 124);
	SC_Instruction__Add(JB_LUB[1714], JB_LUB[1733], 125);
	SC_Instruction__Add(JB_LUB[164], JB_LUB[1734], 126);
	SC_Instruction__Add(JB_LUB[1714], JB_LUB[1735], 127);
	SC_Instruction__Add(JB_LUB[164], JB_LUB[1736], 128);
	SC_Instruction__Add(JB_LUB[164], JB_LUB[1737], 129);
	SC_Instruction__Add(JB_LUB[1738], JB_LUB[1739], 130);
	SC_Instruction__Add(JB_LUB[1738], JB_LUB[1740], 131);
	SC_Instruction__Add(JB_LUB[1632], JB_LUB[1741], 132);
	SC_Instruction__Add(JB_LUB[1632], JB_LUB[1742], 133);
	SC_Instruction__Add(JB_LUB[233], JB_LUB[1743], 134);
	SC_Instruction__Add(JB_LUB[1635], JB_LUB[1744], 135);
	SC_Instruction__Add(JB_LUB[239], JB_LUB[1745], 136);
	SC_Instruction__Add(JB_LUB[1635], JB_LUB[1746], 137);
	SC_Instruction__Add(JB_LUB[1747], JB_LUB[1748], 138);
	SC_Instruction__Add(JB_LUB[1647], JB_LUB[1749], 139);
	SC_Instruction__Add(JB_LUB[1632], JB_LUB[1750], 140);
	SC_Instruction__Add(JB_LUB[1632], JB_LUB[1751], 141);
	SC_Instruction__Add(JB_LUB[1632], JB_LUB[1752], 142);
	SC_Instruction__Add(JB_LUB[1632], JB_LUB[1753], 143);
	SC_Instruction__Add(JB_LUB[1632], JB_LUB[1754], 144);
	SC_Instruction__Add(JB_LUB[1632], JB_LUB[1755], 145);
	SC_Instruction__Add(JB_LUB[1632], JB_LUB[1756], 146);
	SC_Instruction__Add(JB_LUB[1615], JB_LUB[1757], 147);
	SC_Instruction__Add(JB_LUB[233], JB_LUB[1758], 148);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1759], 149);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1760], 150);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1761], 151);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1762], 152);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1763], 153);
	SC_Instruction__Add(JB_LUB[1738], JB_LUB[1764], 154);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1765], 155);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1766], 156);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1767], 157);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1768], 158);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1769], 159);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1770], 160);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1771], 161);
	SC_Instruction__Add(JB_LUB[1738], JB_LUB[1772], 162);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1773], 163);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1774], 164);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1775], 165);
	SC_Instruction__Add(JB_LUB[1738], JB_LUB[1776], 166);
	SC_Instruction__Add(JB_LUB[1635], JB_LUB[1777], 167);
	SC_Instruction__Add(JB_LUB[1635], JB_LUB[1778], 168);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1779], 169);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1780], 170);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1781], 171);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1782], 172);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1783], 173);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1784], 174);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1785], 175);
	SC_Instruction__Add(JB_LUB[1738], JB_LUB[1786], 176);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1787], 177);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1788], 178);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1789], 179);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1790], 180);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1791], 181);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1792], 182);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1793], 183);
	SC_Instruction__Add(JB_LUB[1738], JB_LUB[1794], 184);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1795], 185);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1796], 186);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1797], 187);
	SC_Instruction__Add(JB_LUB[1738], JB_LUB[1798], 188);
	SC_Instruction__Add(JB_LUB[1635], JB_LUB[1799], 189);
	SC_Instruction__Add(JB_LUB[1635], JB_LUB[1800], 190);
	SC_Instruction__Add(JB_LUB[1635], JB_LUB[1801], 191);
	SC_Instruction__Add(JB_LUB[1738], JB_LUB[1802], 192);
	SC_Instruction__Add(JB_LUB[1738], JB_LUB[1803], 193);
	SC_Instruction__Add(JB_LUB[1738], JB_LUB[1804], 194);
	SC_Instruction__Add(JB_LUB[1613], JB_LUB[1805], 195);
	SC_Instruction__Add(JB_LUB[1611], JB_LUB[1806], 255);
	Instruction* ERR = SC__Instruction_TypeList[0];
	JB_Incr(ERR);
	if (ERR) {
		{
			int I = 0;
			while (I < 256) {
				if (!SC__Instruction_TypeList[I]) {
					JB_SetRef(SC__Instruction_TypeList[I], ERR);
				}
				(++I);
			};
		};
	}
	 else {
	}
	JB_Decr(ERR);
	Instruction* _tmPf1 = ((Instruction*)JB_Dict_Value0(SC__Instruction_OpDict, JB_LUB[271]));
	JB_Incr(_tmPf1);
	(JB_Dict_ValueSet(SC__Instruction_OpDict, JB_LUB[753], _tmPf1));
	JB_Decr(_tmPf1);
	Instruction* _tmPf2 = ((Instruction*)JB_Dict_Value0(SC__Instruction_OpDict, JB_LUB[220]));
	JB_Incr(_tmPf2);
	(JB_Dict_ValueSet(SC__Instruction_OpDict, JB_LUB[1807], _tmPf2));
	JB_Decr(_tmPf2);
}

Instruction* SC_Instruction__SyntaxAccessWithMsg(Message* M) {
	Instruction* _tmPf0 = ((Instruction*)JB_Dict_ValueLower(SC__Instruction_OpDict, M->Name));
	if (!_tmPf0) {
		JB_Msg_Fail(M, JB_LUB[987]);
		return nil;
	}
	return _tmPf0;
}

Instruction* SC_Instruction__SyntaxAccessWithInt(int Pos) {
	return SC__Instruction_TypeList[Pos];
}


MWrap* JB_Mrap_ConstructorPtr(MWrap* Self, int ItemCount, int ItemSize, byte* Ptr, uint /*byte*/ DeathAction) {
	if (Self == nil) {
		Self = ((MWrap*)JB_NewClass(&MWrapData));
	}
	//cpp_part;
	Self->ItemSize = ItemSize;
	Self->Size = ItemCount;
	Self->DeathAction = DeathAction;
	Self->Length = 0;
	Self->_Ptr = Ptr;
	return Self;
}

int JB_Mrap_CopyFrom(MWrap* Self, void* Src, int Length) {
	int Cap = JB_int_OperatorMin(JB_Mrap_ByteCapacity(Self), Length);
	if (Cap) {
		memcpy(JB_Mrap_Ptr(Self), Src, Cap);
		return Cap;
	}
	return 0;
}

void JB_Mrap_Destructor(MWrap* Self) {
	if (Self->DeathAction == kJB__Wrap_kFree) {
		JB_Free(Self->_Ptr);
	}
}

void JB_Mrap_LengthSet(MWrap* Self, int Value) {
	if (Value > Self->Size) {
		Value = Self->Size;
	}
	 else if (Value < 0) {
		Value = 0;
	}
	Self->Length = Value;
}

byte* JB_Mrap_NeedSpare(MWrap* Self, int ReqItems, int Extra) {
	int Q = Self->Length + ReqItems;
	if (Self->Size < Q) {
		if (!JB_Mrap_SetSize(Self, Q + Extra)) {
			return nil;
		}
	}
	return ((byte*)(JB_Mrap_Ptr(Self) + (Self->Size * Self->ItemSize)));
}

bool JB_Mrap_SetSize(MWrap* Self, int ItemCount) {
	if (ItemCount == Self->Size) {
		return true;
	}
	if (Self->DeathAction != kJB__Wrap_kFree) {
		return nil;
	}
	int S = ((int)Self->ItemSize);
	int Old = S * Self->Size;
	int New = S * ItemCount;
	byte* Mem = JB_Realloc(Self->_Ptr, New);
	if (Mem) {
		Self->_Ptr = Mem;
		Self->Size = ItemCount;
		if (ItemCount < Self->Length) {
			Self->Length = ItemCount;
		}
		if (New > Old) {
			memzero(Mem + Old, New - Old);
		}
		return true;
	}
	if (true) {
		JB_String* _tmPf0 = JB_Str_OperatorPlusWithInt64(JB_LUB[877], New);
		JB_Incr(_tmPf0);
		JB_Object_FailStr(Self, _tmPf0);
		JB_Decr(_tmPf0);
	}
	return false;
}

void JB_Mrap_Zero(MWrap* Self) {
	memzero(Self->_Ptr, Self->Length * Self->ItemSize);
}

Array* SC_Mrap__CollectLeaks_(JB_Object* Self) {
	Array* Rz = ((Array*)JB_Array_Constructor0(nil));
	JB_Incr(Rz);
	JB_FindLeakedObject(Self, Rz);
	JB_SafeDecr(Rz);
	return Rz;
}

int JB_Mrap__Init_() {
	{
	}
	;
	return 0;
}

MWrap* JB_Mrap__Object(int Count, int ItemSize) {
	//visible;
	byte* P = JB_Mrap__Zalloc(Count * ItemSize);
	if (P) {
		return JB_Mrap_ConstructorPtr(nil, Count, ItemSize, P, kJB__Wrap_kFree);
	}
	return nil;
}

void SC_Mrap__PrintLeaks(JB_Object* Self) {
	//visible;
	int I = 0;
	Array* R = SC_Mrap__CollectLeaks_(Self);
	JB_Incr(R);
	while (true) {
		JB_Object* Bad = JB_Array_Value(R, I++);
		if (!Bad) {
			break;
		}
		jdb(Bad);
	};
	JB_Decr(R);
}




bool SC_Imp_CanBan(SCImport* Self, SCFile* Scf) {
	bool Rz = false;
	if (!SC__Imp_STDLibTime) {
		return true;
	}
	if (SC__Options_ProjectIsMiniLib) {
		JB_File* P = SC__Comp_BaseProjectPath;
		JB_Incr(P);
		if (P) {
			JB_String* _tmPf0 = JB_File_Path(Scf);
			JB_Incr(_tmPf0);
			Rz = JB_File_DirectoryContains(P, _tmPf0);
			JB_Decr(_tmPf0);
		}
		JB_Decr(P);
	}
	return Rz;
}

SCImport* SC_Imp_Constructor(SCImport* Self, JB_File* F, bool Builtin) {
	if (Self == nil) {
		Self = ((SCImport*)JB_NewClass(&SCImportData));
	}
	Self->Depth = 0;
	JB_Incr2(Self->Files, JB_Array_Constructor0(nil));
	Self->IsSTDLib = (SC__Imp_STDLibTime or (F == nil));
	Self->WarnUnusedFuncs = (!Self->IsSTDLib);
	JB_Incr2(Self->Resources, JB_Dict_Constructor(nil));
	Self->BlindCast = JB_Ternary(Builtin, 0, ((int)kJB__ErrorSeverity_Error));
	JB_Incr2(Self->DeclLayer, JB_Mem_Constructor(nil, &SCDeclData, Self));
	SCModule* M = ((SCModule*)SC_Mod__NeuModule(nil, SC__Comp_Program, nil));
	JB_Incr(M);
	JB_Incr2(Self->Mod, M);
	M->Project = Self;
	M->IsImport = true;
	JB_Incr2(Self->Where, F);
	if (F != nil) {
		JB_SetRef(M->Name, JB_Str_Name(F));
		(SC__Imp_Recent = JB_int64_OperatorMax(SC__Imp_Recent, JB_File_Modified(F)));
	}
	JB_EarlyDecr(M);
	return Self;
}

void SC_Imp_Destructor(SCImport* Self) {
	//cpp_part;
	JB_Clear(Self->Where);
	JB_Clear(Self->Files);
	JB_Clear(Self->DeclLayer);
	JB_Clear(Self->Mod);
	JB_Clear(Self->Resources);
}

SCFile* SC_Imp_ImportDir(SCImport* Self, JB_File* F) {
	SCFile* Rz = nil;
	JB_Incr(Rz);
	Array* Flist = JB_File_List(F, kJB__File_AllowSymLinks);
	JB_Incr(Flist);
	{
		int _if0 = 0;
		while (true) {
			JB_String* cName = ((JB_String*)JB_Array_Value(Flist, _if0));
			JB_Incr(cName);
			if (cName == nil) {
				JB_EarlyDecr(cName);
				break;
			}
			JB_File* C = JB_File_SyntaxAccess(F, cName);
			JB_Incr(C);
			JB_String* Ext = JB_Str_Ext(cName);
			JB_Incr(Ext);
			if (JB_Str_ContainsString(cName, JB_LUB[1590])) {
				0;
			}
			 else if (JB_File_IsDir(C)) {
				JB_FreeIfDead(SC_Imp_ImportDir(Self, C));
			}
			 else if (JB_Str_Equals(cName, JB_LUB[1591], true)) {
				JB_SetRef(Rz, SC_Imp_ImportSpd(Self, C));
			}
			 else if (SC_Str_IsSpeedieSrc(cName)) {
				SCFile* B = SC_Imp_ImportSpd(Self, C);
				JB_Incr(B);
				if (JB_Str_Equals(cName, JB_LUB[1592], true)) {
					JB_SetRef(Rz, B);
				}
				JB_Decr(B);
			}
			 else if ((JB_Str_Equals(Ext, JB_LUB[1593], false)) or ((JB_Str_Equals(Ext, JB_LUB[1594], false)) or ((JB_Str_Equals(Ext, JB_LUB[1595], false)) or (JB_Str_Equals(Ext, JB_LUB[119], false))))) {
				if (!SC__Imp_Shaders) {
					JB_SetRef(SC__Imp_Shaders, JB_Dict_Constructor(nil));
				}
				(JB_Dict_ValueSet(SC__Imp_Shaders, cName, C));
			}
			 else if (SC_Str_isCLike(Ext)) {
				JB_String* _tmPf2 = JB_File_Path(C);
				JB_Incr(_tmPf2);
				JB_Array_SyntaxAppend(SC__Cpp_Cpp_Input, _tmPf2);
				JB_Decr(_tmPf2);
			}
			 else {
				(JB_Dict_ValueLowerSet(Self->Resources, cName, C));
			}
			JB_Decr(cName);
			JB_Decr(C);
			JB_Decr(Ext);
			(++_if0);
		};
	}
	;
	JB_EarlyDecr(Flist);
	JB_SafeDecr(Rz);
	return Rz;
}

void SC_Imp_ImportMsg(SCImport* Self, Message* J) {
	SC_Imp_ImportMsgSub(Self, J);
}

void SC_Imp_ImportMsgSub(SCImport* Self, Message* J) {
	Message* L = JB_Msg_Last(J, kJB_SyxStr);
	if (!L) {
		return;
	}
	JB_String* Name = L->Name;
	JB_File* P = SC_Comp__FindProject(Name);
	if (!P) {
		if (JB_Str_ByteValue(Name, 0) != '/') {
			P = JB_Str_FileThatExists(JB_Str_SyntaxAccess(SC_Comp__Projects(), Name), JB_LUB[1196]);
		}
		 else {
			P = JB_Str_FileThatExists(Name, JB_LUB[1196]);
		}
	}
	if (!P) {
		JB_Msg_Fail(J, JB_Str_Append4(JB_LUB[2305], Name, JB_LUB[26], nil));
		return;
	}
	(++SC__Imp_CurrIsManuallyImported);
	JB_FreeIfDead(SC_Imp__ImportPath(Name, P, Self->Depth + 1, false));
	(--SC__Imp_CurrIsManuallyImported);
}

SCFile* SC_Imp_ImportSpd(SCImport* Self, JB_File* C) {
	SCFile* Rz = nil;
	JB_Incr(Rz);
	if (JB_Array_SyntaxCompare(SC__Imp_AllFiles, 65536) >= 0) {
		JB_File_Fail(C, JB_LUB[1147]);
		JB_EarlyDecr(Rz);
		return nil;
	}
	JB_String* Path = JB_Str_LowerCase(C);
	JB_Incr(Path);
	if (JB_FreeIfDead(((SCFile*)JB_Dict_Value0(SC__Comp_Files, Path)))) {
		JB_File_Fail(C, JB_LUB[1148]);
	}
	JB_SetRef(Rz, SC_File_Constructor(nil, C, Self));
	(JB_Dict_ValueSet(SC__Comp_Files, Path, Rz));
	JB_Decr(Path);
	JB_Array_SyntaxAppend(SC__Imp_AllFiles, Rz);
	JB_Array_SyntaxAppend(Self->Files, Rz);
	JB_SafeDecr(Rz);
	return Rz;
}

void SC_Imp_IncludeCHeaders(SCImport* Self, JB_File* F, Array* Output) {
	{
		Array* _LoopSrcf2 = JB_File_ListFiles(F, kJB__File_AllowSymLinks);
		JB_Incr(_LoopSrcf2);
		int _if0 = 0;
		while (true) {
			JB_File* C = ((JB_File*)JB_Array_Value(_LoopSrcf2, _if0));
			JB_Incr(C);
			if (C == nil) {
				JB_EarlyDecr(C);
				break;
			}
			if (((!JB_File_IsDir(C))) and (JB_Str_OperatorIsa(C, JB_LUB[575]))) {
				JB_Array_SyntaxAppend(Output, C);
			}
			JB_Decr(C);
			(++_if0);
		};
		JB_Decr(_LoopSrcf2);
	};
}

void SC_Imp_IndexLinkage(SCImport* Self, Message* Link, SCFile* Scf) {
	Message* _tmPf0 = JB_Msg_GetConf(Link, JB_LUB[706], false);
	JB_Incr(_tmPf0);
	if (JB_Msg_SyntaxEquals(_tmPf0, JB_LUB[1240], true)) {
		Self->IsSTDLib = true;
		Self->WarnUnusedFuncs = false;
	}
	if (({
		Message* _tmPf2 = JB_Msg_GetConf(Link, JB_LUB[1241], false);
		JB_Incr(_tmPf2);
		bool _tmPf1 = JB_Msg_Yes(_tmPf2, false);
		JB_EarlyDecr(_tmPf2);
		 _tmPf1;
	}) and SC_Options__ModeCpp()) {
		JB_String* _tmPf3 = JB_File__Applications();
		JB_Incr(_tmPf3);
		JB_String* _tmPf5 = SC_Comp__ProductPath();
		JB_Incr(_tmPf5);
		JB_String* _tmPf4 = JB_Str_Name(_tmPf5);
		JB_Incr(_tmPf4);
		JB_Decr(_tmPf5);
		JB_SetRef(SC__Options_output_path, JB_Str_SyntaxAccess(_tmPf3, _tmPf4));
		JB_Decr(_tmPf3);
		JB_Decr(_tmPf4);
	}
	if (SC_Imp_CanBan(Self, Scf)) {
		Message* _tmPf6 = JB_Msg_GetConf(Link, JB_LUB[1242], false);
		JB_Incr(_tmPf6);
		SC_Imp_LoadBanned(Self, _tmPf6);
		JB_Decr(_tmPf6);
	}
	Message* Arg = JB_Msg_NeedSyx(Link, kJB_SyxArg);
	JB_Incr(Arg);
	Message* Name = JB_Msg_GetConf(Arg, JB_LUB[1243], false);
	JB_Incr(Name);
	if (Name) {
		JB_SetRef(Scf->ExportName, Name->Name);
		JB_SetRef(Self->Mod->ExportName, Name->Name);
	}
	Message* Blind = JB_Msg_GetConf(Arg, JB_LUB[1244], false);
	JB_Incr(Blind);
	JB_Decr(Arg);
	if (Blind) {
		Self->BlindCast = SC_Msg_Blind(Blind);
	}
	 else if (SC__Options_SelfReplacement) {
		Self->BlindCast = 0;
	}
	JB_Tree_Remove(Link);
	JB_Decr(Blind);
	JB_Decr(Name);
	JB_Decr(_tmPf0);
}

void SC_Imp_IndexTargets(SCImport* Self, Message* Tar) {
	{
		Message* _LoopSrcf2 = JB_Msg_Arg(Tar);
		Message* T = ((Message*)JB_Ring_First(_LoopSrcf2));
		while (T) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(T));
			if (JB_Msg_Expect(T, kJB_SyxTmp, nil)) {
				Message* Ch = ((Message*)JB_Ring_First(T));
				if (Ch) {
					if (true) {
						JB_Msg_Fail(Ch, nil);
					}
				}
				 else {
					(SC_SC_Targets__SyntaxAccessSet(T->Name, true));
				}
			}
			T = _Nf1;
		};
		;
	}
	;
	JB_Tree_Remove(Tar);
}

void SC_Imp_LoadBanned(SCImport* Self, Message* List) {
	if (!JB_Msg_Expect(List, kJB_SyxList, nil)) {
		return;
	}
	Dictionary* X = ({
		Dictionary* _X = SC__Options_BannedClasses;
		if (_X == nil) {
			_X = JB_Dict_Constructor(nil);
			JB_SetRef(SC__Options_BannedClasses, _X);
		}
		 _X;
	});
	{
		Message* Item = ((Message*)JB_Ring_First(List));
		while (Item) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Item));
			JB_Msg_Expect(Item, kJB_SyxThg, nil);
			(JB_Dict_ValueLowerSet(X, Item->Name, JB_LUB[883]));
			Item = _Nf1;
		};
		;
	};
}

void SC_Imp_LoadConf(SCImport* Self, SCFile* Scf) {
	JB_SetRef(Self->Mod->ExportName, JB_LUB[2260]);
	if (!Scf) {
		return;
	}
	{
		Message* _LoopSrcf3 = SC_File_AST(Scf);
		Message* S = ((Message*)JB_Ring_First(_LoopSrcf3));
		while (S) {
			Message* _Nf2 = ((Message*)JB_Ring_NextSib(S));
			if (!JB_Msg_EqualsSyx(S, kJB_SyxTmp)) {
				0;
			}
			 else if (JB_Msg_SyntaxEquals(S, JB_LUB[451], true)) {
				SC_Imp_IndexLinkage(Self, S, Scf);
			}
			 else if (JB_Msg_SyntaxEquals(S, JB_LUB[2261], true)) {
				SC_Linkage__CompilerCollect(S);
			}
			 else if (JB_Msg_SyntaxEquals(S, JB_LUB[2262], true)) {
				//using;
				MessagePosition _usingf0 = ((MessagePosition){});
				JB_Msg_SyntaxUsing(S, (&_usingf0));
				SC_Comp__SetConf(Self, S);
				JB_MsgPos_SyntaxUsingComplete((&_usingf0), S);
				JB_MsgPos_Destructor((&_usingf0));
			}
			 else if (JB_Msg_SyntaxEquals(S, JB_LUB[2263], true)) {
				SC_Imp_IndexTargets(Self, S);
			}
			S = _Nf2;
		};
		;
	};
}

void SC_Imp_PrepareAll(SCImport* Self) {
	{
		Array* _LoopSrcf2 = Self->Files;
		int _if0 = 0;
		while (true) {
			SCFile* F = ((SCFile*)JB_Array_Value(_LoopSrcf2, _if0));
			if (F == nil) {
				break;
			}
			JB_FreeIfDead(SC_File_AST(F));
			(++_if0);
		};
	};
}

void SC_Imp_ReloadImports(SCImport* Self, SCFile* Index) {
	{
		Message* _LoopSrcf2 = SC_File_AST(Index);
		Message* J = ((Message*)JB_Ring_First(_LoopSrcf2));
		while (J) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(J));
			if (SC_Msg_OperatorIsTmp(J, JB_LUB[930])) {
				SC_Imp_ImportMsg(Self, J);
			}
			J = _Nf1;
		};
		;
	};
}

JB_String* SC_Imp_Render(SCImport* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, Self->Mod->Name);
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

void SC_Imp_Use(SCImport* Self) {
	if (Self) {
		JB_Mem_Use(Self->DeclLayer);
		SC__Imp_Curr = Self;
	}
}

SCNode* SC_Imp__DoImport(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	SCImport* C = SC__Imp_Curr;
	JB_Incr(C);
	if (C) {
		SC_Imp_ImportMsg(C, Node);
	}
	 else {
		if (true) {
			JB_Msg_Fail(Node, JB_LUB[2359]);
		}
	}
	JB_EarlyDecr(C);
	return SC__Comp_Program;
}

void SC_Imp__ExportShaders() {
	if (!SC__Imp_Shaders) {
		return;
	}
	SC_Comp__Stage(JB_LUB[1245]);
	SC_Comp__Timer(JB_LUB[1245]);
	JB_File* _tmPf3 = SC_Comp__BuildFolder();
	JB_Incr(_tmPf3);
	JB_File* P = JB_File_SyntaxAccess(_tmPf3, JB_LUB[1246]);
	JB_Incr(P);
	JB_Decr(_tmPf3);
	JB_FreeIfDead(SC_Str_MakeAndGoInto(P));
	{
		Dictionary* _LoopSrcf2 = SC__Imp_Shaders;
		JB_Incr(_LoopSrcf2);
		DictionaryReader* _navf0 = JB_Dict_Navigate(_LoopSrcf2);
		JB_Incr(_navf0);
		JB_Decr(_LoopSrcf2);
		while (true) {
			JB_Object* F = JB_DictionaryReader_NextValue(_navf0);
			JB_Incr(F);
			if (F == nil) {
				JB_EarlyDecr(F);
				break;
			}
			JB_String* Sh_name = JB_Nav_Name(_navf0);
			JB_Incr(Sh_name);
			if (JB_Object_Isa(F, &JB_FileData)) {
				JB_String* Name = JB_Str_Name(((JB_File*)F));
				JB_Incr(Name);
				JB_File* Dest = JB_File_SyntaxAccess(P, Name);
				JB_Incr(Dest);
				JB_Decr(Name);
				JB_String* _tmPf5 = JB_File_ReadAll(((JB_File*)F), 134217728, true);
				JB_Incr(_tmPf5);
				JB_String* _tmPf4 = JB_Str_OperatorPlus(JB_LUB[1247], _tmPf5);
				JB_Incr(_tmPf4);
				JB_Decr(_tmPf5);
				JB_File_DataSet(Dest, _tmPf4);
				JB_Decr(Dest);
				JB_Decr(_tmPf4);
			}
			 else if (JB_Object_Isa(F, &JB_StringData)) {
				JB_File* Dest = JB_File_SyntaxAccess(P, Sh_name);
				JB_Incr(Dest);
				JB_File_DataSet(Dest, ((JB_String*)F));
				JB_Decr(Dest);
			}
			JB_Decr(F);
			JB_Decr(Sh_name);
		};
		JB_Decr(_navf0);
	}
	;
	JB_Decr(P);
}

SCImport* SC_Imp__FindImport(JB_String* S) {
	{
		Array* _LoopSrcf2 = SC__Comp_ImportedList;
		int _if0 = 0;
		while (true) {
			SCImport* Imp = ((SCImport*)JB_Array_Value(_LoopSrcf2, _if0));
			if (Imp == nil) {
				break;
			}
			if (JB_Str_Equals(S, Imp->Where, true)) {
				return Imp;
			}
			(++_if0);
		};
	}
	;
	return nil;
}

JB_File* SC_Imp__FindInputFolder(JB_File* F) {
	JB_String* FirstName = JB_LUB[0];
	JB_Incr(FirstName);
	{
		Array* _LoopSrcf4 = JB_File_List(F, kJB__File_AllowSymLinks);
		JB_Incr(_LoopSrcf4);
		int _if2 = 0;
		while (true) {
			JB_String* Name = ((JB_String*)JB_Array_Value(_LoopSrcf4, _if2));
			JB_Incr(Name);
			if (Name == nil) {
				JB_EarlyDecr(Name);
				break;
			}
			if (SC_Imp__IsInputName(Name)) {
				if (!JB_Str_Exists(FirstName)) {
					JB_SetRef(FirstName, Name);
				}
				 else {
					if (true) {
						JB_String* _tmPf5 = JB_Str_Append6(JB_LUB[1596], Name, JB_LUB[1597], FirstName, JB_LUB[26], nil);
						JB_Incr(_tmPf5);
						JB_Object_FailStr(nil, _tmPf5);
						JB_Decr(_tmPf5);
					}
				}
			}
			JB_Decr(Name);
			(++_if2);
		};
		JB_Decr(_LoopSrcf4);
	}
	;
	if ((!JB_Str_Exists(FirstName))) {
		JB_String* _tmPf6 = JB_Str_Append4(JB_LUB[1598], F, JB_LUB[1599], nil);
		JB_Incr(_tmPf6);
		JB_File_Fail(F, _tmPf6);
		JB_EarlyDecr(_tmPf6);
		JB_EarlyDecr(FirstName);
		return nil;
	}
	JB_File* _tmPf7 = JB_File_SyntaxAccess(F, FirstName);
	JB_Incr(_tmPf7);
	JB_EarlyDecr(FirstName);
	JB_SafeDecr(_tmPf7);
	return _tmPf7;
}

SCImport* SC_Imp__ImportPath(JB_String* Path, JB_File* F, int ImportDepth, bool Builtin) {
	SCImport* Rz = nil;
	JB_Incr(Rz);
	if (!(JB_File_MustExist(F, JB_LUB[0]) and SC_Str_IsOKForImport(Path))) {
		JB_EarlyDecr(Rz);
		return nil;
	}
	JB_String* _tmPf0 = JB_File_Path(F);
	JB_Incr(_tmPf0);
	JB_String* Fpl = JB_Str_LowerCase(_tmPf0);
	JB_Incr(Fpl);
	JB_Decr(_tmPf0);
	SCImport* Old = ((SCImport*)JB_Dict_Value0(SC__Comp_ImportedNames, Fpl));
	JB_Incr(Old);
	if (Old) {
		JB_EarlyDecr(Fpl);
		JB_EarlyDecr(Rz);
		JB_SafeDecr(Old);
		return Old;
	}
	JB_Decr(Old);
	JB_SetRef(Rz, SC_Imp_Constructor(nil, F, Builtin));
	Rz->Depth = ImportDepth;
	SC_Imp__ImportPathSub(Path, F, Rz, Fpl);
	JB_EarlyDecr(Fpl);
	JB_SafeDecr(Rz);
	return Rz;
}

bool SC_Imp__ImportPathSub(JB_String* Path, JB_File* F, SCImport* Upon, JB_String* Fpl) {
	JB_Incr(F);
	JB_Array_SyntaxAppend(SC__Comp_ImportedList, Upon);
	(JB_Dict_ValueSet(SC__Comp_ImportedNames, Fpl, Upon));
	JB_String* Subname = JB_Str_TrimExtAndPath(Fpl, true);
	JB_Incr(Subname);
	JB_String* _tmPf1 = JB_Str_OperatorPlus(Subname, JB_LUB[156]);
	JB_Incr(_tmPf1);
	JB_Decr(Subname);
	JB_String* _tmPf0 = JB_Str_OperatorPlus(JB_LUB[2275], _tmPf1);
	JB_Incr(_tmPf0);
	JB_Decr(_tmPf1);
	(SC_SC_Targets__SyntaxAccessSet(_tmPf0, true));
	JB_Decr(_tmPf0);
	SCFile* Conf = nil;
	JB_Incr(Conf);
	if (JB_Str_Exists(SC__Options_SingleFileInput) and (!JB_Str_Exists(Path))) {
		JB_File* _tmPf2 = JB_Str_AsFile(SC__Options_SingleFileInput);
		JB_Incr(_tmPf2);
		JB_SetRef(Conf, SC_Imp_ImportSpd(Upon, _tmPf2));
		JB_Decr(_tmPf2);
	}
	 else if (!JB_File_IsDir(F)) {
		JB_SetRef(Conf, SC_Imp_ImportSpd(Upon, F));
	}
	 else {
		if (!((JB_Str_ContainsString(Path, JB_LUB[3])) and (JB_Str_ByteValue(Path, 0) != '/'))) {
			JB_SetRef(F, SC_Imp__FindInputFolder(F));
			if (!(((bool)F) and JB_File_MustExist(F, JB_LUB[0]))) {
				JB_EarlyDecr(F);
				JB_EarlyDecr(Conf);
				return nil;
			}
		}
		JB_SetRef(Conf, SC_Imp_ImportDir(Upon, F));
	}
	SC_Imp_LoadConf(Upon, Conf);
	JB_File* _tmPf3 = JB_File_SyntaxAccess(F, JB_LUB[2276]);
	JB_Incr(_tmPf3);
	SC_Imp_IncludeCHeaders(Upon, _tmPf3, SC__Cpp_H_Input);
	JB_Decr(_tmPf3);
	JB_File* _tmPf4 = JB_File_SyntaxAccess(F, JB_LUB[2277]);
	JB_Incr(_tmPf4);
	JB_Decr(F);
	SC_Imp_IncludeCHeaders(Upon, _tmPf4, SC__Cpp_H_PostInput);
	JB_Decr(_tmPf4);
	if (Conf) {
		SC_Imp_ReloadImports(Upon, Conf);
	}
	JB_EarlyDecr(Conf);
	return true;
}

int SC_Imp__Init_() {
	{
		JB_SetRef(SC__Imp_AllFiles, JB_Array_Constructor0(nil));
	}
	;
	return 0;
}

bool SC_Imp__IsInputName(JB_String* Name) {
	if ((JB_Str_Equals(Name, JB_LUB[584], true)) or JB_Str_OperatorIsa(Name, JB_LUB[584])) {
		return true;
	}
	return false;
}

void SC_Imp__NoProj() {
	SC__Imp_Curr = nil;
	JB_ClassData_Restore((&SCDeclData));
}


void SC_NR_Collect(SCNodeRenamer* Self, Message* Msg, JB_String* Name, Message* After) {
	JB_Incr(Msg);
	JB_SetRef(Self->Name, Name);
	while (Msg != After) {
		if (SC_Msg_OperatorIsThing(Msg, Name)) {
			JB_Array_SyntaxAppend(Self->Nodes, Msg);
		}
		JB_SetRef(Msg, ((Message*)JB_Ring_FlatNext0(Msg)));
	};
	JB_Decr(Msg);
}

void SC_NR_CollectDclThg(SCNodeRenamer* Self, Message* DclThg) {
	Message* Dcl = JB_Msg_Ancestor(DclThg, kJB_SyxDecl);
	if (!(Dcl and (JB_Msg_EqualsSyx(DclThg, kJB_SyxThg)))) {
		JB_Msg_Fail(DclThg, nil);
		return;
	}
	SC_NR_Collect(Self, DclThg, DclThg->Name, SC_Msg_FullAfter(Dcl));
}

void SC_NR_CollectSelfs(SCNodeRenamer* Self, Message* Root) {
	{
		Message* Msg = Root;
		JB_Incr(Msg);
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Root));
		JB_Incr(_afterf1);
		while ((Msg) and (Msg != _afterf1)) {
			Message* _N_f2 = ((Message*)JB_Ring_FlatNext0(Msg));
			JB_Incr(_N_f2);
			if (JB_Msg_EqualsSyx(Msg, kJB_SyxSDot)) {
				SC_Func__Tran_Sdt(Msg);
			}
			JB_SetRef(Msg, _N_f2);
			JB_Decr(_N_f2);
		};
		JB_Decr(Msg);
		JB_Decr(_afterf1);
		;
	}
	;
	Message* _tmPf3 = ((Message*)JB_Ring_FlatAfter(Root));
	JB_Incr(_tmPf3);
	SC_NR_Collect(Self, Root, JB_LUB[401], _tmPf3);
	JB_Decr(_tmPf3);
}

SCNodeRenamer* SC_NR_Constructor(SCNodeRenamer* Self) {
	if (Self == nil) {
		Self = ((SCNodeRenamer*)JB_NewClass(&SCNodeRenamerData));
	}
	JB_Incr2(Self->Nodes, JB_Array_Constructor0(nil));
	JB_Incr2(Self->Name, JB_LUB[0]);
	//cpp_part;
	return Self;
}

void SC_NR_Destructor(SCNodeRenamer* Self) {
	//cpp_part;
	JB_Clear(Self->Nodes);
	JB_Clear(Self->Name);
}

void SC_NR_Rename(SCNodeRenamer* Self, Message* Name) {
	if ((JB_Ring_HasChildren(Name))) {
		JB_Msg_Fail(Name, JB_LUB[1010]);
		return;
	}
	{
		Array* _LoopSrcf2 = Self->Nodes;
		int _if0 = 0;
		while (true) {
			Message* N = ((Message*)JB_Array_Value(_LoopSrcf2, _if0));
			if (N == nil) {
				break;
			}
			N->Func = Name->Func;
			JB_SetRef(N->Name, Name->Name);
			N->Position = Name->Position;
			(++_if0);
		};
	};
}

void SC_NR_Uniqueify(SCNodeRenamer* Self, SCNode* P) {
	JB_String* _tmPf1 = SC_UniqueTmpVar(P, Self->Name);
	JB_Incr(_tmPf1);
	Message* _tmPf0 = JB_Syx_OperatorPlus(kJB_SyxThg, _tmPf1);
	JB_Incr(_tmPf0);
	JB_Decr(_tmPf1);
	SC_NR_Rename(Self, _tmPf0);
	JB_Decr(_tmPf0);
}


int SC_SCObject_Auto_Type(SCObject* Self) {
	if (JB_Object_FastIsa(Self, &SCDeclData)) {
		if (SC_Decl_SyntaxIs(((SCDecl*)Self), kSC__SCDeclInfo_Property)) {
			return -2;
		}
		if (SC_Decl_SyntaxIs(((SCDecl*)Self), kSC__SCDeclInfo_Const)) {
			return 5;
		}
		return 0;
	}
	if (JB_Object_FastIsa(Self, &SCFunctionData)) {
		if (SC_Func_SyntaxIs(((SCFunction*)Self), kSC__FunctionType_VirtualCaller)) {
			return 4;
		}
		return 1;
	}
	if (JB_Object_Isa(Self, &SCClassData) or JB_Object_Isa(Self, &SCModuleData)) {
		return 2;
	}
	return 3;
}

JB_String* SC_SCObject_AutoCompleteKind(SCObject* Self) {
	if (JB_Object_FastIsa(Self, &SCModuleData)) {
		return JB_LUB[447];
	}
	if (JB_Object_FastIsa(Self, &SCClassData)) {
		if (((SCClass*)Self)->FuncProto) {
			return JB_LUB[484];
		}
		if (SC_Class_IsDataTypeOnly(((SCClass*)Self))) {
			return JB_LUB[448];
		}
		if (SC_Class_IsStruct(((SCClass*)Self))) {
			return JB_LUB[449];
		}
		if (SC_Class_IsObject(((SCClass*)Self))) {
			return JB_LUB[446];
		}
	}
	if (JB_Object_FastIsa(Self, &SCDeclData)) {
		if (SC_Decl_SyntaxIs(((SCDecl*)Self), kSC__SCDeclInfo_Const)) {
			return JB_LUB[485];
		}
		if (SC_Decl_SyntaxIs(((SCDecl*)Self), kSC__SCDeclInfo_Global)) {
			return JB_LUB[486];
		}
		if (SC_Decl_SyntaxIs(((SCDecl*)Self), kSC__SCDeclInfo_Property)) {
			return JB_LUB[487];
		}
		if (SC_Decl_SyntaxIs(((SCDecl*)Self), kSC__SCDeclInfo_Param)) {
			return JB_LUB[488];
		}
		return JB_LUB[489];
	}
	return JB_LUB[490];
}

int SC_SCObject_AutoCompleteType(SCObject* Self) {
	if (JB_Object_FastIsa(Self, &SCModuleData)) {
		if (((SCModule*)Self)->Cls) {
			int R = 1;
			if (SC_Class_EqualsType(((SCModule*)Self)->Cls, kSC__SCNodeType_ProtoType)) {
				R = (R | 8);
			}
			return R;
		}
		return 2;
	}
	return 4;
}

JB_String* SC_SCObject_BaseIcon(SCObject* Self) {
	if (JB_Object_FastIsa(Self, &SCModuleData)) {
		if (((SCModule*)Self)->Cls) {
			return JB_LUB[491];
		}
		return JB_LUB[492];
	}
	if (JB_Object_FastIsa(Self, &SCFunctionData)) {
		if (SC_Func_IsBehaviour(((SCFunction*)Self))) {
			return JB_LUB[493];
		}
		if (SC_Func_SyntaxIs(((SCFunction*)Self), kSC__FunctionType_VirtualCaller)) {
			return JB_LUB[494];
		}
		return JB_LUB[495];
	}
	if (JB_Object_FastIsa(Self, &SCClassData)) {
		return JB_LUB[496];
	}
	if (JB_Object_FastIsa(Self, &SCDeclData)) {
		if (SC_Decl_SyntaxIs(((SCDecl*)Self), kSC__SCDeclInfo_Property)) {
			return JB_LUB[497];
		}
		if (SC_Decl_SyntaxIs(((SCDecl*)Self), kSC__SCDeclInfo_Const)) {
			return JB_LUB[498];
		}
	}
	if (JB_Object_FastIsa(Self, &SCIteratorData)) {
		return JB_LUB[499];
	}
	return JB_LUB[500];
}

JB_String* SC_SCObject_CallFromName(SCObject* Self) {
	if (JB_Object_FastIsa(Self, &SCFunctionData)) {
		if (SC_Func_SyntaxIs(((SCFunction*)Self), kSC__FunctionType_InitFunc)) {
			return JB_LUB[1982];
		}
		return SC_Func_RenderName(((SCFunction*)Self), nil);
	}
	if (JB_Object_FastIsa(Self, &SCDeclData)) {
		return SC_Decl_AutoCompleteName(((SCDecl*)Self));
	}
	return Self->Name;
}

JB_String* SC_SCObject_CanAuto(SCObject* Self, JB_String* Search) {
	JB_String* Rz = JB_LUB[0];
	Rz = SC_SCObject_CanAutoSub(Self, Search);
	if (JB_Str_Exists(Rz)) {
		bool IsExact = (JB_Str_Equals(Rz, Search, true));
		if (JB_Object_FastIsa(Self, &SCFunctionData)) {
			if (SC_Func_VisibleArgs(((SCFunction*)Self))) {
				Rz = JB_Str_OperatorPlus(Rz, JB_LUB[1416]);
			}
		}
		if ((!IsExact) and Self->NoAutoComplete) {
			Rz = JB_LUB[0];
		}
	}
	return Rz;
}

JB_String* SC_SCObject_CanAutoSub(SCObject* Self, JB_String* Search) {
	if (JB_Object_FastIsa(Self, &SCFunctionData)) {
		if (!((!((SCFunction*)Self)->NoAutoComplete) or ((JB_Str_Equals(((SCFunction*)Self)->Name, Search, true))))) {
			return JB_LUB[0];
		}
		if ((JB_Str_OperatorStarts(((SCFunction*)Self)->Name, JB_LUB[1364])) and (!(JB_Str_OperatorStarts(Search, JB_LUB[1365])))) {
			return JB_LUB[0];
		}
	}
	 else if (JB_Object_FastIsa(Self, &SCDeclData)) {
		return SC_Decl_RealName(((SCDecl*)Self));
	}
	 else if (JB_Object_FastIsa(Self, &SCModuleData)) {
		SCClass* Cls = ((SCModule*)Self)->Cls;
		if (Cls) {
			if ((Cls->NoAutoComplete or SC_Class_IsBehaviourTable(Cls))) {
				return JB_LUB[0];
			}
		}
	}
	return Self->Name;
}

bool SC_SCObject_CanLinkFrom(SCObject* Self, SCFunction* Fn) {
	if (Self->CurrFuncLink == Fn->LinkID) {
		return false;
	}
	Self->CurrFuncLink = Fn->LinkID;
	return true;
}

SCObject* SC_SCObject_Constructor(SCObject* Self) {
	if (Self == nil) {
		Self = ((SCObject*)JB_NewClass(&SCObjectData));
	}
	Self->CurrFuncLink = 0;
	Self->GPackID = 0;
	Self->NoAutoComplete = 0;
	Self->AllocSource = 0;
	Self->FPackID = 0;
	Self->Source = nil;
	JB_Incr2(Self->Name, JB_LUB[0]);
	JB_Incr2(Self->ExportName, JB_LUB[0]);
	Self->NodeInfo = SC__Comp_InBuiltType;
	Self->LinkFrom = nil;
	return Self;
}

void SC_SCObject_Destructor(SCObject* Self) {
	//cpp_part;
	JB_Clear(Self->LinkFrom);
	JB_Clear(Self->Source);
	JB_Clear(Self->Name);
	JB_Clear(Self->ExportName);
}

SCFunction* SC_SCObject_Disambiguate(SCObject* Self, Message* Src) {
	SCFunction* Rz = nil;
	if (JB_Object_FastIsa(Self, &SCDeclData)) {
		Rz = ((SCDecl*)Self)->HiderFunc;
	}
	if (JB_Object_FastIsa(Self, &SCFunctionData)) {
		Rz = ((SCFunction*)Self);
	}
	Rz = SC_Func_Disambiguate(Rz, Src);
	return Rz;
}

JB_String* SC_SCObject_Display(SCObject* Self, bool Exact) {
	if (JB_Object_FastIsa(Self, &SCFunctionData)) {
		if (SC_Func_IsAllocOrNew(((SCFunction*)Self)) or (SC_Func_SyntaxIs(((SCFunction*)Self), kSC__FunctionType_Disabled))) {
			return JB_LUB[0];
		}
		return ((JB_String*)JB_Ternary(Exact, SC_Func_RenderTitle(((SCFunction*)Self), false, nil), ((SCFunction*)Self)->Name));
	}
	if (JB_Object_FastIsa(Self, &SCDeclData)) {
		return SC_Decl_AutoCompleteName(((SCDecl*)Self));
	}
	if (JB_Object_FastIsa(Self, &SCIteratorData)) {
		return JB_LUB[0];
	}
	return Self->Name;
}

SCFile* SC_SCObject_File(SCObject* Self) {
	Message* Src = Self->Source;
	if (Src) {
		return SC_Msg_File(Src);
	}
	if (JB_Object_FastIsa(Self, &SCModuleData)) {
		return ({
			SCClass* _t = ((SCModule*)Self)->Cls;
			 ((SCFile*)JB_Ternary(_t, SC_SCObject_File(_t), nil));
		});
	}
	return nil;
}

bool SC_SCObject_IsVisible(SCObject* Self) {
	return SC_SCObject_SyntaxIs(Self, kSC__SCNodeInfo_Visible);
}

void SC_SCObject_IsVisibleSet(SCObject* Self, bool Value) {
	((SC_SCObject_SyntaxIsSet(Self, kSC__SCNodeInfo_Visible, Value)));
}

void SC_SCObject_MakeID(SCObject* Self, FastString* Fs, void** Table, bool IsFunc) {
	int Id = SC_SCObject_PackID(Self, IsFunc);
	if (!Id) {
		if (Fs) {
			//;
			JB_FS_AppendByte(Fs, '\n');
			JB_FS_AppendString(Fs, Self->ExportName);
			//;
		}
		Id = (++SC__LibStability_LastLibID);
		(SC_SCObject_PackIDSet(Self, IsFunc, Id));
	}
	if (Table) {
		if (!JB_dylib_IsOpen((&SC_SelfLib))) {
			JB_dylib__New(nil, 0, (&(SC_SelfLib)));
		}
		void* Fn = JB_dylib_Load((&SC_SelfLib), Self->ExportName);
		if (Fn) {
			Table[Id + 31] = Fn;
		}
	}
}

void SC_SCObject_MarkUnused(SCObject* Self, Message* Feedback, uint /*byte*/ Debug, JB_String* Name) {
	;
	Message* S = Self->Source;
	if (S) {
		if (!JB_Str_Exists(Name)) {
			Name = Self->Name;
		}
		JB_String* Str = SC_SCObject_UnusedStr(Self, Name);
		if (JB_Str_Exists(Str)) {
			JB_Msg_AppendNum(JB_Msg_Msg(Feedback, kJB_SyxTmp, Str), S->Position);
		}
	}
}

void SC_SCObject_NameConflict(SCObject* Self, SCObject* Old, JB_String* Name) {
	JB_String* Msg = JB_Str_OperatorPlus(JB_LUB[1028], Name);
	JB_Incr(Msg);
	if (true) {
		JB_Msg_Fail(Self->Source, Msg);
	}
	JB_Error* _tmPf0 = JB_Rec_LastError(JB_StdErr);
	JB_Incr(_tmPf0);
	(JB_Err_SyntaxIsSet(_tmPf0, kJB__ErrorFlags_DontStrip, true));
	JB_Decr(_tmPf0);
	if (true) {
		JB_Msg_Fail(Old->Source, Msg);
	}
	JB_Decr(Msg);
	JB_Error* _tmPf1 = JB_Rec_LastError(JB_StdErr);
	JB_Incr(_tmPf1);
	(JB_Err_SyntaxIsSet(_tmPf1, kJB__ErrorFlags_DontStrip, true));
	JB_Decr(_tmPf1);
}

SCObject* SC_SCObject_NextDisplay(SCObject* Self, bool Exact) {
	if (Exact) {
		if (JB_Object_FastIsa(Self, &SCFunctionData)) {
			return ((SCFunction*)Self)->NextFunc;
		}
		if (JB_Object_FastIsa(Self, &SCDeclData)) {
			return ((SCDecl*)Self)->HiderFunc;
		}
	}
	return nil;
}

int SC_SCObject_PackID(SCObject* Self, bool isFunc) {
	if (isFunc) {
		return Self->FPackID;
	}
	return Self->GPackID;
}

void SC_SCObject_PackIDSet(SCObject* Self, bool isFunc, int Value) {
	if (isFunc) {
		Self->FPackID = Value;
	}
	 else {
		Self->GPackID = Value;
	}
}

bool SC_SCObject_RehomeExport(SCObject* Self) {
	if (JB_Object_Isa(Self, &SCBetterNodeData)) {
		if ((SC_Base_IsLibrary(((SCBetterNode*)Self)))) {
			SC_SCObject_Fail(((SCBetterNode*)Self), JB_LUB[1029]);
		}
	}
	JB_String* Newhome = SC_SCObject_UniquifyExport(Self, Self->ExportName);
	JB_Incr(Newhome);
	if (!JB_Str_Exists(Newhome)) {
		JB_EarlyDecr(Newhome);
		return nil;
	}
	(JB_Dict_ValueSet(SC__Comp_ExportNames, Self->ExportName, nil));
	(JB_Dict_ValueSet(SC__Comp_ExportNames, Newhome, Self));
	JB_SetRef(Self->ExportName, Newhome);
	JB_EarlyDecr(Newhome);
	return true;
}

JB_String* SC_SCObject_Render(SCObject* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	_cstring Cname = ((_cstring)(((uint64)JB_ObjClass(Self)->Name) + 2));
	JB_FS_AppendCString(Fs, Cname);
	JB_FS_AppendString(Fs, JB_LUB[121]);
	JB_FS_AppendString(Fs, Self->Name);
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

bool SC_SCObject_syntaxequals(SCObject* Self, JB_String* Name) {
	;
	//visible;
	return false;
}

void SC_SCObject_Fail(SCObject* Self, JB_String* Error) {
	//cpp_part;
	JB_Rec__Latchkum(Self->Source, Error, nil);
}

bool SC_SCObject_SyntaxIs(SCObject* Self, uint /*SCNodeInfo*/ I) {
	return ((bool)(Self->NodeInfo & I));
}

void SC_SCObject_SyntaxIsSet(SCObject* Self, uint /*SCNodeInfo*/ I, bool Value) {
	uint X = Self->NodeInfo;
	if (Value) {
		X = (X | I);
	}
	 else {
		X = (X & (~I));
	}
	Self->NodeInfo = X;
}

SCFunction* SC_SCObject_TheIsFunc2(SCObject* Self, Message* Err) {
	SCFunction* Rz = nil;
	if (JB_Object_FastIsa(Self, &SCDeclData)) {
		if (!SC_Decl_IsMostlyNormal(((SCDecl*)Self))) {
			JB_Msg_Fail(Err, JB_LUB[1479]);
			return nil;
		}
		Rz = ((SCDecl*)Self)->Type->TheIsFunc;
		if (!Rz) {
			if (true) {
				JB_Msg_Fail(Err, JB_Str_OperatorPlus(((SCDecl*)Self)->Name, JB_LUB[1480]));
			}
		}
	}
	 else if (JB_Object_FastIsa(Self, &SCModuleData)) {
		Rz = SC_Base_FindFunction(((SCModule*)Self), JB_LUB[1481], Err);
	}
	return Rz;
}

JB_String* SC_SCObject_UniquifyExport(SCObject* Self, JB_String* S) {
	if (JB_Object_FastIsa(Self, &SCFunctionData)) {
		JB_String* S2 = SC_Func_ParamUniquer(((SCFunction*)Self), S);
		JB_Incr(S2);
		if (!JB_FreeIfDead(((SCObject*)JB_Dict_Value0(SC__Comp_ExportNames, S2)))) {
			JB_SafeDecr(S2);
			return S2;
		}
		JB_Decr(S2);
	}
	int U = SC__SC_UniqueNum++;
	JB_String* S3 = JB_Str_OperatorPlusWithInt64(S, U);
	JB_Incr(S3);
	if (!JB_FreeIfDead(((SCObject*)JB_Dict_Value0(SC__Comp_ExportNames, S3)))) {
		JB_SafeDecr(S3);
		return S3;
	}
	JB_EarlyDecr(S3);
	return JB_LUB[0];
}

JB_String* SC_SCObject_UnusedReason(SCObject* Self) {
	if (JB_Object_FastIsa(Self, &SCDeclData)) {
		if ((SC_Decl_SyntaxIs(((SCDecl*)Self), kSC__SCDeclInfo_Const)) and (JB_Object_FastIsa(((SCDecl*)Self)->IsLookupOnly, &SCFunctionData))) {
			return JB_LUB[0];
		}
		if (SC_Decl_SyntaxIs(((SCDecl*)Self), kSC__SCDeclInfo_SetTo)) {
			return JB_LUB[501];
		}
		if (SC_Decl_SyntaxIs(((SCDecl*)Self), kSC__SCDeclInfo_ReadFrom)) {
			return JB_LUB[502];
		}
	}
	return JB_LUB[503];
}

JB_String* SC_SCObject_UnusedStr(SCObject* Self, JB_String* Name) {
	JB_String* Reason = SC_SCObject_UnusedReason(Self);
	JB_Incr(Reason);
	if (!JB_Str_Exists(Reason)) {
		JB_EarlyDecr(Reason);
		return JB_LUB[0];
	}
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	bool Plural = JB_Str_ContainsByte(Name, ',');
	JB_String* _tmPf0 = SC_SCObject_AutoCompleteKind(Self);
	JB_Incr(_tmPf0);
	JB_FreeIfDead(JB_Str_Pluralize(_tmPf0, Plural, Fs));
	JB_Decr(_tmPf0);
	JB_FS_AppendByte(Fs, ' ');
	JB_FS_AppendString(Fs, Name);
	if (Plural) {
		JB_FS_AppendString(Fs, JB_LUB[593]);
	}
	 else {
		JB_FS_AppendString(Fs, JB_LUB[594]);
	}
	JB_FS_AppendString(Fs, Reason);
	JB_Decr(Reason);
	JB_String* _tmPf1 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}


bool SC_Opp_CanOpCompare(SCOperator* Self, SCDecl* Lc, SCDecl* Rc, Message* Exp) {
	if (!JB_Msg_OperatorIn(Exp, kJB_SyxArg)) {
		bool Eq = ((bool)(SC_Opp_SyntaxIs(Self, kSC__OpMode_EqualOrNot)));
		if (SC_Decl_CanCompare(Lc, Rc, Eq)) {
			return true;
		}
	}
	return false;
}

SCOperator* SC_Opp_Constructor(SCOperator* Self, JB_String* Name, fn_OpASM ASM, OpMode Mode) {
	if (Self == nil) {
		Self = ((SCOperator*)JB_NewClass(&SCOperatorData));
	}
	Self->Score = 0;
	JB_Incr2(Self->CompOp, JB_LUB[0]);
	JB_Incr2(Self->CompParam, JB_LUB[0]);
	JB_Incr2(Self->FuncName, JB_LUB[0]);
	Self->Opposite = nil;
	JB_Incr2(Self->Name, Name);
	Self->Kind = Mode;
	Self->OpASM = ASM;
	if (JB_Str_Exists(Name)) {
		(JB_Dict_ValueSet(SC__Opp_Dict, Name, Self));
	}
	return Self;
}

void SC_Opp_Destructor(SCOperator* Self) {
	//cpp_part;
	JB_Clear(Self->CompOp);
	JB_Clear(Self->CompParam);
	JB_Clear(Self->FuncName);
	JB_Clear(Self->Name);
}

void SC_Opp_InitComp(SCOperator* Self, JB_String* Name_) {
	if (JB_Str_First(Name_) == '~') {
		Self->Kind = (Self->Kind | kSC__OpMode_CaseAware);
	}
	Self->Kind = (Self->Kind | kSC__OpMode_Compare);
	JB_SetRef(Self->FuncName, JB_LUB[472]);
	JB_String* S = SC_Opp_SimpleName(Self);
	JB_Incr(S);
	if (JB_Str_Length(S) == 2) {
		JB_SetRef(Self->CompOp, S);
	}
	 else {
		JB_SetRef(Self->CompOp, JB_LUB[473]);
	}
	if ((JB_Str_Equals(S, JB_LUB[36], false))) {
		JB_SetRef(Self->CompParam, JB_LUB[474]);
		JB_SetRef(Self->CompOp, JB_LUB[475]);
	}
	 else if ((JB_Str_Equals(S, JB_LUB[38], false))) {
		JB_SetRef(Self->CompParam, JB_LUB[476]);
		JB_SetRef(Self->CompOp, JB_LUB[477]);
	}
	 else if (((JB_Str_Equals(S, JB_LUB[475], false))) or ((JB_Str_Equals(S, JB_LUB[477], false)))) {
		JB_SetRef(Self->CompParam, JB_LUB[478]);
	}
	 else {
		JB_SetRef(Self->CompParam, JB_LUB[478]);
	}
	JB_Decr(S);
}

JB_String* SC_Opp_Render(SCOperator* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, Self->Name);
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

void SC_Opp_SetFuncNameSet(SCOperator* Self, JB_String* S) {
	JB_String* _tmPf0 = JB_Str_UpperFirst(S);
	JB_Incr(_tmPf0);
	JB_SetRef(Self->FuncName, JB_Str_OperatorPlus(JB_LUB[557], _tmPf0));
	JB_Decr(_tmPf0);
	JB_String* _tmPf1 = JB_Str_LowerCase(S);
	JB_Incr(_tmPf1);
	(JB_Dict_ValueSet(SC__Opp_Dict, _tmPf1, Self));
	JB_Decr(_tmPf1);
}

JB_String* SC_Opp_SimpleName(SCOperator* Self) {
	JB_String* N = Self->Name;
	if (SC_Opp_SyntaxIs(Self, kSC__OpMode_CaseAware)) {
		return JB_Str_Range(N, (1), kJB__int_Max, false);
	}
	return N;
}

OpMode SC_Opp_SyntaxIs(SCOperator* Self, OpMode X) {
	return Self->Kind & X;
}

void SC_Opp__AddBasic() {
	JB_SetRef(SC__Opp_Assigns, SC_Opp_Constructor(nil, JB_LUB[455], nil, kSC__OpMode_Assigns));
	SC_Opp_Constructor(nil, JB_LUB[479], nil, kSC__OpMode_AND);
	SC_Opp_Constructor(nil, JB_LUB[465], nil, kSC__OpMode_OR);
}

SCOperator* SC_Opp__AddBit(JB_String* S, JB_String* FuncName, fn_OpASM ASM, OpMode Mode) {
	SCOperator* Opp = SC_Opp_Constructor(nil, S, ((fn_OpASM)(ASM)), Mode | kSC__OpMode_Bit);
	JB_Incr(Opp);
	(SC_Opp_SetFuncNameSet(Opp, FuncName));
	JB_SafeDecr(Opp);
	return Opp;
}

void SC_Opp__AddComp(JB_String* S, fn_OpASM ASM, OpMode Mode) {
	SCOperator* Opp = SC_Opp_Constructor(nil, S, ((fn_OpASM)(ASM)), Mode | kSC__OpMode_Compare);
	JB_Incr(Opp);
	SC_Opp_InitComp(Opp, S);
	JB_Decr(Opp);
	JB_String* Newname = ((JB_String*)JB_Ternary((!JB_Str_Equals(S, JB_LUB[473], false)), JB_Str_OperatorPlus(JB_LUB[75], S), JB_LUB[592]));
	JB_Incr(Newname);
	Mode = (Mode & (~kSC__OpMode_NilTest));
	SCOperator* _tmPf0 = SC_Opp_Constructor(nil, Newname, nil, Mode | kSC__OpMode_Custom);
	JB_Incr(_tmPf0);
	SC_Opp_InitComp(_tmPf0, Newname);
	JB_Decr(Newname);
	JB_Decr(_tmPf0);
}

SCOperator* SC_Opp__AddCustom(JB_String* S) {
	SCOperator* Opp = SC_Opp_Constructor(nil, S, nil, kSC__OpMode_Custom);
	JB_Incr(Opp);
	Opp->Score = SC__Opp_CustomOperatorScore;
	(SC_Opp_SetFuncNameSet(Opp, S));
	JB_SafeDecr(Opp);
	return Opp;
}

void SC_Opp__AddMath(JB_String* S, JB_String* FuncName, fn_OpASM ASM, OpMode Mode) {
	SCOperator* Opp = SC_Opp_Constructor(nil, S, ((fn_OpASM)(ASM)), Mode | kSC__OpMode_Math);
	JB_Incr(Opp);
	(SC_Opp_SetFuncNameSet(Opp, FuncName));
	JB_Decr(Opp);
}

void SC_Opp__BuildOrder() {
	JB_String* Strs = JB_LUB[1162];
	JB_Incr(Strs);
	Array* Order = JB_Str_Split(Strs, '\n');
	JB_Incr(Order);
	JB_Decr(Strs);
	Message* Fake = JB_Syx_OperatorPlus(kJB_SyxOpp, JB_LUB[0]);
	JB_Incr(Fake);
	{
		int _if0 = 0;
		while (true) {
			JB_String* Wi = ((JB_String*)JB_Array_Value(Order, _if0));
			JB_Incr(Wi);
			if (Wi == nil) {
				JB_EarlyDecr(Wi);
				break;
			}
			int I = _if0;
			{
				Array* _LoopSrcf4 = JB_Str_Words(Wi);
				JB_Incr(_LoopSrcf4);
				int _if2 = 0;
				while (true) {
					JB_String* S2 = ((JB_String*)JB_Array_Value(_LoopSrcf4, _if2));
					JB_Incr(S2);
					if (S2 == nil) {
						JB_EarlyDecr(S2);
						break;
					}
					if (JB_Str_Exists(S2)) {
						JB_SetRef(Fake->Name, S2);
						SCOperator* _tmPf5 = SC_Opp__Lookup(Fake);
						JB_Incr(_tmPf5);
						_tmPf5->Score = I;
						JB_Decr(_tmPf5);
					}
					JB_Decr(S2);
					(++_if2);
				};
				JB_Decr(_LoopSrcf4);
			}
			;
			JB_Decr(Wi);
			(++_if0);
		};
	}
	;
	JB_Decr(Order);
	JB_Decr(Fake);
	SCOperator* _tmPf6 = ((SCOperator*)JB_Dict_Value0(SC__Opp_Dict, JB_LUB[455]));
	JB_Incr(_tmPf6);
	_tmPf6->Score = 100;
	JB_Decr(_tmPf6);
	SCOperator* _tmPf7 = ((SCOperator*)JB_Dict_Value0(SC__Opp_Dict, JB_LUB[1163]));
	JB_Incr(_tmPf7);
	SC__Opp_CustomOperatorScore = _tmPf7->Score;
	JB_Decr(_tmPf7);
}

void SC_Opp__Init() {
	JB_SetRef(SC__Opp_Negative->Name, JB_LUB[551]);
	JB_SetRef(SC__Opp_Bnot->Name, JB_LUB[75]);
	SC_Opp__AddComp(JB_LUB[473], ((fn_OpASM)((&SC_Pac_Equals))), kSC__OpMode_ExactEquals);
	SC_Opp__AddComp(JB_LUB[36], ((fn_OpASM)((&SC_Pac_Less))), kSC__OpMode_Comparison + kSC__OpMode_Less);
	SC_Opp__AddComp(JB_LUB[38], ((fn_OpASM)((&SC_Pac_More))), kSC__OpMode_Comparison + kSC__OpMode_More);
	SC_Opp__AddComp(JB_LUB[475], ((fn_OpASM)((&SC_Pac_LessEq))), kSC__OpMode_Comparison + kSC__OpMode_LessOrEqual);
	SC_Opp__AddComp(JB_LUB[477], ((fn_OpASM)((&SC_Pac_MoreEq))), kSC__OpMode_Comparison + kSC__OpMode_MoreOrEqual);
	SC_Opp__AddComp(JB_LUB[1521], ((fn_OpASM)((&SC_Pac_NotEq))), kSC__OpMode_ExactNotEquals);
	SC_Opp__OppositeComp(JB_LUB[473], JB_LUB[1521]);
	SC_Opp__OppositeComp(JB_LUB[36], JB_LUB[477]);
	SC_Opp__OppositeComp(JB_LUB[38], JB_LUB[475]);
	SC_Opp__AddBasic();
	SC_Opp__AddMath(JB_LUB[76], JB_LUB[76], ((fn_OpASM)((&SC_Pac_Mod))), kSC__OpMode_CustomOnFloat);
	SC_Opp__AddMath(JB_LUB[550], JB_LUB[2097], ((fn_OpASM)((&SC_Pac_Plus))), kSC__OpMode_Addition);
	SC_Opp__AddMath(JB_LUB[551], JB_LUB[2098], ((fn_OpASM)((&SC_Pac_Subtract))), kSC__OpMode_Subtraction);
	SC_Opp__AddMath(JB_LUB[2099], JB_LUB[2100], ((fn_OpASM)((&SC_Pac_Multiply))), kSC__OpMode_Multiply);
	SC_Opp__AddMath(JB_LUB[3], JB_LUB[2101], ((fn_OpASM)((&SC_Pac_Divide))), 0);
	JB_FreeIfDead(SC_Opp__AddBit(JB_LUB[2102], JB_LUB[2103], ((fn_OpASM)((&SC_Pac_SHR))), kSC__OpMode_RightShift));
	JB_SetRef(SC__Opp_LeftShift, SC_Opp__AddBit(JB_LUB[1171], JB_LUB[2104], ((fn_OpASM)((&SC_Pac_SHL))), kSC__OpMode_ShiftOnly));
	JB_FreeIfDead(SC_Opp__AddBit(JB_LUB[73], JB_LUB[2105], ((fn_OpASM)((&SC_Pac_BitOr))), 0));
	JB_FreeIfDead(SC_Opp__AddBit(JB_LUB[32], JB_LUB[2106], ((fn_OpASM)((&SC_Pac_BitAnd))), kSC__OpMode_SameOrLessBits));
	JB_FreeIfDead(SC_Opp__AddBit(JB_LUB[74], JB_LUB[2107], ((fn_OpASM)((&SC_Pac_BitXor))), kSC__OpMode_NoExtraBits));
	JB_SetRef(SC__Opp_Subtract, ((SCOperator*)JB_Dict_Value0(SC__Opp_Dict, JB_LUB[551])));
	SCOperator* BitOr = ((SCOperator*)JB_Dict_Value0(SC__Opp_Dict, JB_LUB[73]));
	(JB_Dict_ValueSet(SC__Opp_Dict, JB_LUB[506], BitOr));
	(JB_Dict_ValueSet(SC__Opp_Dict, JB_LUB[505], BitOr));
	(JB_Dict_ValueSet(SC__Opp_Dict, JB_LUB[2108], ((SCOperator*)JB_Dict_Value0(SC__Opp_Dict, JB_LUB[2109]))));
	JB_FreeIfDead(SC_Opp__AddBit(JB_LUB[1809], JB_LUB[1809], nil, kSC__OpMode_SyntaxIs));
	JB_FreeIfDead(SC_Opp__AddBit(JB_LUB[1810], JB_LUB[1810], nil, kSC__OpMode_SyntaxIs));
	SC_Opp__BuildOrder();
}

int SC_Opp__Init_() {
	{
		JB_SetRef(SC__Opp_Dict, JB_Dict_Constructor(nil));
		JB_SetRef(SC__Opp_Negative, SC_Opp_Constructor(nil, JB_LUB[0], ((fn_OpASM)((&SC_Pac_Minus))), kSC__OpMode_Subtraction));
		JB_SetRef(SC__Opp_Bnot, SC_Opp_Constructor(nil, JB_LUB[0], ((fn_OpASM)((&SC_Pac_BitNot))), kSC__OpMode_Bit));
	}
	;
	return 0;
}

SCOperator* SC_Opp__Lookup(Message* Opch) {
	if (Opch->Func == kJB_SyxOpp) {
		SCOperator* Result = ((SCOperator*)Opch->Obj);
		if (Result) {
			if ((!((bool)SC_Opp_SyntaxIs(Result, kSC__OpMode_Custom)))) {
				JB_SetRef(Opch->Name, Result->Name);
			}
			return Result;
		}
		JB_String* Op = Opch->Name;
		Result = ((SCOperator*)JB_Dict_Value0(SC__Opp_Dict, Op));
		if ((!Result)) {
			Result = SC_Opp__AddCustom(Op);
		}
		 else if ((!JB_Str_Equals(Op, Result->Name, false))) {
			if ((!((bool)SC_Opp_SyntaxIs(Result, kSC__OpMode_Custom)))) {
				JB_SetRef(Opch->Name, Result->Name);
			}
		}
		return Result;
	}
	if (true) {
		JB_Msg_Fail(Opch, nil);
	}
	return SC__Opp_Bnot;
}

void SC_Opp__OppositeComp(JB_String* A, JB_String* B) {
	SCOperator* pA = ((SCOperator*)JB_Dict_Value0(SC__Opp_Dict, A));
	SCOperator* pB = ((SCOperator*)JB_Dict_Value0(SC__Opp_Dict, B));
	if (pA and pB) {
		pA->Opposite = pB;
		pB->Opposite = pA;
	}
}


void SC_PA_AddParam(SCParamArray* Self, Message* Item) {
	SC_PA_AddSub(Self, Item);
	Self->HasProperParams = true;
}

void SC_PA_AddSub(SCParamArray* Self, Message* M) {
	if (Self->Size >= 8) {
		return;
	}
	int I = Self->Size++;
	Self->Items[I] = M;
}

Message* SC_PA_AddTestedParam(SCParamArray* Self, Message* Item, SCNode* Name_space) {
	Message* Nxt = ((Message*)JB_Ring_NextSib(Item));
	Message* Pr = ((Message*)JB_Ring_Parent(Item));
	if (!SC_TypeOfExpr(Item, Name_space, nil)) {
		JB_Msg_Fail(Item, JB_LUB[1412]);
		return nil;
	}
	if (JB_Tree_OperatorIn(Item, Pr)) {
		SC_PA_AddParam(Self, Item);
		return ((Message*)JB_Ring_NextSib(Item));
	}
	if (Nxt) {
		SC_PA_AddParam(Self, ((Message*)JB_Ring_PrevSib(Nxt)));
	}
	 else {
		SC_PA_AddParam(Self, ((Message*)JB_Ring_Last(Pr)));
	}
	return Nxt;
}

SCParamArray* SC_PA_Constructor(SCParamArray* Self, Message* Exp, JB_String* Name) {
	if (Self == nil) {
		Self = ((SCParamArray*)JB_NewClass(&SCParamArrayData));
	}
	Self->Size = 0;
	memzero((&Self->Items[0]), 64);
	Self->FailedAt = 0;
	Self->HasSide = false;
	Self->HasProperParams = false;
	Self->IsNotModule = false;
	Self->IsSelf = false;
	Self->IsSuper = false;
	Self->Found = false;
	Self->AllowSelfToConstructor = false;
	Self->Cls = nil;
	JB_Incr2(Self->LookupName, JB_Str_LowerCase(Name));
	Self->Exp = Exp;
	Self->IsDot = ((JB_Msg_EqualsSyx(Exp, kJB_SyxDot)));
	Self->IsAddress = (Exp and SC_Msg_OperatorIsBRel(SC_Msg_NiceParent(Exp), JB_LUB[32]));
	Self->ErrCount = JB_StdErr->ErrorCount;
	return Self;
}

void SC_PA_Destructor(SCParamArray* Self) {
	//cpp_part;
	JB_Clear(Self->LookupName);
}

SCNode* SC_PA_DetectDotSuper(SCParamArray* Self, SCNode* Curr, SCNode* Arg_space) {
	Self->IsNotModule = (!SC_Base_IsModuleFunc(Curr));
	if (Self->IsDot) {
		Message* Exp0 = ((Message*)JB_Ring_First(Self->Exp));
		if (Exp0) {
			Self->IsSelf = ((JB_Msg_SyntaxEquals(Exp0, JB_LUB[401], true)));
			if (Self->IsNotModule) {
				SCDecl* Ty = SC_TypeOfExpr(Exp0, Arg_space, nil);
				if (Ty) {
					Self->Cls = Ty->Type;
				}
				SC_PA_AddSub(Self, Exp0);
				if (SC_Msg_OperatorIsThing(Exp0, JB_LUB[1236])) {
					Self->IsSuper = true;
					JB_SetRef(Exp0->Name, JB_LUB[401]);
					return Curr->Parent;
				}
			}
		}
	}
	return Curr;
}

int SC_PA_IgnoreSelfContain(SCParamArray* Self) {
	int Rz = 0;
	SCClass* Cls = Self->Cls;
	if (Cls) {
		if (Self->IsDot and Self->IsNotModule) {
			if (SC_Class_IsStruct(Cls)) {
				Rz = (Rz | kJB_kTypeCastIgnoreAddressOf);
			}
			if (SC_Class_SyntaxIs(Cls, kSC__ClassInfo_IgnoreContainedSelf)) {
				Rz = (Rz | kJB_kTypeCastIgnoreContained);
			}
		}
	}
	return Rz;
}

bool SC_PA_IsModule(SCParamArray* Self) {
	return (!Self->IsNotModule);
}

bool SC_PA_IsSelfCon(SCParamArray* Self) {
	return (Self->IsSelf or Self->IsSuper) and (({
		SCFunction* _tmPf1 = SC_Func__CurrFunc();
		JB_Incr(_tmPf1);
		bool _tmPf0 = SC_Func_SyntaxIs(_tmPf1, kSC__FunctionType_Constructor);
		JB_EarlyDecr(_tmPf1);
		 _tmPf0;
	}));
}

Array* SC_PA_MacroCopyArgs(SCParamArray* Self) {
	Array* Rz = ((Array*)JB_Array_Constructor0(nil));
	int N2 = Self->Size - 1;
	{
		int _nf0 = Self->Size;
		int _if1 = 0;
		while (_if1 < _nf0) {
			int I = _if1;
			Message* S = Self->Items[_if1];
			if ((I == N2) and Self->HasSide) {
				0;
			}
			 else {
				JB_Array_SyntaxAppend(Rz, S);
			}
			(++_if1);
		};
	}
	;
	return Rz;
}

int SC_PA_MacroSize(SCParamArray* Self) {
	return Self->Size - Self->HasSide;
}

bool SC_PA_MadeError(SCParamArray* Self) {
	return JB_StdErr->ErrorCount > Self->ErrCount;
}

JB_String* SC_PA_ModuleName(SCParamArray* Self) {
	JB_String* Rz = JB_LUB[0];
	JB_Incr(Rz);
	Message* P = SC_PA_SyntaxAccess(Self, 0);
	JB_Incr(P);
	if (!Self->IsNotModule) {
		JB_SetRef(P, ((Message*)JB_Ring_First(Self->Exp)));
	}
	if (P) {
		JB_String* _tmPf0 = SC_Msg_RenderType(P);
		JB_Incr(_tmPf0);
		JB_SetRef(Rz, SC_Str_NicerClassName(_tmPf0));
		JB_Decr(_tmPf0);
	}
	JB_EarlyDecr(P);
	JB_SafeDecr(Rz);
	return Rz;
}

SCFunction* SC_PA_MultipleMatchingFunctions(SCParamArray* Self, int TypeCast, SCFunction* F, SCFunction* R) {
	if (!SC_PA_MadeError(Self)) {
		if (true) {
			JB_String* _tmPf0 = SC_Str_ArgsMatchError(JB_LUB[1011], TypeCast != 0);
			JB_Incr(_tmPf0);
			JB_Msg_Fail(Self->Exp, _tmPf0);
			JB_Decr(_tmPf0);
		}
		if (true) {
			JB_Msg_Fail(F->Source, JB_LUB[1012]);
		}
		if (true) {
			JB_Msg_Fail(R->Source, JB_LUB[1013]);
		}
	}
	return nil;
}

bool SC_PA_PreReadTypes(SCParamArray* Self, SCNode* Name_Space, Message* P, Message* Side) {
	if (P and (!Self->Exp)) {
		Self->Exp = P;
	}
	Message* Item = ((Message*)JB_Ring_First(P));
	JB_Incr(Item);
	while (Item) {
		JB_SetRef(Item, SC_PA_AddTestedParam(Self, Item, Name_Space));
	};
	JB_Decr(Item);
	(SC_PA_SideSet(Self, Side));
	return true;
}

JB_String* SC_PA_Render(SCParamArray* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	{
		int _LoopSrcf1 = ((int)Self->Size);
		int I = 0;
		int _firstf2 = I;
		while (I < _LoopSrcf1) {
			if (_firstf2 != I) {
				JB_FS_AppendByte2(Fs, ' ');
				JB_FS_AppendByte2(Fs, ',');
			}
			//start;
			Message* Obj = Self->Items[I];
			JB_Incr(Obj);
			JB_FreeIfDead(JB_Msg_Render(Obj, Fs));
			SCDecl* Ty = SC_TypeOfExpr(Obj, nil, nil);
			JB_Incr(Ty);
			JB_Decr(Obj);
			if (Ty) {
				JB_FreeIfDead(SC_Decl_Render(Ty, Fs));
			}
			JB_Decr(Ty);
			(++I);
		};
	}
	;
	JB_String* _tmPf3 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf3);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf3);
	return _tmPf3;
}

JB_String* SC_PA_RenderKind(SCParamArray* Self) {
	if ((!Self->IsNotModule)) {
		return JB_LUB[447];
	}
	SCClass* C = Self->Cls;
	JB_Incr(C);
	if (C) {
		JB_String* _tmPf0 = SC_SCObject_AutoCompleteKind(C);
		JB_Incr(_tmPf0);
		JB_EarlyDecr(C);
		JB_SafeDecr(_tmPf0);
		return _tmPf0;
	}
	JB_EarlyDecr(C);
	return JB_LUB[446];
}

void SC_PA_SideSet(SCParamArray* Self, Message* Value) {
	if (Value) {
		SC_PA_AddSub(Self, Value);
		Self->HasSide = true;
	}
}

void SC_PA_StructReturner(SCParamArray* Self, SCDecl* Type, SCFunction* Fn) {
	Message* S = Self->Exp;
	if (!S) {
		return;
	}
	Message* Rel = SC_Msg_UseNonRefChangers(S, true);
	Syntax F = Rel->Func;
	if ((F == kJB_SyxPrm) or ((F == kJB_SyxRel) and (!SC_Msg_SecondIs(Rel, kJB_SyxOpp, JB_LUB[455])))) {
		Message* P = SC_Msg_UpToArg(Rel);
		SCNode* Nsp = ((SCNode*)((Message*)JB_Ring_Parent(P))->Obj);
		Message* NewThg = SC_Func__TempMoveOut(S, P);
		Message* Dcl = ((Message*)JB_Ring_Parent(((Message*)JB_Ring_Parent(S))));
		SC_Msg_CollectFromBody(Dcl, Nsp);
		JB_SetRef(NewThg->Obj, Dcl->Obj);
		return;
	}
	if (SC_ASMType_SyntaxIs(SC_Msg_ASMType(Rel), kSC__ASMType_kReturn)) {
		Message* Prm = ((Message*)JB_Ring_Last(S));
		if (Prm) {
			Prm->Func = kJB_SyxPrm;
			Message* Subrz = JB_Msg_Msg(Prm, kJB_SyxThg, JB_LUB[1477]);
			JB_SetRef(Subrz->Obj, SC_Func_StructReturned(SC_Func__CurrFunc()));
			(JB_Ring_PrevSibSet(Rel, ((Message*)JB_Ring_First(Rel))));
			F = kJB_SyxNil;
		}
	}
	if (F == kJB_SyxRel) {
		Message* Name = ((Message*)JB_Ring_First(Rel));
		Message* Op = ((Message*)JB_Ring_NextSib(Name));
		if (JB_Msg_OperatorIn(Rel, kJB_SyxDecl)) {
			JB_Msg_BecomeStr(Op, kJB_SyxThg, Name->Name);
			Message* Dcl = ((Message*)JB_Ring_Parent(Rel));
			Message* Dcltype = ((Message*)JB_Ring_First(Dcl));
			if (Dcltype) {
				JB_Msg_BecomeStr(Dcltype, kJB_SyxThg, Type->Type->Name);
			}
			(JB_Ring_NextSibSet(Dcl, S));
			Message* Struct = SC_Decl_CreateStructNil(Type->Internal, Name);
			JB_Tree_SyntaxAppend(Dcl, SC_NewEqRelWithMsgMsg(Name, Struct));
		}
		 else {
			JB_Msg_BecomeStr(Op, kJB_SyxBra, JB_LUB[0]);
			JB_SetRef(Op->Obj, nil);
			JB_Tree_SyntaxAppend(Op, Name);
			Op = Name;
			(JB_Ring_NextSibSet(Rel, S));
		}
		Message* Prm = ((Message*)JB_Ring_Last(S));
		if (Fn->StructReturnPos == 1) {
			(JB_Ring_FirstSet(Prm, Rel));
		}
		 else {
			(JB_Ring_LastSet(Prm, Rel));
		}
		Prm->Func = kJB_SyxPrm;
		JB_Msg_BecomeStr(Rel, kJB_SyxBRel, JB_LUB[32]);
		JB_SetRef(Rel->Obj, Type);
		if (Op != Name) {
			JB_SetRef(Op->Obj, Name->Obj);
			if (!Op->Obj) {
				JB_SetRef(Op->Obj, Name);
				JB_Array_SyntaxAppend(SC__StructStuff_FixMe, Op);
			}
		}
	}
	 else if (F) {
		if (true) {
			JB_Msg_Fail(S, JB_LUB[2064]);
		}
	}
}

Message* SC_PA_SyntaxAccess(SCParamArray* Self, int I) {
	if (I < Self->Size) {
		return Self->Items[I];
	}
	return nil;
}


void JB_Sel_Destructor(Selector* Self) {
	//cpp_part;
	JB_Clear(Self->Name);
	JB_Clear(Self->Next);
}


JB_String* JB_Str_AfterByte(JB_String* Self, uint /*byte*/ B, int Last) {
	Ind Start = JB_Str_FindByte(Self, B, Last, 0);
	return JB_Str_Range(Self, Start + 1, Last, false);
}

JB_String* JB_Str_ArgName(JB_String* Self) {
	if (JB_Str_Exists(Self) and (JB_Str_First(Self) == '-')) {
		Ind I = JB_Str_FindByte(Self, '=', 0, kJB__int_Max);
		if (!JB_Ind_SyntaxCast(I)) {
			I = kJB__int_Max;
		}
		JB_String* S = JB_Str_Range(Self, 0, I, false);
		JB_Incr(S);
		JB_SetRef(S, JB_Str_TrimFirst(S, '-'));
		JB_String* _tmPf0 = JB_Str_LowerCase(S);
		JB_Incr(_tmPf0);
		JB_EarlyDecr(S);
		JB_SafeDecr(_tmPf0);
		return _tmPf0;
	}
	return JB_LUB[0];
}

JB_String* SC_Str_ArgsMatchError(JB_String* Self, bool TypeCast) {
	if (!TypeCast) {
		return Self;
	}
	return JB_Str_OperatorPlus(Self, JB_LUB[122]);
}

JB_String* JB_Str_ArgValue(JB_String* Self) {
	if (JB_Str_Exists(Self)) {
		if (JB_Str_ByteValue(Self, 0) != '-') {
			return Self;
		}
		Ind It = JB_Str_FindByte(Self, '=', 0, kJB__int_Max);
		if (JB_Ind_SyntaxCast(It)) {
			return JB_Str_Range(Self, It + (1), kJB__int_Max, false);
		}
		return JB_LUB[6];
	}
	return JB_LUB[0];
}

JB_String* JB_Str_BackToApp(JB_String* Self) {
	JB_String* Rz = JB_LUB[0];
	JB_Incr(Rz);
	JB_String* S = JB_Str_TrimSlashes(Self);
	JB_Incr(S);
	JB_String* _tmPf0 = JB_Str_Name(Self);
	JB_Incr(_tmPf0);
	JB_String* Final = JB_Str_OperatorPlus(JB_LUB[683], _tmPf0);
	JB_Incr(Final);
	JB_Decr(_tmPf0);
	if (JB_Str_OperatorEndsWith(S, Final)) {
		JB_SetRef(Rz, JB_Str_Range(S, 0, 4 + (JB_Str_OperatorMinus(S, Final)), false));
	}
	 else {
		JB_SetRef(Rz, Self);
	}
	JB_Decr(S);
	JB_EarlyDecr(Final);
	JB_SafeDecr(Rz);
	return Rz;
}

JB_String* JB_Str_Before(JB_String* Self, JB_String* S) {
	Ind F = JB_Str_InStr(Self, S, 0, kJB__int_Max, false);
	if (JB_Ind_SyntaxCast(F)) {
		return JB_Str_Range(Self, 0, F, false);
	}
	return Self;
}

JB_String* JB_Str_BeforeLastByte(JB_String* Self, uint /*byte*/ B, int Fudge) {
	int Last = JB_Str_TrimLastSub(Self, B);
	Ind Start = JB_Str_FindByte(Self, B, Last, 0);
	return JB_Str_Range(Self, 0, Start + Fudge, false);
}

JB_String* JB_Str_Child(JB_String* Self, JB_String* Cname) {
	if (!JB_Str_Exists(Self)) {
		return Cname;
	}
	int C = ((int)(JB_Str_Last(Self, 0) == '/'));
	C = (C + (JB_Str_First(Cname) == '/'));
	if (C == 1) {
		return JB_Str_OperatorPlus(Self, Cname);
	}
	if (C == 0) {
		JB_String* _tmPf0 = JB_Str_OperatorPlus(JB_LUB[3], Cname);
		JB_Incr(_tmPf0);
		JB_String* _tmPf3 = JB_Str_OperatorPlus(Self, _tmPf0);
		JB_Incr(_tmPf3);
		JB_EarlyDecr(_tmPf0);
		JB_SafeDecr(_tmPf3);
		return _tmPf3;
	}
	JB_String* _tmPf1 = JB_Str_Range(Cname, 1, kJB__int_Max, false);
	JB_Incr(_tmPf1);
	JB_String* _tmPf2 = JB_Str_OperatorPlus(Self, _tmPf1);
	JB_Incr(_tmPf2);
	JB_EarlyDecr(_tmPf1);
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

Array* JB_Str_Components(JB_String* Self) {
	JB_String* _tmPf0 = JB_Str_TrimSlashes(Self);
	JB_Incr(_tmPf0);
	Array* _tmPf1 = JB_Str_Split(_tmPf0, '/');
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

JB_String* JB_Str_Compress(JB_String* Self, int Strength, CompressionStats* St, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	InputStream* _tmPf0 = JB_Str_Stream(Self);
	JB_Incr(_tmPf0);
	JB_SS_CompressInto(_tmPf0, Fs, Strength, St);
	JB_EarlyDecr(_tmPf0);
	return JB_FS_SmartResult(Fs, Fs_in);
}

JB_String* SC_Str_ContainerName(JB_String* Self, JB_String* Ext) {
	JB_String* _tmPf0 = JB_Str_PathDir(Ext);
	JB_Incr(_tmPf0);
	Ind After = JB_Str_InStr(Self, _tmPf0, 0, kJB__int_Max, false);
	JB_Decr(_tmPf0);
	if (JB_Ind_SyntaxCast(After)) {
		JB_String* _tmPf1 = JB_Str_Range(Self, 0, After, false);
		JB_Incr(_tmPf1);
		JB_String* _tmPf2 = JB_Str_Name(_tmPf1);
		JB_Incr(_tmPf2);
		JB_EarlyDecr(_tmPf1);
		JB_SafeDecr(_tmPf2);
		return _tmPf2;
	}
	return JB_LUB[0];
}

JB_String* JB_Str_Decompress(JB_String* Self, JB_Object* Dest, int Lim, CompressionStats* St) {
	if (!JB_Str_IsCompressed(Self)) {
		return Self;
	}
	InputStream* _tmPf0 = JB_Str_Stream(Self);
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = JB_SS_Decompress(_tmPf0, Dest, Lim, St);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

Dictionary* JB_Str_Dict(JB_String* Self, uint /*byte*/ Sep) {
	Dictionary* Rz = ((Dictionary*)nil);
	JB_Incr(Rz);
	if (JB_Str_Exists(Self)) {
		JB_SetRef(Rz, JB_Dict_Constructor(nil));
		int Last = 0;
		while (true) {
			JB_String* Word = JB_Str_NextField(Self, Sep, Last);
			JB_Incr(Word);
			if (Word == nil) {
				JB_EarlyDecr(Word);
				break;
			}
			(JB_Dict_ValueSet(Rz, Word, JB_LUB[6]));
			JB_Decr(Word);
		};
	}
	JB_SafeDecr(Rz);
	return Rz;
}

JB_String* JB_Str_Digest(JB_String* Self) {
	if (JB_Ind_SyntaxCast(JB_Str_IsJbin(Self))) {
		return Self;
	}
	Message* _tmPf0 = JB_Str_Parse(Self, kJB_SyxNil, true);
	JB_Incr(_tmPf0);
	if (!_tmPf0) {
		JB_EarlyDecr(_tmPf0);
		return JB_LUB[0];
	}
	JB_String* _tmPf1 = JB_Msg_RenderJbin(_tmPf0, JB_LUB[0], nil);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

bool JB_Str_EndsWith(JB_String* Self, JB_String* S, bool Aware) {
	int N = JB_Str_Length(S);
	int L = JB_Str_Length(Self);
	{
		IntRange _LoopSrcf2 = JB_int_OperatorTo(1, N);
		int __Endf0 = _LoopSrcf2[1];
		int I = _LoopSrcf2[0];
		while (I < __Endf0) {
			uint A = JB_Str_ByteValue(Self, L - I);
			uint B = JB_Str_ByteValue(S, N - I);
			if (Aware) {
				A = JB_byte_LowerCase(A);
				B = JB_byte_LowerCase(B);
			}
			if (A != B) {
				return nil;
			}
			(++I);
		};
	}
	;
	return true;
}

bool JB_Str_EscapeTest(JB_String* Self) {
	JB_String* Esc = JB_Str_Escape(Self);
	JB_Incr(Esc);
	JB_String* Back = JB_Str_Unescape(Esc);
	JB_Incr(Back);
	JB_Decr(Esc);
	bool _tmPf0 = ((JB_Str_Equals(Back, Self, false)));
	JB_EarlyDecr(Back);
	return _tmPf0;
}

JB_String* JB_Str_Ext(JB_String* Self) {
	return JB_Str_RangeVec(Self, JB_Str_FindExt(Self));
}

JB_File* JB_Str_AsFile(JB_String* Self) {
	//cpp_part;
	if (JB_Object_Isa(Self, &JB_FileData)) {
		return ((JB_File*)Self);
	}
	return JB_Str_File(Self);
}

JB_File* JB_Str_ChildFile(JB_String* Self, JB_String* Ch) {
	//cpp_part;
	JB_String* _tmPf0 = JB_Str_Child(Self, Ch);
	JB_Incr(_tmPf0);
	JB_File* _tmPf1 = JB_Str_AsFile(_tmPf0);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

int64 JB_Str_FileSize(JB_String* Self) {
	JB_File* F = JB_Str_AsFile(Self);
	JB_Incr(F);
	int64 _tmPf0 = JB_File_Size(F);
	JB_EarlyDecr(F);
	return _tmPf0;
}

JB_File* JB_Str_FileThatExists(JB_String* Self, JB_String* Operation) {
	JB_File* F = JB_Str_AsFile(Self);
	JB_Incr(F);
	if (JB_File_MustExist(F, Operation)) {
		JB_SafeDecr(F);
		return F;
	}
	JB_EarlyDecr(F);
	return nil;
}

Ind JB_Str_FindCharset(JB_String* Self, CharSet Find, int From, int After) {
	//cpp_part;
	if ((From < 0) or (After < 0)) {
	}
	byte* P = (&JB__CharSet_Props[0]);
	if (Self != nil) {
		byte* Addr = Self->Addr;
		if (From < After) {
			From = JB_int_OperatorMax(From, 0);
			After = JB_int_OperatorMin(After, JB_Str_Length(Self));
			while (From < After) {
				uint Pb = ((uint)P[Addr[From++]]);
				if ((1 << Pb) & ((uint)Find)) {
					return From - 1;
				}
			};
		}
		 else {
			From = JB_int_OperatorMin(From, JB_Str_Length(Self));
			After = JB_int_OperatorMax(After, 0);
			while (From > After) {
				uint Pb = ((uint)P[Addr[(--From)]]);
				if ((1 << Pb) & ((uint)Find)) {
					return From;
				}
			};
		}
	}
	return -1;
}

ivec2 JB_Str_FindExt(JB_String* Self) {
	int End = JB_Str_Length(Self);
	if (End) {
		byte* A = Self->Addr;
		while (A[End - 1] == '/') {
			(--End);
			if (End <= 0) {
				return ((ivec2){});
			}
		};
		int I = End;
		while ((--I) >= 0) {
			uint C = A[I];
			if (C == '/') {
				return ((ivec2){});
			}
			if (C == '.') {
				if ((++I) >= End) {
					return ((ivec2){});
				}
				return ivec2{I, End};
			}
		};
	}
	return ((ivec2){});
}

Ind JB_Str_FindSlash(JB_String* Self, int From) {
	Ind Rz = -1;
	if (From < JB_Str_Length(Self)) {
		Rz = JB_Str_FindByte(Self, '/', From, kJB__int_Max);
		if (!JB_Ind_SyntaxCast(Rz)) {
			Rz = JB_Str_Length(Self);
		}
	}
	return Rz;
}

int JB_Str_FindTrailingSlashes(JB_String* Self) {
	int Rz = 0;
	Rz = JB_Str_Length(Self);
	while (JB_Str_ByteValue(Self, Rz - 1) == '/') {
		(--Rz);
	};
	return Rz;
}

JB_String* SC_Str_InterfaceToBehaviour(JB_String* Self) {
	JB_String* _tmPf0 = JB_Str_Range(Self, 2, JB_Str_Length(Self) - 2, false);
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = JB_Str_LowerCase(_tmPf0);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

JB_String* SC_Str_internal(JB_String* Self) {
	return JB_Str_OperatorPlus(JB_LUB[126], Self);
}

bool JB_Str_IsBinary(JB_String* Self, float F) {
	ivec2 Badness = JB_Str_UTF8Badness(Self);
	return (((float)(Badness[1])) * F) >= ((float)JB_Str_Length(Self));
}

bool SC_Str_isCLike(JB_String* Self) {
	if ((JB_Str_Equals(Self, JB_LUB[127], true)) or (JB_Str_Equals(Self, JB_LUB[128], true))) {
		return true;
	}
	if (JB_Platform__OSX()) {
		return ((JB_Str_Equals(Self, JB_LUB[129], true)) or (JB_Str_Equals(Self, JB_LUB[130], true)));
	}
	return false;
}

bool JB_Str_IsCompressed(JB_String* Self) {
	return JB_Str_MidEquals(Self, 0, JB_LUB[58], false);
}

int JB_Str_IsHexLike(JB_String* Self, int N) {
	if (JB_Str_ByteValue(Self, N + 0x0) == '0') {
		uint X = JB_Str_ByteValue(Self, N + 1);
		if (JB_byte_IsLetter(X)) {
			return 2;
		}
	}
	return 0;
}

bool JB_Str_IsIntFrom(JB_String* Self, int I) {
	//cpp_part;
	if (!JB_Str_Exists(Self)) {
		return nil;
	}
	while (I < JB_Str_Length(Self)) {
		if (!JB_byte_IsInt(JB_Str_ByteValue(Self, I++))) {
			return nil;
		}
	};
	return true;
}

Ind JB_Str_IsJbin(JB_String* Self) {
	if ((JB_Str_First(Self) == '#') and (JB_Str_ByteValue(Self, 1) == '!')) {
		Ind Nl = JB_Str_FindByte(Self, '\n', 0, kJB__int_Max);
		if (JB_Ind_SyntaxCast(Nl)) {
			(++Nl);
			if (JB_Str_MidEquals(Self, Nl, JB__bin_Header, false)) {
				return Nl;
			}
		}
	}
	 else if (JB_Str_MidEquals(Self, 0, JB__bin_Header, false)) {
		return 0;
	}
	return -1;
}

bool JB_Str_IsLower(JB_String* Self) {
	{
		byte* _Startf0 = JB_Str_Address(Self);
		byte* _Endf1 = _Startf0 + JB_Str_Length(Self);
		while (_Startf0 < _Endf1) {
			uint S = _Startf0[0];
			if (JB_byte_IsUpper(S)) {
				return nil;
			}
			(++_Startf0);
		};
	}
	;
	return true;
}

bool SC_Str_Isnull(JB_String* Self) {
	{
		byte* _Startf0 = JB_Str_Address(Self);
		byte* _Endf1 = _Startf0 + JB_Str_Length(Self);
		while (_Startf0 < _Endf1) {
			uint C = _Startf0[0];
			if (C != '\x00') {
				return nil;
			}
			(++_Startf0);
		};
	}
	;
	return true;
}

bool JB_Str_IsOK(JB_String* Self) {
	return (Self != nil) and (((JB_Object*)Self) != ((JB_Object*)JB_Str__Error()));
}

bool SC_Str_IsOKForImport(JB_String* Self) {
	bool Rz = false;
	JB_String* X = Self;
	JB_Incr(X);
	while (JB_Str_First(X) == '/') {
		JB_SetRef(X, JB_Str_Range(X, (1), kJB__int_Max, false));
	};
	uint X0 = JB_Str_First(X);
	if ((X0 == 0) or ((X0 == '.') or JB_CharSet_SyntaxAccess(kJB__CharSet_LettersUnderScore, X0))) {
		Rz = true;
	}
	 else {
		if (true) {
			JB_Object_FailStr(X, JB_LUB[1031]);
		}
	}
	JB_EarlyDecr(X);
	return Rz;
}

bool SC_Str_IsSpeedieSrc(JB_String* Self) {
	return (JB_Str_OperatorIsa(Self, JB_LUB[155]));
}

int SC_Str_IsSwizzle(JB_String* Self, int Width) {
	int N = JB_Str_Length(Self);
	int Total = 0;
	int I = 0;
	int Shift = 0;
	int C = 0;
	int Dold = 0;
	if (N > 8) {
		return 0;
	}
	bool HasLetter = false;
	while (I < N) {
		uint D = JB_Str_ByteValue(Self, I++);
		if (D != '_') {
			HasLetter = true;
			if (!(((!C)) or (((D >= 'w') == (Dold >= 'w')) or (Dold == '_')))) {
				return 0;
			}
		}
		C = D;
		Dold = D;
		if ((C == 'r') or (C == 'x')) {
			C = 0;
		}
		 else if ((C == 'g') or (C == 'y')) {
			C = 1;
		}
		 else if ((C == 'b') or (C == 'z')) {
			C = 2;
		}
		 else if ((C == 'a') or (C == 'w')) {
			C = 3;
		}
		 else if (C == '_') {
			C = 4;
		}
		if (I < N) {
			int C2 = JB_Str_ByteValue(Self, I);
			if (C2 == '1') {
				(++I);
			}
			 else if (C2 == '2') {
				(++I);
				if (Width == 3) {
					return 0;
				}
				C = (C + (Width >> 1));
			}
		}
		if (!((C <= 4) and (C >= 0))) {
			return 0;
		}
		Total = (Total | (C << (Shift++ * 3)));
	};
	if (Shift > 1) {
		if (Shift == 2) {
			Total = (Total | (4 << 6));
		}
		if (Shift <= 3) {
			Total = (Total | (4 << 9));
		}
	}
	if (HasLetter) {
		return Total | (Shift << 16);
	}
	return 0;
}

bool SC_Str_IsZero(JB_String* Self) {
	{
		byte* _Startf0 = JB_Str_Address(Self);
		byte* _Endf1 = _Startf0 + JB_Str_Length(Self);
		while (_Startf0 < _Endf1) {
			uint C = _Startf0[0];
			if (!((C == '.') or (C == '0'))) {
				return nil;
			}
			(++_Startf0);
		};
	}
	;
	return true;
}

Ind JB_Str_JBFind(JB_String* Self, uint /*byte*/ Find, int Off, int After) {
	After = JB_int_OperatorMin(After, JB_Str_Length(Self));
	while (Off < After) {
		uint C = JB_Str_ByteValue(Self, Off++);
		if (C == '\\') {
			(++Off);
		}
		 else if (C == Find) {
			if (Find == '$') {
				if (Off >= After) {
					break;
				}
				uint Nxt = JB_Str_ByteValue(Self, Off);
				if (!(((Nxt == '{') or (Nxt == '.')) or JB_CharSet_SyntaxAccess(kJB__CharSet_LettersUnderScore, Nxt))) {
					continue;
				}
			}
			return Off - 1;
		}
	};
	return -1;
}

byte JB_Str_Last(JB_String* Self, int Minus) {
	return JB_Str_ByteValue(Self, JB_Str_Length(Self) - (1 + Minus));
}

int JB_Str_LineCount(JB_String* Self) {
	int Rz = 0;
	Rz = 1;
	{
		byte* _Startf0 = JB_Str_Address(Self);
		byte* _Endf1 = _Startf0 + JB_Str_Length(Self);
		while (_Startf0 < _Endf1) {
			uint C = _Startf0[0];
			Rz = (Rz + ((C == '\n') or (C == '\x0D')));
			(++_Startf0);
		};
	}
	;
	return Rz;
}

JB_File* SC_Str_MakeAndGoInto(JB_String* Self) {
	JB_File* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Str_AsFile(Self));
	JB_Str_MakeEntirePath(Rz, true);
	(JB_App__CWDSet(Self));
	JB_SafeDecr(Rz);
	return Rz;
}

ErrorInt JB_Str_MakeEntirePath(JB_String* Self, bool Last) {
	ErrorInt Rz = 0;
	//visible;
	JB_String* P = ((JB_String*)JB_Ternary(Last, Self, JB_Str_Parent(Self)));
	JB_Incr(P);
	{
		JB_String* _Pf0 = JB_Str_RegularPath(P);
		JB_Incr(_Pf0);
		Ind _if1 = JB_Str_FindSlash(_Pf0, 1);
		while (_if1 > 0) {
			JB_String* S = JB_Str_Range(_Pf0, 0, _if1, false);
			JB_Incr(S);
			int Err = ((int)JB_Str_MakeDir(S));
			JB_Decr(S);
			if (Err) {
				Rz = Err;
				break;
			}
			_if1 = JB_Str_FindSlash(_Pf0, _if1 + 1);
		};
		JB_Decr(_Pf0);
	}
	;
	JB_EarlyDecr(P);
	return Rz;
}

void SC_Str_MiniName(JB_String* Self, FastString* Fs, bool IsClass) {
	JB_String* N = JB_Str_Name(Self);
	int I = 0;
	int After = kJB__int_Max;
	if (IsClass) {
		JB_FS_AppendByte(Fs, '(');
		if (JB_Str_EndsWith(N, JB_LUB[671], true)) {
			After = (JB_Str_Length(N) - 4);
		}
	}
	if (JB_Str_MidEquals(N, 0, JB_LUB[672], true)) {
		I = 3;
	}
	JB_FS_AppendRange(Fs, N, I, After);
	if (IsClass) {
		JB_FS_AppendByte(Fs, ')');
	}
}

JB_String* JB_Str_Moat(JB_String* Self) {
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	(JB_FS_SizeSet(Fs, JB_Str_Length(Self) + 4));
	JB_FS_AppendString(Fs, JB_LUB[156]);
	JB_FS_AppendString(Fs, Self);
	JB_FS_AppendString(Fs, JB_LUB[156]);
	JB_String* _tmPf0 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

JB_String* JB_Str_Name(JB_String* Self) {
	int Last = JB_Str_TrimLastSub(Self, '/');
	return JB_Str_AfterByte(Self, '/', Last);
}

JB_String* JB_Str_NextField(JB_String* Self, uint /*byte*/ Sep, int& Begin) {
	JB_String* Rz = JB_LUB[0];
	int B = Begin;
	int N = JB_Str_Length(Self);
	if (B >= N) {
		return nil;
	}
	Ind After = JB_Str_FindByte(Self, Sep, B, kJB__int_Max);
	if (After < 0) {
		After = N;
	}
	Rz = JB_Str_Range(Self, B, After, false);
	Begin = (After + 1);
	return Rz;
}

JB_String* SC_Str_NicerClassName(JB_String* Self) {
	if (JB_Str_Equals(Self, JB_LUB[123], true)) {
		return JB_LUB[124];
	}
	return Self;
}

bool JB_Str_ContainsString(JB_String* Self, JB_String* S) {
	//cpp_part;
	return JB_Ind_SyntaxCast(JB_Str_InStr(Self, S, 0, kJB__int_Max, true));
}

Ind JB_Str_OpInList(JB_String* Self, Array* List) {
	//cpp_part;
	{
		int _if0 = 0;
		while (true) {
			JB_String* Item = ((JB_String*)JB_Array_Value(List, _if0));
			if (Item == nil) {
				break;
			}
			int I = _if0;
			if (JB_Str_Equals(Item, Self, false)) {
				return I;
			}
			(++_if0);
		};
	}
	;
	return -1;
}

bool JB_Str_OperatorIsa(JB_String* Self, JB_String* S) {
	if (JB_Str_Exists(Self)) {
		ivec2 X = JB_Str_FindExt(Self);
		if (JB_Str_EqualsInt(S, JB_ivec2_Width(X))) {
			return JB_Str_MidEquals(Self, X[0], S, true);
		}
	}
	return false;
}

JB_String* JB_Str_OperatorMul(JB_String* Self, int N) {
	if (N <= 1) {
		return JB_Str_MulBool(Self, N == 1);
	}
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	(JB_FS_SizeSet(Fs, N * JB_Str_Length(Self)));
	JB_FS_AppendMultiStr(Fs, Self, N);
	JB_String* _tmPf0 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

JB_String* JB_Str_OperatorPlusWithCstring(JB_String* Self, _cstring C) {
	if (JB_Str_Exists(Self)) {
		VirtualJBString Tmp = ((VirtualJBString){});
		JB_cstring_temp(C, (&Tmp));
		return JB_Str_OperatorPlus(Self, ((JB_String*)((&Tmp))));
	}
	return JB_cstring_Wrap(C);
}

JB_String* JB_Str_OperatorPlusWithInt64(JB_String* Self, int64 I) {
	JB_String* _tmPf0 = JB_int64_Render(I, nil);
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = JB_Str_OperatorPlus(Self, _tmPf0);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

bool SC_Str_OptionBool(JB_String* Self) {
	return ((JB_Str_Equals(Self, JB_LUB[0], true)) or ((JB_Str_Equals(Self, JB_LUB[6], true)) or (JB_Str_Equals(Self, JB_LUB[125], true))));
}

int SC_Str_OptionInt(JB_String* Self) {
	if (SC_Str_OptionBool(Self)) {
		return 1;
	}
	return JB_Str_Int(Self);
}

FastString* JB_Str_OutputStream(JB_String* Self, bool Clear) {
	JB_File* F = JB_Str_AsFile(Self);
	JB_Incr(F);
	if (JB_File_IsPipe(F)) {
		0;
	}
	 else if (Clear) {
		JB_File_Close(F);
		if (!JB_ErrorInt_SyntaxCast(JB_File_OpenEmpty(F))) {
			JB_EarlyDecr(F);
			return nil;
		}
	}
	 else if (!JB_File_Opened(F)) {
		if (!JB_FileDes_SyntaxCast(JB_File_Open(F, kJB__File_ReadWriteMode | kJB__File_CreateMode, false))) {
			JB_EarlyDecr(F);
			return nil;
		}
	}
	FastString* _tmPf0 = JB_FS__NewFile(F);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(F);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

JB_String* JB_Str_Parent(JB_String* Self) {
	if (!JB_Str_Equals(Self, JB_LUB[3], false)) {
		JB_String* _tmPf0 = JB_Str_TrimSlashes(Self);
		JB_Incr(_tmPf0);
		JB_String* _tmPf1 = JB_Str_BeforeLastByte(_tmPf0, '/', 1);
		JB_Incr(_tmPf1);
		JB_EarlyDecr(_tmPf0);
		JB_SafeDecr(_tmPf1);
		return _tmPf1;
	}
	return JB_LUB[0];
}

Message* JB_Str_Parse(JB_String* Self, Syntax Owner, bool AllowDecomp) {
	Ind J1 = JB_Str_IsJbin(Self);
	JB_String* Data = JB_Str_Range(Self, JB_int_OperatorMax(J1, 0), kJB__int_Max, false);
	JB_Incr(Data);
	if (AllowDecomp and JB_Str_IsCompressed(Data)) {
		JB_SetRef(Data, JB_Str_Decompress(Data, nil, kJB__int_Max, nil));
		J1 = JB_Str_IsJbin(Data);
	}
	Message* Doc = nil;
	if (JB_Ind_SyntaxCast(J1)) {
		Doc = JB_Str_ParseJbin(Data, 1073741824);
	}
	 else {
		Doc = JB_Str_ParseSub(Data, Owner);
	}
	JB_EarlyDecr(Data);
	return Doc;
}

Message* SC_Str_ParseClean(JB_String* Self) {
	Message* Rz = nil;
	JB_Incr(Rz);
	SC__Comp_stTotalSourceSize = (SC__Comp_stTotalSourceSize + JB_Str_Length(Self));
	Date P1 = JB_Date__Now();
	JB_Flow__DisabledIncr(1);
	JB_SetRef(Rz, JB_Str_Parse(Self, kJB_SyxNil, true));
	JB_Flow__DisabledIncr(-1);
	if (Rz) {
		SC__Comp_stParseTime = (SC__Comp_stParseTime + ((int)(JB_Date_OperatorMinus(JB_Date__Now(), P1))));
		SC_Msg_Clean(Rz, true);
		SC_Msg_PrepareAST(Rz);
	}
	JB_SafeDecr(Rz);
	return Rz;
}

Message* SC_Str_ParseCleanWipe(JB_String* Self) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, SC_Str_ParseClean(Self));
	if (Rz) {
		{
			Message* V = Rz;
			JB_Incr(V);
			Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Rz));
			JB_Incr(_afterf1);
			while ((V) and (V != _afterf1)) {
				Message* _N_f2 = ((Message*)JB_Ring_FlatNext0(V));
				JB_Incr(_N_f2);
				V->Position = -1;
				JB_SetRef(V, _N_f2);
				JB_Decr(_N_f2);
			};
			JB_Decr(V);
			JB_Decr(_afterf1);
			;
		};
	}
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Str_ParseJbin(JB_String* Self, int64 Max) {
	InputStream* S = JB_Str_Stream(Self);
	JB_Incr(S);
	Message* Msg = JB_SS_StreamJbin(S, Max);
	JB_EarlyDecr(S);
	return Msg;
}

Message* JB_Str_ParseSub(JB_String* Self, Syntax Owner) {
	if (!JB_Tk__CppInited()) {
		JB_Tk__Init();
	}
	JB_Tk__StartParse(Self);
	JB__Tk__StopBars = 0;
	ErrorMarker OK = JB_Rec_Mark(JB_StdErr);
	int Flags = kJB__Tk_kTemporal;
	Syntax Func = Owner;
	if (!Func) {
		Func = kJB_SyxArg;
	}
	Message* Into = JB_Msg_ConstructorParser(nil, nil, Func, 0, JB_LUB[0], 0);
	JB_Incr(Into);
	if (Func == kJB_SyxArg) {
		(JB_Msg_SyntaxIsSet(Into, kJB__MsgParseFlags_Style2, true));
	}
	bool Lines = JB_Tk__ParseLoopFlags(Into, JB_LUB[0], Flags);
	if ((Owner == kJB_SyxNil) and ((Lines == false) and JB_Tree_HasOneChild(Into))) {
		JB_SetRef(Into, ((Message*)JB_Ring_First(Into)));
	}
	JB_Tk__CleanSpaces();
	if (JB_Tk__Running()) {
		JB_Tk__Expect(0);
	}
	JB_Tk__StartParse(nil);
	if (!JB_ErrorMarker_SyntaxCast(OK)) {
		JB_SetRef(Into, nil);
	}
	JB_SafeDecr(Into);
	return ((Message*)Into);
}

JB_String* JB_Str_PathDir(JB_String* Self) {
	if (JB_Str_Exists(Self) and (JB_Str_Last(Self, 0) != '/')) {
		return JB_Str_OperatorPlus(Self, JB_LUB[3]);
	}
	return Self;
}

JB_String* SC_Str_PathFixSpd(JB_String* Self) {
	if (JB_Str_MidEquals(Self, 0, JB_LUB[673], false)) {
		JB_String* _tmPf1 = JB_File__SpeedieDir();
		JB_Incr(_tmPf1);
		JB_String* _tmPf2 = JB_Str_Range(Self, (5), kJB__int_Max, false);
		JB_Incr(_tmPf2);
		JB_String* _tmPf0 = JB_Str_OperatorPlus(_tmPf1, _tmPf2);
		JB_Incr(_tmPf0);
		JB_Decr(_tmPf1);
		JB_Decr(_tmPf2);
		JB_StringC* _tmPf3 = JB_File_PathFix((_tmPf0));
		JB_Incr(_tmPf3);
		JB_EarlyDecr(_tmPf0);
		JB_SafeDecr(_tmPf3);
		return _tmPf3;
	}
	return JB_File_PathFix(Self);
}

JB_String* JB_Str_PluraliseAmount(JB_String* Self, int Amount, JB_String* Nothing) {
	//cpp_part;
	if ((!Amount) and JB_Str_Exists(Nothing)) {
		return Nothing;
	}
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	if (Amount) {
		JB_FS_AppendInt32(Fs, Amount);
	}
	 else {
		JB_FS_AppendString(Fs, JB_LUB[549]);
	}
	JB_FS_AppendByte(Fs, ' ');
	if (Amount == 1) {
		JB_FS_AppendString(Fs, Self);
	}
	 else {
		JB_FreeIfDead(JB_Str_Pluralize(Self, true, Fs));
	}
	JB_String* _tmPf0 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

JB_String* JB_Str_Pluralize(JB_String* Self, bool Plural, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, Self);
	if (Plural) {
		uint L = JB_Str_Last(Self, 0);
		uint L2 = JB_Str_Last(Self, 1);
		if (((L == 's') or ((L == 'x') or (L == 'z'))) or (((L == 'h') and (L2 == 'c')) or (L2 == 's'))) {
			JB_FS_AppendByte(Fs, 'e');
		}
		JB_FS_AppendByte(Fs, 's');
	}
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

JB_String* JB_Str_Preview(JB_String* Self, int N) {
	//visible;
	if (JB_Str_Length(Self) <= N) {
		return Self;
	}
	JB_String* _tmPf1 = JB_Str_Range(Self, 0, N, false);
	JB_Incr(_tmPf1);
	JB_String* _tmPf0 = JB_Str_UnicodeSync(_tmPf1);
	JB_Incr(_tmPf0);
	JB_Decr(_tmPf1);
	JB_String* _tmPf2 = JB_Str_OperatorPlus(_tmPf0, JB_LUB[59]);
	JB_Incr(_tmPf2);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

JB_String* JB_Str_ReadAll(JB_String* Self, int Lim, bool AllowMissing) {
	JB_File* _tmPf0 = JB_Str_AsFile(Self);
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = JB_File_ReadAll(_tmPf0, Lim, AllowMissing);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

JB_String* JB_Str_RegularPath(JB_String* Self) {
	JB_StringC* _tmPf0 = JB_File_PathFix(Self);
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = JB_Str_TrimSlashes(_tmPf0);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

JB_String* JB_Str_RenderSpeed(JB_String* Self, JB_Object* Fs_in, int64 BytesIn, JB_Duration Duration, int64 BytesOut) {
	FastString* Fs = JB_FS__UseAsOutput(Fs_in);
	if (!Fs) {
		return JB_LUB[0];
	}
	if (JB_Str_Exists(Self)) {
		JB_FS_AppendString(Fs, Self);
		JB_FS_AppendString(Fs, JB_LUB[121]);
	}
	if (BytesIn) {
		JB_FreeIfDead(JB_int64_StrSize(BytesIn, Fs));
	}
	if (BytesOut) {
		JB_FS_AppendString(Fs, JB_LUB[517]);
		JB_FreeIfDead(JB_int64_StrSize(BytesOut, Fs));
		if (BytesIn) {
			JB_FS_AppendString(Fs, JB_LUB[809]);
			float Ratio = (((float)(JB_int64_OperatorDiv(BytesOut, BytesIn))) * 100.0f);
			JB_FS_AppendFloat(Fs, Ratio, 1, false);
			JB_FS_AppendString(Fs, JB_LUB[1057]);
		}
	}
	if (BytesIn or BytesOut) {
		JB_FS_AppendString(Fs, JB_LUB[610]);
	}
	float Seconds = fabsf(JB_Duration_Float(Duration));
	if (Seconds >= 1.0f) {
		JB_FS_AppendFloat(Fs, Seconds, 2 + (Seconds < ((float)10)), false);
	}
	 else if (Seconds >= 0.001f) {
		JB_FS_AppendFloat(Fs, Seconds * 1000.0f, 2, false);
		JB_FS_AppendByte(Fs, 'm');
	}
	 else {
		JB_FS_AppendFloat(Fs, Seconds * 1000000.0f, 2, false);
		JB_FS_AppendString(Fs, JB_LUB[1058]);
	}
	JB_FS_AppendByte2(Fs, 's');
	if (Seconds and BytesIn) {
		float Scale = 1048576.0f;
		uint Unit = 'M';
		float Rate = ((float)BytesIn) / (Scale * Seconds);
		if (Rate >= 1024.0f) {
			Rate = (Rate / 1024.0f);
			Unit = 'G';
		}
		 else if (Rate <= 1.0f) {
			Rate = (Rate * 1024.0f);
			Unit = 'K';
		}
		int Dp = JB_Ternary(Rate <= 0.01f, 5, 2);
		JB_FS_AppendString(Fs, JB_LUB[1059]);
		JB_FS_AppendFloat(Fs, Rate, Dp, false);
		JB_FS_AppendByte2(Fs, Unit);
		JB_FS_AppendByte2(Fs, 'B');
		JB_FS_AppendString(Fs, JB_LUB[1060]);
	}
	return JB_FS_SmartResult(Fs, Fs_in);
}

JB_String* JB_Str_ReplacePathComponent(JB_String* Self, int Num, JB_String* With) {
	Array* R = JB_Str_Components(Self);
	JB_Incr(R);
	if (Num < 0) {
		Num = (Num + JB_Array_Size(R));
	}
	(JB_Array_ValueSet(R, Num, With));
	JB_String* _tmPf0 = JB_Array_join(R, JB_LUB[3]);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(R);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

void SC_Str_Safe(JB_String* Self, FastString* Fs, bool Local) {
	if (JB_Str_IsASCII(Self)) {
		if (Local and JB_Str_IsLower(Self)) {
			JB_FS_AppendByte2(Fs, JB_byte_UpperCase(JB_Str_First(Self)));
			JB_FS_AppendRange(Fs, Self, 1, kJB__int_Max);
		}
		 else {
			JB_FS_AppendString(Fs, Self);
		}
		return;
	}
	{
		byte* _Startf0 = JB_Str_Address(Self);
		byte* _Endf1 = _Startf0 + JB_Str_Length(Self);
		while (_Startf0 < _Endf1) {
			uint S = _Startf0[0];
			if (JB_byte_IsUpper(S) or (JB_byte_IsLower(S) or (JB_byte_IsInt(S) or (S == '_')))) {
				JB_FS_AppendByte2(Fs, S);
			}
			 else {
				JB_FS_AppendByte2(Fs, 'x');
				JB_FS_AppendHex(Fs, S, 2);
			}
			(++_Startf0);
		};
	};
}

JB_String* SC_Str_ScriptContainer(JB_String* Self, JB_String* Container) {
	JB_String* _tmPf0 = JB_int64_Render(JB_int64_Abs(((int64)JB_Str_CRC(Self, 0))), nil);
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = JB_Str_SyntaxAccess(Container, _tmPf0);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

JB_String* SC_Str_ScriptLocation(JB_String* Self, JB_String* Container) {
	JB_String* Rz = JB_LUB[0];
	JB_Incr(Rz);
	JB_String* Full = JB_File_PathFix(Self);
	JB_Incr(Full);
	if (!JB_Str_Exists(Full)) {
		JB_SetRef(Full, Self);
	}
	JB_String* Dest = SC_Str_ScriptContainer(Full, Container);
	JB_Incr(Dest);
	JB_Str_MakeEntirePath(Dest, true);
	JB_String* _tmPf0 = SC_Str_SpdScriptName(Full);
	JB_Incr(_tmPf0);
	JB_Decr(Full);
	JB_SetRef(Rz, JB_Str_SyntaxAccess(Dest, _tmPf0));
	JB_Decr(Dest);
	JB_Decr(_tmPf0);
	if (SC_Options__ModeCake()) {
		JB_String* _tmPf1 = SC_Comp__CakeExt();
		JB_Incr(_tmPf1);
		JB_SetRef(Rz, JB_Str_OperatorPlus(Rz, _tmPf1));
		JB_Decr(_tmPf1);
	}
	JB_SafeDecr(Rz);
	return Rz;
}

JB_String* JB_Str_Shorten(JB_String* Self, int N) {
	return JB_Str_Range(Self, 0, JB_Str_Length(Self) - N, false);
}

JB_String* JB_Str_Sibling(JB_String* Self, JB_String* Name) {
	return JB_Str_ReplacePathComponent(Self, -1, Name);
}

ExitCode JB_Str_SilentExecute(JB_String* Self, Array* Args, FastString* Out, FastString* Errs, Date Timeout) {
	return JB_Str_Execute(Self, Args, Out, Errs, kJB__PIDM_Silence, Timeout);
}

JB_String* SC_Str_SpdScriptName(JB_String* Self) {
	JB_String* Rz = JB_LUB[0];
	JB_Incr(Rz);
	JB_SetRef(Rz, SC_Str_ContainerName(Self, JB_LUB[70]));
	if (!JB_Str_Exists(Rz)) {
		JB_SetRef(Rz, SC_Str_ContainerName(Self, JB_LUB[674]));
	}
	if (!JB_Str_Exists(Rz)) {
		JB_String* _tmPf0 = JB_Str_Name(Self);
		JB_Incr(_tmPf0);
		JB_SetRef(Rz, JB_Str_TrimExtAndPath(_tmPf0, true));
		JB_Decr(_tmPf0);
	}
	JB_SafeDecr(Rz);
	return Rz;
}

Array* JB_Str_Split(JB_String* Self, uint /*byte*/ Sep) {
	Array* Rz = ((Array*)JB_Array_Constructor0(nil));
	int Last = 0;
	while (true) {
		JB_String* Word = JB_Str_NextField(Self, Sep, Last);
		if (Word == nil) {
			break;
		}
		JB_Array_SyntaxAppend(Rz, Word);
	};
	return Rz;
}

JB_String* JB_Str_Squeeze(JB_String* Self) {
	//visible;
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	bool Broken = false;
	{
		byte* _Startf0 = JB_Str_Address(Self);
		byte* _Endf1 = _Startf0 + JB_Str_Length(Self);
		while (_Startf0 < _Endf1) {
			uint C = _Startf0[0];
			if (JB_byte_IsWhite(C)) {
				Broken = ((bool)Fs->Length);
			}
			 else {
				if (Broken) {
					JB_FS_AppendByte2(Fs, ' ');
				}
				JB_FS_AppendByte2(Fs, C);
				Broken = false;
			}
			(++_Startf0);
		};
	}
	;
	JB_String* _tmPf3 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf3);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf3);
	return _tmPf3;
}

InputStream* JB_Str_Stream(JB_String* Self) {
	return JB_SS_Constructor(nil, Self);
}

int64 JB_Str_SuffixSize(JB_String* Self) {
	int N = JB_Str_Length(Self);
	if ((N == 1) or ((N == 2) and (JB_Str_ByteValue(Self, 1) == 'B'))) {
		return JB_byte_SuffixSize(JB_Str_First(Self));
	}
	return 0;
}

JB_String* JB_Str_RangeVec(JB_String* Self, ivec2 R) {
	//cpp_part;
	return JB_Str_Range(Self, R[0], R[1], false);
}

JB_String* JB_Str_SyntaxAccess(JB_String* Self, JB_String* S) {
	return JB_Str_Child(Self, S);
}

void JB_Str_Fail(JB_String* Self) {
	//cpp_part;
	//visible;
	JB_Rec__Latchkum(nil, Self, nil);
}

JB_String* JB_Str_TitleCase(JB_String* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	JB_FS_AppendByte2(Fs, JB_byte_UpperCase((JB_Str_First(Self))));
	JB_String* _tmPf1 = JB_Str_Range(Self, 1, kJB__int_Max, false);
	JB_Incr(_tmPf1);
	JB_String* _tmPf0 = JB_Str_LowerCase(_tmPf1);
	JB_Incr(_tmPf0);
	JB_Decr(_tmPf1);
	JB_FS_AppendString(Fs, _tmPf0);
	JB_EarlyDecr(_tmPf0);
	JB_String* _tmPf2 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf2);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

bool SC_Str_trap(JB_String* Self, Message* Msg) {
	;
	//visible;
	return false;
}

JB_String* JB_Str_Trim(JB_String* Self, CharSet CS) {
	if (JB_Str_Exists(Self)) {
		Ind First = JB_Str_FindCharset(Self, CS, 0, kJB__int_Max);
		if (JB_Ind_SyntaxCast(First)) {
			Ind Second = JB_Str_FindCharset(Self, CS, kJB__int_Max, 0);
			return JB_Str_Range(Self, First, Second + 1, false);
		}
	}
	return JB_LUB[0];
}

JB_String* JB_Str_TrimExtAndPath(JB_String* Self, bool RemovePath) {
	int N = JB_Str_FindTrailingSlashes(Self);
	Ind Slash = JB_Str_FindByte(Self, '/', N - 1, 0) + 1;
	Ind Dot = JB_Str_FindByte(Self, '.', N - 1, Slash);
	if (!JB_Ind_SyntaxCast(Dot)) {
		Dot = N;
	}
	if (!RemovePath) {
		Slash = 0;
	}
	return JB_Str_Range(Self, Slash, Dot, false);
}

JB_String* JB_Str_TrimFirst(JB_String* Self, uint /*byte*/ B) {
	Ind S = JB_Str_OutByteWithByteIntInt(Self, B, 0, kJB__int_Max);
	return JB_Str_Range(Self, (S), kJB__int_Max, false);
}

int JB_Str_TrimLastSub(JB_String* Self, uint /*byte*/ B) {
	int N = JB_Str_Length(Self);
	while (JB_Str_ByteValue(Self, N - 1) == B) {
		(--N);
	};
	return N;
}

JB_String* JB_Str_TrimSlashes(JB_String* Self) {
	int Trail = JB_Str_FindTrailingSlashes(Self);
	if (JB_int_SyntaxCompare(Trail, Self) >= 0) {
		return Self;
	}
	bool Multi = JB_Str_ContainsString(Self, JB_LUB[77]);
	if (!Multi) {
		return JB_Str_Range(Self, 0, Trail, false);
	}
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	int Prev = 0;
	{
		int I = 0;
		while (I < Trail) {
			uint C = JB_Str_ByteValue(Self, I);
			if ((C != '/') or (Prev != '/')) {
				JB_FS_AppendByte2(Fs, C);
			}
			Prev = C;
			(++I);
		};
	}
	;
	JB_String* _tmPf1 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

bool SC_Str_UnderScoreAtAnyEnd(JB_String* Self) {
	return (JB_Str_First(Self) == '_') or (JB_Str_ByteValue(Self, -1) == '_');
}

JB_String* SC_Str_UnicodeSafeName(JB_String* Self, FastString* Fs_in) {
	if (JB_Str_IsASCII(Self)) {
		if (Fs_in) {
			JB_FS_AppendString(Fs_in, Self);
		}
		return Self;
	}
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	{
		byte* _Startf0 = JB_Str_Address(Self);
		byte* _Endf1 = _Startf0 + JB_Str_Length(Self);
		while (_Startf0 < _Endf1) {
			uint S = _Startf0[0];
			if (JB_CharSet_SyntaxAccess(kJB__CharSet_SafeInC, S)) {
				JB_FS_AppendByte2(Fs, S);
			}
			 else {
				JB_FS_AppendByte2(Fs, 'x');
				JB_FS_AppendHex(Fs, S, 2);
			}
			(++_Startf0);
		};
	}
	;
	JB_String* _tmPf3 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf3);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf3);
	return _tmPf3;
}

int JB_Str_UnPrintable(JB_String* Self) {
	if (JB_Ind_SyntaxCast(JB_Str_BadUTF8(Self, 0))) {
		return -1;
	}
	{
		byte* _Startf0 = JB_Str_Address(Self);
		byte* _Endf1 = _Startf0 + JB_Str_Length(Self);
		while (_Startf0 < _Endf1) {
			uint C = _Startf0[0];
			if (!((C >= ' ') or (C == 9))) {
				if (JB_byte_IsTextLine(C)) {
					return '\n';
				}
				return -2;
			}
			(++_Startf0);
		};
	}
	;
	return 0;
}

JB_String* JB_Str_UpperFirst(JB_String* Self) {
	if (JB_byte_IsUpper(JB_Str_First(Self))) {
		return Self;
	}
	JB_String* _tmPf0 = JB_byte_Render(JB_byte_UpperCase(JB_Str_First(Self)), nil);
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = JB_Str_Range(Self, (1), kJB__int_Max, false);
	JB_Incr(_tmPf1);
	JB_String* _tmPf2 = JB_Str_OperatorPlus(_tmPf0, _tmPf1);
	JB_Incr(_tmPf2);
	JB_Decr(_tmPf0);
	JB_EarlyDecr(_tmPf1);
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

ivec2 JB_Str_UTF8Badness(JB_String* Self) {
	Ind First = JB_Str_BadUTF8(Self, 0);
	if (First < 0) {
		return ivec2{First, 0};
	}
	Ind Pos = First;
	int Count = 1;
	while (true) {
		Ind _tmPf0 = JB_Str_BadUTF8(Self, Pos + 1);
		if (!JB_Ind_SyntaxCast(_tmPf0)) {
			break;
		}
		Pos = _tmPf0;
		(++Count);
	};
	return ivec2{First, Count};
}

bool JB_Str_Visible(JB_String* Self) {
	JB_String* _tmPf0 = JB_Str_Name(Self);
	JB_Incr(_tmPf0);
	bool _tmPf1 = JB_Str_First(_tmPf0) != '.';
	JB_EarlyDecr(_tmPf0);
	return _tmPf1;
}

FileSizeInt JB_Str_WriteAll(JB_String* Self, JB_String* Data) {
	JB_File* F = JB_Str_AsFile(Self);
	JB_Incr(F);
	FileSizeInt _tmPf0 = JB_File_DataSet(F, Data);
	JB_EarlyDecr(F);
	return _tmPf0;
}

bool JB_Str_Yes(JB_String* Self, Message* Where) {
	if (!JB_Str_Exists(Self)) {
		return false;
	}
	if ((JB_Str_Equals(Self, JB_LUB[549], true)) or ((JB_Str_Equals(Self, JB_LUB[7], true)) or ((JB_Str_Equals(Self, JB_LUB[892], true)) or ((JB_Str_Equals(Self, JB_LUB[478], true)) or (JB_Str_Equals(Self, JB_LUB[0], true)))))) {
		return false;
	}
	if ((JB_Str_Equals(Self, JB_LUB[125], true)) or ((JB_Str_Equals(Self, JB_LUB[6], true)) or ((JB_Str_Equals(Self, JB_LUB[893], true)) or (JB_Str_Equals(Self, JB_LUB[476], true))))) {
		return true;
	}
	if (true) {
		JB_String* _tmPf1 = JB_Str_OperatorPlus(Self, JB_LUB[26]);
		JB_Incr(_tmPf1);
		JB_String* _tmPf0 = JB_Str_OperatorPlus(JB_LUB[894], _tmPf1);
		JB_Incr(_tmPf0);
		JB_Decr(_tmPf1);
		JB_Msg_Fail(Where, _tmPf0);
		JB_Decr(_tmPf0);
	}
	return false;
}

JB_String* JB_Str__FromPico(PicoMessage* M) {
	byte* X = ((byte*)M->Data);
	if (X) {
		return JB_Str__Freeable(X, M->Length);
	}
	return JB_LUB[0];
}

SortComparison JB_Str__Sorter(JB_String* Self, JB_String* B) {
	return ((SortComparison)JB_Str_Compare(B, Self, false));
}


SyntaxObj* JB_Fn_Constructor(SyntaxObj* Self, FP_fpMsgRender Msg, JB_String* Name, int ID) {
	if (Self == nil) {
		Self = ((SyntaxObj*)JB_NewClass(&SyntaxObjData));
	}
	JB_Incr2(Self->LongName, JB_LUB[0]);
	Self->RenderAddr = Msg;
	JB_Incr2(Self->Name, Name);
	Self->ID = ((Syntax)ID);
	Self->ExportAddr = JB_Msg_Dummy;
	return Self;
}

void JB_Fn_Destructor(SyntaxObj* Self) {
	//cpp_part;
	JB_Clear(Self->LongName);
	JB_Clear(Self->Name);
}

JB_String* JB_Fn_Render(SyntaxObj* Self, FastString* Fs_in) {
	if (!Fs_in) {
		return JB_Str_LowerCase(Self->LongName);
	}
	JB_String* _tmPf0 = JB_Str_LowerCase(Self->LongName);
	JB_Incr(_tmPf0);
	JB_FS_AppendString(Fs_in, _tmPf0);
	JB_EarlyDecr(_tmPf0);
	return JB_LUB[0];
}





void JB_Tree_AppendAfter(JB_List* Self, JB_List* Item, JB_List* After) {
	if (After) {
		(JB_Ring_NextSibSet(After, Item));
	}
	 else {
		(JB_Ring_FirstSet(Self, Item));
	}
}

void JB_Tree_AppendAll(JB_List* Self, JB_List* Src) {
	while (true) {
		JB_List* L = JB_Ring_First(Src);
		if ((!L)) {
			break;
		}
		(JB_Ring_LastSet(Self, L));
	};
}

void JB_Tree_AppendBefore(JB_List* Self, JB_List* Item, JB_List* Before) {
	if (Before) {
		(JB_Ring_PrevSibSet(Before, Item));
	}
	 else {
		(JB_Ring_LastSet(Self, Item));
	}
}

void JB_Tree_Clear(JB_List* Self) {
	while (true) {
		JB_List* F = JB_Ring_First(Self);
		if (!F) {
			return;
		}
		JB_Tree_Remove(F);
	};
}

JB_List* JB_Tree_FlatLast(JB_List* Self) {
	while (true) {
		JB_List* L = JB_Ring_Last(Self);
		if (!L) {
			break;
		}
		Self = L;
	};
	return Self;
}

bool JB_Tree_HasOneChild(JB_List* Self) {
	return JB_Ring_HasChildCount(Self, 1);
}

bool JB_Tree_IsFirst(JB_List* Self) {
	return JB_Ring_PrevSib(Self) == nil;
}

bool JB_Tree_IsLast(JB_List* Self) {
	return JB_Ring_NextSib(Self) == nil;
}

bool JB_Tree_IsOnlyChild(JB_List* Self) {
	return JB_Tree_IsLast(Self) and JB_Tree_IsFirst(Self);
}

JB_List* JB_Tree_Pop(JB_List* Self) {
	JB_List* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Ring_Last(Self));
	if (Rz) {
		JB_Tree_Remove(Rz);
	}
	JB_SafeDecr(Rz);
	return Rz;
}

void JB_Tree_PrependAll(JB_List* Self, JB_List* Src) {
	while (true) {
		JB_List* L = JB_Ring_Last(Src);
		if ((!L)) {
			break;
		}
		(JB_Ring_FirstSet(Self, L));
	};
}

void JB_Tree_Remove(JB_List* Self) {
	(JB_Ring_ParentSet(Self, nil));
}

void JB_Tree_RemoveAfter(JB_List* Self) {
	while (true) {
		JB_List* X = JB_Ring_NextSib(Self);
		if ((!X)) {
			break;
		}
		JB_Tree_Remove(X);
	};
}

JB_String* JB_List_Render(JB_List* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	//cpp_name;
	//visible;
	if (Self) {
		JB_FS_AppendInt32(Fs, Self->Position);
		JB_FS_AppendByte(Fs, ':');
		JB_FS_AppendByte(Fs, '(');
		{
			JB_List* F = JB_Ring_First(Self);
			JB_Incr(F);
			while (F) {
				JB_List* _Nf1 = (JB_Ring_NextSib(F));
				JB_Incr(_Nf1);
				JB_FreeIfDead(JB_Object___Render__(F, Fs));
				JB_FS_AppendByte(Fs, ',');
				JB_FS_AppendByte(Fs, ' ');
				JB_SetRef(F, _Nf1);
				JB_Decr(_Nf1);
			};
			JB_Decr(F);
			;
		}
		;
		JB_FS_AppendByte(Fs, ')');
	}
	 else {
		JB_FS_AppendString(Fs, JB_LUB[13]);
	}
	JB_String* _tmPf2 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf2);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

JB_List* JB_Tree_Second(JB_List* Self) {
	JB_List* X = JB_Ring_First(Self);
	if (X) {
		return JB_Ring_NextSib(X);
	}
	return nil;
}

JB_List* JB_Tree_stepbool(JB_List* Self, bool Fwd) {
	//cpp_part;
	if (Fwd) {
		return JB_Ring_NextSib(Self);
	}
	return JB_Ring_PrevSib(Self);
}

JB_List* JB_Tree_Get(JB_List* Self, int N) {
	JB_List* Rz = nil;
	//cpp_part;
	if (Self) {
		if (N >= 0) {
			Rz = JB_Ring_First(Self);
			while (Rz and ((--N) >= 0)) {
				Rz = JB_Ring_NextSib(Rz);
			};
		}
		 else {
			Rz = JB_Ring_Last(Self);
			while (Rz and ((++N) < 0)) {
				Rz = JB_Ring_PrevSib(Rz);
			};
		}
	}
	return Rz;
}

void JB_Tree_SyntaxAppend(JB_List* Self, JB_List* Last) {
	(JB_Ring_LastSet(Self, Last));
}

JB_List* JB_Tree_Upward(JB_List* Self, int N) {
	while (Self and ((--N) >= 0)) {
		Self = JB_Ring_Parent(Self);
	};
	return Self;
}

JB_List* JB_Tree_WrapWith(JB_List* Self, JB_List* W) {
	(JB_Ring_PrevSibSet(Self, W));
	(JB_Ring_FirstSet(W, Self));
	return W;
}


void SC_xC2xB5Form_AddP(xC2xB5Form* Self, int Size, uint /*MuParam*/ P) {
	if ((Size <= 0) or (Size > 32)) {
	}
	int I = Self->Count++;
	Self->TotalBits = (Self->TotalBits + Size);
	if (I >= (6)) {
		JB_Str_Fail(JB_LUB[1043]);
		return;
	}
	P = (P | (Size - 1));
	Self->Params[I] = P;
	if (SC_xC2xB5Param_SyntaxIs(P, kSC__xC2xB5Param_Jump)) {
		if (Self->RegForJump) {
		}
		Self->RegForJump = (I + 1);
	}
}

void SC_xC2xB5Form_AddRemainder(xC2xB5Form* Self, int U) {
	SC_xC2xB5Form_AddP(Self, 24 - Self->TotalBits, kSC__xC2xB5Param_Number | U);
}

xC2xB5Form* SC_xC2xB5Form_Constructor(xC2xB5Form* Self, Message* Tmp) {
	if (Self == nil) {
		Self = ((xC2xB5Form*)JB_NewClass(&xC2xB5FormData));
	}
	Self->Count = 0;
	memzero((&Self->Params[0]), 12);
	Self->TotalBits = 0;
	Self->RegsAltered = 0;
	Self->RegForJump = 0;
	JB_Incr2(Self->src, Tmp);
	JB_Incr2(Self->Name, Tmp->Name);
	{
		Message* _LoopSrcf2 = JB_Msg_Last(Tmp, kJB_SyxArg);
		Message* Line = ((Message*)JB_Ring_First(_LoopSrcf2));
		while (Line) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Line));
			Message* F = JB_Msg_NeedFirst(Line);
			SC_xC2xB5Form_LoadParam(Self, JB_Msg_Name(F), F);
			Line = _Nf1;
		};
		;
	}
	;
	Self->Index = (++SC__xC2xB5Form_Count);
	return Self;
}

void SC_xC2xB5Form_Destructor(xC2xB5Form* Self) {
	//cpp_part;
	JB_Clear(Self->src);
	JB_Clear(Self->Name);
}

void SC_xC2xB5Form_LoadParam(xC2xB5Form* Self, JB_String* Pl, Message* Place) {
	if (JB_Str_IsInt(Pl)) {
		int64 I = JB_Str_Int(Pl);
		if (!((I > 0) and (I <= 24))) {
			JB_Msg_Fail(Place, JB_LUB[1264]);
		}
		SC_xC2xB5Form_AddP(Self, I, kSC__xC2xB5Param_Number);
		return;
	}
	if ((!JB_Str_EqualsInt(Pl, 1))) {
		JB_Object_Fail(Self);
		return;
	}
	uint P = JB_Str_First(Pl);
	if (P == 'r') {
		SC_xC2xB5Form_AddP(Self, 5, kSC__xC2xB5Param_Input);
	}
	 else if (P == 'R') {
		SC_xC2xB5Form_AddP(Self, 5, kSC__xC2xB5Param_Output);
		(++Self->RegsAltered);
	}
	 else if (P == 'P') {
		SC_xC2xB5Form_AddP(Self, 5, kSC__xC2xB5Param_Output + kSC__xC2xB5Param_Input);
		(++Self->RegsAltered);
	}
	 else if (P == 'x') {
		SC_xC2xB5Form_AddP(Self, 32, kSC__xC2xB5Param_Number);
	}
	 else if (P == 'l') {
		SC_xC2xB5Form_AddRemainder(Self, 0);
	}
	 else if (P == 'j') {
		SC_xC2xB5Form_AddRemainder(Self, kSC__xC2xB5Param_Signed + kSC__xC2xB5Param_Jump);
	}
	 else if (Place) {
		if (true) {
			JB_Msg_Fail(Place, nil);
		}
	}
	 else {
		if (true) {
			JB_Object_Fail(Self);
		}
	}
}

JB_String* SC_xC2xB5Form_Render(xC2xB5Form* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, Self->Name);
	{
		int _LoopSrcf1 = Self->Count;
		int I = 0;
		while (I < _LoopSrcf1) {
			JB_FS_AppendByte(Fs, ' ');
			JB_FS_AppendInt32(Fs, SC_xC2xB5Param_BitSize(Self->Params[I]));
			(++I);
		};
	}
	;
	JB_String* _tmPf2 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf2);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

MuParam SC_xC2xB5Form_AccessInt(xC2xB5Form* Self, int I) {
	//cpp_part;
	return Self->Params[I];
}

int SC_xC2xB5Form__Init_() {
	{
		JB_SetRef(SC__xC2xB5Form_Forms, JB_Dict_Constructor(nil));
	}
	;
	return 0;
}

xC2xB5Form* SC_xC2xB5Form__NeedForm(JB_String* Form, Message* M) {
	xC2xB5Form* Rz = nil;
	Rz = ((xC2xB5Form*)JB_Dict_ValueLower(SC__xC2xB5Form_Forms, Form));
	if (!Rz) {
		if (true) {
			JB_Msg_Fail(M, JB_Str_OperatorPlus(JB_LUB[1422], Form));
		}
		Rz = SC_xC2xB5Form_Constructor(nil, JB_Syx_Msg(kJB_SyxArg, JB_LUB[0]));
	}
	return Rz;
}




bool SC_FastStringCpp_AddProperty(FastStringCpp* Self, SCDecl* Prop, bool Intomodule) {
	if (SC_Decl_SyntaxIs(Prop, kSC__SCDeclInfo_Const)) {
		if (!Intomodule) {
			SC_Cpp__WriteConst(Prop, Self);
			return true;
		}
	}
	 else if (SC_Decl_TypeIsReached(Prop)) {
		if (SC_Decl_SyntaxIs(Prop, kSC__SCDeclInfo_Library) and SC_Decl_SyntaxIs(Prop, kSC__SCDeclInfo_Global)) {
			if (!Intomodule) {
				JB_FS_AppendString(Self, JB_LUB[808]);
				JB_FS_AppendString(Self, Prop->ExportName);
				JB_FS_AppendString(Self, JB_LUB[864]);
				SC_FS_AppendLibGlob(Self, Prop);
				return true;
			}
			return false;
		}
		 else {
			if (!Intomodule) {
				JB_FS_AppendString(Self, JB_LUB[865]);
			}
			 else if (SC_Decl_SyntaxIs(Prop, kSC__SCDeclInfo_API)) {
				JB_FS_AppendString(Self, JB_LUB[628]);
			}
			if (0) {
				//prop.StringData.ReplaceAll("$(N)", prop.name, self);
			}
			 else {
				SC_Cpp__WriteDecl(Prop, Self, nil);
			}
		}
		JB_FS_AppendByte(Self, ';');
		return true;
	}
	return false;
}

void SC_FastStringCpp_AppendBehaviour(FastStringCpp* Self, JB_String* Name, SCFunction* Fn, SCClass* Type) {
	JB_FS_AppendString(Self, JB_LUB[1215]);
	if (JB_Str_Exists(Name)) {
		JB_FS_AppendString(Self, Name);
	}
	 else {
		JB_FS_AppendString(Self, JB_LUB[1216]);
	}
	JB_FS_AppendString(Self, JB_LUB[811]);
	if (!Fn) {
		JB_FS_AppendString(Self, JB_LUB[100]);
	}
	 else {
		JB_FS_AppendByte2(Self, '(');
		if (Type) {
			JB_String* _tmPf0 = SC_Class_CStructName(Type);
			if (!JB_Str_Exists(_tmPf0)) {
				JB_Object_Fail(nil);
				return;
			}
			JB_FS_AppendString(Self, (_tmPf0));
		}
		 else {
			JB_FS_AppendString(Self, JB_LUB[1217]);
		}
		JB_FS_AppendByte2(Self, ')');
		JB_FS_AppendString(Self, Fn->ExportName);
	}
	JB_FS_AppendString(Self, JB_LUB[663]);
}

FastStringCpp* SC_FastStringCpp_Constructor(FastStringCpp* Self, JB_String* Name) {
	if (Self == nil) {
		Self = ((FastStringCpp*)JB_NewClass(&FastStringCppData));
	}
	JB_FS_Constructor(Self);
	JB_Incr2(Self->Cpp_Name, Name);
	return Self;
}

void SC_FastStringCpp_Destructor(FastStringCpp* Self) {
	//cpp_part;
	JB_Clear(Self->Cpp_Name);
	JB_FS_Destructor(Self);
}


JB_File* JB_File_Child(JB_File* Self, JB_String* Name) {
	if ((!JB_Str_Exists(Name))) {
		JB_String* _tmPf0 = JB_Str_OperatorPlus(JB_LUB[871], Self);
		JB_Incr(_tmPf0);
		JB_File_Fail(Self, _tmPf0);
		JB_Decr(_tmPf0);
	}
	JB_String* _tmPf1 = JB_Str_Child(((JB_String*)Self), Name);
	JB_Incr(_tmPf1);
	JB_File* _tmPf2 = JB_File_Constructor(nil, _tmPf1);
	JB_Incr(_tmPf2);
	JB_EarlyDecr(_tmPf1);
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

ExitCode SC_File_CodeSign(JB_File* Self, JB_String* Sign) {
	ExitCode Rz = 0;
	if (!JB_Platform__OSX()) {
		return 45;
	}
	//using;
	uint __varf1 = kJB__ErrorSeverity_Warning;
	uint _usingf0 = JB_ErrorSeverity_SyntaxUsing(__varf1);
	Array* Args = (JB_Array_Constructor0(nil));
	JB_Incr(Args);
	JB_Array_SyntaxAppend(Args, JB_LUB[964]);
	JB_Array_SyntaxAppend(Args, JB_LUB[965]);
	if (SC__Options_PrintCompileString) {
		JB_Array_SyntaxAppend(Args, JB_LUB[966]);
	}
	JB_Array_SyntaxAppend(Args, JB_LUB[967]);
	JB_StringC* _tmPf2 = JB_Str_MakeC(Sign);
	JB_Incr(_tmPf2);
	JB_Array_SyntaxAppend(Args, _tmPf2);
	JB_Decr(_tmPf2);
	JB_StringC* _tmPf3 = JB_Str_MakeC(Self);
	JB_Incr(_tmPf3);
	JB_Array_SyntaxAppend(Args, _tmPf3);
	JB_Decr(_tmPf3);
	FastString* Errs = JB_FS_Constructor(nil);
	JB_Incr(Errs);
	JB_File* F = JB_Str_AsFile(JB_LUB[968]);
	JB_Incr(F);
	Rz = JB_Str_Execute(F, Args, nil, Errs, kJB__PIDM_StdOutPassThru, 0);
	JB_SetRef(Args, (JB_Array_Constructor0(nil)));
	JB_Array_SyntaxAppend(Args, JB_LUB[969]);
	if (SC__Options_PrintCompileString) {
		JB_Array_SyntaxAppend(Args, JB_LUB[966]);
	}
	JB_Array_SyntaxAppend(Args, Self);
	if (JB_ExitCode_Successful(Rz)) {
		Rz = JB_Str_Execute(JB_LUB[968], Args, nil, Errs, kJB__PIDM_StdOutPassThru, 0);
	}
	if (JB_ExitCode_Successful(Rz)) {
		(JB_Array_ValueSet(Args, 0, JB_LUB[970]));
		Rz = JB_Str_Execute(JB_LUB[971], Args, nil, Errs, kJB__PIDM_StdOutPassThru, 0);
	}
	 else {
		if (true) {
			JB_String* _tmPf4 = JB_FS_GetResult(Errs);
			JB_Incr(_tmPf4);
			JB_File_Fail(F, _tmPf4);
			JB_Decr(_tmPf4);
		}
	}
	JB_Decr(Args);
	JB_Decr(Errs);
	JB_Decr(F);
	DTWrap* _tmPf5 = JB_Wrap_ConstructorInt(nil, __varf1);
	JB_Incr(_tmPf5);
	JB_ErrorSeverity_SyntaxUsingComplete(_usingf0, _tmPf5);
	JB_EarlyDecr(_tmPf5);
	return Rz;
}

bool JB_File_CompareData(JB_File* Self, JB_String* A, JB_String* Error) {
	//;
	int Code = 0;
	JB_String* _tmPf0 = JB_File_ReadAll(Self, 134217728, true);
	JB_Incr(_tmPf0);
	if (JB_File_Size(Self) != JB_Str_Length(A)) {
		Code = 1;
	}
	 else if ((!JB_Str_Equals(_tmPf0, A, false))) {
		Code = 2;
	}
	JB_EarlyDecr(_tmPf0);
	return JB_File_CompareMsg(Self, Code, Error);
}

bool JB_File_FileCompare(JB_File* Self, JB_File* A, JB_String* Error) {
	bool Rz = false;
	//cpp_part;
	JB_Flow__DisabledIncr(1);
	ErrorInt Code = JB_File_FileCompareSub(Self, A);
	JB_File_Close(Self);
	JB_File_Close(A);
	Rz = JB_File_CompareMsg(Self, Code, Error);
	JB_Flow__DisabledIncr(-1);
	return Rz;
}

bool JB_File_CompareMsg(JB_File* Self, ErrorInt Code, JB_String* Error) {
	//;
	if ((Code == 0) or (!JB_Str_Exists(Error))) {
		return Code == 0;
	}
	JB_String* Msg = Self;
	JB_Incr(Msg);
	if (Code == 1) {
		JB_SetRef(Msg, JB_Str_OperatorPlus(Msg, JB_LUB[872]));
	}
	 else {
		JB_SetRef(Msg, JB_Str_OperatorPlus(Msg, JB_LUB[873]));
	}
	JB_SetRef(Msg, JB_Str_OperatorPlus(Msg, Error));
	if (true) {
		JB_Str_Fail(Msg);
	}
	JB_EarlyDecr(Msg);
	return false;
}

ErrorInt JB_File_FileCompareSub(JB_File* Self, JB_File* A) {
	ErrorInt Rz = 0;
	//cpp_part;
	//;
	if (JB_File_Size(Self) != JB_File_Size(A)) {
		return 1;
	}
	JB_File_Close(A);
	JB_File_Close(Self);
	JB_File_Open(Self, kJB__File_ReadMode, false);
	JB_File_Open(A, kJB__File_ReadMode, false);
	while (true) {
		JB_String* S_ = JB_File_Read(Self, 65536, true);
		JB_Incr(S_);
		JB_String* SA = JB_File_Read(A, 65536, true);
		JB_Incr(SA);
		if (!JB_Str_Equals(S_, SA, false)) {
			Rz = 2;
			JB_EarlyDecr(SA);
			JB_EarlyDecr(S_);
			break;
		}
		JB_Decr(SA);
		if ((!JB_Str_Exists(S_))) {
			JB_EarlyDecr(S_);
			break;
		}
		JB_Decr(S_);
	};
	return Rz;
}

Message* JB_File_Config(JB_File* Self, int Lim) {
	Message* Rz = ((Message*)nil);
	if (JB_File_FileExistance(Self)) {
		Rz = ((Message*)JB_File_Parse(Self, Lim, false, kJB_SyxArg));
	}
	if (!Rz) {
		Rz = JB_Msg_ConstructorEmpty(nil);
	}
	JB_SetRef(Rz->Obj, Self);
	return Rz;
}

ErrorInt JB_File_CopyAll(JB_File* Self, JB_String* Dest, bool AttrOnly) {
	ErrorInt Rz = 0;
	if (!JB_File_IsDir(Self)) {
		JB_File* _tmPf2 = JB_Str_AsFile(Dest);
		JB_Incr(_tmPf2);
		ErrorInt _tmPf3 = JB_File_Copy(Self, _tmPf2, AttrOnly);
		JB_EarlyDecr(_tmPf2);
		return _tmPf3;
	}
	{
		JB_DirReader _readerf0 = ((JB_DirReader){});
		JB_File_ListStart(Self, (&_readerf0));
		while (JB_File_MoveNext((&_readerf0))) {
			JB_String* N = JB_File_CurrChild((&_readerf0), 0);
			JB_Incr(N);
			JB_File* S = JB_File_SyntaxAccess(Self, N);
			JB_Incr(S);
			JB_String* D = JB_Str_SyntaxAccess(Dest, N);
			JB_Incr(D);
			JB_Decr(N);
			Rz = JB_File_CopyAll(S, D, false);
			JB_Decr(S);
			JB_Decr(D);
			if (!JB_ErrorInt_SyntaxCast(Rz)) {
				break;
			}
		};
		JB_File_ListEnd((&_readerf0));
	}
	;
	return Rz;
}

ErrorInt JB_File_DeleteAll(JB_File* Self, bool KeepSelf) {
	ErrorInt Rz = 0;
	if ((JB_Str_Equals(Self, JB_LUB[3], false)) or (JB_Str_Equals(Self, JB_LUB[0], false))) {
		return -1;
	}
	if (JB_File_IsDir(Self)) {
		{
			JB_DirReader _readerf0 = ((JB_DirReader){});
			JB_File_ListStart(Self, (&_readerf0));
			while (JB_File_MoveNext((&_readerf0))) {
				JB_String* _tmPf2 = JB_File_CurrChild((&_readerf0), 0);
				JB_Incr(_tmPf2);
				JB_File* C = JB_File_Child(Self, _tmPf2);
				JB_Incr(C);
				JB_Decr(_tmPf2);
				if (JB_File_IsLink(C)) {
					JB_File_Delete(C);
				}
				 else {
					ErrorInt Tmp = JB_File_DeleteAll(C, false);
					if (Rz == 0) {
						Rz = Tmp;
					}
				}
				JB_Decr(C);
			};
			JB_File_ListEnd((&_readerf0));
		};
	}
	if ((!KeepSelf) and (Rz == 0)) {
		Rz = JB_File_Delete(Self);
	}
	return Rz;
}

bool JB_File_DirectoryContains(JB_File* Self, JB_String* Path) {
	JB_StringC* _tmPf0 = JB_File_PathFix(Path);
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = JB_Str_PathDir(Self);
	JB_Incr(_tmPf1);
	bool _tmPf2 = JB_Str_OperatorStarts(_tmPf0, _tmPf1);
	JB_Decr(_tmPf0);
	JB_EarlyDecr(_tmPf1);
	return _tmPf2;
}

ErrorInt JB_File_LinkToSet(JB_File* Self, JB_String* Value) {
	JB_StringC* _tmPf0 = JB_Str_MakeC(Value);
	JB_Incr(_tmPf0);
	ErrorInt _tmPf1 = JB_Str_SymLink(_tmPf0, Self);
	JB_EarlyDecr(_tmPf0);
	return _tmPf1;
}

Array* JB_File_List(JB_File* Self, int Mode) {
	Array* Rz = ((Array*)JB_Array_Constructor0(nil));
	JB_Incr(Rz);
	//;
	{
		JB_DirReader _readerf0 = ((JB_DirReader){});
		JB_File_ListStart(Self, (&_readerf0));
		while (JB_File_MoveNext((&_readerf0))) {
			JB_String* Name = JB_File_CurrChild((&_readerf0), 0);
			JB_Incr(Name);
			if ((Mode & kJB__File_AllowInvisible) or (JB_Str_First(Name) != '.')) {
				JB_File* Ch = nil;
				JB_Incr(Ch);
				if (!(Mode & kJB__File_AllowSymLinks)) {
					JB_SetRef(Ch, JB_File_SyntaxAccess(Self, Name));
					if (JB_File_IsLink(Ch)) {
						JB_EarlyDecr(Ch);
						JB_EarlyDecr(Name);
						continue;
					}
				}
				if (Mode & kJB__File_WantFileObjects) {
					if (!Ch) {
						JB_SetRef(Ch, JB_File_SyntaxAccess(Self, Name));
					}
					JB_Array_SyntaxAppend(Rz, Ch);
				}
				 else {
					JB_Array_SyntaxAppend(Rz, Name);
				}
				JB_Decr(Ch);
			}
			JB_Decr(Name);
		};
		JB_File_ListEnd((&_readerf0));
	}
	;
	JB_Array_Sort(Rz, ((FP_SorterComparer)((&JB_Str__Sorter))));
	if (!JB_Flow__IsDisabled()) {
		JB_Flow__InputStrings(Rz, Self);
	}
	JB_SafeDecr(Rz);
	return Rz;
}

Array* JB_File_ListFiles(JB_File* Self, int Mode) {
	return ((Array*)JB_File_List(Self, Mode | kJB__File_WantFileObjects));
}

bool JB_File_MustExist(JB_File* Self, JB_String* Operation) {
	if (JB_File_FileExistance(Self)) {
		return true;
	}
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, JB_LUB[874]);
	if (JB_Str_First(Self) != '/') {
		JB_FS_AppendString(Fs, JB_LUB[875]);
		JB_String* _tmPf0 = JB_File__CWD();
		JB_Incr(_tmPf0);
		JB_FS_AppendString(Fs, _tmPf0);
		JB_Decr(_tmPf0);
	}
	if (JB_Str_Exists(Operation)) {
		JB_FS_AppendString(Fs, JB_LUB[876]);
		JB_FS_AppendString(Fs, Operation);
	}
	JB_FS_AppendByte(Fs, ' ');
	JB_FS_AppendString(Fs, Self);
	if (true) {
		JB_String* _tmPf1 = JB_FS_SyntaxCast(Fs);
		JB_Incr(_tmPf1);
		JB_File_Fail(Self, _tmPf1);
		JB_Decr(_tmPf1);
	}
	JB_EarlyDecr(Fs);
	return false;
}

bool JB_File_NewerThanFile(JB_File* Self, JB_File* F) {
	//cpp_part;
	return JB_File_OperatorIsNewerThan(Self, JB_File_Modified(F));
}

JB_File* JB_File_Parent(JB_File* Self) {
	return JB_File_Constructor(nil, JB_Str_Parent(Self));
}

Message* JB_File_Parse(JB_File* Self, int Lim, bool AllowMissing, Syntax Owner) {
	Message* Rz = ((Message*)nil);
	JB_Incr(Rz);
	JB_String* S = JB_File_ReadAll(Self, Lim, AllowMissing);
	JB_Incr(S);
	if (JB_Str_IsCompressed(S)) {
		JB_SetRef(S, JB_Str_Decompress(S, nil, Lim, nil));
	}
	if (JB_Safe_SyntaxCast(S)) {
		JB_FreeIfDead(JB_ClassData_CreateLayerAndUse((&MessageData), Self, S));
		JB_SetRef(Rz, JB_Str_Parse(S, Owner, false));
		JB_ClassData_Restore((&MessageData));
	}
	JB_EarlyDecr(S);
	JB_SafeDecr(Rz);
	return Rz;
}

JB_File* JB_File_Sibling(JB_File* Self, JB_String* Name) {
	JB_String* _tmPf0 = JB_Str_Sibling(Self, Name);
	JB_Incr(_tmPf0);
	JB_File* _tmPf1 = JB_Str_AsFile(_tmPf0);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

bool JB_File_SmartDataSet(JB_File* Self, JB_String* Nieu) {
	if ((JB_File_Size(Self) != JB_Str_Length(Nieu)) or ((!({
		JB_String* _tmPf1 = JB_File_ReadAll(Self, 134217728, true);
		JB_Incr(_tmPf1);
		bool _tmPf0 = JB_Str_Equals(_tmPf1, Nieu, false);
		JB_EarlyDecr(_tmPf1);
		 _tmPf0;
	})))) {
		return JB_FileSizeInt_SyntaxCast(JB_File_DataSet(Self, Nieu));
	}
	return false;
}

FileSizeInt JB_File_SyntaxAccessSet(JB_File* Self, JB_String* Data) {
	return JB_File_DataSet(Self, Data);
}

void JB_File_Fail(JB_File* Self, JB_String* Error) {
	//cpp_part;
	JB_Rec__Latchkum(nil, Error, JB_File_Path(Self));
}

void JB_File_SyntaxProblem(JB_File* Self, JB_String* Error) {
	JB_Rec__NewProblem(nil, Error, JB_File_Path(Self));
}

bool SC_File_TestBatch(JB_File* Self) {
	JB_File* Batch = JB_File_SyntaxAccess(SC__Comp_BaseProjectPath, JB_LUB[1855]);
	JB_Incr(Batch);
	bool Printed = false;
	JB_Print(JB_LUB[1856]);
	{
		Array* _LoopSrcf2 = JB_File_ListFiles(Batch, kJB__File_AllowSymLinks);
		JB_Incr(_LoopSrcf2);
		int _if0 = 0;
		while (true) {
			JB_File* C = ((JB_File*)JB_Array_Value(_LoopSrcf2, _if0));
			JB_Incr(C);
			if (C == nil) {
				JB_EarlyDecr(C);
				break;
			}
			if (JB_Str_Visible(C) and JB_Str_OperatorIsa(C, JB_LUB[155])) {
				if (Printed) {
					JB_Print(JB_LUB[47]);
				}
				Array* _tmPf3 = (JB_Array_Constructor0(nil));
				JB_Incr(_tmPf3);
				JB_Array_SyntaxAppend(_tmPf3, C);
				JB_Array_SyntaxAppend(_tmPf3, JB_LUB[1857]);
				JB_Array_SyntaxAppend(_tmPf3, JB_LUB[1858]);
				JB_Str_SilentExecute(Self, _tmPf3, nil, nil, 0);
				JB_Decr(_tmPf3);
				Printed = true;
				JB_String* _tmPf4 = JB_Str_Name(C);
				JB_Incr(_tmPf4);
				JB_Print(_tmPf4);
				JB_Decr(_tmPf4);
			}
			JB_Decr(C);
			(++_if0);
		};
		JB_Decr(_LoopSrcf2);
	}
	;
	JB_Decr(Batch);
	JB_PrintLine(nil);
	return JB_Rec_OK(JB_StdErr);
}

bool SC_File_TestSpeedie(JB_File* Self, JB_String* V) {
	if (!JB_File_MustExist(Self, JB_LUB[0])) {
		return nil;
	}
	JB_String* _tmPf0 = JB_File_Path(Self);
	JB_Incr(_tmPf0);
	if ((JB_Str_ContainsString(_tmPf0, JB_LUB[60]))) {
		JB_String* _tmPf2 = JB_File_Path(Self);
		JB_Incr(_tmPf2);
		JB_String* _tmPf1 = JB_Str_OperatorPlus(JB_LUB[1117], _tmPf2);
		JB_Incr(_tmPf1);
		JB_Decr(_tmPf2);
		JB_Str_Fail(_tmPf1);
		JB_EarlyDecr(_tmPf1);
		JB_EarlyDecr(_tmPf0);
		return nil;
	}
	JB_Decr(_tmPf0);
	JB_String* Variant = JB_Str_OperatorPlus(JB_LUB[1118], V);
	JB_Incr(Variant);
	Array* Cmd_args = (JB_Array_Constructor0(nil));
	JB_Incr(Cmd_args);
	JB_Array_SyntaxAppend(Cmd_args, JB_LUB[1119]);
	JB_Array_SyntaxAppend(Cmd_args, JB_LUB[1120]);
	JB_Array_SyntaxAppend(Cmd_args, Variant);
	JB_Decr(Variant);
	if (JB_Str_Exists(SC__Options_Arch)) {
		JB_String* _tmPf3 = JB_Str_OperatorPlus(JB_LUB[1121], SC__Options_Arch);
		JB_Incr(_tmPf3);
		JB_Array_SyntaxAppend(Cmd_args, _tmPf3);
		JB_Decr(_tmPf3);
	}
	if (SC__Options_PrintCompileString) {
		JB_Array_SyntaxAppend(Cmd_args, JB_LUB[1122]);
		JB_String* _tmPf4 = JB_File_Path(Self);
		JB_Incr(_tmPf4);
		JB_PrintLine(_tmPf4);
		JB_Decr(_tmPf4);
		JB_String* _tmPf5 = JB_Array_Render(Cmd_args, nil);
		JB_Incr(_tmPf5);
		JB_Str_PrintLine(_tmPf5);
		JB_Decr(_tmPf5);
	}
	JB_String* _tmPf6 = JB_File_Path(Self);
	JB_Incr(_tmPf6);
	JB_Str_Execute(_tmPf6, Cmd_args, nil, nil, 0, 0);
	JB_Decr(Cmd_args);
	JB_Decr(_tmPf6);
	JB_String* _tmPf7 = JB_Str_OperatorPlus(JB_LUB[1123], V);
	JB_Incr(_tmPf7);
	JB_File* TestProd = SC_Comp__SpeedieDir(_tmPf7);
	JB_Incr(TestProd);
	JB_Decr(_tmPf7);
	JB_File_MustExist(TestProd, JB_LUB[1124]);
	JB_Decr(TestProd);
	JB_String* _tmPf9 = SC_Ext__TmpOut(V);
	JB_Incr(_tmPf9);
	JB_String* _tmPf8 = JB_Str_ReadAll(_tmPf9, 16777216, true);
	JB_Incr(_tmPf8);
	JB_Decr(_tmPf9);
	JB_Print(_tmPf8);
	JB_Decr(_tmPf8);
	JB_String* _tmPf10 = SC_Ext__TmpErr(V);
	JB_Incr(_tmPf10);
	JB_String* Test_err = JB_Str_ReadAll(_tmPf10, 16777216, true);
	JB_Incr(Test_err);
	JB_Decr(_tmPf10);
	if (JB_Str_Length(Test_err)) {
		if (true) {
			JB_Str_Fail(Test_err);
		}
	}
	JB_EarlyDecr(Test_err);
	return JB_Rec_OK(JB_StdErr);
}

ExitCode JB_File_Touch(JB_File* Self) {
	Array* _tmPf0 = (JB_Array_Constructor0(nil));
	JB_Incr(_tmPf0);
	JB_Array_SyntaxAppend(_tmPf0, Self);
	ExitCode _tmPf1 = JB_Str_SilentExecute(JB_LUB[148], _tmPf0, nil, nil, 0);
	JB_EarlyDecr(_tmPf0);
	return _tmPf1;
}

int JB_File__Init_() {
	{
		JB_SetRef(JB__File__Speedie, JB_LUB[0]);
	}
	;
	return 0;
}

JB_File* JB_File__Prefs(JB_String* Name) {
	JB_String* P = JB_LUB[527];
	JB_Incr(P);
	if (JB_Str_Exists(Name)) {
		JB_String* _tmPf0 = JB_Str_Child(P, Name);
		JB_Incr(_tmPf0);
		JB_File* _tmPf1 = JB_Str_AsFile(_tmPf0);
		JB_Incr(_tmPf1);
		JB_EarlyDecr(_tmPf0);
		JB_EarlyDecr(P);
		JB_SafeDecr(_tmPf1);
		return _tmPf1;
	}
	JB_File* _tmPf2 = JB_Str_AsFile(P);
	JB_Incr(_tmPf2);
	JB_EarlyDecr(P);
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

JB_String* JB_File__SpeedieDir() {
	if (!JB_Str_Exists(JB__File__Speedie)) {
		JB_String* _tmPf0 = JB_App__Path();
		JB_Incr(_tmPf0);
		JB_String* Paths = JB_Str_Parent(_tmPf0);
		JB_Incr(Paths);
		JB_Decr(_tmPf0);
		JB_String* Srch = JB_LUB[604];
		JB_Incr(Srch);
		Ind Found = JB_Str_InStr(Paths, Srch, 0, kJB__int_Max, true);
		if (JB_Ind_SyntaxCast(Found)) {
			JB_SetRef(JB__File__Speedie, JB_Str_Range(Paths, 0, Found + JB_Str_Length(Srch), false));
		}
		 else {
			JB_SetRef(JB__File__Speedie, JB_LUB[605]);
		}
		JB_Decr(Paths);
		JB_Decr(Srch);
	}
	return JB__File__Speedie;
}


jbinLeaver JB_bin_Add(FastString* Self, Syntax Type, JB_String* Name, bool Into) {
	return JB_bin_AddMemory(Self, Type, JB_Str_Length(Name), Into, Name->Addr);
}

jbinLeaver JB_bin_AddFS(FastString* Self, Syntax Type, FastString* Fs, bool Into) {
	//cpp_part;
	return JB_bin_Add(Self, Type, ((JB_String*)Fs), Into);
}

void JB_bin_AddInt(FastString* Self, int64 Name) {
	JB_String* _tmPf0 = JB_int64_Render(Name, nil);
	JB_Incr(_tmPf0);
	JB_bin_Add(Self, kJB_SyxNum, _tmPf0, false);
	JB_Decr(_tmPf0);
}

jbinLeaver JB_bin_AddMemory(FastString* Self, Syntax Type, int L, bool GoIn, byte* Data) {
	JB_bin_WriteType(Self, Type, GoIn);
	JB_FS_AppendHInt(Self, L);
	JB_FS_AppendMem_(Self, Data, L);
	return ((int)GoIn);
}

void JB_bin_AddRow(FastString* Self, Syntax Type, JB_String* Row, JB_String* Value) {
	JB_bin_Enter(Self, kJB_SyxMsg, Row);
	JB_bin_Add(Self, Type, Value, false);
	JB_bin_Exit(Self, 1);
}

bool SC_bin_BakeASM(FastString* Self, SCFunction* Fn) {
	bool Rz = false;
	uint T = Fn->xC2xB5ASMLength;
	SC__Comp_stTotalASMOps = (SC__Comp_stTotalASMOps + T);
	if (!SC__Options_StripNames) {
		SC_bin_BakeFuncName(Self, Fn);
	}
	FastString* Dd = SC__Pac_DebugDecls;
	if (Dd) {
		{
			Array* _LoopSrcf2 = Fn->Args;
			int _if0 = 0;
			while (true) {
				SCDecl* A = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
				if (A == nil) {
					break;
				}
				SC_Decl_DumpDecl(A, Dd, 0);
				(++_if0);
			};
		};
	}
	Rz = SC_bin_BakeASMSub(Self, Fn, T);
	if (Dd) {
		JB_bin_AddFS(Self, kJB_SyxBin, Dd, false);
		Dd->Length = 0;
	}
	if (!SC__Options_StripNames) {
		JB_bin_Exit(Self, 1);
	}
	return Rz;
}

bool SC_bin_BakeASMSub(FastString* Self, SCFunction* Fn, int T) {
	int Start = JB_bin_StartAdd(Self);
	uint* Positions = SC_SourceMap__Reserve(T * 4);
	ASM* Addr = ((ASM*)JB_FS_WriteAlloc_(Self, T * 4));
	ASM* After = SC_Func_ASMBake(Fn, Addr, Addr + T, Positions, Self->Length >> 2);
	JB_bin_FinishAdd(Self, kJB_SyxBin, Start);
	if ((After - Addr) != T) {
		SC_SCObject_Fail(Fn, JB_LUB[1483]);
		return nil;
	}
	return SC_SourceMap__Check(Fn, T * 4);
}

void SC_bin_BakeFuncName(FastString* Self, SCFunction* Fn) {
	FastString* Fs = JB_FS__FastNew(((FastString*)nil));
	SCClass* Cls = Fn->Cls;
	if (Cls) {
		JB_FS_AppendString(Fs, Cls->Name);
		JB_FS_AppendByte2(Fs, '.');
	}
	JB_FS_AppendString(Fs, Fn->Name);
	JB_bin_AddFS(Self, kJB_SyxTmp, Fs, true);
	JB_FS_AppendByte2(Self, '\x00');
}

void SC_bin_Cakeify(FastString* Self, SCFunction* Fn) {
	if (!Fn) {
		JB_bin_AddInt(Self, 0);
		return;
	}
	JB_bin_Enter(Self, kJB_SyxUnit, Fn->Name);
	uint Id = Fn->FPackID;
	if (!Id) {
		JB_Msg_Fail(Fn->Source, JB_LUB[1040]);
	}
	Id = ((Id << 1) + SC_Base_IsLibrary(Fn));
	JB_bin_AddInt(Self, Id);
	JB_bin_Exit(Self, 1);
}

FastString* JB_bin_Constructor(FastString* Self, Syntax Type, JB_String* Name) {
	if (Self == nil) {
		Self = ((FastString*)JB_NewClass(&FastStringData));
	}
	JB_FS_Constructor(Self);
	//cpp_part;
	JB_FS_AppendString(Self, JB__bin_Header);
	JB_bin_Enter(Self, Type, Name);
	return Self;
}

void SC_bin_DebugCloseVar(FastString* Self, int Pos, int Reg) {
	int Mark = Self->Length;
	JB_FS_AppendByte2(Self, '\x00');
	JB_FS_AppendHInt(Self, Pos);
	JB_FS_AppendHInt(Self, Reg);
	(JB_FS_ByteSet(Self, Mark, Self->Length - (Mark + 1)));
}

jbinLeaver JB_bin_Enter(FastString* Self, Syntax Type, JB_String* Name) {
	return JB_bin_Add(Self, Type, Name, true);
}

int JB_bin_Exit(FastString* Self, int Amount) {
	int Rz = 0;
	Self->Indent = JB_int_OperatorMax((Self->Indent - Amount), 0);
	int Add = 239;
	while (Amount > 0) {
		(++Rz);
		int B = JB_int_OperatorMin((Add + Amount), (255));
		JB_FS_AppendByte2(Self, ((byte)B));
		Amount = (Amount - (B - Add));
	};
	return Rz;
}

void JB_bin_Exit0(FastString* Self) {
	//cpp_part;
	JB_bin_Exit(Self, Self->Indent);
}

int JB_bin_FinishAdd(FastString* Self, Syntax Ty, int Start) {
	int NewLength = Self->Length;
	int Gained = NewLength - Start;
	int HLength = JB_uint64_HintLength(((uint64)Gained));
	Self->Length = (Start - 5);
	JB_FS_AppendMultiByte(Self, ((byte)0), 5 - (HLength + 1));
	JB_FS_AppendByte2(Self, ((byte)(((int)Ty) << 1)));
	JB_FS_AppendHInt(Self, Gained);
	((FastString*)Self)->Length = NewLength;
	return Gained;
}

void SC_bin_PropertyLayout(FastString* Self, Array* List) {
	int S = JB_bin_StartAdd(Self);
	{
		int _if0 = 0;
		while (true) {
			SCDecl* P = ((SCDecl*)JB_Array_Value(List, _if0));
			if (P == nil) {
				break;
			}
			SC_Decl_DumpDecl(P, Self, SC_Decl_ExportPosition(P));
			(++_if0);
		};
	}
	;
	JB_bin_FinishAdd(Self, kJB_SyxBin, S);
}

void JB_bin_RunHeader(FastString* Self, JB_String* Name) {
	if (JB_Str_Exists(Name)) {
		JB_FS_AppendByte2(Self, '#');
		JB_FS_AppendByte2(Self, '!');
		JB_FS_AppendString(Self, Name);
		JB_FS_AppendByte2(Self, '\n');
	}
	JB_FS_AppendString(Self, JB__bin_Header);
}

int JB_bin_StartAdd(FastString* Self) {
	JB_FS_AppendMultiByte(Self, ((byte)0), 5);
	return Self->Length;
}

jbinLeaver JB_bin_TmpArg(FastString* Self, JB_String* Name) {
	JB_bin_Enter(Self, kJB_SyxTmp, Name);
	JB_bin_Enter(Self, kJB_SyxArg, JB_LUB[0]);
	return 2;
}

void JB_bin_WriteType(FastString* Self, Syntax Type, bool GoIn) {
	int T = (((int)Type) << 1) | (GoIn);
	JB_FS_AppendByte2(Self, ((byte)T));
	Self->Indent = (Self->Indent + GoIn);
}

int JB_bin__Init_() {
	{
		JB_SetRef(JB__bin_Header, JB_LUB[5]);
	}
	;
	return 0;
}


void JB_Msg_Acc__(Message* Self, FastString* Fs) {
	Message* F = ((Message*)JB_Ring_First(Self));
	if (F) {
		JB_FS_SyntaxAppend(Fs, F);
		F = ((Message*)JB_Ring_NextSib(F));
		if (F) {
			JB_Msg_RenderPrm(F, Fs, '[', ']');
		}
	}
}

Message* JB_Msg_AccessAdd(Message* Self, JB_String* Key) {
	Message* L = Self;
	if (JB_Msg_EqualsSyx(Self, kJB_SyxTmp)) {
		L = ((Message*)JB_Ring_Last(Self));
		if (!JB_Msg_EqualsSyx(L, kJB_SyxArg)) {
			L = JB_Msg_Msg(Self, kJB_SyxArg, JB_LUB[0]);
		}
	}
	{
		Message* Tmp = ((Message*)JB_Ring_First(L));
		while (Tmp) {
			Message* _Nf1 = (((Message*)JB_Ring_NextSib(Tmp)));
			if ((JB_Msg_SyntaxEquals(Tmp, Key, true))) {
				{
					Message* _t = ((Message*)JB_Ring_Last(Tmp));
					if (_t) {
						JB_Tree_Remove(_t);
					}
				}
				;
				return Tmp;
			}
			Tmp = _Nf1;
		};
		;
	}
	;
	return JB_Msg_Msg(L, kJB_SyxTmp, Key);
}

bool SC_Msg_ACInIsa(Message* Self) {
	if (!(((JB_Msg_EqualsSyx(Self, kJB_SyxThg))) and JB_Tree_IsLast(Self))) {
		return nil;
	}
	Message* P = ((Message*)JB_Ring_Parent(Self));
	if (!P) {
		return nil;
	}
	if ((JB_Msg_EqualsSyx(P, kJB_SyxRel))) {
		Message* Pr = ((Message*)JB_Ring_PrevSib(Self));
		if ((JB_Msg_SyntaxEquals(Pr, JB_LUB[585], true)) or ((JB_Msg_SyntaxEquals(Pr, JB_LUB[586], true)) or (JB_Msg_SyntaxEquals(Pr, JB_LUB[587], true)))) {
			return true;
		}
	}
	SCFunction* Pfn = SC_Msg_AsFunc(P);
	if (Pfn) {
		if (JB_Str_Equals(Pfn->Name, JB_LUB[585], true)) {
			return true;
		}
	}
	return false;
}

FatASM* SC_Msg_ADAK(Message* Self, ASMReg R1, ASMReg R2, int K) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_ADAK, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, K));
	SC_FAT_Dest(Rz, 0, R1, A);
	SC_FAT_Dest(Rz, 1, R2, A);
	return Rz;
}

FatASM* SC_Msg_ADD(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_ADD, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_ADDB(Message* Self, ASMReg R1, int K) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_ADDB, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_NumInputSet(Rz, 1, K));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

void SC_Msg_AddBefore(Message* Self, Message* Before, Message* NewItem) {
	if (Before) {
		(JB_Ring_PrevSibSet(Before, NewItem));
	}
	 else {
		JB_Tree_SyntaxAppend(Self, NewItem);
	}
}

FatASM* SC_Msg_ADDK(Message* Self, ASMReg R1, ASMReg R2, int K) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_ADDK, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, K));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_ADDM(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_ADDM, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_AddOrSubInt(Message* Self, ASMReg Dest, ASMReg L, ASMReg R, int Sh) {
	bool Subtract = SC_Reg_SyntaxIs(L, kSC__Reg_Subtract);
	if (SC_Reg_IsVec(Dest)) {
		if (Subtract) {
			return SC_Msg_QSUB(Self, Dest, L, R, Sh);
		}
		return SC_Msg_QADD(Self, Dest, L, R, Sh);
	}
	bool BigLast = SC_Reg_IsBig(R);
	if (SC_Reg_IsBig(L) != BigLast) {
		if (BigLast and ((Sh == 0) and (!SC_Reg_SyntaxIs(L, kSC__Reg_Alternate)))) {
			JB_Swap((L), (R));
			BigLast = false;
		}
		if (!BigLast) {
			if (!SC_Reg_SyntaxIs(L, kSC__Reg_Alternate)) {
				return SC_Msg_ADDM(Self, Dest, L, R, Sh);
			}
			return SC_Msg_SUBM(Self, Dest, L, R, Sh);
		}
		if (!SC_Reg_IsBitCorrect(L)) {
			L = SC_Msg_ExpandBits(Self, L, SC_Reg_xC2xB5Type(R));
			if (Subtract) {
				(JB_Msg_SyntaxProblem(Self, JB_LUB[1511]));
			}
		}
	}
	if (Subtract) {
		return SC_Msg_SUB(Self, Dest, L, R, Sh);
	}
	if (SC_Reg_SyntaxIs(R, kSC__Reg_Temp)) {
		FatASM* Oof = SC_Msg_AddShifted(Self, Dest, L, R, Sh);
		if (Oof) {
			return Oof;
		}
	}
	return SC_Msg_ADD(Self, Dest, L, R, Sh);
}

FatASM* SC_Msg_AddShifted(Message* Self, ASMReg Dest, ASMReg L, ASMReg R, int Sh) {
	FatASM* Beef = SC_Reg_FAT(R);
	if (!SC_FAT_OperatorIsa(Beef, kSC__ASM_BFLG)) {
		return nil;
	}
	ASMParam Up = Beef->Prms[2] + Sh;
	int Total = Beef->Prms[3] - Up;
	if (Total <= 0) {
		return nil;
	}
	int Bits = SC_Reg_BitCount(R);
	if (((int)Total) >= (64 - Bits)) {
		return nil;
	}
	ASMReg Input = SC_FAT_ASMReg(Beef, 1);
	SC_Pac_SoftNop((&SC__Pac_Sh), Beef);
	return SC_Msg_ADD(Self, Dest, L, Input, Total);
}

void SC_Msg_AddValue(Message* Self, SCFunction* F) {
	if (!JB_Ring_HasChildCount(Self, 2)) {
		if (true) {
			Message* __varf1 = F->Source;
			MessagePosition _usingf0 = ((MessagePosition){});
			JB_Msg_SyntaxUsing(__varf1, (&_usingf0));
			JB_Msg_AppendSyx(Self, kJB_SyxThg, JB_LUB[638]);
			JB_MsgPos_SyntaxUsingComplete((&_usingf0), __varf1);
			JB_MsgPos_Destructor((&_usingf0));
		}
	}
}

void JB_Msg_Adj__(Message* Self, FastString* Fs) {
	Message* F = ((Message*)JB_Ring_First(Self));
	if (F) {
		Message* L = ((Message*)JB_Ring_NextSib(F));
		if (L) {
			JB_FS_SyntaxAppend(Fs, F);
			JB_FS_AppendString(Fs, JB_LUB[533]);
			JB_FS_SyntaxAppend(Fs, L);
		}
	}
}

FatASM* SC_Msg_AFNC(Message* Self, ASMReg R1, int Library, int Index) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_AFNC, Self);
	(SC_FAT_NumInputSet(Rz, 1, Library));
	(SC_FAT_NumInputSet(Rz, 2, Index));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_ALLO(Message* Self, ASMReg R1, int Amount) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_ALLO, Self);
	(SC_FAT_NumInputSet(Rz, 1, Amount));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

bool SC_Msg_AllowedMoveToInit(Message* Self) {
	Syntax Type = Self->Func;
	if ((Type == kJB_SyxDot) or ((Type == kJB_SyxSDot) or ((Type == kJB_SyxFunc) or ((Type == kJB_SyxRel) or (Type == kJB_SyxDecl))))) {
		return true;
	}
	return false;
}

ASMReg SC_Msg_AllowsTemp(Message* Self) {
	return SC_Reg_OperatorMul(kSC__Reg_Temp, ((!SC_Msg_FoundFuncWith0(Self))));
}

Message* JB_Msg_Ancestor(Message* Self, Syntax F) {
	{
		Message* _LoopSrcf1 = ((Message*)JB_Ring_Parent(Self));
		Message* Ch = _LoopSrcf1;
		while (Ch) {
			if (JB_Msg_EqualsSyx(Ch, F)) {
				return Ch;
			}
			Ch = ((Message*)JB_Ring_Parent(Ch));
		};
		;
	}
	;
	return nil;
}

int SC_Msg_AndOrExpansionTest(Message* Self) {
	Message* Ln = ((Message*)JB_Ring_First(Self));
	if (JB_Msg_EqualsSyx(Self, kJB_SyxBra)) {
		return SC_Msg_AndOrExpansionTest(Ln);
	}
	if (!JB_Msg_EqualsSyx(Self, kJB_SyxRel)) {
		return 0;
	}
	Message* Op = ((Message*)JB_Ring_NextSib(Ln));
	if (JB_Msg_SyntaxEquals(Op, JB_LUB[455], false)) {
		return 0;
	}
	Message* Rn = ((Message*)JB_Ring_NextSib(Op));
	if (!Rn) {
		return 0;
	}
	int Ls = SC_Msg_AndOrExpansionTest(Ln);
	int Rs = SC_Msg_AndOrExpansionTest(Rn);
	int Bs = Ls | Rs;
	int Orand = 1;
	if ((JB_Msg_SyntaxEquals(Op, JB_LUB[465], false)) or (JB_Msg_SyntaxEquals(Op, JB_LUB[479], false))) {
		return Orand | Bs;
	}
	if (((Ls == 2) or (Ls == 0)) and (Rs == Orand)) {
		SC_Msg_BunchlessFix(Self);
		return -1;
	}
	return 2 + Bs;
}

bool SC_Msg_AOrBExpand(Message* Self) {
	if (!JB_Msg_OperatorIn(Self, kJB_SyxRel)) {
		return true;
	}
	JB_SetRef(Self->Name, JB_LUB[465]);
	Message* Rel = ((Message*)JB_Ring_Parent(Self));
	JB_Incr(Rel);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Rel, (&_usingf0));
	Message* F = ((Message*)JB_Ring_First(Rel));
	JB_Incr(F);
	if (!JB_Ring_HasChildren(F)) {
		Message* List = JB_Msg_Msg(Rel, kJB_SyxList, JB_LUB[0]);
		JB_Incr(List);
		JB_Tree_SyntaxAppend(Rel, Self);
		Rel->Func = kJB_SyxFunc;
		JB_Msg_BecomeStr(Self, kJB_SyxPrm, JB_LUB[0]);
		JB_FreeIfDead(JB_Msg_Msg(Self, F->Func, F->Name));
		JB_Tree_SyntaxAppend(List, F);
		Message* _tmPf1 = ((Message*)JB_Ring_First(Rel));
		JB_Incr(_tmPf1);
		JB_Tree_SyntaxAppend(List, _tmPf1);
		JB_Decr(List);
		JB_Decr(_tmPf1);
	}
	 else {
		Message* P = SC_Msg_BunchFixPrepare(Rel);
		JB_Incr(P);
		Message* Subject = ((Message*)JB_Ring_First(P));
		JB_Incr(Subject);
		Message* Multi_opp = ((Message*)JB_Ring_NextSib(Subject));
		JB_Incr(Multi_opp);
		if (Multi_opp) {
			SC_Msg_RelFix(Rel, false);
			JB_FreeIfDead(SC_Msg_ReplaceWith(P, Rel));
			SC_Msg_BunchFixSub(Multi_opp, Subject, Rel);
		}
		JB_Decr(P);
		JB_Decr(Subject);
		JB_Decr(Multi_opp);
	}
	JB_Decr(F);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Rel);
	JB_Decr(Rel);
	JB_MsgPos_Destructor((&_usingf0));
	return true;
}

JB_String* SC_Msg_APICppProject(Message* Self) {
	SCFile* F = SC_Msg_File(Self);
	if (F) {
		JB_String* It = F->ExportName;
		if (JB_Str_Exists(It)) {
			return JB_Str_LowerCase(It);
		}
		SCImport* A = F->Proj;
		SCModule* B = A->Mod;
		JB_String* C = B->ExportName;
		if (JB_Str_Exists(C)) {
			return JB_Str_LowerCase(C);
		}
	}
	return JB_LUB[588];
}

void SC_Msg_AppendAllInto(Message* Self, Message* Dest) {
	while (JB_Ring_HasChildren(Self)) {
		(JB_Ring_LastSet(Dest, ((Message*)JB_Ring_First(Self))));
	};
}

void JB_Msg_AppendMacro(Message* Self, Message* M, Array* Prms) {
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Self, (&_usingf0));
	{
		int _if1 = 0;
		while (true) {
			Message* R = ((Message*)JB_Array_Value(Prms, _if1));
			if (R == nil) {
				break;
			}
			(JB_Msg_SyntaxIsSet(R, kJB__MsgParseFlags_MacroMade, (!true)));
			(++_if1);
		};
	}
	;
	JB_Msg_MacroCopy(JB_Macro_Source(M), Self, Prms, Self);
	{
		int _if3 = 0;
		while (true) {
			Message* R = ((Message*)JB_Array_Value(Prms, _if3));
			if (R == nil) {
				break;
			}
			if (!JB_Msg_SyntaxIs(R, kJB__MsgParseFlags_MacroMade)) {
				JB_Msg_Fail(R, JB_LUB[1983]);
			}
			(++_if3);
		};
	}
	;
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
	JB_MsgPos_Destructor((&_usingf0));
}

void JB_Msg_ARel__(Message* Self, FastString* Fs) {
	JB_FS_SyntaxAppend(Fs, ((Message*)JB_Ring_First(Self)));
	JB_FS_AppendString(Fs, Self->Name);
}

void JB_Msg_Arg__(Message* Self, FastString* Fs) {
	bool Braces = (((Message*)JB_Ring_Parent(Self)) and (!JB_Msg_SyntaxIs(Self, kJB__MsgParseFlags_Style2))) or ((!JB_Ring_HasChildren(Self)) or (JB_Str_Exists(Self->Name) or (JB_Msg_OperatorIn(Self, kJB_SyxArg))));
	if (Braces) {
		JB_FS_AppendByte2(Fs, '{');
	}
	JB_Msg_FSListArg(Self, Fs, Braces);
	if (Braces) {
		JB_FS_AppendIndent(Fs);
		JB_FS_AppendByte2(Fs, '}');
		if (JB_Msg_EqualsSyx(((Message*)JB_Ring_Parent(Self)), kJB_SyxTmp)) {
			JB_FS_AppendByte2(Fs, '\n');
		}
	}
	 else if (!((Message*)JB_Ring_Parent(Self))) {
		JB_FS_AppendByte(Fs, '\n');
	}
}

void JB_Msg_Arr__(Message* Self, FastString* Fs) {
	JB_FS_AppendByte2(Fs, '[');
	JB_Msg_FSListSep(Self, Fs, JB_LUB[47]);
	JB_FS_AppendByte2(Fs, ']');
}

SCArg* SC_Msg_AsArg(Message* Self) {
	JB_Object* Obj = Self->Obj;
	if (JB_Object_FastIsa(Obj, &SCArgData)) {
		return ((SCArg*)Obj);
	}
	return nil;
}

SCDecl* SC_Msg_AsDecl(Message* Self) {
	JB_Object* Obj = Self->Obj;
	if (JB_Object_FastIsa(Obj, &SCDeclData)) {
		return ((SCDecl*)Obj);
	}
	return nil;
}

SCFunction* SC_Msg_AsFunc(Message* Self) {
	JB_Object* Obj = Self->Obj;
	if (JB_Object_FastIsa(Obj, &SCFunctionData)) {
		return ((SCFunction*)Obj);
	}
	return nil;
}

void JB_Msg_Ask__(Message* Self, FastString* Fs) {
	JB_Msg_BinnRender(Self, Fs, JB_LUB[607]);
}

SCDecl* SC_Msg_ASMDecl(Message* Self) {
	SCDecl* Rz = nil;
	Rz = SC_Msg_FastDecl(Self);
	if ((SC_Decl_SyntaxIs(Rz, kSC__SCDeclInfo_Global)) and (!SC_Decl_ExportPosition(Rz))) {
		while (Self->Func == kJB_SyxARel) {
			Self = ((Message*)JB_Ring_First(Self));
		};
		Rz = SC_Msg_FastDecl(Self);
		if (SC_Decl_ExportPosition(Rz)) {
			JB_SetRef(((Message*)JB_Ring_Parent(Self))->Obj, Rz);
		}
		 else {
			if ((++SC_ExportPosFails) <= 2) {
				if (true) {
					JB_Msg_Fail(Self, JB_Str_OperatorPlus(JB_LUB[1896], JB_Msg_Locate(Self)));
				}
			}
		}
	}
	if (SC_Decl_TypeOnly(Rz) == 0) {
		ASMReg T = SC_Decl_WholeType(Rz);
		T = SC_Reg_xC2xB5TypeSetWithReg(T, SC_Decl_CalculateASMType(Rz));
		(SC_Decl_WholeTypeSet(Rz, T));
	}
	return Rz;
}

int SC_Msg_AsmIndent(Message* Self, Message* Top) {
	int Rz = 0;
	while (Self and (Self != Top)) {
		Rz = (Rz + ((JB_Msg_EqualsSyx(Self, kJB_SyxArg))));
		Self = ((Message*)JB_Ring_Parent(Self));
	};
	return Rz;
}

ASMType SC_Msg_ASMType(Message* Self) {
	return Self->Flags & 63;
}

void SC_Msg_ASMTypeSet(Message* Self, uint /*ASMType*/ Value) {
	Value = ((Self->Flags & (~63)) | Value);
	Self->Flags = Value;
}

Message* SC_Msg_ASMUnbra(Message* Self) {
	Syntax Fn = Self->Func;
	while ((Fn == kJB_SyxBra) or ((Fn == kJB_SyxType) and SC_Msg_TypeCastDoesNothing(Self))) {
		Self = ((Message*)JB_Ring_First(Self));
		Fn = Self->Func;
	};
	return Self;
}

void SC_Msg_AssignsFix(Message* Self, SCFunction* F) {
	Message* RP = SC_Msg_NiceParent(Self);
	Message* RightSide = ((Message*)JB_Ring_Last(RP));
	Message* List = ((Message*)JB_Ring_Last(Self));
	Message* Upon = ((Message*)JB_Ring_First(Self));
	JB_Tree_SyntaxAppend(List, RightSide);
	List->Func = kJB_SyxPrm;
	Message* L = ((Message*)JB_Ring_Last(RP));
	SCClass* C = F->Cls;
	if (F->ReturnType and (C and SC_Class_IsDataTypeOrFP(C))) {
		//using;
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Self, (&_usingf0));
		(JB_Ring_FirstSet(RP, L));
		Upon = SC_Msg_FailOrCopy(Upon, RP);
		if (Upon) {
			(JB_Ring_FirstSet(RP, Upon));
			SCDecl* D = ((SCDecl*)Upon->Obj);
			if (D) {
				SC_Decl_MarkAsAltered(D);
			}
		}
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
		JB_MsgPos_Destructor((&_usingf0));
	}
	 else {
		(SC_Msg_SpdFuncSet(RP, kJB_SyxBra));
		JB_Tree_Remove(L);
	}
}

int SC_Msg_Autocomplete_State(Message* Self) {
	int Rz = 0;
	JB_String* S = Self->Name;
	Rz = (Rz + ((JB_Str_ContainsByte(S, 'R')) << 0));
	Rz = (Rz + ((JB_Str_ContainsByte(S, 'M')) << 1));
	Rz = (Rz + ((JB_Str_ContainsByte(S, 'C')) << 2));
	Rz = (Rz + ((JB_Str_ContainsByte(S, 'L')) << 3));
	return Rz;
}

JB_String* SC_Msg_AutoCompleteDecl(Message* Self) {
	SCDecl* D = SC_Msg_MsgDecl(Self);
	if (D) {
		return SC_Decl_RenderTypeAndName(D, 1, nil);
	}
	return JB_Msg_Render(Self, nil);
}

SCFunction* SC_Msg_AutoMsgFuncFn(Message* Self) {
	SCFunction* Rz = nil;
	if (JB_Msg_EqualsSyx(Self, kJB_SyxName)) {
		SCClass* Cls = SC_Comp__SyntaxAccess(Self);
		if (Cls) {
			return Cls->ConstructorFunc;
		}
	}
	Message* Tmp = Self;
	if (!JB_Msg_EqualsSyx(Tmp, kJB_SyxTmp)) {
		Tmp = ((Message*)JB_Ring_Parent(Self));
		if (JB_Msg_EqualsSyx(Tmp, kJB_SyxDot)) {
			Tmp = ((Message*)JB_Ring_Parent(Tmp));
		}
	}
	if (JB_Msg_EqualsSyx(Tmp, kJB_SyxTmp)) {
		SCFunction* Fn = SC_Msg_AsFunc(Tmp);
		if (Fn) {
			return Fn;
		}
	}
	Rz = SC_Msg_MsgFunc(Self);
	if (!Rz) {
		Rz = SC_Msg_MsgFunc(((Message*)JB_Ring_Parent(Self)));
	}
	return Rz;
}

void SC_Msg_AvoidSafeDecr(Message* Self) {
	Message* Arg = ((Message*)JB_Ring_First(Self));
	Message* Decr = ((Message*)JB_Ring_PrevSib(((Message*)JB_Ring_Last(Arg))));
	Message* Prms = ((Message*)JB_Ring_Last(Decr));
	if (Prms) {
		if (Prms->Obj == SC__Comp_RefSafeDecr) {
			{
				Message* _t = ((Message*)JB_Ring_First(Prms));
				if (_t) {
					SC_Msg_BecomeNil(_t);
				}
			};
		}
	}
}

void JB_Msg_Back__(Message* Self, FastString* Fs) {
	if (JB_Ind_SyntaxCast(JB_Str_FindByte(Self->Name, '`', 0, kJB__int_Max))) {
		JB_Msg_Str__(Self, Fs);
	}
	 else {
		JB_FS_AppendByte2(Fs, '`');
		JB_FS_AppendString(Fs, Self->Name);
		JB_FS_AppendByte2(Fs, '`');
	}
}

void JB_Msg_Badj__(Message* Self, FastString* Fs) {
	Message* F = ((Message*)JB_Ring_First(Self));
	if (F) {
		Message* L = ((Message*)JB_Ring_NextSib(F));
		if (L) {
			JB_FS_SyntaxAppend(Fs, L);
			JB_FS_AppendString(Fs, JB_LUB[534]);
			JB_FS_SyntaxAppend(Fs, F);
		}
	}
}

FatASM* SC_Msg_BAND(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_BAND, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_BANK(Message* Self, ASMReg R1, ASMReg R2, int K) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_BANK, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, K));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

void JB_Msg_BecomeMsg(Message* Self, Message* Src) {
	//cpp_part;
	Self->Func = Src->Func;
	JB_SetRef(Self->Name, Src->Name);
	JB_Tree_Clear(Self);
	JB_Tree_PrependAll(Self, Src);
}

void SC_Msg_BecomeWithOpp(Message* Self, SCOperator* Op) {
	JB_SetRef(Self->Obj, Op);
	JB_SetRef(Self->Name, Op->Name);
}

void SC_Msg_BecomeWithFunc(Message* Self, SCFunction* Func) {
	JB_SetRef(((Message*)JB_Ring_First(Self))->Name, Func->ExportName);
	JB_SetRef(((Message*)JB_Tree_Second(Self))->Obj, Func);
	JB_SetRef(Self->Obj, Func->ReturnType);
	if (SC_Func_SyntaxIs(Func, kSC__FunctionType_Reffer)) {
		(SC_Msg_ASMTypeSet(Self, kSC__ASMType_kRefCount));
	}
}

void SC_Msg_BecomeAppend(Message* Self, JB_String* S) {
	Message* P = ((Message*)JB_Ring_Parent(Self));
	if (!JB_Msg_Expect(P, kJB_SyxRel, nil)) {
		return;
	}
	JB_Msg_BecomeStr(P, kJB_SyxDot, S);
	Message* X = JB_Syx_OperatorPlus(kJB_SyxDot, JB_LUB[640]);
	JB_SetRef(Self->Obj, nil);
	Self->Func = kJB_SyxPrm;
	Message* N = ((Message*)JB_Ring_NextSib(Self));
	if (N) {
		Message* B = SC_Msg_UnBra(N);
		if (JB_Msg_EqualsSyx(B, kJB_SyxMsg)) {
			JB_FreeIfDead(SC_Msg_MsgFix(B, nil));
		}
	}
	if (JB_Msg_EqualsSyx(N, kJB_SyxList)) {
		JB_FreeIfDead(SC_Msg_ReplaceWith(Self, N));
		N->Func = kJB_SyxPrm;
	}
	 else {
		(JB_Ring_LastSet(Self, N));
	}
}

void JB_Msg_BecomeCopy(Message* Self, Message* Src) {
	Self->Func = Src->Func;
	JB_SetRef(Self->Name, Src->Name);
	JB_Tree_Clear(Self);
	JB_Msg_CopyAllInto(Src, Self);
}

void JB_Msg_BecomeMacro(Message* Self, Message* M, Array* Prms) {
	Message* S = JB_Macro_Source(M);
	if (S) {
		JB_Tree_Clear(Self);
		Self->Func = S->Func;
		JB_SetRef(Self->Name, S->Name);
		JB_Msg_AppendMacro(Self, M, Prms);
	}
}

void SC_Msg_BecomeNil(Message* Self) {
	JB_SetRef(Self->Name, JB_LUB[100]);
	JB_SetRef(Self->Obj, SC_TypeNil);
	JB_Tree_Clear(Self);
}

void SC_Msg_BecomeSetRel(Message* Self) {
	Self->Func = kJB_SyxRel;
	(SC_Msg_ASMTypeSet(Self, kSC__ASMType_kSetRel));
}

void SC_Msg_BecomeTarget(Message* Self) {
	Message* S = JB_Msg_NeedSyxInt(Self, kJB_SyxNil, 1);
	if (!S) {
		return;
	}
	JB_String* B = JB_bool_Render0(SC_Msg_TargetTest(S));
	JB_Msg_BecomeStr(Self, kJB_SyxThg, B);
}

FatASM* SC_Msg_BFLG(Message* Self, ASMReg R1, ASMReg R2, int Up, int Down, int Sign) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_BFLG, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, Up));
	(SC_FAT_NumInputSet(Rz, 3, Down));
	(SC_FAT_NumInputSet(Rz, 4, Sign));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

void JB_Msg_Bin__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, JB_LUB[146]);
	JB_FS_AppendHexStr(Fs, Self->Name);
	JB_FS_AppendString(Fs, JB_LUB[147]);
}

void JB_Msg_binn__(Message* Self, FastString* Fs) {
	JB_Msg_BinnRender(Self, Fs, JB_LUB[616]);
}

void JB_Msg_BinnRender(Message* Self, FastString* Fs, JB_String* Sepa) {
	Message* F = ((Message*)JB_Ring_First(Self));
	if (!F) {
		return;
	}
	Message* Opp = ((Message*)JB_Ring_NextSib(F));
	if (!Opp) {
		return;
	}
	Message* L = ((Message*)JB_Ring_NextSib(Opp));
	Message* OF = ((Message*)JB_Ring_First(Opp));
	JB_FS_AppendString(Fs, Sepa);
	JB_FS_SyntaxAppend(Fs, ((Message*)JB_Ternary(OF, OF, Opp)));
	JB_FS_AppendByte2(Fs, ' ');
	JB_FS_SyntaxAppend(Fs, F);
	if ((!OF)) {
		return;
	}
	Message* ON = ((Message*)JB_Ring_NextSib(OF));
	if (ON) {
		JB_FS_AppendByte2(Fs, ' ');
		JB_FS_SyntaxAppend(Fs, ON);
	}
	if (L) {
		JB_FS_AppendByte2(Fs, ' ');
		JB_FS_SyntaxAppend(Fs, L);
	}
}

ErrorSeverity SC_Msg_Blind(Message* Self) {
	return JB_ErrorSeverity__Find(Self->Name, Self);
}

SCBlockage SC_Msg_Blocks(Message* Self) {
	if (Self) {
		return Self->Tag & kSC__SCBlockage_Bits;
	}
	return 0;
}

void SC_Msg_BlocksSet(Message* Self, int Value) {
	Self->Tag = ((Self->Tag & (~kSC__SCBlockage_Bits)) | Value);
}

FatASM* SC_Msg_BLSH(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_BLSH, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_BNOT(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_BNOT, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_BORK(Message* Self, ASMReg R1, ASMReg R2, int K) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_BORK, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, K));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_BORR(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_BORR, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

void JB_Msg_Bra__(Message* Self, FastString* Fs) {
	JB_FS_AppendByte2(Fs, '(');
	JB_FS_SyntaxAppend(Fs, ((Message*)JB_Ring_First(Self)));
	JB_FS_AppendByte2(Fs, ')');
}

SCDecl* SC_Msg_BraDeclfind(Message* Self) {
	SCDecl* Rz = nil;
	while (true) {
		SCDecl* D = SC_Msg_AsDecl(Self);
		if (D) {
			Rz = D;
		}
		Self = ((Message*)JB_Ring_Parent(Self));
		if (!JB_Msg_EqualsSyx(Self, kJB_SyxBra)) {
			break;
		}
	};
	return Rz;
}

void JB_Msg_BRel__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, Self->Name);
	JB_FS_SyntaxAppend(Fs, ((Message*)JB_Ring_First(Self)));
}

FatASM* SC_Msg_BRSH(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_BRSH, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_BRSS(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_BRSS, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_BSTT(Message* Self, ASMReg R1, ASMReg R2, int K) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_BSTT, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, K));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

bool SC_Msg_BuildRunTask(Message* Self, Message* Fields, int Level) {
	Message* Prms = ((Message*)JB_Ring_First(Self));
	bool NoPrms = (!Prms) or (JB_Msg_EqualsSyx(Prms, kJB_SyxArg));
	if (NoPrms) {
		Prms = JB_Syx_Msg(kJB_SyxList, JB_LUB[0]);
		(JB_Ring_FirstSet(Self, Prms));
		if (Level == 3) {
			Message* Ss = ((Message*)JB_Ring_First(Fields));
			if (Ss) {
				JB_Tree_SyntaxAppend(Prms, JB_Msg_Copy(Ss, nil));
			}
		}
	}
	 else {
		Syntax Pf = JB_Msg_Func(Prms);
		if (!((Pf == kJB_SyxBra) or (Pf == kJB_SyxList))) {
			JB_Msg_Fail(Prms, nil);
			return nil;
		}
	}
	Message* Arg = ((Message*)JB_Ring_NextSib(Prms));
	if (Arg) {
		JB_Msg_Expect(Arg, kJB_SyxArg, nil);
		if (!JB_Msg_ExpectLast(Arg, nil)) {
			return nil;
		}
	}
	 else {
		Arg = JB_Msg_Msg(Self, kJB_SyxArg, JB_LUB[0]);
	}
	Message* P1 = ((Message*)JB_Ring_First(Prms));
	Message* Ff = ((Message*)JB_Ring_First(Fields));
	if (((JB_Msg_EqualsSyx(P1, kJB_SyxThg)) or (JB_Msg_EqualsSyx(P1, kJB_SyxDot))) and (JB_Msg_EqualsSyx(Ff, kJB_SyxSDot))) {
		JB_SetRef(Ff->Name, JB_LUB[1161]);
		Ff->Func = kJB_SyxThg;
	}
	Syntax F = JB_Msg_Func(P1);
	if (!((F == kJB_SyxThg) or (F == kJB_SyxDot))) {
		Message* Brah = JB_Syx_Msg(kJB_SyxBra, JB_LUB[0]);
		JB_Msg_AppendSyx(Brah, kJB_SyxThg, JB_LUB[1280]);
		(JB_Ring_FirstSet(Self, Brah));
		Message* Pr = ((Message*)JB_Ring_Parent(Self));
		Array* _tmPf0 = (JB_Array_Constructor0(nil));
		JB_Array_SyntaxAppend(_tmPf0, Prms);
		JB_Msg_AppendMacro(Pr, SC__SCTasks_TaskMacro, _tmPf0);
		Message* CallPrms = ((Message*)JB_Tree_FlatLast(Pr));
		JB_Msg_AppendSyx(CallPrms, kJB_SyxThg, JB_LUB[401]);
		{
			Message* P = ((Message*)JB_Ring_First(Prms));
			while (P) {
				Message* _Nf2 = ((Message*)JB_Ring_NextSib(P));
				Message* Ty = ((Message*)JB_Tree_Second(P));
				if (Ty) {
					JB_Tree_SyntaxAppend(CallPrms, JB_Msg_Copy(Ty, nil));
				}
				P = _Nf2;
			};
			;
		};
	}
	JB_SetRef(Self->Name, JB_LUB[632]);
	(JB_Ring_FirstSet(Self, JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[2020])));
	return true;
}

void SC_Msg_BuildTask(Message* Self, Message* Fields, int Level) {
	Array* Runs = SC_Msg_FindAll(Self, kJB_SyxTmp, JB_LUB[2020]);
	JB_Incr(Runs);
	Message* Run = ((Message*)JB_Array_Value(Runs, 0));
	JB_Incr(Run);
	if (JB_Array_SyntaxCompare(Runs, 1) >= 1) {
		JB_Msg_Fail(Run, JB_LUB[2059]);
	}
	JB_Decr(Runs);
	if ((!Run)) {
		JB_Msg_Fail(Self, JB_LUB[2060]);
		JB_EarlyDecr(Run);
		return;
	}
	if (SC_Msg_BuildRunTask(Run, Fields, Level) and (!({
		Array* _tmPf1 = SC_Msg_FindAll(Self, kJB_SyxTmp, JB_LUB[1137]);
		JB_Incr(_tmPf1);
		bool _tmPf0 = JB_Array_SyntaxCast(_tmPf1);
		JB_EarlyDecr(_tmPf1);
		 _tmPf0;
	}))) {
		Message* _tmPf2 = JB_Str_ParseJbin(((JB_LUB[2061])), 1073741824);
		JB_Incr(_tmPf2);
		(JB_Ring_PrevSibSet(Run, _tmPf2));
		JB_Decr(_tmPf2);
	}
	JB_Decr(Run);
}

Message* SC_Msg_BunchFixPrepare(Message* Self) {
	Message* P = SC_Msg_NiceParent(Self);
	if (JB_Msg_EqualsSyx(P, kJB_SyxRel)) {
		return P;
	}
	return ((Message*)JB_Ring_Last(SC_Func__TypedTempMoveOut(Self, JB_LUB[0], nil)));
}

void SC_Msg_BunchFixSub(Message* Self, Message* Subject, Message* Stuff) {
	JB_Incr(Stuff);
	JB_Incr(Subject);
	while (Stuff) {
		Message* Test = JB_Syx_Msg(kJB_SyxRel, JB_LUB[0]);
		JB_Incr(Test);
		JB_Tree_SyntaxAppend(Test, Subject);
		Message* _tmPf0 = JB_Msg_Copy(Self, nil);
		JB_Incr(_tmPf0);
		JB_Tree_SyntaxAppend(Test, _tmPf0);
		JB_Decr(_tmPf0);
		if (!JB_Msg_EqualsSyx(Stuff, kJB_SyxRel)) {
			JB_FreeIfDead(SC_Msg_ReplaceInto(Stuff, Test));
			JB_EarlyDecr(Test);
			break;
		}
		Message* R = ((Message*)JB_Tree_Get(Stuff, 2));
		JB_Incr(R);
		if (!R) {
			JB_Msg_Fail(Stuff, JB_LUB[989]);
			JB_EarlyDecr(Subject);
			JB_EarlyDecr(Stuff);
			JB_EarlyDecr(R);
			JB_EarlyDecr(Test);
			return;
		}
		Message* _tmPf1 = ((Message*)JB_Ring_First(Stuff));
		JB_Incr(_tmPf1);
		JB_FreeIfDead(SC_Msg_ReplaceInto(_tmPf1, Test));
		JB_Decr(Test);
		JB_Decr(_tmPf1);
		JB_SetRef(Stuff, R);
		JB_Decr(R);
		JB_SetRef(Subject, JB_Msg_Copy(Subject, nil));
	};
	JB_Decr(Stuff);
	JB_Decr(Subject);
}

void SC_Msg_BunchlessFix(Message* Self) {
	Message* Subject = ((Message*)JB_Ring_First(Self));
	JB_Incr(Subject);
	Message* Multi_opp = ((Message*)JB_Ring_NextSib(Subject));
	JB_Incr(Multi_opp);
	if (!Multi_opp) {
		JB_EarlyDecr(Multi_opp);
		JB_EarlyDecr(Subject);
		return;
	}
	Message* C = ((Message*)JB_Ring_NextSib(Multi_opp));
	JB_Incr(C);
	if (!C) {
		JB_EarlyDecr(C);
		JB_EarlyDecr(Multi_opp);
		JB_EarlyDecr(Subject);
		return;
	}
	JB_Msg_BecomeMsg(Self, C);
	JB_Decr(C);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Self, (&_usingf0));
	SC_Msg_BunchFixSub(Multi_opp, Subject, Self);
	JB_Decr(Subject);
	JB_Decr(Multi_opp);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
	JB_MsgPos_Destructor((&_usingf0));
}

FatASM* SC_Msg_BXOR(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_BXOR, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_BXRK(Message* Self, ASMReg R1, ASMReg R2, int K) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_BXRK, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, K));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

void SC_Msg_CallChainError(Message* Self, JB_String* Name) {
	(JB_Msg_SyntaxProblem(Self, Name));
	Assembler* Sh = (&SC__Pac_Sh);
	int I = ((int)Sh->InlineDepth);
	while ((--I) >= 0) {
		ASMState* St = (&Sh->InlineState[I]);
		SCFunction* Fn = St->Fn;
		Message* Src = Fn->Source;
		if (Src) {
			(JB_Msg_SyntaxProblem(Src, JB_LUB[990]));
		}
	};
}

bool SC_Msg_CanGetAddress(Message* Self, SCNode* Name_space) {
	Message* Curr = SC_Msg_UnBra(Self);
	if ((JB_Msg_EqualsSyx(Curr, kJB_SyxAcc))) {
		Message* F = ((Message*)JB_Ring_First(Curr));
		SCDecl* T = SC_TypeOfExpr(F, Name_space, nil);
		if (!T) {
			return nil;
		}
		bool _tmPf0 = (SC_Decl_IsNumeric(T) <= 1);
		if (!_tmPf0) {
			JB_Msg_Fail(Curr, JB_LUB[1407]);
			return nil;
		}
		return _tmPf0;
	}
	SCDecl* T2 = SC_TypeOfExpr(Curr, Name_space, nil);
	if (!T2) {
		return nil;
	}
	if (!((JB_Msg_EqualsSyx(Curr, kJB_SyxThg)) or (JB_Msg_EqualsSyx(Curr, kJB_SyxDot)))) {
		JB_Msg_Fail(Curr, JB_LUB[1408]);
		return nil;
	}
	if (SC_Decl_SyntaxIs(T2, kSC__SCDeclInfo_NumberConst)) {
		JB_Msg_Fail(Curr, JB_LUB[1409]);
		return nil;
	}
	if (((JB_Msg_EqualsSyx(Curr, kJB_SyxThg))) and SC_Decl_IsRegister(T2)) {
		if (true) {
			JB_Msg_Fail(Curr, JB_LUB[1410]);
		}
	}
	return true;
}

Message* SC_Msg_CastedParent(Message* Self) {
	Message* Rz = nil;
	Rz = ((Message*)JB_Ring_Parent(SC_Msg_UnBra(Self)));
	if (JB_Msg_EqualsSyx(Rz, kJB_SyxPrm)) {
		Rz = ((Message*)JB_Ring_Parent(Rz));
	}
	return Rz;
}

int SC_Msg_CastFPToVoidPtr(Message* Self) {
	Message* Cst = JB_Syx_OperatorPlus(kJB_SyxType, JB_LUB[629]);
	JB_Incr(Cst);
	(JB_Ring_PrevSibSet(Self, Cst));
	JB_Tree_SyntaxAppend(Cst, Self);
	Message* _tmPf0 = JB_Msg_Msg(Cst, kJB_SyxEmb, JB_LUB[0]);
	JB_Incr(_tmPf0);
	JB_SetRef(_tmPf0->Obj, SC_TypeVoidPtr);
	JB_Decr(_tmPf0);
	JB_SetRef(Cst->Obj, SC_TypeVoidPtr);
	JB_EarlyDecr(Cst);
	return kJB_kCastedMatch;
}

int SC_Msg_CastToBool(Message* Self, SCNode* Name_space) {
	return SC_Msg_CastToType(Self, JB_LUB[159], SC_TypeBool, Name_space, kJB_kLossyCastedMatch);
}

int SC_Msg_CastToClass(Message* Self, SCClass* Type, SCNode* Name_space) {
	return SC_Msg_CastToType(Self, Type->Name, Type, Name_space, kJB_kCastedMatch);
}

int SC_Msg_CastToType(Message* Self, JB_String* TypeName, SCClass* Type, SCNode* Name_space, int Loss) {
	if ((!Self)) {
		return kJB_kNeedsTypeCast | Loss;
	}
	SCDecl* FoundType = SC_TypeOfExpr(Self, Name_space, nil);
	JB_Incr(FoundType);
	if (FoundType) {
		if (SC_Class_IsStruct(FoundType->Type)) {
			if (!FoundType->PointerCount) {
				JB_Msg_Fail(Self, JB_LUB[1411]);
				JB_EarlyDecr(FoundType);
				return 0;
			}
		}
		if (((JB_Msg_EqualsSyx(Self, kJB_SyxType))) and (SC_Decl_IsNormal(FoundType) and (FoundType->Type == Type))) {
			JB_EarlyDecr(FoundType);
			return kJB_kSimpleMatch;
		}
	}
	JB_Decr(FoundType);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Self, (&_usingf0));
	Message* Cst = JB_Syx_OperatorPlus(kJB_SyxType, JB_LUB[629]);
	JB_Incr(Cst);
	(JB_Ring_PrevSibSet(Self, Cst));
	JB_Tree_SyntaxAppend(Cst, Self);
	Message* _tmPf1 = JB_Msg_Msg(Cst, kJB_SyxThg, TypeName);
	JB_Incr(_tmPf1);
	JB_SetRef(_tmPf1->Obj, Type->TypeNormal);
	JB_Decr(_tmPf1);
	JB_SetRef(Cst->Obj, Type->TypeNormal);
	JB_Decr(Cst);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
	JB_MsgPos_Destructor((&_usingf0));
	return Loss;
}

Message* SC_Msg_CausesUnReachable(Message* Self, Message* Arg, Message* Dcl, Message* LastPlace) {
	Message* Curr = ((Message*)JB_Ternary(Dcl, Dcl, ((Message*)JB_Ring_First(Self))));
	while (Curr and (Curr != LastPlace)) {
		if ((JB_Msg_EqualsSyx(Curr, kJB_SyxTmp))) {
			JB_String* S = Curr->Name;
			if ((JB_Str_Equals(S, JB_LUB[453], false))) {
				return Curr;
			}
			if ((JB_Str_Equals(S, JB_LUB[589], false)) or (JB_Str_Equals(S, JB_LUB[590], false))) {
				if (SC_Refs__ExitHitsOrGoesPast(Curr, Arg)) {
					return Curr;
				}
			}
			 else if (((JB_Str_Equals(S, JB_LUB[454], false))) and (Self == Arg)) {
				return Curr;
			}
		}
		Curr = ((Message*)JB_Ring_NextSib(Curr));
	};
	return nil;
}

void JB_Msg_Char__(Message* Self, FastString* Fs) {
	JB_FS_AppendByte2(Fs, '\'');
	JB_String* _tmPf0 = JB_Str_EscapeChr(Self->Name);
	JB_Incr(_tmPf0);
	JB_FS_AppendString(Fs, _tmPf0);
	JB_Decr(_tmPf0);
	JB_FS_AppendByte2(Fs, '\'');
}

void SC_Msg_CheckConstShift(Message* Self, SCDecl* LC, SCDecl* RC, bool Bigger) {
	int64 Rk = SC_Decl_ExportPosition(RC);
	if (Rk < 0) {
		JB_Msg_Fail(Self, JB_LUB[991]);
		return;
	}
	uint T = SC_Decl_TypeInfo(LC);
	int BC = JB_TC_BitCount(T);
	if (Bigger and (T == kJB__TC_bool)) {
		BC = 32;
	}
	if (Rk >= BC) {
		JB_Msg_Fail(Self, JB_LUB[992]);
		return;
	}
}

void SC_Msg_CheckContinuesAndExits(Message* Self) {
	{
		Message* Msg = Self;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Self));
		while ((Msg) and (Msg != _afterf1)) {
			Message* _N_f2 = (((Message*)JB_Ring_FlatNext0(Msg)));
			if ((JB_Msg_EqualsSyx(Msg, kJB_SyxTmp))) {
				if ((JB_Msg_SyntaxEquals(Msg, JB_LUB[466], false)) or (JB_Msg_SyntaxEquals(Msg, JB_LUB[398], false))) {
					Msg = ((Message*)JB_Ring_FlatAfter(Msg));
					continue;
				}
				 else if ((JB_Msg_SyntaxEquals(Msg, JB_LUB[590], false))) {
					SC_Msg_LoopContinue(Msg);
				}
				 else if ((JB_Msg_SyntaxEquals(Msg, JB_LUB[589], false))) {
					SC_Msg_LoopExit(Msg);
				}
			}
			Msg = _N_f2;
		};
		;
	};
}

void SC_Msg_CheckNotInStatExpr(Message* Self, Message* Top) {
	Message* Node = Self;
	while (Node and (Node != Top)) {
		if ((SC_Msg_IsStatementExpr(Node))) {
			JB_Msg_Fail(Self, JB_Str_OperatorPlus(JB_LUB[993], Self->Name));
		}
		Node = ((Message*)JB_Ring_Parent(Node));
	};
}

void SC_Msg_Clean(Message* Self, bool Erl) {
	int Pos = JB__Tk_Using.Position;
	Message* QEscape = nil;
	Message* IgnoreArg = nil;
	JB_Incr(IgnoreArg);
	if (JB_FreeIfDead(JB_Class_Layer((&MessageData))) == JB_FreeIfDead(JB_Class_DefaultLayer((&MessageData)))) {
		Pos = -1;
	}
	{
		Message* Curr = Self;
		JB_Incr(Curr);
		Message* _afterf2 = ((Message*)JB_Ring_FlatAfter(Self));
		JB_Incr(_afterf2);
		while ((Curr) and (Curr != _afterf2)) {
			Message* _N_f3 = (((Message*)JB_Ring_FlatNext0(Curr)));
			JB_Incr(_N_f3);
			if (Pos >= 0) {
				Curr->Position = Pos;
				Curr->RangeLength = JB__Tk_Using.Length;
				Curr->Tag = JB__Tk_Using.Tag;
			}
			if (Curr == QEscape) {
				QEscape = nil;
			}
			Syntax F = Curr->Func;
			if ((F != kJB_SyxBack) and ((F != kJB_SyxStr) and ((F != kJB_SyxSStr) and (F != kJB_SyxBin)))) {
				if ((JB_Str_ContainsString(Curr->Name, JB_LUB[2129]))) {
					JB_Msg_Fail(Curr, JB_LUB[2130]);
					JB_EarlyDecr(_N_f3);
					JB_EarlyDecr(_afterf2);
					JB_EarlyDecr(Curr);
					JB_EarlyDecr(IgnoreArg);
					return;
				}
			}
			if (F == kJB_SyxArg) {
				JB_SetRef(Curr->Name, JB_LUB[0]);
			}
			 else if ((F == kJB_SyxBack) or ((F == kJB_SyxSStr) or (F == kJB_SyxBin))) {
				Curr->Func = kJB_SyxStr;
			}
			 else if (F == kJB_SyxRel) {
				SC_Msg_RelFix(Curr, false);
			}
			 else if (Erl and (F == kJB_SyxERel)) {
				JB_SetRef(Curr->Name, JB_Str_LowerCase(Curr->Name));
				SC_Msg_FixErl(Curr);
			}
			 else if (F == kJB_SyxMsg) {
				JB_SetRef(Curr, SC_Msg_MsgFix(Curr, nil));
				JB_EarlyDecr(_N_f3);
				continue;
			}
			 else if (F == kJB_SyxARel) {
				if ((!QEscape) and (JB_Msg_SyntaxEquals(Curr, JB_LUB[689], false))) {
					SC_Msg_Tran_QMark(Curr);
					JB_SetRef(Curr, ((Message*)JB_Ring_FlatNext0(Curr)));
					JB_EarlyDecr(_N_f3);
					continue;
				}
			}
			 else if (F == kJB_SyxBRel) {
				if (((JB_Msg_SyntaxEquals(Curr, JB_LUB[456], false))) and (!(JB_Msg_OperatorIn(Curr, kJB_SyxDecl)))) {
					SC_Comp__AddFunny(Self, Curr);
				}
			}
			 else if (F == kJB_SyxDecl) {
				Message* L = ((Message*)JB_Ring_Last(Curr));
				JB_Incr(L);
				if (JB_Msg_EqualsSyx(L, kJB_SyxArg)) {
					Message* Types = ((Message*)JB_Ring_First(Curr));
					JB_Incr(Types);
					Message* Names = ((Message*)JB_Ring_NextSib(Types));
					JB_Incr(Names);
					if (Types and (Names and (JB_FreeIfDead(((Message*)JB_Ring_NextSib(Names))) == L))) {
						SC_Msg_WithDeclTransform(L, Curr, Names, L);
					}
					JB_Decr(Types);
					JB_Decr(Names);
				}
				JB_Decr(L);
				Message* _tmPf4 = ((Message*)JB_Ring_First(Curr));
				JB_Incr(_tmPf4);
				QEscape = ((Message*)JB_Ring_FlatAfter(_tmPf4));
				JB_Decr(_tmPf4);
			}
			 else if ((F == kJB_SyxOpp) or ((F == kJB_SyxCnj) or (F == kJB_SyxERel))) {
				if (JB_Msg_SyntaxEquals(Curr, JB_LUB[2131], false)) {
					(JB_Msg_SyntaxProblem(Curr, JB_LUB[2132]));
					JB_SetRef(Curr->Name, JB_LUB[1521]);
				}
				 else if (JB_Msg_SyntaxEquals(Curr, JB_LUB[2133], false)) {
					(JB_Msg_SyntaxProblem(Curr, JB_LUB[2134]));
					JB_SetRef(Curr->Name, JB_LUB[2135]);
				}
				 else if (JB_Msg_SyntaxEquals(Curr, JB_LUB[2136], false)) {
					SC_Msg_BecomeAppend(Curr, JB_LUB[1584]);
				}
				 else if (JB_Msg_SyntaxEquals(Curr, JB_LUB[669], false)) {
					SC_Msg_BecomeAppend(Curr, JB_LUB[2137]);
				}
				 else if ((F == kJB_SyxOpp) and SC_Msg_OppExpand(Curr)) {
					0;
				}
				 else if (JB_CharSet_SyntaxAccess(kJB__CharSet_LettersUnderScore, JB_Str_First(Curr->Name))) {
					JB_SetRef(Curr->Name, JB_Str_LowerCase(Curr->Name));
				}
			}
			 else if (F == kJB_SyxAdj) {
				Message* _tmPf5 = ((Message*)JB_Ring_First(Curr));
				JB_Incr(_tmPf5);
				if (JB_Msg_SyntaxEquals(_tmPf5, JB_LUB[1808], true)) {
					SC_Msg_BecomeTarget(Curr);
				}
				JB_Decr(_tmPf5);
			}
			 else if (F == kJB_SyxTmp) {
				if (JB_FreeIfDead(((Message*)JB_Ring_Parent(Curr))) != IgnoreArg) {
					JB_String* S = JB_Str_LowerCase(Curr->Name);
					JB_Incr(S);
					JB_SetRef(Curr->Name, S);
					if ((JB_Str_Equals(S, JB_LUB[397], false)) or ((JB_Str_Equals(S, JB_LUB[577], false)) or (JB_Str_Equals(S, JB_LUB[2138], false)))) {
						SC_Msg_FixElseif(Curr);
					}
					 else if (JB_Str_Equals(S, JB_LUB[1808], false)) {
						JB_SetRef(Curr, SC_Msg_Tran_Target(Curr));
						JB_EarlyDecr(S);
						JB_EarlyDecr(_N_f3);
						continue;
					}
					 else if ((JB_Str_Equals(S, JB_LUB[1809], false)) or (JB_Str_Equals(S, JB_LUB[1810], false))) {
						SC_Msg_Tran_Isnt(Curr, JB_LUB[401]);
					}
					 else if (SC__SC_UniqueNum and (JB_FreeIfDead(((JB_String*)JB_Dict_Value0(SC__AutoComplete_Functions, S))) != nil)) {
						SC__SC_UniqueNum = 0;
					}
					 else if ((JB_Str_Equals(S, JB_LUB[1141], false)) or ((JB_Str_Equals(S, JB_LUB[1257], false)) or ((JB_Str_Equals(S, JB_LUB[1182], false)) or (JB_Str_Equals(S, JB_LUB[2139], false))))) {
						JB_SetRef(IgnoreArg, ((Message*)JB_Ring_Last(Curr)));
					}
					 else if (JB_Str_Equals(S, JB_LUB[1812], false)) {
						SC_Msg_Tran_With(Curr);
					}
					 else if (JB_Str_Equals(S, JB_LUB[2140], false)) {
						if (SC__Options_IsDirectTest) {
							JB_SetRef(Curr->Name, JB_LUB[397]);
							//using;
							MessagePosition _usingf0 = ((MessagePosition){});
							JB_Msg_SyntaxUsing(Curr, (&_usingf0));
							Message* _tmPf6 = JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[6]);
							JB_Incr(_tmPf6);
							(JB_Ring_FirstSet(Curr, _tmPf6));
							JB_Decr(_tmPf6);
							JB_MsgPos_SyntaxUsingComplete((&_usingf0), Curr);
							JB_MsgPos_Destructor((&_usingf0));
						}
						 else {
							JB_SetRef(Curr->Name, JB_LUB[635]);
						}
					}
					 else if (JB_Str_Equals(S, JB_LUB[2141], false)) {
						SC__File_Curr->Unfinished = true;
						JB_Tree_Remove(Curr);
					}
					JB_Decr(S);
				}
			}
			JB_SetRef(Curr, _N_f3);
			JB_Decr(_N_f3);
		};
		JB_Decr(Curr);
		JB_Decr(_afterf2);
		;
	}
	;
	JB_Decr(IgnoreArg);
}

Message* SC_Msg_CmdImprove(Message* Self) {
	if (!JB_Msg_EqualsSyx(Self, kJB_SyxRel)) {
		return Self;
	}
	Message* Ch = ((Message*)JB_Ring_First(Self));
	if (JB_Msg_EqualsSyx(Ch, kJB_SyxFunc)) {
		return Ch;
	}
	return Self;
}

FatASM* SC_Msg_CMPF(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Cmp) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_CMPF, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Cmp));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_CMPI(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Cmp) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_CMPI, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Cmp));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

void JB_Msg_Cnj__(Message* Self, FastString* Fs) {
	JB_FS_AppendByte2(Fs, '#');
	JB_FS_AppendString(Fs, Self->Name);
}

FatASM* SC_Msg_CNTC(Message* Self, ASMReg R1, ASMReg R2, int Offset, int Cnst, int Size) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_CNTC, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, Offset));
	(SC_FAT_NumInputSet(Rz, 3, Cnst));
	(SC_FAT_NumInputSet(Rz, 4, Size));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_CNTD(Message* Self, ASMReg R1, ASMReg R2, int Offset, int Cnst, int Size) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_CNTD, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, Offset));
	(SC_FAT_NumInputSet(Rz, 3, Cnst));
	(SC_FAT_NumInputSet(Rz, 4, Size));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

bool SC_Msg_CollectAGlobalDecl(Message* Self, SCModule* Mod) {
	SCFile* F = SC_Msg_File(Self);
	if (F) {
		JB_Mem_Use(F->Proj->DeclLayer);
	}
	SCDecl* Dcl = SC_Msg_CollectDecl(Self, Mod, Mod, kSC__DeclMode_Globals, nil, nil);
	if (!Dcl) {
		return nil;
	}
	Message* Def = Dcl->Default;
	if (Def and (!SC_Decl_NilStated(Dcl))) {
		SCDecl* D = SC_Msg_MsgDecl(Def);
		if (D and SC_Decl_StatedReal(D)) {
			Dcl->NilDeclared = kSC__NilState_Real;
		}
	}
	JB_Array_SyntaxAppend((({
		Array* _X = Mod->Globals;
		if (_X == nil) {
			_X = (JB_Array_Constructor0(nil));
			JB_SetRef(Mod->Globals, _X);
		}
		 _X;
	})), Dcl);
	return SC_Decl_AddToGlobs(Dcl);
}

Message* SC_Msg_CollectDclName(Message* Self) {
	if (Self) {
		Message* Thg = Self;
		if (JB_Msg_EqualsSyx(Thg, kJB_SyxRel)) {
			Thg = ((Message*)JB_Ring_First(Thg));
		}
		if (JB_Msg_EqualsSyx(Thg, kJB_SyxThg)) {
			return Thg;
		}
		if (true) {
			JB_Msg_Fail(Self, nil);
		}
	}
	return nil;
}

SCDecl* SC_Msg_CollectDecl(Message* Self, SCNode* P, SCNode* Recv, DeclMode Mode, SCClass* Cls, SCFunction* FuncPrmz) {
	Message* Type = ((Message*)JB_Ring_First(Self));
	Message* Name = ((Message*)JB_Ring_NextSib(Type));
	if (!(FuncPrmz or Name)) {
		JB_Msg_Fail(Self, JB_LUB[2002]);
		return nil;
	}
	Message* Default = SC_DeclsDefault(Name);
	JB_Incr(Default);
	SCDecl* Sdcl = SC_ExtractDecl(Type, P, Mode, 0);
	JB_Incr(Sdcl);
	if (Sdcl) {
		if (!(((!SC_Decl_SyntaxIs(Sdcl, kSC__SCDeclInfo_Reference))) or (SC_DeclMode_SyntaxIs(Mode, kSC__DeclMode_FuncParam)))) {
			JB_Msg_Fail(Type, JB_LUB[2003]);
		}
	}
	 else if ((!Default) and (JB_Object_FastIsa(P, &SCArgData))) {
		JB_SetRef(Sdcl, ((SCArg*)P)->ParentFunc->ReturnType);
	}
	Message* NameItm = SC_Msg_CollectDclName(Name);
	SCDecl* DefaultDcl = nil;
	if (FuncPrmz) {
		0;
	}
	 else if (Default and (!SC_DeclMode_SyntaxIs(Mode, kSC__DeclMode_Properties))) {
		DefaultDcl = SC_TypeOfExprNeeded(Default, P);
		if (!DefaultDcl) {
			JB_EarlyDecr(Sdcl);
			JB_EarlyDecr(Default);
			return nil;
		}
		DefaultDcl = SC_Decl_DownGrade(DefaultDcl);
		if (Sdcl) {
			JB_SetRef(Default, SC_Decl_ExpectMatchForDecl(Sdcl, DefaultDcl, Default));
		}
	}
	 else if (((!Cls)) and ((Sdcl) and (SC_Decl_CanUseDefault(Sdcl)))) {
		JB_SetRef(Default, SC_Decl_CreateDefault(Sdcl, Type, Mode >= 4));
		if (Default) {
			JB_FreeIfDead(SC_TypeOfExpr(Default, P, nil));
			Name = SC_DefaultStitch(Default, Self);
		}
	}
	bool NoOriginalDcl = false;
	if (!Sdcl) {
		NoOriginalDcl = true;
		if ((Cls) and (Cls->Contained)) {
			JB_SetRef(Sdcl, Cls->Contained);
		}
		 else {
			if (!((!FuncPrmz) and DefaultDcl)) {
				JB_StringC* _tmPf0 = ((JB_StringC*)JB_Ternary((!FuncPrmz), JB_LUB[2004], JB_LUB[2005]));
				JB_Incr(_tmPf0);
				JB_Msg_Fail(Self, _tmPf0);
				JB_EarlyDecr(_tmPf0);
				JB_EarlyDecr(Sdcl);
				JB_EarlyDecr(Default);
				return nil;
			}
			JB_SetRef(Sdcl, DefaultDcl);
		}
	}
	if (SC_Decl_NeedsContainedfix(Sdcl)) {
		JB_SetRef(Sdcl, SC_Decl_Containedfix(Sdcl));
	}
	SCDecl* Dcl = SC_Decl_CopyDeclsStructFixer(Sdcl, Self, Mode * (NameItm != nil), Type);
	JB_Incr(Dcl);
	JB_SetRef(Dcl->Source, Self);
	if (!NameItm) {
		if (!JB_Tree_IsLast(Self)) {
			JB_Msg_Fail(Self, JB_LUB[2006]);
		}
		if (!FuncPrmz) {
			JB_EarlyDecr(Dcl);
			JB_EarlyDecr(Sdcl);
			JB_EarlyDecr(Default);
			return nil;
		}
		if (SC_Func_CollectReturnAsReal(FuncPrmz)) {
			Dcl->NilDeclared = kSC__NilState_Real;
		}
		if (SC_Decl_IsCArray(Dcl)) {
			JB_Msg_Fail(Self, JB_LUB[2007]);
		}
		JB_SetRef(FuncPrmz->ReturnType, Dcl);
		if ((!SC_Decl_IsBareStruct(Dcl)) or SC_Func_SyntaxIs(FuncPrmz, kSC__FunctionType_Constructor)) {
			(SC_Decl_SyntaxIsSet(Dcl, kSC__SCDeclInfo_Return, true));
			JB_EarlyDecr(Dcl);
			JB_EarlyDecr(Sdcl);
			JB_EarlyDecr(Default);
			return nil;
		}
		(SC_Decl_SyntaxIsSet(Dcl, kSC__SCDeclInfo_ReturnedStruct, true));
		JB_SetRef(Dcl, SC_Decl_GetAddress(Dcl, kSC__DeclMode_Always));
		NameItm = JB_Msg_Msg(Self, kJB_SyxThg, JB_LUB[1477]);
		(SC_Decl_SyntaxIsSet(Dcl, kSC__SCDeclInfo_IntendedAsReturn, true));
		FuncPrmz->StructReturnPos = (JB_Array_Size(FuncPrmz->Args) + 1);
	}
	if (!Default) {
		JB_Msg_ExpectLast(Name, nil);
	}
	if (!SC_DeclMode_SyntaxIs(Mode, kSC__DeclMode_Properties)) {
		JB_SetRef(NameItm->Obj, Dcl);
	}
	if ((Mode & 8) and NoOriginalDcl) {
		if (!SC_Decl_SyntaxIs(Sdcl, kSC__SCDeclInfo_StayBorrowed)) {
			(SC_Decl_SyntaxIsSet(Dcl, kSC__SCDeclInfo_Borrowed, (!true)));
		}
		Dcl->NilDeclared = (kSC__NilState_Real >> SC_Decl_TypeSuffers(Dcl));
	}
	JB_Decr(Sdcl);
	if (JB_Msg_OperatorIn(NameItm, kJB_SyxRel)) {
		Message* _tmPf1 = ((Message*)JB_Ring_Parent(NameItm));
		JB_Incr(_tmPf1);
		JB_SetRef(_tmPf1->Obj, Dcl);
		JB_Decr(_tmPf1);
	}
	JB_SetRef(Self->Obj, Dcl);
	JB_SetRef(Type->Obj, Dcl);
	JB_SetRef(Dcl->Default, Default);
	(SC_Decl_NameSet(Dcl, NameItm->Name));
	(SC_Decl_SyntaxIsSet(Dcl, kSC__SCDeclInfo_Const, (!true)));
	if (Default and DefaultDcl) {
		SC_Decl_AssignabilityCheck(Dcl, nil, Default, DefaultDcl, false);
	}
	JB_Decr(Default);
	if (Recv) {
		SC_Base_TryAdd(Recv, Self, Dcl, Dcl->Name);
	}
	JB_SafeDecr(Dcl);
	return Dcl;
}

void SC_Msg_CollectFromBody(Message* Self, SCNode* Name_space) {
	if (Self->Obj) {
		return;
	}
	SCDecl* Dcl = SC_Msg_CollectDecl(Self, Name_space, Name_space, kSC__DeclMode_FunctionBody, nil, nil);
	if (Dcl) {
		SC_Decl_AsBody(Dcl);
		SC_StructStuff__DelayedFix();
		Message* Def = Dcl->Default;
		if (Def) {
			if (!((!JB_Msg_EqualsSyx(Def, kJB_SyxThg)) or (!JB_Str_Equals(Def->Name, Dcl->Name, true)))) {
				JB_Msg_Fail(Def, JB_LUB[2021]);
			}
		}
	}
}

JB_String* SC_Msg_CollectFuncTableName(Message* Self) {
	if (JB_Msg_EqualsSyx(Self, kJB_SyxName)) {
		return JB_Str_UpperCase(Self->Name);
	}
	if (JB_Str_Exists(Self->Name) and (!JB_Msg_EqualsSyx(Self, kJB_SyxDot))) {
		return Self->Name;
	}
	return JB_Msg_FirstName(Self);
}

Message* SC_Msg_CollectionPlace(Message* Self) {
	Message* Msg = Self;
	JB_Incr(Msg);
	while (Msg) {
		Message* P = ((Message*)JB_Ring_Parent(Msg));
		JB_Incr(P);
		if ((JB_Msg_EqualsSyx(Msg, kJB_SyxArg))) {
			if (!P) {
				JB_EarlyDecr(P);
				JB_SafeDecr(Msg);
				return Msg;
			}
			if (SC_Msg_OperatorIsTmp(P, JB_LUB[446]) or SC_Msg_OperatorIsTmp(P, JB_LUB[447])) {
				JB_EarlyDecr(P);
				JB_SafeDecr(Msg);
				return Msg;
			}
		}
		JB_SetRef(Msg, P);
		JB_Decr(P);
	};
	JB_EarlyDecr(Msg);
	return nil;
}

bool SC_Msg_CollectOneParam(Message* Self, SCFunction* Func, SCNode* Recv, SCClass* Cls) {
	if ((Func->IsAssigns == 2) and JB_Tree_IsLast(Self)) {
		if (!Cls) {
			if (true) {
				JB_Msg_Fail(Self, JB_LUB[2022]);
			}
		}
		 else {
			Func->IsAssigns = 3;
			if (SC_Class_IsDataTypeOrFP(Cls)) {
				(JB_Ring_NextSibSet(Self, JB_Msg_Copy(Self, nil)));
			}
			SC_Msg_AddValue(Self, Func);
		}
	}
	if ((JB_Msg_EqualsSyx(Self, kJB_SyxItem)) and (JB_Msg_SyntaxEquals(((Message*)JB_Ring_First(Self)), JB_LUB[2023], false))) {
		Self = ((Message*)JB_Ring_Last(Self));
		Func->IsAssigns = 1;
		SC_Msg_AddValue(Self, Func);
	}
	if (!JB_Msg_Expect(Self, kJB_SyxDecl, nil)) {
		return nil;
	}
	SCDecl* Dcl = SC_Msg_CollectDecl(Self, Func, Recv, kSC__DeclMode_FuncParam, Cls, Func);
	if (!Dcl) {
		return nil;
	}
	if (SC_Msg_OperatorIsThing(Dcl->Default, JB_LUB[100])) {
		if (SC_Decl_TypeSuffers(Dcl)) {
			if ((SC_Decl_StatedReal(Dcl))) {
				JB_Msg_Fail(Self, JB_LUB[2024]);
			}
		}
		Dcl->NilDeclared = kSC__NilState_Optional;
	}
	if (!SC_Class_IsStruct(Dcl->Type)) {
		if (!(!JB_Str_Equals(Dcl->Name, JB_LUB[1477], true))) {
			JB_Msg_Fail(Self, JB_LUB[2025]);
		}
	}
	if (JB_Str_Exists(Dcl->Name)) {
		SC_Func_AddTypeInfo(Func, Dcl);
		(SC_Decl_SyntaxIsSet(Dcl, kSC__SCDeclInfo_Param, true));
	}
	 else {
		(SC_Decl_SyntaxIsSet(Dcl, kSC__SCDeclInfo_Return, true));
	}
	(SC_Decl_SyntaxIsSet(Dcl, kSC__SCDeclInfo_Altered, (!true)));
	(SC_Decl_SyntaxIsSet(Dcl, kSC__SCDeclInfo_NumberConst, (!true)));
	JB_Array_SyntaxAppend(Func->Args, Dcl);
	if (SC_Base_IsLibrary(Func)) {
		if (Func->IntPrmCount > 6) {
			JB_Msg_Fail(Self, JB_LUB[2026]);
		}
	}
	if (JB_Array_SyntaxCompare(Func->Args, 8) >= 1) {
		JB_Msg_Fail(Self, JB_LUB[2027]);
	}
	return true;
}

Message* JB_Msg_ConfArg(Message* Self) {
	if ((JB_Msg_EqualsSyx(Self, kJB_SyxArg)) or (Self == nil)) {
		return Self;
	}
	Message* W = ((Message*)JB_Ternary((JB_Msg_EqualsSyx(Self, kJB_SyxTmp)), ((Message*)JB_Ring_Last(Self)), ((Message*)JB_Ring_NextSib(Self))));
	if (JB_Msg_EqualsSyx(W, kJB_SyxArg)) {
		return W;
	}
	return nil;
}

void SC_Msg_ConfTake(Message* Self, Message* Dest, JB_String* Name) {
	Message* F = JB_Msg_GetConf(Self, Name, false);
	if (F) {
		JB_Tree_PrependAll(Dest, F);
		JB_Tree_Remove(((Message*)JB_Ring_Parent(F)));
	}
}

Message* SC_Msg_ConstantExpandSub(Message* Self) {
	Message* Rz = nil;
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Self, (&_usingf0));
	{
		Message* Item = ((Message*)JB_Ring_First(Self));
		while (Item) {
			Message* _Nf2 = (((Message*)JB_Ring_NextSib(Item)));
			if (Rz) {
				Rz = SC_NewRel(Rz, JB_Msg_Copy(Item, nil), JB_LUB[505]);
			}
			 else {
				Rz = JB_Msg_Copy(Item, nil);
			}
			Item = _Nf2;
		};
		;
	}
	;
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
	JB_MsgPos_Destructor((&_usingf0));
	return Rz;
}

bool SC_Msg_ConstIntValue(Message* Self, SCNode* Name_space, int64& V) {
	if (SC_Msg_ConstIntValueSub(Self, V)) {
		return true;
	}
	SCDecl* T = SC_TypeOfExpr(Self, Name_space, nil);
	if (T) {
		Message* D = T->Default;
		if (D) {
			return SC_Msg_ConstIntValueSub(D, V);
		}
	}
	return false;
}

bool SC_Msg_ConstIntValueSub(Message* Self, int64& V) {
	Message* S = Self;
	while (JB_Msg_EqualsSyx(S, kJB_SyxBra)) {
		S = ((Message*)JB_Ring_First(S));
	};
	if (JB_Msg_EqualsSyx(S, kJB_SyxNum)) {
		V = JB_Msg_Int(S, 0);
		return true;
	}
	if (((JB_Msg_EqualsSyx(S, kJB_SyxThg))) and JB_Str_MidEquals(S->Name, 0, JB_LUB[1151], false)) {
		SyntaxObj* Find = ((SyntaxObj*)JB_Dict_ValueLower(JB__Constants__SyxDict, JB_Str_Range(S->Name, (3), kJB__int_Max, false)));
		if (Find) {
			V = ((int64)Find->ID);
			JB_Msg_BecomeStr(S, kJB_SyxNum, JB_int64_Render(V, nil));
			return true;
		}
	}
	return false;
}

Message* JB_Msg_ConstructorCopy(Message* Self, Message* Other) {
	if (Self == nil) {
		Self = ((Message*)JB_NewClass(&MessageData));
	}
	//cpp_part;
	JB_Ring_Constructor0(Self);
	Self->Position = Other->Position;
	JB_Incr2(Self->Name, Other->Name);
	Self->Func = Other->Func;
	JB_Incr2(Self->Obj, Other->Obj);
	Self->Indent = Other->Indent;
	Self->Flags = (Other->Flags | JB__Tk_Using.Flags);
	Self->RangeLength = Other->RangeLength;
	Self->Tag = Other->Tag;
	return Self;
}

Message* JB_Msg_ConstructorEmpty(Message* Self) {
	if (Self == nil) {
		Self = ((Message*)JB_NewClass(&MessageData));
	}
	JB_Ring_Constructor0(Self);
	Self->Indent = 0;
	JB_Incr2(Self->Name, JB_LUB[0]);
	//cpp_part;
	Self->Func = kJB_SyxArg;
	Self->Position = JB__Tk_Using.Position;
	Self->Flags = JB__Tk_Using.Flags;
	Self->RangeLength = JB__Tk_Using.Length;
	Self->Tag = JB__Tk_Using.Tag;
	return Self;
}

Message* JB_Msg_Constructor(Message* Self, Message* Parent, Syntax Func, JB_String* Name) {
	if (Self == nil) {
		Self = ((Message*)JB_NewClass(&MessageData));
	}
	JB_Ring_Constructor(Self, Parent);
	Self->Indent = 0;
	JB_Incr2(Self->Name, Name);
	Self->Position = JB__Tk_Using.Position;
	Self->Func = Func;
	Self->RangeLength = JB__Tk_Using.Length;
	Self->Flags = JB__Tk_Using.Flags;
	Self->Tag = JB__Tk_Using.Tag;
	return Self;
}

Message* JB_Msg_ConstructorParser(Message* Self, Message* Parent, Syntax Func, int BytePos, JB_String* Name, int RangeLength) {
	if (Self == nil) {
		Self = ((Message*)JB_NewClass(&MessageData));
	}
	//cpp_part;
	JB_Ring_Constructor(Self, Parent);
	Self->Indent = 0;
	JB_Incr2(Self->Name, Name);
	Self->Position = BytePos;
	Self->Func = Func;
	Self->RangeLength = RangeLength;
	Self->Flags = 0;
	Self->Tag = JB__Tk_Using.Tag;
	return Self;
}

void SC_Msg_ConstructorAddNil(Message* Self, bool Isdot) {
	if (Isdot) {
		Message* P = ((Message*)JB_Ring_Parent(Self));
		(JB_Ring_FirstSet(Self, ((Message*)JB_Ring_First(P))));
		Self = P;
	}
	(JB_Ring_FirstSet(Self, SC_Msg_CreateNil(Self)));
}

bool JB_Msg_ContainsInd(Message* Self, Ind P, bool AllowJustAfter) {
	//cpp_part;
	return (Self->Position <= P) and ((JB_Msg_After(Self) + AllowJustAfter) > P);
}

bool SC_Msg_ContainsFunc(Message* Self) {
	if (Self->Func == kJB_SyxPrm) {
	}
	Message* F = ((Message*)JB_Ring_First(Self));
	if (F) {
		return SC_Msg_FoundFuncWith0(F);
	}
	return false;
}

FatASM* SC_Msg_CONV(Message* Self, ASMReg R1, ASMReg R2, int Mode) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_CONV, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, Mode));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

Message* JB_Msg_Copy(Message* Self, Message* Pos_msg) {
	Message* Rz = nil;
	Rz = ((Message*)JB_Ternary(Pos_msg, Pos_msg, Self));
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Rz, (&_usingf0));
		Rz = JB_Msg_CopyWithoutUsing(Self, Pos_msg);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Rz);
		JB_MsgPos_Destructor((&_usingf0));
	}
	return Rz;
}

void SC_Msg_CopyAllAfter(Message* Self, Message* After, Message* Copylayer) {
	Message* Curr = ((Message*)JB_Ring_NextSib(Self));
	while (Curr) {
		Message* Cpy = JB_Msg_Copy(Curr, Copylayer);
		(JB_Ring_NextSibSet(After, Cpy));
		After = Cpy;
		Curr = ((Message*)JB_Ring_NextSib(Curr));
	};
}

void SC_Msg_CopyAllAfterBefore(Message* Self, Message* Before, Message* Copylayer) {
	Message* Exp = ((Message*)JB_Ring_NextSib(Self));
	while (Exp) {
		(JB_Ring_PrevSibSet(Before, JB_Msg_Copy(Exp, Copylayer)));
		Exp = ((Message*)JB_Ring_NextSib(Exp));
	};
}

void SC_Msg_CopyAllAfterInto(Message* Self, Message* Into, Message* Copylayer) {
	Message* Curr = ((Message*)JB_Ring_NextSib(Self));
	while (Curr) {
		JB_Tree_SyntaxAppend(Into, JB_Msg_Copy(Curr, Copylayer));
		Curr = ((Message*)JB_Ring_NextSib(Curr));
	};
}

void SC_Msg_CopyAllBefore(Message* Self, Message* Before, Message* Copylayer) {
	Message* Curr = ((Message*)JB_Ring_PrevSib(Self));
	while (Curr) {
		Message* Cpy = JB_Msg_Copy(Curr, Copylayer);
		(JB_Ring_PrevSibSet(Before, Cpy));
		Before = Cpy;
		Curr = ((Message*)JB_Ring_PrevSib(Curr));
	};
}

void SC_Msg_CopyAllBeforeInto(Message* Self, Message* Into, Message* Copylayer) {
	Message* Curr = ((Message*)JB_Ring_PrevSib(Self));
	while (Curr) {
		(JB_Ring_FirstSet(Into, JB_Msg_Copy(Curr, Copylayer)));
		Curr = ((Message*)JB_Ring_PrevSib(Curr));
	};
}

void JB_Msg_CopyAllInto(Message* Self, Message* J) {
	{
		Message* C = ((Message*)JB_Ring_First(Self));
		while (C) {
			JB_Tree_SyntaxAppend(J, JB_Msg_Copy(C, J));
			C = (((Message*)JB_Ring_NextSib(C)));
		};
		;
	};
}

JB_String* JB_Msg_CopyID(Message* Self) {
	return JB_LUB[0];
}

Message* JB_Msg_CopyWithoutUsing(Message* Self, Message* P) {
	Message* Rz = nil;
	Rz = JB_Msg_ConstructorCopy(nil, Self);
	if (P) {
		Rz->Position = P->Position;
		Rz->RangeLength = P->RangeLength;
		Rz->Tag = P->Tag;
	}
	{
		Message* V = ((Message*)JB_Ring_First(Self));
		while (V) {
			JB_Tree_SyntaxAppend(Rz, JB_Msg_CopyWithoutUsing(V, P));
			V = (((Message*)JB_Ring_NextSib(V)));
		};
		;
	}
	;
	return Rz;
}

Message* SC_Msg_CreateNil(Message* Self) {
	Message* Rz = nil;
	JB_Incr(Rz);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Self, (&_usingf0));
	JB_SetRef(Rz, JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[100]));
	JB_SetRef(Rz->Obj, SC_TypeNil);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
	JB_MsgPos_Destructor((&_usingf0));
	JB_SafeDecr(Rz);
	return Rz;
}

Message* SC_Msg_CreateOwnBlock(Message* Self) {
	Message* Rz = nil;
	JB_Incr(Rz);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Self, (&_usingf0));
	Message* Bra = JB_Syx_Msg(kJB_SyxBra, JB_LUB[0]);
	JB_Incr(Bra);
	JB_SetRef(Bra->Obj, Self->Obj);
	JB_SetRef(Rz, JB_Msg_Msg(Bra, kJB_SyxArg, JB_LUB[0]));
	JB_FreeIfDead(SC_Msg_ReplaceWith(Self, Bra));
	SCArg* NewObj = SC_Msg_SCArg(Rz, nil, nil);
	JB_Incr(NewObj);
	if (NewObj) {
		JB_SetRef(NewObj->TmpMovedOutFor, Self);
		(SC_Msg_StatementExprSet(Bra, NewObj));
	}
	JB_Decr(Bra);
	JB_Decr(NewObj);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
	JB_MsgPos_Destructor((&_usingf0));
	JB_SafeDecr(Rz);
	return Rz;
}

Message* SC_Msg_CutifyCopy(Message* Self) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Msg_ConstructorCopy(nil, Self));
	{
		Message* V = ((Message*)JB_Ring_First(Self));
		JB_Incr(V);
		while (V) {
			Message* _Nf1 = (((Message*)JB_Ring_NextSib(V)));
			JB_Incr(_Nf1);
			if (JB_Msg_EqualsSyx(V, kJB_SyxArg)) {
				0;
			}
			 else if (SC_Msg_IsReffer(V)) {
				Message* _tmPf2 = ((Message*)JB_Ring_Last(V));
				JB_Incr(_tmPf2);
				Message* Vll = ((Message*)JB_Ring_Last(_tmPf2));
				JB_Incr(Vll);
				JB_Decr(_tmPf2);
				if (Vll) {
					Message* _tmPf3 = SC_Msg_CutifyCopy(Vll);
					JB_Incr(_tmPf3);
					JB_Tree_SyntaxAppend(Rz, _tmPf3);
					JB_Decr(_tmPf3);
				}
				 else {
				}
				JB_Decr(Vll);
			}
			 else {
				Message* _tmPf4 = SC_Msg_CutifyCopy(V);
				JB_Incr(_tmPf4);
				JB_Tree_SyntaxAppend(Rz, _tmPf4);
				JB_Decr(_tmPf4);
			}
			JB_SetRef(V, _Nf1);
			JB_Decr(_Nf1);
		};
		JB_Decr(V);
		;
	}
	;
	SCFunction* Fn = SC_Msg_MsgFunc(Rz);
	JB_Incr(Fn);
	if (Fn) {
		SCClass* Cls = Fn->Cls;
		JB_Incr(Cls);
		JB_String* Modname = JB_LUB[0];
		JB_Incr(Modname);
		SCNode* Space = Fn->Parent;
		JB_Incr(Space);
		if (JB_Object_FastIsa(Space, &SCModuleData)) {
			JB_SetRef(Modname, ((SCModule*)Space)->Name);
		}
		if (Cls or JB_Str_Exists(Modname)) {
			Message* Name = ((Message*)JB_Ring_First(Rz));
			JB_Incr(Name);
			if (JB_Msg_EqualsSyx(Name, kJB_SyxThg)) {
				Message* Prm = ((Message*)JB_Ring_NextSib(Name));
				JB_Incr(Prm);
				JB_Msg_BecomeStr(Rz, kJB_SyxDot, Fn->Name);
				if (Cls) {
					Message* _tmPf5 = ((Message*)JB_Ring_First(Prm));
					JB_Incr(_tmPf5);
					(JB_Ring_FirstSet(Rz, _tmPf5));
					JB_Decr(_tmPf5);
				}
				 else if (Space != SC__Comp_Program) {
					Message* Mod = JB_Syx_Msg(kJB_SyxThg, Modname);
					JB_Incr(Mod);
					JB_SetRef(Mod->Obj, Space);
					(JB_Ring_FirstSet(Rz, Mod));
					JB_Decr(Mod);
				}
				if (!JB_Ring_HasChildren(Prm)) {
					Prm->Func = kJB_SyxEmb;
				}
				JB_Decr(Prm);
				JB_Tree_Remove(Name);
			}
			JB_Decr(Name);
		}
		JB_Decr(Cls);
		JB_Decr(Modname);
		JB_Decr(Space);
	}
	JB_EarlyDecr(Fn);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* SC_Msg_DclExp(Message* Self) {
	if (JB_Msg_EqualsSyx(Self, kJB_SyxDecl)) {
		return ((Message*)JB_Tree_Second(Self));
	}
	return Self;
}

void JB_Msg_Decl__(Message* Self, FastString* Fs) {
	Message* Ch = ((Message*)JB_Ring_First(Self));
	if (!Ch) {
		return;
	}
	JB_FS_AppendByte2(Fs, '|');
	JB_FS_SyntaxAppend(Fs, Ch);
	JB_FS_AppendByte2(Fs, '|');
	Ch = ((Message*)JB_Ring_NextSib(Ch));
	while (Ch) {
		JB_FS_AppendByte2(Fs, ' ');
		JB_FS_SyntaxAppend(Fs, Ch);
		Ch = ((Message*)JB_Ring_NextSib(Ch));
	};
}

Message* SC_Msg_Declable(Message* Self) {
	Syntax Fn = Self->Func;
	if (Fn == kJB_SyxDecl) {
		Self = ((Message*)JB_Tree_Second(Self));
		Fn = Self->Func;
	}
	while (Fn == kJB_SyxType) {
		Self = ((Message*)JB_Ring_First(Self));
		Fn = Self->Func;
	};
	if (Fn == kJB_SyxFunc) {
		return ((Message*)JB_Tree_Second(Self));
	}
	return Self;
}

void SC_Msg_DeclAddNumbInt(Message* Self, int64 Num, SCNode* Name_space) {
	Message* Numb = JB_Msg_Msg(Self, kJB_SyxNum, JB_int64_Render(Num, nil));
	JB_SetRef(Numb->Obj, SC_TypeOfNum(Numb, Name_space, nil));
}

Message* SC_Msg_DeclName(Message* Self) {
	Message* Name = SC_Msg_DclExp(Self);
	if (JB_Msg_EqualsSyx(Name, kJB_SyxRel)) {
		return JB_Msg_NeedSyx(Name, kJB_SyxThg);
	}
	if (JB_Msg_EqualsSyx(Name, kJB_SyxThg)) {
		return Name;
	}
	if (((JB_Msg_EqualsSyx(Name, kJB_SyxEmb)))) {
		JB_Msg_Fail(Self, nil);
		return nil;
	}
	return nil;
}

bool JB_Msg_DeepEquals(Message* Self, Message* B, bool Aware) {
	Message* A = Self;
	Message* A2 = ((Message*)JB_Ring_FlatAfter(Self));
	Message* B2 = ((Message*)JB_Ring_FlatAfter(B));
	while (true) {
		bool ADone = A == A2;
		bool BDone = B == B2;
		if (ADone and BDone) {
			return true;
		}
		if ((ADone != BDone) or ((!JB_Msg_ShallowEquals(A, B, Aware)))) {
			return false;
		}
		A = ((Message*)JB_Ring_FlatNext0(A));
		B = ((Message*)JB_Ring_FlatNext0(B));
	};
}

Message* SC_Msg_Deepest(Message* Self, Syntax Tmp, JB_String* Name) {
	{
		Message* Ch = ((Message*)JB_Ring_First(Self));
		while (Ch) {
			Message* _Nf1 = (((Message*)JB_Ring_NextSib(Ch)));
			Message* Best = SC_Msg_Deepest(Ch, Tmp, Name);
			if (Best) {
				return Best;
			}
			Ch = _Nf1;
		};
		;
	}
	;
	if ((JB_Msg_EqualsSyx(Self, kJB_SyxTmp)) and (JB_Msg_SyntaxEquals(Self, Name, false))) {
		return Self;
	}
	return nil;
}

void SC_Msg_DefaultPrmFix(Message* Self, SCDecl* Base) {
	{
		Message* _Valuef3 = Self;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Self));
		while ((_Valuef3) and (_Valuef3 != _afterf1)) {
			Message* _N_f2 = (((Message*)JB_Ring_FlatNext0(_Valuef3)));
			Message* S = _Valuef3;
			if ((S->Func == kJB_SyxSThg) and (JB_Msg_OperatorIn(S, kJB_SyxBra))) {
				if ((!Base)) {
					JB_Msg_Fail(S, JB_LUB[994]);
					return;
				}
				S = ((Message*)JB_Ring_Parent(S));
				S->Func = kJB_SyxThg;
				JB_SetRef(S->Name, Base->Type->Name);
				JB_Tree_Clear(S);
			}
			_Valuef3 = _N_f2;
		};
		;
	};
}

void SC_Msg_DenyPreviousUse(Message* Self, Message* Msg) {
	Message* Thg = SC_Msg_UnBra(((Message*)JB_Ring_First(Msg)));
	if (Thg->Func != kJB_SyxThg) {
		return;
	}
	JB_Object* Decl = Thg->Obj;
	if (!Decl) {
		return;
	}
	{
		Message* _LoopSrcf3 = ((Message*)JB_Ring_Parent(Self));
		Message* Ch = _LoopSrcf3;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(_LoopSrcf3));
		while ((Ch) and (Ch != _afterf1)) {
			Message* _N_f2 = ((Message*)JB_Ring_FlatNext0(Ch));
			if (Ch == Self) {
				return;
			}
			if (Ch->Obj == Decl) {
				if (true) {
					JB_Msg_Fail(Ch, JB_LUB[995]);
				}
			}
			Ch = _N_f2;
		};
		;
	};
}

int SC_Msg_DeprecatedClassOption(Message* Self, JB_String* Name, JB_String* Kind) {
	Message* Place = JB_Msg_FindSyxName(Self, kJB_SyxTmp, Name, false);
	JB_Incr(Place);
	if (!Place) {
		JB_EarlyDecr(Place);
		return 0;
	}
	int Num = 1;
	if (!JB_Str_Equals(Kind, JB_LUB[96], false)) {
		Message* Ch = ((Message*)JB_Ring_First(Place));
		JB_Incr(Ch);
		if (!(Ch and (JB_Msg_Expect(Ch, kJB_SyxThg, nil) and (JB_Msg_SyntaxEquals(Ch, Kind, true))))) {
			JB_EarlyDecr(Ch);
			JB_EarlyDecr(Place);
			return 0;
		}
		Message* Num_msg = ((Message*)JB_Ring_NextSib(Ch));
		JB_Incr(Num_msg);
		JB_Decr(Ch);
		if (Num_msg) {
			JB_Msg_Expect(Num_msg, kJB_SyxNum, nil);
			Num = JB_Msg_Int(Num_msg, 0);
		}
		JB_Decr(Num_msg);
	}
	JB_Tree_Remove(Place);
	JB_EarlyDecr(Place);
	return Num;
}

void JB_Msg_Destructor(Message* Self) {
	//cpp_part;
	JB_Clear(Self->Name);
	JB_Ring_Destructor(Self);
}

Dictionary* JB_Msg_Dict(Message* Self, bool DoLower, bool DoCount) {
	Dictionary* Rz = ((Dictionary*)nil);
	Rz = JB_Dict_Constructor(nil);
	int I = 0;
	{
		Message* S = ((Message*)JB_Ring_First(Self));
		while (S) {
			if (DoLower) {
				(JB_Dict_ValueLowerSet(Rz, S->Name, S));
			}
			 else {
				(JB_Dict_ValueSet(Rz, S->Name, S));
			}
			if (DoCount) {
				S->Position = I++;
			}
			S = (((Message*)JB_Ring_NextSib(S)));
		};
		;
	}
	;
	return Rz;
}

JB_String* JB_Msg_DisplayName(Message* Self, int I) {
	if (I == 0) {
		return JB_Msg_TextViewChild(Self)->Name;
	}
	return JB_LUB[0];
}

FatASM* SC_Msg_DIV(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4, int Kind) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_DIV, Self);
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	(SC_FAT_NumInputSet(Rz, 4, Kind));
	SC_FAT_Dest(Rz, 0, R1, A);
	SC_FAT_Dest(Rz, 1, R2, A);
	return Rz;
}

FatASM* SC_Msg_DIV2(Message* Self, ASMReg R1, ASMReg R2, int Clear, int Down) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_DIV2, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, Clear));
	(SC_FAT_NumInputSet(Rz, 3, Down));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

void SC_Msg_DivByZero(Message* Self) {
	SC_Msg_CallChainError(Self, JB_LUB[1152]);
}

FatASM* SC_Msg_DIVS(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4, int Kind) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_DIVS, Self);
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	(SC_FAT_NumInputSet(Rz, 4, Kind));
	SC_FAT_Dest(Rz, 0, R1, A);
	SC_FAT_Dest(Rz, 1, R2, A);
	return Rz;
}

bool SC_Msg_DoesAnything(Message* Self) {
	if (Self) {
		if (!((!JB_Msg_EqualsSyx(Self, kJB_SyxThg)) and ((!JB_Msg_EqualsSyx(Self, kJB_SyxNum)) and ((!JB_Msg_EqualsSyx(Self, kJB_SyxStr)) and (!JB_Msg_EqualsSyx(Self, kJB_SyxChar)))))) {
			return nil;
		}
		return true;
	}
	return false;
}

void JB_Msg_Dot__(Message* Self, FastString* Fs) {
	Message* Ch = ((Message*)JB_Ring_First(Self));
	if (Ch) {
		JB_FS_SyntaxAppend(Fs, Ch);
	}
	JB_FS_AppendByte2(Fs, '.');
	JB_FS_AppendString(Fs, Self->Name);
	if (Ch) {
		JB_FS_SyntaxAppend(Fs, ((Message*)JB_Ring_NextSib(Ch)));
	}
}

SCDecl* SC_Msg_DotMustBeProperty(Message* Self) {
	JB_Object* Obj = Self->Obj;
	if (JB_Object_OperatorMustBe(Obj, &SCDeclData)) {
		if (JB_Str_Exists(((SCDecl*)Obj)->Name)) {
			return ((SCDecl*)Obj);
		}
		SCDecl* Backup = ((SCDecl*)JB_Object_FastAs(((Message*)JB_Ring_Last(Self))->Obj, &SCDeclData));
		if (Backup) {
			if (JB_Str_Exists(Backup->Name)) {
				return Backup;
			}
		}
		if (true) {
			JB_Msg_Fail(Self, JB_LUB[1347]);
		}
	}
	return nil;
}

SCObject* SC_Msg_DotSpace(Message* Self, SCNode* Name_space) {
	SCObject* Rz = nil;
	if (!JB_Msg_EqualsSyx(Self, kJB_SyxThg)) {
		return SC_TypeOfExprModulesOK(Self, Name_space, nil);
	}
	Rz = SC_Base_LookUpVar(Name_space, Self->Name, Self, nil);
	if (JB_Object_FastIsa(Rz, &SCDeclData)) {
		(SC_Decl_SyntaxIsSet(((SCDecl*)Rz), kSC__SCDeclInfo_ReadFrom, true));
	}
	JB_SetRef(Self->Obj, Rz);
	return Rz;
}

DotUseType SC_Msg_DotType(Message* Self) {
	if (Self->Func == kJB_SyxDot) {
		JB_Object* D = Self->Obj;
		if (JB_Object_FastIsa(D, &SCDeclData)) {
			return (SC_Decl_SyntaxIs(((SCDecl*)D), kSC__SCDeclInfo_Property)) * kSC__DotUseType_Property;
		}
	}
	return 0;
}

void JB_Msg_Dummy(Message* Self, FastString* Fs) {
}

bool SC_Msg_ElseIfIndentBad(Message* Self) {
	Message* Bb = ((Message*)JB_Ring_PrevSib(Self));
	if (JB_Msg_SyntaxIs(Bb, kJB__MsgParseFlags_Inserted)) {
		return (!(Self->Indent & 2));
	}
	return (!(JB_Msg_OperatorIn(Self, kJB_SyxTmp)));
}

void SC_Msg_ElseNeverFires(Message* Self) {
	Message* Arg = ((Message*)JB_Ring_NextSib(Self));
	Message* After = ((Message*)JB_Ring_NextSib(Arg));
	if (!After) {
		Message* P = ((Message*)JB_Ring_Parent(Self));
		if (P) {
			SC_Msg_SafeRemove(P, kJB_SyxSheb);
		}
		return;
	}
	if (JB_Msg_EqualsSyx(Arg, kJB_SyxArg)) {
		JB_Tree_Clear(Arg);
		Arg->Tag = (Arg->Tag | kSC__SCBlockage_Return);
	}
	JB_FreeIfDead(SC_Msg_NeedBra(Self));
}

void JB_Msg_Emb__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, Self->Name);
	if (!JB_Ring_HasChildren(Self)) {
		return;
	}
	JB_Msg_RenderWithSpaces(Self, Fs, nil);
}

FatASM* SC_Msg_EQUL(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Cmp) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_EQUL, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Cmp));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

void JB_Msg_ERel__(Message* Self, FastString* Fs) {
	Message* Ch = ((Message*)JB_Ring_First(Self));
	if (!Ch) {
		return;
	}
	JB_FS_SyntaxAppend(Fs, Ch);
	JB_FS_AppendByte2(Fs, ' ');
	Ch = ((Message*)JB_Ring_NextSib(Ch));
	if (!Ch) {
		return;
	}
	JB_FS_SyntaxAppend(Fs, Ch);
	JB_FS_AppendString(Fs, JB_LUB[535]);
	Ch = ((Message*)JB_Ring_NextSib(Ch));
	if (!Ch) {
		return;
	}
	JB_FS_SyntaxAppend(Fs, Ch);
}

ASMReg SC_Msg_ExpandBits(Message* Self, ASMReg Src, uint /*DataTypeCode*/ Type) {
	Assembler* Sh = (&SC__Pac_Sh);
	uint64 Closer = SC_Pac_OpenVars(Sh);
	ASMReg Where = SC_Pac_TempOnly(Sh, ((ASMReg)Type));
	ASMReg Dest = SC_Pac_BFLG_Sub(Sh, Self, Where, Src, 32, 32, SC_Reg_Signed(Src));
	return SC_Pac_CloseVars(Sh, Closer, nil, Dest);
}

Message* SC_Msg_ExpandToBool(Message* Self, SCNode* Name_space) {
	Message* Rz = nil;
	SCDecl* Decl = SC_TypeOfExpr(Self, Name_space, nil);
	if (Decl) {
		if (SC_Decl_IsNormal(Decl) and (!Decl->Type->TheBoolFunc)) {
			return Self;
		}
		if ((SC_Decl_IsBareStruct(Decl))) {
			JB_Msg_Fail(Self, JB_LUB[1963]);
			return nil;
		}
		Message* Upon = SC_Msg_UnBra(Self);
		Rz = SC_Decl_ExpectMatch(SC_TypeBool->TypeNormal, Decl, kJB_kTypeCastTrue, Upon, nil);
		while (((JB_Msg_EqualsSyx(Rz, kJB_SyxBra))) and ((JB_Msg_EqualsSyx(((Message*)JB_Ring_First(Rz)), kJB_SyxBra)))) {
			Rz = SC_Msg_ReplaceWithChild(Rz);
		};
	}
	return Rz;
}

bool JB_Msg_Expect(Message* Self, Syntax Type, JB_String* Name) {
	if (!Self) {
		return nil;
	}
	if ((!Type) or (Self->Func == Type)) {
		if ((Name == nil) or ((JB_Str_Equals(Self->Name, Name, true)))) {
			return true;
		}
	}
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, JB_LUB[562]);
	if (Type) {
		JB_String* _tmPf0 = JB_Syx_LongName(Type);
		JB_Incr(_tmPf0);
		JB_FS_AppendString(Fs, _tmPf0);
		JB_Decr(_tmPf0);
	}
	JB_FS_MsgErrorName(Fs, Name);
	JB_FS_AppendString(Fs, JB_LUB[878]);
	JB_String* _tmPf1 = JB_Syx_LongName(Self->Func);
	JB_Incr(_tmPf1);
	JB_FS_AppendString(Fs, _tmPf1);
	JB_Decr(_tmPf1);
	JB_FS_MsgErrorName(Fs, Self->Name);
	if (true) {
		JB_String* _tmPf2 = JB_FS_SyntaxCast(Fs);
		JB_Incr(_tmPf2);
		JB_Msg_Fail(Self, _tmPf2);
		JB_Decr(_tmPf2);
	}
	JB_EarlyDecr(Fs);
	return false;
}

bool SC_Msg_ExpectClass(Message* Self, SCDecl* Slf, SCClass* Cls) {
	return ((bool)JB_FreeIfDead(SC_Decl_ExpectMatch(Slf, Cls->TypeNormal, 0, Self, Self)));
}

void SC_Msg_ExpectEmpty(Message* Self) {
	Message* F = ((Message*)JB_Ring_First(Self));
	if (F) {
		if (true) {
			JB_Msg_Fail(F, nil);
		}
	}
}

bool SC_Msg_ExpectInt(Message* Self, SCDecl* Type) {
	uint Ty = Type->Type->TypeInfo;
	if (JB_TC_ByteCount(Ty) > 4) {
		JB_Msg_Fail(Self, JB_LUB[996]);
		return nil;
	}
	if (!(JB_TC_IsInt(Ty) and ((!JB_TC_SyntaxIs(Ty, kJB__TC_bool))))) {
		JB_Msg_Fail(Self, JB_LUB[997]);
		return nil;
	}
	return true;
}

bool JB_Msg_ExpectLast(Message* Self, JB_String* Err) {
	if (Self) {
		Message* N = ((Message*)JB_Ring_NextSib(Self));
		if (!N) {
			return true;
		}
		JB_Msg_Fail(N, Err);
	}
	return false;
}

bool SC_Msg_ExpectMatch(Message* Self, SCNode* Name_space, SCClass* With) {
	SCDecl* T = SC_TypeOfExprNeeded(Self, Name_space);
	if (T) {
		return SC_Msg_ExpectClass(Self, T, With);
	}
	return false;
}

Message* SC_Msg_ExpectParamsTransform(Message* Self, int P, Message* Errnode, JB_String* Type) {
	JB_Incr(Type);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Errnode, (&_usingf0));
	Message* L = Self;
	JB_Incr(L);
	Message* On = L;
	JB_Incr(On);
	if (!JB_Str_Equals(Type, JB_LUB[461], false)) {
		JB_SetRef(Type, JB_LUB[458]);
	}
	if ((!L)) {
		JB_SetRef(On, JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[100]));
	}
	 else if ((JB_Msg_EqualsSyx(L, kJB_SyxList)) or ((JB_Msg_EqualsSyx(L, kJB_SyxBra)) or (JB_Msg_EqualsSyx(L, kJB_SyxPrm)))) {
		L->Func = kJB_SyxPrm;
		JB_SetRef(On, ((Message*)JB_Ring_First(L)));
	}
	 else {
		JB_SetRef(L, nil);
	}
	Message* L2 = L;
	JB_Incr(L2);
	if ((!JB_Msg_EqualsSyx(L, kJB_SyxPrm))) {
		JB_SetRef(L2, JB_Syx_Msg(kJB_SyxPrm, JB_LUB[0]));
		JB_Tree_SyntaxAppend(L2, L);
	}
	JB_String* _tmPf1 = JB_Str_OperatorPlus(JB_LUB[639], Type);
	JB_Incr(_tmPf1);
	JB_Decr(Type);
	Message* Tmp = JB_Syx_OperatorPlus(kJB_SyxDot, (_tmPf1));
	JB_Incr(Tmp);
	JB_Decr(_tmPf1);
	JB_Tree_SyntaxAppend(Tmp, On);
	JB_Decr(On);
	JB_Tree_SyntaxAppend(Tmp, L2);
	JB_Decr(L2);
	JB_SetRef(L, Tmp);
	JB_Decr(Tmp);
	L->Position = P;
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Errnode);
	JB_SafeDecr(L);
	JB_MsgPos_Destructor((&_usingf0));
	return L;
}

bool JB_Msg_ExpectString(Message* Self) {
	if (JB_Msg_IsString(Self)) {
		return true;
	}
	if (true) {
		JB_Msg_Fail(Self, JB_LUB[879]);
	}
	return false;
}

SCFunction* SC_Msg_ExpFunc(Message* Self) {
	Message* It = ((Message*)JB_Ring_Last(SC_Msg_UnBra(Self)));
	if (It) {
		JB_Object* Fn = It->Obj;
		if (JB_Object_FastIsa(Fn, &SCFunctionData)) {
			return ((SCFunction*)Fn);
		}
	}
	return nil;
}

void JB_Msg_Export(Message* Self, FastString* Fs) {
	FP_fpMsgRender Fn = (JB_Syx_ExportAddr(Self->Func));
	(Fn)(Self, Fs);
}

FatASM* SC_Msg_FABS(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FABS, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FADD(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4, int D) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FADD, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	(SC_FAT_NumInputSet(Rz, 4, D));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FADK(Message* Self, ASMReg R1, ASMReg R2, int High) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FADK, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, High));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

Message* SC_Msg_FailOrCopy(Message* Self, Message* P) {
	Syntax F = Self->Func;
	if (F == kJB_SyxThg) {
		return JB_Msg_Copy(Self, nil);
	}
	Message* Ch = ((Message*)JB_Ring_First(Self));
	if (Ch) {
		if (JB_Msg_EqualsSyx(Ch, kJB_SyxThg)) {
			if ((SC_Msg_OperatorIsBRel(Self, JB_LUB[32])) or (F == kJB_SyxAcc)) {
				return JB_Msg_Copy(Self, nil);
			}
		}
	}
	if (true) {
		JB_Msg_Fail(P, JB_LUB[998]);
	}
	return nil;
}

Message* SC_Msg_FalsifyNil(Message* Self) {
	SCDecl* Ret = SC_Func__CurrFunc()->ReturnType;
	if (Ret and SC_Decl_IsNormal(Ret)) {
		return SC_Class_Falsify(Ret->Type, Self);
	}
	Self->Func = kJB_SyxThg;
	JB_SetRef(Self->Obj, SC_TypeNil);
	return nil;
}

SCDecl* SC_Msg_FastDecl(Message* Self) {
	JB_Object* Obj = Self->Obj;
	if (JB_Object_FastIsa(Obj, &SCDeclData)) {
		JB_Object* L = ((SCDecl*)Obj)->IsLookupOnly;
		if (!L) {
			return ((SCDecl*)Obj);
		}
		if (JB_Object_FastIsa(L, &SCDeclData)) {
			return ((SCDecl*)L);
		}
		return ((SCDecl*)Obj);
	}
	if (JB_Object_FastIsa(Obj, &SCModuleData)) {
		if (true) {
			JB_Msg_Fail(Self, JB_Str_OperatorPlus(JB_LUB[1865], ((SCModule*)Obj)->Name));
		}
	}
	 else {
		if (true) {
			JB_Msg_Fail(Self, JB_Str_OperatorPlus(JB_LUB[1866], JB_Msg_Locate(Self)));
		}
	}
	return SC_Comp__GetTypeVoid();
}

SCDecl* SC_Msg_FastDeclSafe(Message* Self) {
	JB_Object* D = Self->Obj;
	if (JB_Object_FastIsa(D, &SCDeclData)) {
		JB_Object* L = ((SCDecl*)D)->IsLookupOnly;
		if (!JB_Object_Isa(L, &SCDeclData)) {
			return ((SCDecl*)D);
		}
		return ((SCDecl*)L);
	}
	return nil;
}

FatASM* SC_Msg_FCLM(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4, int D) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FCLM, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	(SC_FAT_NumInputSet(Rz, 4, D));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FCOS(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FCOS, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FDIV(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4, int D) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FDIV, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	(SC_FAT_NumInputSet(Rz, 4, D));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FEET(Message* Self, ASMReg R1, ASMReg R2, int K) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FEET, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, K));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FEXP(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FEXP, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FFLR(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FFLR, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FFRC(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FFRC, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

SCFile* SC_Msg_File(Message* Self) {
	{
		Message* S = Self;
		while (S) {
			JB_Object* R = JB_ObjLayer(S)->Obj;
			if (JB_Object_FastIsa(R, &SCFileData)) {
				return ((SCFile*)R);
			}
			if (JB_Msg_EqualsSyx(S, kJB_SyxArg)) {
				return nil;
			}
			S = ((Message*)JB_Ring_Parent(S));
		};
		;
	}
	;
	return nil;
}

void JB_Msg_File__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, Self->Name);
	(++Self->Indent);
	{
		Message* Ch = ((Message*)JB_Ring_First(Self));
		while (Ch) {
			JB_FS_LineIndent(Fs);
			JB_FS_SyntaxAppend(Fs, Ch);
			Ch = (((Message*)JB_Ring_NextSib(Ch)));
		};
		;
	}
	;
	(--Self->Indent);
}

Message* SC_Msg_FileMark(Message* Self) {
	Message* Rz = nil;
	SCFile* Path = SC_Msg_File(Self);
	if (Path) {
		Rz = JB_Msg_Msg(Self, kJB_SyxTmp, JB_LUB[600]);
		JB_Msg_AppendString(Rz, Path);
	}
	return Rz;
}

Message* JB_Msg_FindSyx(Message* Self, Syntax S) {
	//cpp_part;
	{
		Message* Ch = ((Message*)JB_Ring_First(Self));
		while (Ch) {
			if (JB_Msg_EqualsSyx(Ch, S)) {
				return Ch;
			}
			Ch = (((Message*)JB_Ring_NextSib(Ch)));
		};
		;
	}
	;
	return nil;
}

Message* JB_Msg_FindSyxName(Message* Self, Syntax S, JB_String* Name, bool Err) {
	//cpp_part;
	{
		Message* Ch = ((Message*)JB_Ring_First(Self));
		while (Ch) {
			if (((!S) or (JB_Msg_EqualsSyx(Ch, S))) and (JB_Msg_SyntaxEquals(Ch, Name, true))) {
				return Ch;
			}
			Ch = (((Message*)JB_Ring_NextSib(Ch)));
		};
		;
	}
	;
	if (Err) {
		JB_Msg_CantFind(Self, S, Name, nil);
	}
	return nil;
}

Message* SC_Msg_FindName(Message* Self, JB_String* Name) {
	//cpp_part;
	{
		Message* Ch = ((Message*)JB_Ring_First(Self));
		while (Ch) {
			if (JB_Msg_SyntaxEquals(Ch, Name, true)) {
				return Ch;
			}
			Ch = (((Message*)JB_Ring_NextSib(Ch)));
		};
		;
	}
	;
	return nil;
}

Message* SC_Msg_find(Message* Self, Syntax P, Syntax Ch, JB_String* Name) {
	{
		Message* S = ((Message*)JB_Ring_First(Self));
		while (S) {
			Message* _Nf1 = (((Message*)JB_Ring_NextSib(S)));
			if (S->Func == P) {
				Message* F = ((Message*)JB_Ring_First(S));
				if (F) {
					if ((F->Func == Ch) and (JB_Str_Equals(F->Name, Name, true))) {
						return F;
					}
				}
			}
			S = _Nf1;
		};
		;
	}
	;
	return nil;
}

Array* SC_Msg_FindAll(Message* Self, Syntax Fn, JB_String* Name) {
	Array* Rz = ((Array*)JB_Array_Constructor0(nil));
	{
		Message* S = ((Message*)JB_Ring_First(Self));
		while (S) {
			if ((S->Func == Fn) and (JB_Str_Equals(S->Name, Name, false))) {
				JB_Array_SyntaxAppend(Rz, S);
			}
			S = (((Message*)JB_Ring_NextSib(S)));
		};
		;
	}
	;
	return Rz;
}

JB_String* SC_Msg_FindAndRemove(Message* Self, JB_String* Name, bool NothingOK, bool IsClass) {
	Message* _tmPf0 = SC_Msg_FindAndRemoveSub(Self, Name, NothingOK, IsClass);
	JB_Incr(_tmPf0);
	if (!_tmPf0) {
		JB_EarlyDecr(_tmPf0);
		return JB_LUB[0];
	}
	JB_String* _tmPf1 = _tmPf0->Name;
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

Message* SC_Msg_FindAndRemove2(Message* Self, Message* Place, bool NothingOK, bool IsClass) {
	Place->Func = kJB_SyxSheb;
	(SC_Msg_ASMTypeSet(Place, kSC__ASMType_kIgnore));
	Message* Ch = ((Message*)JB_Ring_First(Place));
	if (NothingOK and (!Ch)) {
		JB_SetRef(Place->Name, JB_LUB[0]);
		return Place;
	}
	if ((JB_Msg_EqualsSyx(Ch, kJB_SyxThg)) or ((JB_Msg_EqualsSyx(Ch, kJB_SyxBra)) or (JB_Msg_EqualsSyx(Ch, kJB_SyxList)))) {
		if (IsClass) {
			if (!SC_Msg_OperatorIsTmp(((Message*)JB_Ring_Parent(Self)), JB_LUB[451])) {
				JB_Msg_Fail(Ch, JB_LUB[999]);
				return nil;
			}
		}
		return Ch;
	}
	return nil;
}

Message* SC_Msg_FindAndRemoveSub(Message* Self, JB_String* Name, bool NothingOK, bool IsClass) {
	Message* Place = JB_Msg_FindSyxName(Self, kJB_SyxTmp, Name, false);
	JB_Incr(Place);
	if (Place) {
		Message* _tmPf0 = SC_Msg_FindAndRemove2(Self, Place, NothingOK, IsClass);
		JB_Incr(_tmPf0);
		JB_EarlyDecr(Place);
		JB_SafeDecr(_tmPf0);
		return _tmPf0;
	}
	JB_EarlyDecr(Place);
	return nil;
}

Message* SC_Msg_FindDestructor(Message* Self) {
	{
		Message* C = ((Message*)JB_Ring_First(Self));
		while (C) {
			Message* _Nf1 = (((Message*)JB_Ring_NextSib(C)));
			if (JB_Msg_EqualsSyx(C, kJB_SyxFunc)) {
				Message* Cl = ((Message*)JB_Ring_Last(C));
				if (Cl) {
					if (SC_Func_SyntaxIs(SC_Msg_AsFunc(Cl), kSC__FunctionType_Destructor)) {
						return C;
					}
				}
			}
			C = _Nf1;
		};
		;
	}
	;
	return nil;
}

Message* JB_Msg_FindNested(Message* Self, Syntax Fn, JB_String* Name, bool Err) {
	{
		Message* Curr = Self;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Self));
		while ((Curr) and (Curr != _afterf1)) {
			Message* _N_f2 = (((Message*)JB_Ring_FlatNext0(Curr)));
			if ((JB_Msg_EqualsSyx(Curr, Fn)) or (Fn == nil)) {
				if ((Name == nil) or (JB_Msg_SyntaxEquals(Curr, Name, true))) {
					return Curr;
				}
			}
			Curr = _N_f2;
		};
		;
	}
	;
	if (Err) {
		JB_Msg_CantFind(Self, Fn, Name, nil);
	}
	return nil;
}

Message* JB_Msg_FindNotInserted(Message* Self) {
	{
		Message* C = Self;
		while (C) {
			if (C->Position > -1) {
				return C;
			}
			C = ((Message*)JB_Ring_Parent(C));
		};
		;
	}
	;
	return Self;
}

Message* SC_Msg_FindPos(Message* Self, int Fr, int Len) {
	Message* _tmP0 = SC_Msg_FindPosSub(Self, Fr, Len, true);
	if (!_tmP0) {
		_tmP0 = SC_Msg_FindPosSub(Self, Fr, Len, false);
	}
	return _tmP0;
}

Message* SC_Msg_FindPosSub(Message* Self, int Fr, int Len, bool Exact) {
	Message* Rz = nil;
	int Strength = 1;
	{
		Message* Ch = Self;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Self));
		while ((Ch) and (Ch != _afterf1)) {
			Message* _N_f2 = (((Message*)JB_Ring_FlatNext0(Ch)));
			if (Ch->Position == Fr) {
				int CurrStrength = (Ch->RangeLength == Len) + (!Exact);
				if (CurrStrength >= Strength) {
					if (!JB_Msg_SyntaxIs(Ch, kJB__MsgParseFlags_Inserted)) {
						return SC_Msg_UnBra(Ch);
					}
					Strength = CurrStrength;
					Rz = Ch;
				}
			}
			Ch = _N_f2;
		};
		;
	}
	;
	return Rz;
}

Message* SC_Msg_FindRef(Message* Self, SCFunction* Fn, JB_String* Name) {
	{
		Message* Curr = Self;
		while (Curr) {
			if ((JB_Msg_EqualsSyx(Curr, kJB_SyxFunc))) {
				Message* Prms = ((Message*)JB_Ring_Last(Curr));
				if ((Prms) and ((Prms->Obj == Fn) and (SC_Msg_OperatorIsThing(((Message*)JB_Ring_First(Prms)), Name)))) {
					return Curr;
				}
			}
			Curr = ((Message*)JB_Ring_NextSib(Curr));
		};
		;
	}
	;
	return nil;
}

Message* SC_Msg_FindShader(Message* Self, JB_String* TypeName) {
	Message* U = JB_Msg_FindSyxName(Self, kJB_SyxTmp, JB_LUB[706], false);
	JB_Incr(U);
	if (!U) {
		JB_EarlyDecr(U);
		return nil;
	}
	Message* _tmPf0 = ((Message*)JB_Ring_First(U));
	JB_Incr(_tmPf0);
	Message* C = SC_Msg_ModelType(_tmPf0);
	JB_Incr(C);
	JB_Decr(_tmPf0);
	if (!C) {
		JB_EarlyDecr(C);
		JB_EarlyDecr(U);
		return nil;
	}
	JB_String* N = JB_Str_LowerCase(C->Name);
	JB_Incr(N);
	if (JB_Str_Last(N, 0) == 's') {
		JB_SetRef(N, JB_Str_Range(N, 0, JB_Str_Length(N) - 1, false));
	}
	JB_String* F = ((JB_StringC*)JB_Dict_Value0(SC__SCGame3D_Types, N));
	JB_Incr(F);
	JB_Decr(N);
	if ((!JB_Str_Exists(F))) {
		JB_Msg_Fail(U, JB_LUB[1153]);
		JB_EarlyDecr(F);
		JB_EarlyDecr(C);
		JB_EarlyDecr(U);
		return nil;
	}
	JB_String* _tmPf1 = JB_Str_OperatorPlus(TypeName, JB_LUB[1154]);
	JB_Incr(_tmPf1);
	if (!SC_SCGame3D__NeedShader(_tmPf1)) {
		JB_EarlyDecr(_tmPf1);
		JB_EarlyDecr(F);
		JB_EarlyDecr(C);
		JB_EarlyDecr(U);
		return nil;
	}
	JB_Decr(_tmPf1);
	if (JB_Str_Length(F) >= 2) {
		JB_SetRef(F, JB_Str_Range(F, 0, 1, false));
	}
	 else {
		JB_String* _tmPf2 = JB_Str_OperatorPlus(TypeName, JB_LUB[1155]);
		JB_Incr(_tmPf2);
		if (!SC_SCGame3D__NeedShader(_tmPf2)) {
			JB_EarlyDecr(_tmPf2);
			JB_EarlyDecr(F);
			JB_EarlyDecr(C);
			JB_EarlyDecr(U);
			return nil;
		}
		JB_Decr(_tmPf2);
	}
	JB_SetRef(C->Name, F);
	JB_Decr(F);
	JB_SetRef(C, ((Message*)JB_Tree_Get(U, 0)));
	JB_Tree_Remove(U);
	JB_Decr(U);
	JB_SafeDecr(C);
	return C;
}

Message* JB_Msg_FindTightest(Message* Self, int Pos, bool Named, bool SamePosition) {
	Message* Rz = nil;
	int Size = kJB__int_Max;
	{
		Message* Ch = Self;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Self));
		while ((Ch) and (Ch != _afterf1)) {
			Message* _N_f2 = (((Message*)JB_Ring_FlatNext0(Ch)));
			uint R = Ch->RangeLength;
			if (!R) {
				0;
			}
			 else if ((JB_Msg_ContainsInd(Ch, Pos, true)) and ((!Named) or (JB_Str_Exists(Ch->Name) or ((JB_Msg_EqualsSyx(Ch, kJB_SyxDot)) or (JB_Msg_EqualsSyx(Ch, kJB_SyxSDot)))))) {
				if (SamePosition and (Ch->Position != Pos)) {
					0;
				}
				 else if ((R < Size) or ((Rz != nil) and ((Pos == Rz->Position) and (Pos == JB_Msg_After(Ch))))) {
					Rz = Ch;
					Size = R;
				}
			}
			Ch = _N_f2;
		};
		;
	}
	;
	return Rz;
}

JB_String* JB_Msg_FirstName(Message* Self) {
	Message* F = ((Message*)JB_Ring_First(Self));
	if (F) {
		return F->Name;
	}
	return JB_LUB[0];
}

JB_Object* SC_Msg_FirstPrmObj(Message* Self) {
	Message* P = ((Message*)JB_Ring_First(((Message*)JB_Ring_Last(Self))));
	if (P) {
		return P->Obj;
	}
	return nil;
}

void SC_Msg_FixElseif(Message* Self) {
	Message* Curr = ((Message*)JB_Ring_NextSib(Self));
	Message* F = ((Message*)JB_Ring_First(Self));
	bool NeedArg = F and ((!JB_Msg_EqualsSyx(((Message*)JB_Ring_NextSib(F)), kJB_SyxArg)));
	while (SC_Msg_OperatorIsTmp(Curr, JB_LUB[578]) or SC_Msg_OperatorIsTmp(Curr, JB_LUB[577])) {
		if (SC_Msg_ElseIfIndentBad(Curr)) {
			JB_String* S = JB_LUB[1000];
			if (Curr->Indent & 1) {
				S = JB_LUB[1001];
			}
			(JB_Msg_SyntaxProblem(Curr, S));
		}
		Message* N = ((Message*)JB_Ring_NextSib(Curr));
		if (NeedArg) {
			if (true) {
				MessagePosition _usingf0 = ((MessagePosition){});
				JB_Msg_SyntaxUsing(Self, (&_usingf0));
				JB_Msg_AppendSyx(Self, kJB_SyxArg, JB_LUB[0]);
				NeedArg = false;
				JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
				JB_MsgPos_Destructor((&_usingf0));
			}
		}
		JB_Tree_SyntaxAppend(Self, Curr);
		Curr = N;
	};
	Message* Inner = ((Message*)JB_Tree_Get(Self, 2));
	while (Inner) {
		if (Inner->Indent & 1) {
			(JB_Msg_SyntaxProblem(Inner, JB_LUB[898]));
		}
		Inner = ((Message*)JB_Ring_NextSib(Inner));
	};
}

void SC_Msg_FixErl(Message* Self) {
	Message* Ch = ((Message*)JB_Ring_First(Self));
	JB_Incr(Ch);
	Message* Opp = ((Message*)JB_Ring_NextSib(Ch));
	JB_Incr(Opp);
	Message* Last = ((Message*)JB_Ring_NextSib(Opp));
	JB_Incr(Last);
	JB_String* Name = Opp->Name;
	JB_Incr(Name);
	if (((JB_Str_Equals(Name, JB_LUB[2062], false))) and ((!({
		Message* _tmPf3 = SC_Msg_NiceParent(Self);
		JB_Incr(_tmPf3);
		bool _tmPf2 = JB_Msg_EqualsSyx(_tmPf3, kJB_SyxArg);
		JB_EarlyDecr(_tmPf3);
		 _tmPf2;
	})))) {
		Array* _tmPf1 = (JB_Array_Constructor0(nil));
		JB_Incr(_tmPf1);
		JB_Array_SyntaxAppend(_tmPf1, Ch);
		Message* _tmPf4 = ((Message*)JB_Ring_Last(Self));
		JB_Incr(_tmPf4);
		JB_Array_SyntaxAppend(_tmPf1, _tmPf4);
		JB_Decr(_tmPf4);
		JB_Msg_BecomeMacro(Self, SC__Macros_InitExpand, _tmPf1);
		JB_Decr(_tmPf1);
	}
	 else {
		//using;
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Opp, (&_usingf0));
		Self->Func = kJB_SyxRel;
		JB_SetRef(Opp->Name, JB_LUB[455]);
		JB_SetRef(Ch, JB_Msg_Copy(Ch, nil));
		if (JB_Str_Equals(Name, JB_LUB[2062], false)) {
			Message* New_if = JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[397]);
			JB_Incr(New_if);
			Message* _tmPf5 = SC_Msg_WrapWith(Ch, kJB_SyxBRel, JB_LUB[96]);
			JB_Incr(_tmPf5);
			JB_Tree_SyntaxAppend(New_if, _tmPf5);
			JB_Decr(_tmPf5);
			(JB_Ring_PrevSibSet(Self, New_if));
			Message* _tmPf6 = JB_Msg_Msg(New_if, kJB_SyxArg, JB_LUB[0]);
			JB_Incr(_tmPf6);
			JB_Decr(New_if);
			JB_Tree_SyntaxAppend(_tmPf6, Self);
			JB_Decr(_tmPf6);
		}
		 else {
			if (JB_Msg_EqualsSyx(Last, kJB_SyxRel)) {
				JB_SetRef(Last, SC_Msg_WrapWith(Last, kJB_SyxBra, JB_LUB[0]));
			}
			Message* Rel = JB_Syx_Msg(kJB_SyxRel, JB_LUB[0]);
			JB_Incr(Rel);
			(JB_Ring_NextSibSet(Opp, Rel));
			JB_Tree_SyntaxAppend(Rel, Ch);
			JB_FreeIfDead(JB_Msg_Msg(Rel, kJB_SyxOpp, Name));
			JB_Tree_SyntaxAppend(Rel, Last);
			JB_Decr(Rel);
		}
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Opp);
		JB_MsgPos_Destructor((&_usingf0));
	}
	JB_Decr(Ch);
	JB_Decr(Opp);
	JB_Decr(Last);
	JB_Decr(Name);
}

void SC_Msg_FixMultiArr(Message* Self) {
	{
		Message* Item = ((Message*)JB_Ring_First(Self));
		while (Item) {
			Message* _Nf1 = (((Message*)JB_Ring_NextSib(Item)));
			Message* Kkey = ((Message*)JB_Ring_First(Item));
			if (JB_Msg_EqualsSyx(Kkey, kJB_SyxList)) {
				Message* Val = ((Message*)JB_Ring_NextSib(Kkey));
				if (Val) {
					while (true) {
						Message* C = ((Message*)JB_Ring_First(Kkey));
						if ((!C)) {
							break;
						}
						Message* I2 = JB_Syx_Msg(kJB_SyxItem, JB_LUB[0]);
						JB_Tree_SyntaxAppend(I2, C);
						JB_Tree_SyntaxAppend(I2, JB_Msg_Copy(Val, nil));
						(JB_Ring_PrevSibSet(Item, I2));
					};
				}
				JB_Tree_Remove(Item);
			}
			Item = _Nf1;
		};
		;
	};
}

FatASM* SC_Msg_FLG2(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FLG2, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FLNG(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FLNG, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

Float64 JB_Msg_Float(Message* Self) {
	if (Self) {
		return JB_Str_TextDouble(Self->Name, Self, false);
	}
	return 0.0f;
}

FatASM* SC_Msg_FLOG(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FLOG, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FMAX(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4, int D) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FMAX, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	(SC_FAT_NumInputSet(Rz, 4, D));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FMIN(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4, int D) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FMIN, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	(SC_FAT_NumInputSet(Rz, 4, D));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FMIX(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FMIX, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FMLK(Message* Self, ASMReg R1, ASMReg R2, int High) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FMLK, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, High));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FMOD(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4, int D) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FMOD, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	(SC_FAT_NumInputSet(Rz, 4, D));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FMUL(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4, int D) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FMUL, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	(SC_FAT_NumInputSet(Rz, 4, D));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FNAT(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FNAT, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FNC(Message* Self, ASMReg R1, int JUMP, int Prm1, int Prm2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FNC, Self);
	(SC_FAT_NumInputSet(Rz, 1, JUMP));
	(SC_FAT_NumInputSet(Rz, 2, Prm1));
	(SC_FAT_NumInputSet(Rz, 3, Prm2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FNC3(Message* Self, ASMReg R1, int JUMP, int Prm1, int Prm2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FNC3, Self);
	(SC_FAT_NumInputSet(Rz, 1, JUMP));
	(SC_FAT_NumInputSet(Rz, 2, Prm1));
	(SC_FAT_NumInputSet(Rz, 3, Prm2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FNCX(Message* Self, ASMReg R1, int Table, int Prm1, int Prm2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FNCX, Self);
	(SC_FAT_NumInputSet(Rz, 1, Table));
	(SC_FAT_NumInputSet(Rz, 2, Prm1));
	(SC_FAT_NumInputSet(Rz, 3, Prm2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FNCX3(Message* Self, ASMReg R1, int Table, int Prm1, int Prm2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FNCX3, Self);
	(SC_FAT_NumInputSet(Rz, 1, Table));
	(SC_FAT_NumInputSet(Rz, 2, Prm1));
	(SC_FAT_NumInputSet(Rz, 3, Prm2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FNIS(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FNIS, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

bool SC_Msg_FoundFuncWith0(Message* Self) {
	while (Self) {
		if (Self->Func == kJB_SyxPrm) {
			return true;
		}
		Message* C = ((Message*)JB_Ring_First(Self));
		if (C) {
			bool R = SC_Msg_FoundFuncWith0(C);
			if (R) {
				return R;
			}
		}
		Self = ((Message*)JB_Ring_NextSib(Self));
	};
	return false;
}

bool SC_Msg_FoundFuncWithFunc(Message* Self, SCFunction* F) {
	JB_Object* O = Self->Obj;
	if (O == F) {
		return true;
	}
	if (JB_Object_FastIsa(O, &SCDeclData)) {
		return ((SCDecl*)O)->IsLookupOnly == F;
	}
	return false;
}

FatASM* SC_Msg_FPOW(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FPOW, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FRND(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FRND, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FSGN(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FSGN, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FSIN(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FSIN, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

void JB_Msg_FSListArg(Message* Self, FastString* Fs, bool AddLine) {
	bool Hasp = ((Message*)JB_Ring_Parent(Self)) != nil;
	Fs->Indent = (Fs->Indent + Hasp);
	AddLine = ((bool)(AddLine | Hasp));
	if (JB_Str_Exists(Self->Name)) {
		AddLine = true;
		JB_FS_LineIndent(Fs);
		JB_FS_AppendByte(Fs, '^');
		JB_FS_AppendQuotedEscape(Fs, Self->Name, '"');
	}
	{
		Message* Ch = ((Message*)JB_Ring_First(Self));
		while (Ch) {
			if (AddLine) {
				JB_FS_LineIndent(Fs);
			}
			JB_FS_SyntaxAppend(Fs, Ch);
			AddLine = true;
			Ch = (((Message*)JB_Ring_NextSib(Ch)));
		};
		;
	}
	;
	Fs->Indent = (Fs->Indent - Hasp);
	if (Hasp and (JB_FS_Last(Fs, 0) != '\n')) {
		JB_FS_AppendByte2(Fs, '\n');
	}
}

void JB_Msg_FSListSep(Message* Self, FastString* Fs, JB_String* Sep) {
	{
		Message* Ch = ((Message*)JB_Ring_First(Self));
		Message* _firstf1 = Ch;
		while (Ch) {
			if (_firstf1 != Ch) {
				JB_FS_AppendString(Fs, Sep);
			}
			//start;
			JB_FS_SyntaxAppend(Fs, Ch);
			Ch = (((Message*)JB_Ring_NextSib(Ch)));
		};
		;
	};
}

FatASM* SC_Msg_FSMS(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FSMS, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FSOC(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FSOC, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FSQT(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FSQT, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FTAN(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FTAN, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

Message* SC_Msg_FullAfter(Message* Self) {
	Message* P = ((Message*)JB_Ring_Parent(Self));
	Message* N = ((Message*)JB_Ring_NextSib(P));
	while (N) {
		P = N;
		N = ((Message*)JB_Ring_NextSib(P));
	};
	return ((Message*)JB_Ring_FlatAfter(P));
}

void JB_Msg_Func__(Message* Self, FastString* Fs) {
	Message* Ch = ((Message*)JB_Ring_First(Self));
	if (!Ch) {
		return;
	}
	JB_FS_SyntaxAppend(Fs, Ch);
	JB_FS_SyntaxAppend(Fs, ((Message*)JB_Ring_NextSib(Ch)));
}

JB_String* JB_Msg_FuncName(Message* Self) {
	JB_String* _tmPf0 = JB_Syx_LongName(Self->Func);
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = JB_Str_LowerCase(_tmPf0);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

JB_String* SC_Msg_FuncPos(Message* Self, SCFunction* Fn, int& Pos) {
	JB_String* Rz = JB_LUB[0];
	Rz = JB_Msg_OriginalFilePath(Self);
	{
		Message* Ss = Self;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Self));
		while ((Ss) and (Ss != _afterf1)) {
			Message* _N_f2 = (((Message*)JB_Ring_FlatNext0(Ss)));
			if (SC_Msg_FoundFuncWithFunc(Ss, Fn)) {
				if (!JB_Str_Exists(Rz)) {
					Rz = JB_Msg_OriginalFilePath(Ss);
				}
				Self = Ss;
				break;
			}
			Ss = _N_f2;
		};
		;
	}
	;
	if (JB_Str_Exists(Rz)) {
		Pos = Self->Position;
	}
	return Rz;
}

void SC_Msg_FuncWrap(Message* Self, Message* Fnc) {
	(JB_Ring_PrevSibSet(Self, Fnc));
	JB_Tree_SyntaxAppend(((Message*)JB_Ring_Last(Fnc)), Self);
}

FatASM* SC_Msg_FXNF(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FXNF, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FXNN(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FXNN, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_FXP2(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_FXP2, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

Message* SC_Msg_GetAddrButNicer(Message* Self) {
	Message* Rz = nil;
	if (Self->Func == kJB_SyxAcc) {
		Message* L = ((Message*)JB_Ring_Last(Self));
		Message* Num = ((Message*)JB_Ring_First(L));
		if ((JB_Msg_EqualsSyx(Num, kJB_SyxNum)) and (JB_Msg_SyntaxEquals(Num, JB_LUB[478], false))) {
			Self->Func = kJB_SyxBra;
			JB_Tree_Remove(L);
			return Self;
		}
	}
	Rz = JB_Syx_OperatorPlus(kJB_SyxBRel, JB_LUB[32]);
	(JB_Ring_NextSibSet(Self, Rz));
	JB_Tree_SyntaxAppend(Rz, Self);
	return Rz;
}

int SC_Msg_GetAddressOf(Message* Self, SCDecl* Type, bool WasCArray) {
	if (!Self) {
		return kJB_kNeedsAddressOf;
	}
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Self, (&_usingf0));
	Message* Addr = JB_Syx_OperatorPlus(kJB_SyxBRel, JB_LUB[32]);
	JB_Incr(Addr);
	JB_SetRef(Addr->Obj, Type);
	JB_FreeIfDead(SC_Msg_ReplaceWith(Self, Addr));
	if (WasCArray) {
		Message* Acc = JB_Msg_Msg(Addr, kJB_SyxAcc, JB_LUB[0]);
		JB_Incr(Acc);
		JB_Tree_SyntaxAppend(Acc, Self);
		Message* _tmPf1 = JB_Msg_Msg(Acc, kJB_SyxArr, JB_LUB[0]);
		JB_Incr(_tmPf1);
		JB_Decr(Acc);
		JB_Msg_AppendSyx(_tmPf1, kJB_SyxNum, JB_LUB[478]);
		JB_Decr(_tmPf1);
	}
	 else {
		JB_Tree_SyntaxAppend(Addr, Self);
	}
	JB_Decr(Addr);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
	JB_MsgPos_Destructor((&_usingf0));
	return kJB_kAddressOfMatch;
}

Message* SC_Msg_GetDclName(Message* Self, bool IsConstructor) {
	Message* Rz = nil;
	if (IsConstructor) {
		if ((!JB_Tree_SyntaxEquals(Self, 2))) {
			JB_Msg_Fail(Self, JB_LUB[1156]);
			return nil;
		}
	}
	Rz = JB_Msg_NeedSyxInt(Self, kJB_SyxNil, 1);
	if (JB_Msg_EqualsSyx(Rz, kJB_SyxRel)) {
		Rz = JB_Msg_NeedSyx(Rz, kJB_SyxThg);
	}
	if (!Rz) {
		if (true) {
			JB_Msg_Fail(Self, JB_LUB[1157]);
		}
	}
	return Rz;
}

SCFunction* SC_Msg_GetFunctionPointer(Message* Self) {
	SCDecl* D = ((SCDecl*)JB_Object_FastAs(Self->Obj, &SCDeclData));
	if (!D) {
		return nil;
	}
	if (SC_Decl_IsNormal(D)) {
		SCClass* T = D->Type;
		return T->FuncProto;
	}
	return nil;
}

Message* SC_Msg_GetMarker(Message* Self, JB_String* S) {
	{
		Message* A = ((Message*)JB_Ring_First(Self));
		while (A) {
			Message* _Nf1 = (((Message*)JB_Ring_NextSib(A)));
			if (SC_Msg_OperatorIsTmp(A, S)) {
				return A;
			}
			A = _Nf1;
		};
		;
	}
	;
	return nil;
}

Message* SC_Msg_GetTypeLimiter(Message* Self) {
	if (!Self) {
		return nil;
	}
	Message* Rel = ((Message*)JB_Ring_Parent(Self));
	if (((JB_Msg_EqualsSyx(Rel, kJB_SyxRel))) and (JB_Tree_IsLast(Self) and (!(JB_Msg_OperatorIn(Rel, kJB_SyxDecl))))) {
		return Rel;
	}
	return nil;
}

Message* JB_Msg_GiveArg(Message* Self) {
	Message* R = ((Message*)JB_Ring_Last(Self));
	if (JB_Msg_EqualsSyx(R, kJB_SyxArg)) {
		return R;
	}
	return JB_Msg_Msg(Self, kJB_SyxArg, JB_LUB[0]);
}

FatASM* SC_Msg_GOBJ(Message* Self, ASMReg R1, int Mode, int Ref, int Add) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_GOBJ, Self);
	(SC_FAT_NumInputSet(Rz, 1, Mode));
	(SC_FAT_NumInputSet(Rz, 2, Ref));
	(SC_FAT_NumInputSet(Rz, 3, Add));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

Message* JB_Msg_GoIntoInvisArg(Message* Self, Message* Tmp, int Pos) {
	int I = JB_int_OperatorAlign(((int)Self->Indent), 4);
	Syntax F = Tmp->Func;
	if (!((F == kJB_SyxTmp) or ((F == kJB_SyxItem) or (F == kJB_SyxDecl)))) {
		return JB_Tk__ErrorAdd(JB_LUB[1054], Tmp->Position);
	}
	Message* It = JB_Tk__MakeInvisArg(Tmp);
	if (It) {
		It->Indent = I;
		(JB_Msg_RangeSet(It, ((IntRange)ivec2{Pos, Pos})));
		JB_Tree_SyntaxAppend(It, Self);
		return It;
	}
	return nil;
}

FatASM* SC_Msg_GRAB(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_GRAB, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_GTAB(Message* Self, ASMReg R1, int Mode, int Add) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_GTAB, Self);
	(SC_FAT_NumInputSet(Rz, 1, Mode));
	(SC_FAT_NumInputSet(Rz, 2, Add));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_HALT(Message* Self, int Reserved) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_HALT, Self);
	(SC_FAT_NumInputSet(Rz, 0, Reserved));
	return Rz;
}

bool SC_Msg_HasActualCode(Message* Self) {
	{
		Message* Curr = Self;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Self));
		while ((Curr) and (Curr != _afterf1)) {
			Message* _N_f2 = (((Message*)JB_Ring_FlatNext0(Curr)));
			if ((JB_Msg_EqualsSyx(Curr, kJB_SyxDecl)) or (JB_Msg_EqualsSyx(Curr, kJB_SyxSheb))) {
				Curr = ((Message*)JB_Ring_FlatAfter(Curr));
				continue;
			}
			 else if ((!JB_Msg_EqualsSyx(Curr, kJB_SyxArg))) {
				return true;
			}
			Curr = _N_f2;
		};
		;
	}
	;
	return false;
}

bool SC_Msg_HasAsmStuff(Message* Self) {
	{
		Message* Ch = ((Message*)JB_Ring_First(Self));
		while (Ch) {
			Message* _Nf1 = (((Message*)JB_Ring_NextSib(Ch)));
			Message* Chh = SC_Msg_ASMUnbra(Ch);
			Syntax Fn = Chh->Func;
			if ((Fn != kJB_SyxSheb) and ((Fn != kJB_SyxNum) and (Fn != kJB_SyxChar))) {
				return true;
			}
			Ch = _Nf1;
		};
		;
	}
	;
	return false;
}

Message* SC_Msg_HasOwnBlock(Message* Self) {
	Message* Arg = ((Message*)JB_Ring_Parent(Self));
	if ((!JB_Msg_EqualsSyx(Arg, kJB_SyxRel))) {
		return nil;
	}
	Arg = ((Message*)JB_Ring_Parent(Arg));
	if ((!JB_Msg_EqualsSyx(Arg, kJB_SyxDecl))) {
		return nil;
	}
	Arg = ((Message*)JB_Ring_Parent(Arg));
	if ((!JB_Msg_EqualsSyx(Arg, kJB_SyxArg))) {
		return nil;
	}
	SCArg* Obj = SC_Msg_AsArg(Arg);
	if (Obj and (Obj->TmpMovedOutFor == Self)) {
		return Arg;
	}
	return nil;
}

bool SC_Msg_HasSelfAsFirst(Message* Self) {
	Message* D = ((Message*)JB_Ring_First(Self));
	if (D) {
		Message* Msg = SC_Msg_DeclName(D);
		if (Msg) {
			return (JB_Str_Equals(Msg->Name, JB_LUB[401], true));
		}
	}
	return false;
}

void SC_Msg_HateUnusedFuncs(Message* Self) {
	SCImport* Imp = SC_Imp__FindImport(Self->Name);
	if (Imp) {
		Imp->WarnUnusedFuncs = true;
	}
	 else {
		JB_Msg_Expect(Self, Self->Func, JB_LUB[1158]);
	}
}

FatASM* SC_Msg_ICLM(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4, int Small) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_ICLM, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	(SC_FAT_NumInputSet(Rz, 4, Small));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

SCFunction* SC_Msg_IdentifyFunc(Message* Self) {
	if (JB_Msg_EqualsSyx(Self, kJB_SyxTmp)) {
		if (!((!JB_Msg_SyntaxEquals(Self, JB_LUB[446], false)) and (!JB_Msg_SyntaxEquals(Self, JB_LUB[447], false)))) {
			return nil;
		}
	}
	JB_Object* Obj = Self->Obj;
	if (JB_Object_FastIsa(Obj, &SCFunctionData)) {
		return ((SCFunction*)Obj);
	}
	return nil;
}

Message* SC_Msg_InBuiltContained(Message* Self, SCDecl* Dcl) {
	SCDecl* Cnt = Dcl->Contains;
	if (!Cnt) {
		JB_Msg_Fail(Self, JB_LUB[1002]);
		return nil;
	}
	return JB_Syx_OperatorPlus(kJB_SyxThg, Cnt->Type->Name);
}

Message* SC_Msg_InBuiltSizeOf(Message* Self, SCDecl* Sulf) {
	return SC_NewDeclNumConst(SC_Decl_Constructor(nil, SC_TypeInt), SC_Decl_SizeOfQuery(Sulf), JB_LUB[0], false);
}

Message* SC_Msg_InBuiltTypeOf(Message* Self, SCDecl* Dcl) {
	return JB_Syx_OperatorPlus(kJB_SyxThg, Dcl->Type->Name);
}

bool SC_Msg_InDecl(Message* Self) {
	while (true) {
		Self = ((Message*)JB_Ring_Parent(Self));
		if (!Self) {
			return nil;
		}
		Syntax Fn = Self->Func;
		if (Fn == kJB_SyxDecl) {
			return true;
		}
		if (Fn != kJB_SyxBra) {
			return false;
		}
	};
}

int JB_Msg_IndentScore(Message* Self) {
	uint Ind = Self->Indent;
	if ((JB_Msg_EqualsSyx(Self, kJB_SyxTmp)) or (JB_Msg_EqualsSyx(Self, kJB_SyxItem))) {
		return Ind + 2;
	}
	if (JB_Msg_EqualsSyx(Self, kJB_SyxArg)) {
		return Ind;
	}
	return Ind;
}

bool JB_Msg_InInvisArg(Message* Self) {
	Message* P = ((Message*)JB_Ring_Parent(Self));
	return ((JB_Msg_EqualsSyx(P, kJB_SyxArg))) and (JB_Msg_SyntaxIs(P, kJB__MsgParseFlags_Style2));
}

bool SC_Msg_InitExpand(Message* Self) {
	Message* Rel = ((Message*)JB_Ring_Parent(Self));
	JB_SetRef(Self->Name, JB_LUB[2062]);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Self, (&_usingf0));
	SC_Msg_FixErl(Rel);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
	JB_MsgPos_Destructor((&_usingf0));
	return true;
}

int SC_Msg_InlineCount(Message* Self, int Remain) {
	Syntax Fn = Self->Func;
	if (!((Fn != kJB_SyxThg) and (Fn != kJB_SyxChar))) {
		return 0;
	}
	if (Fn == kJB_SyxNum) {
		return 1 - SC_Msg_IsZero(Self);
	}
	if (Fn == kJB_SyxBra) {
		return SC_Msg_InlineCount(((Message*)JB_Ring_First(Self)), Remain);
	}
	int Count = ((int)((Fn != kJB_SyxList) and ((Fn != kJB_SyxEmb) and ((Fn != kJB_SyxDecl) and (Fn != kJB_SyxArg)))));
	{
		Message* S = ((Message*)JB_Ring_First(Self));
		while (S) {
			Message* _Nf1 = (((Message*)JB_Ring_NextSib(S)));
			int Found = SC_Msg_InlineCount(S, Remain);
			Count = (Count + Found);
			Remain = (Remain - Found);
			if (Remain <= 0) {
				break;
			}
			S = _Nf1;
		};
		;
	}
	;
	return Count;
}

void SC_Msg_InsertBefore(Message* Self, Message* J, Message* Ch) {
	if (JB_Tree_OperatorIn(Ch, Self)) {
		(JB_Ring_PrevSibSet(Ch, J));
	}
	 else {
		(JB_Ring_LastSet(Self, J));
	}
}

void SC_Msg_InsertMainArgs(Message* Self, Message* Prms) {
	JB_String* Usage = JB_Str_OperatorPlus(JB_LUB[2242], JB_Msg_Render(Prms, nil));
	Message* FirstArg = JB_Macro__Build(JB_Str_ParseJbin(((JB_LUB[2243])), 1073741824));
	if (SC_Msg_MainArgsCanBeZero(Prms)) {
		JB_Tree_Remove(((Message*)JB_Ring_Last(JB_Macro_Source(FirstArg))));
	}
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Prms, (&_usingf0));
	Array* _tmPf1 = (JB_Array_Constructor0(nil));
	JB_Array_SyntaxAppend(_tmPf1, JB_Str_Msg(Usage));
	JB_Msg_AppendMacro(Self, FirstArg, _tmPf1);
	int I = 0;
	int Found = 0;
	{
		Message* Ch = ((Message*)JB_Ring_First(Prms));
		while (Ch) {
			Message* _Nf3 = ((Message*)JB_Ring_NextSib(Ch));
			Found = (Found | SC_Msg_MainOneArg(Ch, Self, I++, Found));
			Ch = _Nf3;
		};
		;
	}
	;
	if (!(Found & 1)) {
		JB_FreeIfDead(SC_Macro_clean(SC__Macros_MainArgNoNE));
		Array* _tmPf4 = (JB_Array_Constructor0(nil));
		JB_Array_SyntaxAppend(_tmPf4, JB_int_Msg(I));
		JB_Msg_AppendMacro(Self, SC__Macros_MainArgNoNE, _tmPf4);
	}
	JB_Tree_SyntaxAppend(Self, JB_Str_ParseJbin(((JB_LUB[2244])), 1073741824));
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Prms);
	JB_MsgPos_Destructor((&_usingf0));
}

SCFunction* SC_Msg_InsideFunc(Message* Self) {
	{
		Message* Ch = Self;
		while (Ch) {
			if (JB_Msg_EqualsSyx(Ch, kJB_SyxTmp)) {
				SCFunction* Fn = SC_Msg_AsFunc(Ch);
				if (Fn) {
					return Fn;
				}
			}
			Ch = ((Message*)JB_Ring_Parent(Ch));
		};
		;
	}
	;
	return nil;
}

int64 JB_Msg_IntRange(Message* Self, int StrStart, int64 Low, int64 High) {
	//cpp_part;
	int64 I = JB_Msg_Int(Self, StrStart);
	if ((I >= Low) and (I <= High)) {
		return I;
	}
	if (true) {
		JB_Msg_Fail(Self, JB_LUB[1055]);
	}
	return 0;
}

int64 JB_Msg_Int(Message* Self, int StrStart) {
	if (Self) {
		Message* F = ((Message*)JB_Ring_First(Self));
		if ((!F) or (Self->Func != kJB_SyxUnit)) {
			return JB_Str_TextIntegerSection(Self->Name, StrStart, Self);
		}
		if (JB_Msg_SyntaxEquals(Self, JB_LUB[883], false)) {
			return JB_Str_HexIntegerSection(F->Name, StrStart, F);
		}
		Float64 Value = JB_Str_TextDouble(F->Name, nil, false);
		int64 Mul = JB_Str_SuffixSize(F->Name);
		if (!Mul) {
			JB_Msg_Fail(Self, JB_LUB[884]);
			return 0;
		}
		return ((int64)(Value * ((Float64)Mul)));
	}
	return 0;
}

Message* SC_Msg_IntoVariable(Message* Self, SCNode* Name_space) {
	Message* P = SC_Msg_NiceParent(Self);
	JB_Incr(P);
	Message* Place = SC_Msg_IsInDeclInBlock(P);
	JB_Incr(Place);
	if (Place) {
		Message* _tmPf0 = ((Message*)JB_Ring_First(P));
		JB_Incr(_tmPf0);
		Message* NameMsg = SC_Msg_UseNonRefChangers(_tmPf0, false);
		JB_Incr(NameMsg);
		JB_Decr(_tmPf0);
		if ((JB_Msg_EqualsSyx(NameMsg, kJB_SyxThg))) {
			JB_EarlyDecr(NameMsg);
			Message* _tmPf3 = JB_Msg_Ancestor(Place, kJB_SyxArg);
			JB_Incr(_tmPf3);
			JB_EarlyDecr(Place);
			JB_EarlyDecr(P);
			JB_SafeDecr(_tmPf3);
			return _tmPf3;
		}
		JB_Decr(NameMsg);
	}
	JB_Decr(Place);
	Message* Block = SC_Msg_CreateOwnBlock(Self);
	JB_Incr(Block);
	if (!Block) {
		JB_EarlyDecr(Block);
		JB_EarlyDecr(P);
		return nil;
	}
	JB_String* Name = SC_UniqueTmpVar(Name_space, JB_LUB[2063]);
	JB_Incr(Name);
	Message* _tmPf1 = JB_Syx_Msg(kJB_SyxThg, Name);
	JB_Incr(_tmPf1);
	JB_SetRef(P, SC_NewEqRelWithMsgMsg(_tmPf1, Self));
	JB_Decr(_tmPf1);
	SCArg* Arg = SC_Msg_AsArg(Block);
	JB_Incr(Arg);
	Message* Decl = JB_Msg_Msg(Block, kJB_SyxDecl, JB_LUB[0]);
	JB_Incr(Decl);
	JB_Msg_AppendSyx(Decl, kJB_SyxEmb, JB_LUB[0]);
	JB_Tree_SyntaxAppend(Decl, P);
	SC_Msg_CollectFromBody(Decl, Arg);
	JB_Decr(Decl);
	Message* _tmPf2 = ((Message*)JB_Ring_Parent(Block));
	JB_Incr(_tmPf2);
	JB_SetRef(_tmPf2->Obj, SC_Base_SyntaxAccessWithStr(Arg, Name));
	JB_Decr(Arg);
	JB_Decr(_tmPf2);
	Message* Last = SC_NewRejoin();
	JB_Incr(Last);
	Message* RetVal = JB_Msg_Msg(Last, kJB_SyxThg, Name);
	JB_Incr(RetVal);
	JB_Decr(Name);
	JB_SetRef(RetVal->Obj, P->Obj);
	JB_Decr(P);
	JB_Decr(RetVal);
	JB_Tree_SyntaxAppend(Block, Last);
	JB_EarlyDecr(Last);
	JB_SafeDecr(Block);
	return Block;
}

int SC_Msg_IntSmallness(Message* Self, SCDecl* T) {
	int Rz = 0;
	if (Self and (T and (Self->Func == kJB_SyxNum))) {
		if (JB_Str_ContainsString(Self->Name, JB_LUB[57])) {
			if (SC_Str_IsZero(Self->Name)) {
				return kJB_kTypeCastFromZero;
			}
			return 0;
		}
		int64 I = JB_Msg_Int(Self, 0);
		if ((I <= 16777216) and (I >= -16777216)) {
			Rz = (Rz | kJB_kTypeCastFromSmallInt);
		}
		if (!I) {
			Rz = (Rz | kJB_kTypeCastFromZero);
		}
	}
	return Rz;
}

bool SC_Msg_IsAddr(Message* Self) {
	return (Self) and ((Self->Func == kJB_SyxBRel) and ((JB_Str_Equals(Self->Name, JB_LUB[32], false))));
}

MaybeBool SC_Msg_IsAlwaysBool(Message* Self) {
	SCDecl* D = ((SCDecl*)JB_Object_FastAs(Self->Obj, &SCDeclData));
	if (D) {
		if (SC_Decl_IsConstOf(D, SC_FalseBool)) {
			return ((MaybeBool)false);
		}
		if (SC_Decl_IsConstOf(D, SC_TrueBool)) {
			return ((MaybeBool)true);
		}
	}
	return ((MaybeBool)8);
}

bool SC_Msg_IsAlwaysFalse(Message* Self) {
	return JB_MaybeBool_KnownFalse(SC_Msg_IsAlwaysBool(Self));
}

bool SC_Msg_IsAssignable(Message* Self) {
	Syntax F = Self->Func;
	return (F != kJB_SyxFunc) and ((F != kJB_SyxType) and (F != kJB_SyxNum));
}

bool SC_Msg_IsBehaviour(Message* Self) {
	return (JB_Str_Equals(Self->Name, JB_LUB[97], false)) or (JB_Str_Equals(Self->Name, JB_LUB[98], false));
}

bool SC_Msg_IsCake(Message* Self) {
	if (JB_Msg_EqualsSyx(Self, kJB_SyxArg)) {
		Self = ((Message*)JB_Ring_First(Self));
	}
	if (!JB_Msg_EqualsSyx(Self, kJB_SyxTmp)) {
		return nil;
	}
	if (!SC_Msg_IsInt(((Message*)JB_Ring_First(Self)))) {
		return nil;
	}
	Message* S = ((Message*)JB_Tree_Second(Self));
	if (JB_Msg_EqualsSyx(S, kJB_SyxArg)) {
		if (!SC_Msg_OperatorIsTmp(((Message*)JB_Ring_First(S)), JB_LUB[591])) {
			return nil;
		}
		return true;
	}
	return false;
}

bool SC_Msg_IsClassType(Message* Self) {
	return (JB_Msg_SyntaxEquals(Self, JB_LUB[446], true)) or ((JB_Msg_SyntaxEquals(Self, JB_LUB[448], true)) or ((JB_Msg_SyntaxEquals(Self, JB_LUB[449], true)) or (JB_Msg_SyntaxEquals(Self, JB_LUB[450], true))));
}

bool SC_Msg_IsFirstOfSetRel(Message* Self) {
	return JB_Tree_IsFirst(Self) and SC_Msg_IsSetRel(((Message*)JB_Ring_Parent(Self)));
}

bool SC_Msg_IsFuncDot(Message* Self) {
	Message* L = ((Message*)JB_Ring_Last(Self));
	return L and (L->Func == kJB_SyxPrm);
}

Message* SC_Msg_IsInDeclInBlock(Message* Self) {
	if ((JB_Msg_EqualsSyx(Self, kJB_SyxRel))) {
		Message* P = SC_Msg_NiceParent(Self);
		if (((JB_Msg_EqualsSyx(P, kJB_SyxDecl))) and (JB_Msg_OperatorIn(P, kJB_SyxArg))) {
			return P;
		}
	}
	return nil;
}

bool SC_Msg_IsInt(Message* Self) {
	return ((JB_Msg_EqualsSyx(Self, kJB_SyxNum))) and (!JB_Ind_SyntaxCast(JB_Str_FindByte(Self->Name, '.', 0, kJB__int_Max)));
}

bool SC_Msg_IsLinkageType(Message* Self) {
	return (JB_Msg_SyntaxEquals(Self, JB_LUB[451], true));
}

bool SC_Msg_IsModuleType(Message* Self) {
	return (JB_Msg_SyntaxEquals(Self, JB_LUB[447], true)) or (JB_Msg_SyntaxEquals(Self, JB_LUB[452], true));
}

bool SC_Msg_IsNilOrZero(Message* Self) {
	Syntax F = Self->Func;
	JB_String* N = Self->Name;
	if (F == kJB_SyxThg) {
		if ((Self->Obj == SC_TypeNil) or (Self->Obj == SC_FalseBool)) {
			return true;
		}
		if ((JB_Str_Equals(N, JB_LUB[100], false)) or (JB_Str_Equals(N, JB_LUB[7], false))) {
		}
	}
	if (F == kJB_SyxNum) {
		return SC_Msg_IsZero(Self);
	}
	if (F == kJB_SyxArg) {
		return (!JB_Ring_HasChildren(Self));
	}
	return false;
}

int SC_Msg_IsNowNil(Message* Self) {
	SCDecl* D = ((SCDecl*)Self->Obj);
	if (D) {
		if (D == SC_TypeNil) {
			return 1;
		}
		if (SC_Decl_NilCurr(D) == kSC__NilState_Nilish) {
			return 2;
		}
	}
	return 0;
}

SCFunction* SC_Msg_IsParentConCall(Message* Self) {
	if ((!JB_Msg_EqualsSyx(Self, kJB_SyxFunc))) {
		return nil;
	}
	SCFunction* F = SC_Msg_MsgFunc(Self);
	if (F and SC_Func_SyntaxIs(F, kSC__FunctionType_ConOrDes)) {
		return F;
	}
	return nil;
}

bool SC_Msg_IsProperty(Message* Self) {
	return SC_DotUseType_SyntaxIs(SC_Msg_DotType(Self), kSC__DotUseType_Property);
}

bool SC_Msg_IsReffer(Message* Self) {
	if (JB_Msg_EqualsSyx(Self, kJB_SyxFunc)) {
		Message* L = ((Message*)JB_Ring_Last(Self));
		if (L) {
			SCFunction* Fn = SC_Msg_AsFunc(L);
			if (Fn) {
				return SC_Func_SyntaxIs(Fn, kSC__FunctionType_Reffer);
			}
		}
	}
	return false;
}

bool SC_Msg_IsReturnOrRejoin(Message* Self) {
	return ((JB_Msg_EqualsSyx(Self, kJB_SyxTmp))) and ((JB_Msg_SyntaxEquals(Self, JB_LUB[453], false)) or (JB_Msg_SyntaxEquals(Self, JB_LUB[454], false)));
}

Message* SC_Msg_IsSetIntoPlace(Message* Self) {
	Message* P = SC_Msg_NiceParent(Self);
	if (SC_Msg_IsSetRel(P)) {
		return ((Message*)JB_Ring_First(P));
	}
	return nil;
}

Message* SC_Msg_IsSetIntoVar(Message* Self) {
	Message* Thg = SC_Msg_IsSetIntoPlace(Self);
	if ((JB_Msg_EqualsSyx(Thg, kJB_SyxThg))) {
		return Thg;
	}
	return nil;
}

bool SC_Msg_IsSetRel(Message* Self) {
	if ((!JB_Msg_EqualsSyx(Self, kJB_SyxRel))) {
		return nil;
	}
	Message* S = ((Message*)JB_Tree_Second(Self));
	if (S) {
		return ((JB_Str_Equals(S->Name, JB_LUB[455], false)));
	}
	return false;
}

bool SC_Msg_IsSettablePlace(Message* Self) {
	Message* P = ((Message*)JB_Ring_Parent(Self));
	while (JB_Msg_EqualsSyx(P, kJB_SyxBra)) {
		Self = P;
		P = ((Message*)JB_Ring_Parent(P));
	};
	return SC_Msg_IsFirstOfSetRel(Self);
}

bool SC_Msg_IsStatementExpr(Message* Self) {
	return SC_Msg_ASMType(Self) == kSC__ASMType_kStatExpr;
}

bool SC_Msg_IsTern(Message* Self) {
	return (JB_Msg_EqualsSyx(Self, kJB_SyxFunc)) and (JB_Msg_EqualsSyx(((Message*)JB_Ring_First(Self)), kJB_SyxList));
}

bool JB_Msg_IsTypeOfDecl(Message* Self) {
	return JB_Msg_WithinType(Self, 1);
}

bool SC_Msg_IsVarAltered(Message* Self, JB_String* Name) {
	{
		Message* Msg = Self;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Self));
		while ((Msg) and (Msg != _afterf1)) {
			Message* _N_f2 = (((Message*)JB_Ring_FlatNext0(Msg)));
			if (((JB_Msg_EqualsSyx(Msg, kJB_SyxRel))) and ((JB_Msg_OperatorIn(Msg, kJB_SyxArg)) and (SC_Msg_OperatorIsThing(((Message*)JB_Ring_First(Msg)), Name)))) {
				return true;
			}
			Msg = _N_f2;
		};
		;
	}
	;
	return false;
}

bool SC_Msg_IsVarUseableInLoop(Message* Self, JB_String* Name) {
	if (JB_Str_Equals(Name, JB_LUB[401], false)) {
		return false;
	}
	return SC_Msg_IsVarAltered(Self, Name);
}

bool SC_Msg_IsZero(Message* Self) {
	return ((JB_Msg_EqualsSyx(Self, kJB_SyxNum))) and (SC_Str_IsZero(Self->Name));
}

void JB_Msg_Item__(Message* Self, FastString* Fs) {
	Message* Ch = ((Message*)JB_Ring_First(Self));
	if (!Ch) {
		return;
	}
	JB_FS_SyntaxAppend(Fs, Ch);
	JB_FS_AppendString(Fs, JB_LUB[121]);
	JB_FS_SyntaxAppend(Fs, ((Message*)JB_Ring_NextSib(Ch)));
}

FatASM* SC_Msg_JBAN(Message* Self, ASMReg R1, int Small, int Jmp) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_JBAN, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_NumInputSet(Rz, 1, Small));
	(SC_FAT_JumpInputSet(Rz, 2, Jmp));
	if (((Jmp << 14) >> 14) != Jmp) {
		if (true) {
			JB_Msg_Fail(Self, JB_LUB[1159]);
		}
	}
	return Rz;
}

bool JB_Msg_jbinTest(Message* Self) {
	JB_String* _tmPf0 = JB_Msg_RenderJbin(Self, JB_LUB[0], nil);
	JB_Incr(_tmPf0);
	Message* Msg = JB_Str_ParseJbin(_tmPf0, 1073741824);
	JB_Incr(Msg);
	JB_Decr(_tmPf0);
	bool _tmPf1 = JB_Msg__TreeCompare(Self, Msg, false);
	JB_EarlyDecr(Msg);
	return _tmPf1;
}

FatASM* SC_Msg_JBOR(Message* Self, ASMReg R1, int Small, int Jmp) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_JBOR, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_NumInputSet(Rz, 1, Small));
	(SC_FAT_JumpInputSet(Rz, 2, Jmp));
	if (((Jmp << 14) >> 14) != Jmp) {
		if (true) {
			JB_Msg_Fail(Self, JB_LUB[1159]);
		}
	}
	return Rz;
}

void jdb2(Message* Self) {
	//cpp_name;
	//visible;
	if (Self) {
		JB_String* _tmPf0 = JB_Msg_RenderAST(Self, true, nil);
		JB_Incr(_tmPf0);
		JB_PrintLine(_tmPf0);
		JB_Decr(_tmPf0);
	}
	 else {
		JB_PrintLine(JB_LUB[13]);
	}
}

FatASM* SC_Msg_JMKE(Message* Self, ASMReg R1, int K, int Jmp) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_JMKE, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_NumInputSet(Rz, 1, K));
	(SC_FAT_JumpInputSet(Rz, 2, Jmp));
	if (((Jmp << 22) >> 22) != Jmp) {
		if (true) {
			JB_Msg_Fail(Self, JB_LUB[1159]);
		}
	}
	return Rz;
}

FatASM* SC_Msg_JMKL(Message* Self, ASMReg R1, int K, int Jmp) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_JMKL, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_NumInputSet(Rz, 1, K));
	(SC_FAT_JumpInputSet(Rz, 2, Jmp));
	if (((Jmp << 22) >> 22) != Jmp) {
		if (true) {
			JB_Msg_Fail(Self, JB_LUB[1159]);
		}
	}
	return Rz;
}

FatASM* SC_Msg_JMKM(Message* Self, ASMReg R1, int K, int Jmp) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_JMKM, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_NumInputSet(Rz, 1, K));
	(SC_FAT_JumpInputSet(Rz, 2, Jmp));
	if (((Jmp << 22) >> 22) != Jmp) {
		if (true) {
			JB_Msg_Fail(Self, JB_LUB[1159]);
		}
	}
	return Rz;
}

FatASM* SC_Msg_JMKN(Message* Self, ASMReg R1, int K, int Jmp) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_JMKN, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_NumInputSet(Rz, 1, K));
	(SC_FAT_JumpInputSet(Rz, 2, Jmp));
	if (((Jmp << 22) >> 22) != Jmp) {
		if (true) {
			JB_Msg_Fail(Self, JB_LUB[1159]);
		}
	}
	return Rz;
}

FatASM* SC_Msg_JMPE(Message* Self, ASMReg R1, ASMReg R2, int LSmall, int RSmall, int Jmp) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_JMPE, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, LSmall));
	(SC_FAT_NumInputSet(Rz, 3, RSmall));
	(SC_FAT_JumpInputSet(Rz, 4, Jmp));
	if (((Jmp << 20) >> 20) != Jmp) {
		if (true) {
			JB_Msg_Fail(Self, JB_LUB[1159]);
		}
	}
	return Rz;
}

FatASM* SC_Msg_JMPF(Message* Self, ASMReg R1, ASMReg R2, int Cmp, int Jmp) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_JMPF, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, Cmp));
	(SC_FAT_JumpInputSet(Rz, 3, Jmp));
	if (((Jmp << 21) >> 21) != Jmp) {
		if (true) {
			JB_Msg_Fail(Self, JB_LUB[1159]);
		}
	}
	return Rz;
}

FatASM* SC_Msg_JMPI(Message* Self, ASMReg R1, ASMReg R2, int Cmp, int Jmp) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_JMPI, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, Cmp));
	(SC_FAT_JumpInputSet(Rz, 3, Jmp));
	if (((Jmp << 22) >> 22) != Jmp) {
		if (true) {
			JB_Msg_Fail(Self, JB_LUB[1159]);
		}
	}
	return Rz;
}

FatASM* SC_Msg_JMPN(Message* Self, ASMReg R1, ASMReg R2, int LSmall, int RSmall, int Jmp) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_JMPN, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, LSmall));
	(SC_FAT_NumInputSet(Rz, 3, RSmall));
	(SC_FAT_JumpInputSet(Rz, 4, Jmp));
	if (((Jmp << 20) >> 20) != Jmp) {
		if (true) {
			JB_Msg_Fail(Self, JB_LUB[1159]);
		}
	}
	return Rz;
}

FatASM* SC_Msg_JUMP(Message* Self, int JUMP) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_JUMP, Self);
	(SC_FAT_JumpInputSet(Rz, 0, JUMP));
	if (((JUMP << 8) >> 8) != JUMP) {
		if (true) {
			JB_Msg_Fail(Self, JB_LUB[1159]);
		}
	}
	return Rz;
}

void SC_Msg_KinderRemoveAfter(Message* Self) {
	while (true) {
		Message* X = ((Message*)JB_Ring_NextSib(Self));
		if ((!X)) {
			break;
		}
		if (!JB_Msg_SyntaxIs(X, kJB__MsgParseFlags_Inserted)) {
			JB_Msg_Fail(X, JB_LUB[1003]);
		}
		JB_Tree_Remove(X);
	};
}

FatASM* SC_Msg_KNSR(Message* Self, ASMReg R1, int Rot, int Inv, int Value) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_KNSR, Self);
	(SC_FAT_NumInputSet(Rz, 1, Rot));
	(SC_FAT_NumInputSet(Rz, 2, Inv));
	(SC_FAT_NumInputSet(Rz, 3, Value));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_KNST(Message* Self, ASMReg R1, int Cond, int Inv, int Value) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_KNST, Self);
	(SC_FAT_NumInputSet(Rz, 1, Cond));
	(SC_FAT_NumInputSet(Rz, 2, Inv));
	(SC_FAT_NumInputSet(Rz, 3, Value));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_KNST2(Message* Self, ASMReg R1, int Cond, int Inv, int Value) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_KNST2, Self);
	(SC_FAT_NumInputSet(Rz, 1, Cond));
	(SC_FAT_NumInputSet(Rz, 2, Inv));
	(SC_FAT_NumInputSet(Rz, 3, Value));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_KNST3(Message* Self, ASMReg R1, int Cond, int Inv, int Value) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_KNST3, Self);
	(SC_FAT_NumInputSet(Rz, 1, Cond));
	(SC_FAT_NumInputSet(Rz, 2, Inv));
	(SC_FAT_NumInputSet(Rz, 3, Value));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

Message* JB_Msg_Last(Message* Self, Syntax Need) {
	Message* Ch = ((Message*)JB_Ring_Last(Self));
	if (Ch and ((!Need) or (JB_Msg_EqualsSyx(Ch, Need)))) {
		return Ch;
	}
	JB_Msg_CantFind(Self, Need, nil, Ch);
	return nil;
}

void SC_Msg_LastInBlock(Message* Self, SCBlockage Reason) {
	JB_Tree_RemoveAfter(Self);
	Message* Arg = ((Message*)JB_Ring_Parent(Self));
	(SC_Msg_BlocksSet(Arg, Reason));
	(SC_Msg_BlocksSet(Self, Reason));
	Message* Test = ((Message*)JB_Ring_Parent(Arg));
	if (SC_Msg_OperatorIsTmp(Test, JB_LUB[578])) {
		while (Test) {
			Arg = ((Message*)JB_Ring_PrevSib(Test));
			SCBlockage B = SC_Msg_Blocks(Arg);
			if (!B) {
				return;
			}
			Reason = SC_SCBlockage_BlockCombine(Reason, B);
			Test = ((Message*)JB_Ring_Parent(Arg));
			if (SC_ASMType_SyntaxIs(SC_Msg_ASMType(Test), kSC__ASMType_kIf)) {
				return SC_Msg_LastInBlock(Test, Reason);
			}
			 else {
				(SC_Msg_BlocksSet(Test, Reason));
			}
		};
	}
	if ((Reason == kSC__SCBlockage_Quit) and (((JB_Msg_EqualsSyx(Self, kJB_SyxFunc))) and SC_Func__CurrFunc()->ReturnType)) {
		Message* Ret = JB_Msg_Msg(Arg, kJB_SyxTmp, JB_LUB[453]);
		(SC_Msg_ASMTypeSet(Ret, kSC__ASMType_kReturn));
		JB_Tree_SyntaxAppend(Ret, SC_Msg_CreateNil(Ret));
	}
}

Message* SC_Msg_LastUsedFix(Message* Self) {
	if ((JB_Msg_EqualsSyx(Self, kJB_SyxDecl))) {
		Message* Ch = ((Message*)JB_Ring_First(((Message*)JB_Tree_Second(Self))));
		if ((!JB_Msg_EqualsSyx(Ch, kJB_SyxThg))) {
			JB_Object_Fail(nil);
			return nil;
		}
		if (SC_Refs__RefBasis(Ch, true) == kSC__Refs_kBasisObj) {
			Message* It = SC_Msg_FindRef(Self, SC__Comp_RefIncr, Ch->Name);
			if (It) {
				return ((Message*)JB_Ring_NextSib(It));
			}
		}
	}
	return ((Message*)JB_Ring_NextSib(Self));
}

void JB_Msg_List__(Message* Self, FastString* Fs) {
	JB_FS_AppendByte2(Fs, '(');
	int Count = 0;
	JB_String* Sep = JB_LUB[47];
	if (JB_Msg_SyntaxIs(Self, kJB__MsgParseFlags_Style2)) {
		Sep = JB_LUB[18];
		JB_FS_AppendString(Fs, Sep);
	}
	{
		Message* Ch = ((Message*)JB_Ring_First(Self));
		while (Ch) {
			if ((++Count) > 1) {
				JB_FS_AppendString(Fs, Sep);
			}
			JB_FS_SyntaxAppend(Fs, Ch);
			if (JB_Msg_EqualsSyx(Ch, kJB_SyxItem)) {
				(++Count);
			}
			Ch = (((Message*)JB_Ring_NextSib(Ch)));
		};
		;
	}
	;
	if ((Count == 1) or JB_Msg_SyntaxIs(Self, kJB__MsgParseFlags_Style2)) {
		JB_FS_AppendString(Fs, Sep);
	}
	JB_FS_AppendByte2(Fs, ')');
}

Array* SC_Msg_ListAll(Message* Self) {
	Array* Rz = ((Array*)JB_Array_Constructor0(nil));
	{
		Message* A = ((Message*)JB_Ring_First(Self));
		while (A) {
			Message* _Nf1 = (((Message*)JB_Ring_NextSib(A)));
			JB_Array_SyntaxAppend(Rz, A);
			A = _Nf1;
		};
		;
	}
	;
	return Rz;
}

bool JB_Msg_ListViewable(Message* Self) {
	return Self and JB_Syx_ListViewable(Self->Func);
}

JB_String* JB_Msg_Locate(Message* Self) {
	if ((!Self)) {
		return JB_LUB[13];
	}
	JB_String* S = JB_Msg_Render(Self, nil);
	JB_Incr(S);
	JB_String* Fname = JB_Syx_Name(Self->Func);
	JB_Incr(Fname);
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	JB_FreeIfDead(JB_Obj_Render(Self->Name, Fs));
	JB_FS_AppendByte(Fs, '@');
	JB_FS_AppendString(Fs, Fname);
	JB_Decr(Fname);
	JB_FS_AppendString(Fs, JB_LUB[608]);
	JB_FS_AppendString(Fs, S);
	JB_Decr(S);
	JB_FS_AppendByte(Fs, '\'');
	if (Self->Position >= 0) {
		JB_FS_AppendString(Fs, JB_LUB[609]);
		JB_FS_AppendInt32(Fs, Self->Position);
		JB_MemoryLayer* _tmPf0 = JB_ObjLayer(Self);
		JB_Incr(_tmPf0);
		JB_Object* R = _tmPf0->Obj;
		JB_Incr(R);
		JB_Decr(_tmPf0);
		if (JB_Object_Isa(R, &JB_StringData)) {
			if (JB_Str_Length(((JB_String*)R))) {
				JB_FS_AppendString(Fs, JB_LUB[610]);
				JB_FS_AppendString(Fs, ((JB_String*)R));
			}
		}
		JB_Decr(R);
	}
	JB_FS_AppendByte2(Fs, '\n');
	JB_String* _tmPf1 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

void SC_Msg_LoopContinue(Message* Self) {
	SC_Msg_LoopExitter(Self, kSC__ASMType_kContinue, kSC__SCBlockage_Continue);
}

void SC_Msg_LoopExit(Message* Self) {
	SC_Msg_LoopExitter(Self, kSC__ASMType_kExit, kSC__SCBlockage_Exit);
}

void SC_Msg_LoopExitter(Message* Self, int ASMType, SCBlockage ExitCode) {
	SC_Msg_ExpectEmpty(Self);
	(SC_Msg_ASMTypeSet(Self, ASMType));
	SC_Msg_LastInBlock(Self, ExitCode);
}

FatASM* SC_Msg_LUPD(Message* Self, ASMReg R1, ASMReg R2, int Small, int Jmp) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_LUPD, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, Small));
	(SC_FAT_JumpInputSet(Rz, 3, Jmp));
	if (((Jmp << 19) >> 19) != Jmp) {
		if (true) {
			JB_Msg_Fail(Self, JB_LUB[1159]);
		}
	}
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_LUPU(Message* Self, ASMReg R1, ASMReg R2, int Small, int Jmp) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_LUPU, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, Small));
	(SC_FAT_JumpInputSet(Rz, 3, Jmp));
	if (((Jmp << 19) >> 19) != Jmp) {
		if (true) {
			JB_Msg_Fail(Self, JB_LUB[1159]);
		}
	}
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

Message* JB_Msg_MacroAvoidCopy(Message* Self) {
	if (!JB_Msg_SyntaxIs(Self, kJB__MsgParseFlags_MacroMade)) {
		(JB_Msg_SyntaxIsSet(Self, kJB__MsgParseFlags_MacroMade, true));
		return Self;
	}
	return JB_Msg_Copy(Self, nil);
}

void JB_Msg_MacroCopy(Message* Self, Message* Root, Array* Prms, Message* Dest) {
	{
		Message* V = ((Message*)JB_Ring_First(Self));
		while (V) {
			Message* _Nf1 = (((Message*)JB_Ring_NextSib(V)));
			JB_Tree_SyntaxAppend(Dest, JB_Msg_MacroPrm(V, Root, Prms, Dest));
			V = _Nf1;
		};
		;
	};
}

void SC_Msg_MacroFixSub(Message* Self, SCDecl* Contains) {
	{
		Message* S = Self;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Self));
		while ((S) and (S != _afterf1)) {
			Message* _N_f2 = (((Message*)JB_Ring_FlatNext0(S)));
			if (((JB_Msg_EqualsSyx(S, kJB_SyxSThg))) and JB_Msg_WithinType(S, 3)) {
				if ((!Contains)) {
					JB_Msg_Fail(Self, JB_LUB[1969]);
					return;
				}
				JB_FreeIfDead(SC_Msg_ReplaceWith(S, SC_Decl_WriteType(Contains, 0, true)));
			}
			S = _N_f2;
		};
		;
	};
}

Message* JB_Msg_MacroPrm(Message* Self, Message* Root, Array* Prms, Message* Dest) {
	Message* Rz = nil;
	JB_String* N = Self->Name;
	uint C = JB_Str_First(N);
	if ((C == '*') and ((JB_Msg_EqualsSyx(Self, kJB_SyxBRel)))) {
		Message* F = ((Message*)JB_Ring_First(Self));
		if ((JB_Msg_SyntaxEquals(F, JB_LUB[385], false)) and (JB_Msg_EqualsSyx(F, kJB_SyxThg))) {
			{
				int _if0 = 0;
				while (true) {
					Message* P = ((Message*)JB_Array_Value(Prms, _if0));
					if (P == nil) {
						break;
					}
					if (!JB_Msg_SyntaxIs(P, kJB__MsgParseFlags_MacroMade)) {
						JB_Tree_SyntaxAppend(Dest, JB_Msg_MacroAvoidCopy(P));
					}
					(++_if0);
				};
			}
			;
			return nil;
		}
	}
	if (((C == '_') and (JB_Str_CompareInt(N, 1) >= 1)) and JB_Str_IsIntFrom(N, 1)) {
		Message* Oop = ((Message*)JB_Array_Value(Prms, ((int)JB_Str_Int(N))));
		if (!Oop) {
			JB_Msg_Fail(Root, JB_LUB[885]);
			return nil;
		}
		Syntax F = Self->Func;
		if ((F == kJB_SyxDot) or ((F == kJB_SyxSDot) or ((F == kJB_SyxStr) or ((F == kJB_SyxSStr) or (F == kJB_SyxChar))))) {
			return JB_Msg_MacroSame(Self, Oop);
		}
		return JB_Msg_MacroAvoidCopy(Oop);
	}
	Rz = JB_Msg_ConstructorCopy(nil, Self);
	Rz->Position = Root->Position;
	JB_Msg_MacroCopy(Self, Root, Prms, Rz);
	return Rz;
}

Message* JB_Msg_MacroSame(Message* Self, Message* Prm) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Msg_Copy(Self, nil));
	(JB_Msg_SyntaxIsSet(Prm, kJB__MsgParseFlags_MacroMade, true));
	JB_SetRef(Rz->Name, Prm->Name);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* SC_Msg_MainArgDotFix(Message* Self) {
	while (true) {
		if (JB_Msg_EqualsSyx(Self, kJB_SyxThg)) {
			return Self;
		}
		if (!JB_Msg_Expect(Self, kJB_SyxDot, nil)) {
			return nil;
		}
		JB_FreeIfDead(JB_Msg_NeedSyxInt(Self, kJB_SyxEmb, 1));
		Self = ((Message*)JB_Ring_First(Self));
	};
}

bool SC_Msg_MainArgsCanBeZero(Message* Self) {
	{
		Message* Dcl = ((Message*)JB_Ring_First(Self));
		while (Dcl) {
			Message* _Nf1 = (((Message*)JB_Ring_NextSib(Dcl)));
			if (!((JB_Msg_EqualsSyx(((Message*)JB_Tree_Second(Dcl)), kJB_SyxRel)) or (JB_Msg_EqualsSyx(((Message*)JB_Ring_First(Dcl)), kJB_SyxArr)))) {
				return nil;
			}
			Dcl = _Nf1;
		};
		;
	}
	;
	return true;
}

Message* SC_Msg_MainFix(Message* Self) {
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Self, (&_usingf0));
	Message* Prms = ((Message*)JB_Ring_First(Self));
	JB_Incr(Prms);
	if (!Prms) {
		JB_SetRef(Prms, JB_Msg_GiveArg(Self));
		JB_Msg_AppendString(Prms, JB_LUB[2264]);
	}
	JB_SetRef(Self->Name, JB_LUB[632]);
	Message* Fn_src = SC_Str_ParseClean(JB_LUB[2265]);
	JB_Incr(Fn_src);
	Message* Src_arg = ((Message*)JB_Ring_Last(Fn_src));
	JB_Incr(Src_arg);
	Syntax Fn = Prms->Func;
	Message* Inc_arg = nil;
	JB_Incr(Inc_arg);
	if ((Fn == kJB_SyxList) or (Fn == kJB_SyxBra)) {
		JB_SetRef(Inc_arg, JB_Msg_NextOf(Prms, kJB_SyxArg, nil));
		Fn = kJB_SyxPrm;
	}
	 else {
		JB_SetRef(Inc_arg, JB_Msg_NeedSyx(Self, kJB_SyxArg));
	}
	if (Inc_arg) {
		if ((Fn == kJB_SyxPrm) and JB_Ring_HasChildren(Prms)) {
			SC_Msg_InsertMainArgs(Src_arg, Prms);
		}
		JB_Tree_SyntaxAppend(Fn_src, Inc_arg);
		JB_Msg_ExpectLast(Inc_arg, nil);
		JB_Tree_Remove(Src_arg);
		JB_Tree_PrependAll(Inc_arg, Src_arg);
	}
	 else {
		JB_SetRef(Fn_src, nil);
	}
	JB_Decr(Prms);
	JB_Decr(Src_arg);
	JB_Decr(Inc_arg);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
	JB_SafeDecr(Fn_src);
	JB_MsgPos_Destructor((&_usingf0));
	return Fn_src;
}

void SC_Msg_MainFix2(Message* Self) {
	Message* M = SC_Msg_MainFix(Self);
	if (M) {
		JB_Msg_BecomeMsg(Self, M);
	}
}

int SC_Msg_MainOneArg(Message* Self, Message* Arg, int I, int Found) {
	Message* Type = JB_Msg_NeedSyx(Self, kJB_SyxNil);
	Message* Name = JB_Msg_NextOf(Type, kJB_SyxNil, nil);
	if (!(Name and Type)) {
		return 0;
	}
	bool IsArray = (JB_Msg_EqualsSyx(Type, kJB_SyxArr));
	if (IsArray) {
		if (!JB_Msg_ExpectLast(Self, nil)) {
			return 0;
		}
		Type = ((Message*)JB_Ring_First(Type));
	}
	bool MaybeNil = SC_Msg_OperatorIsARel(Type, JB_LUB[689]);
	if (MaybeNil) {
		Type = ((Message*)JB_Ring_First(Type));
	}
	Message* InnerType = SC_Msg_MainArgDotFix(Type);
	if (!InnerType) {
		return 0;
	}
	SCClass* Cls = SC_Comp__SyntaxAccess(InnerType);
	if (!Cls) {
		return 0;
	}
	if (!MaybeNil) {
		MaybeNil = SC_Class_IsDataTypeOnly(Cls);
	}
	Array* Prms = (JB_Array_Constructor0(nil));
	JB_Array_SyntaxAppend(Prms, Name);
	JB_Array_SyntaxAppend(Prms, Type);
	JB_Array_SyntaxAppend(Prms, JB_int_Msg(I));
	if ((!JB_Array_SyntaxEquals(Prms, 3))) {
		return 0;
	}
	if ((Found & 1)) {
		JB_Msg_Fail(Arg, JB_LUB[2220]);
	}
	if (IsArray) {
		JB_Msg_AppendMacro(Arg, SC_Macro_clean(SC__Macros_MainArgArray), Prms);
		return 1;
	}
	if (!JB_Msg_EqualsSyx(Name, kJB_SyxRel)) {
		if ((Found & 4)) {
			JB_Msg_Fail(Arg, JB_LUB[2221]);
		}
		if (MaybeNil) {
			JB_Msg_AppendMacro(Arg, SC_Macro_clean(SC__Macros_MainArgBasic), Prms);
		}
		 else {
			JB_Msg_AppendMacro(Arg, SC_Macro_clean(SC__Macros_MainArgBasicReq), Prms);
		}
		return 2;
	}
	Name = JB_Msg_NeedSyx(Name, kJB_SyxThg);
	if (!Name) {
		return 0;
	}
	(JB_Array_ValueSet(Prms, 0, Name));
	Message* Opp = JB_Msg_NextOf(Name, kJB_SyxOpp, JB_LUB[455]);
	Message* L = JB_Msg_NextOf(Opp, kJB_SyxNil, nil);
	if (L) {
		JB_Array_SyntaxAppend(Prms, L);
	}
	if ((!JB_Array_SyntaxEquals(Prms, 4))) {
		JB_Object_Fail(Prms);
		return 0;
	}
	JB_Msg_AppendMacro(Arg, SC_Macro_clean(SC__Macros_MainArgDefault), Prms);
	return 4;
}

Message* SC_Msg_MakeAccess0(Message* Self) {
	Message* Rz = nil;
	Rz = SC_Msg_WrapWith(Self, kJB_SyxAcc, JB_LUB[0]);
	JB_Msg_AppendNum(JB_Msg_Msg(Rz, kJB_SyxArr, JB_LUB[0]), 0);
	return Rz;
}

Message* SC_Msg_MakeAfter(Message* Self) {
	Message* F = ((Message*)JB_Ring_First(Self));
	if (F) {
		return F;
	}
	return JB_Msg_Msg(Self, kJB_SyxSheb, JB_LUB[0]);
}

void SC_Msg_MakeComment(Message* Self) {
	(SC_Msg_ASMTypeSet(Self, kSC__ASMType_kIgnore));
	Self->Func = kJB_SyxSheb;
	JB_Tree_Clear(Self);
}

void SC_Msg_MakeTaskVar(Message* Self, Message* Con, Message* Before, bool First) {
	Message* Prm = ((Message*)JB_Tree_Second(Con));
	JB_String* Name = SC_Msg_VarName(Self);
	if (JB_Str_Exists(Name)) {
		if (First) {
			(JB_Ring_PrevSibSet(Before, SC_NewEqRelWithMsgMsg(JB_Syx_OperatorPlus(kJB_SyxSDot, Name), JB_Syx_OperatorPlus(kJB_SyxThg, Name))));
		}
		JB_Tree_SyntaxAppend(Prm, JB_Msg_Copy(Self, nil));
	}
}

FatASM* SC_Msg_MARK(Message* Self) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_MARK, Self);
	return Rz;
}

void JB_Msg_max__(Message* Self, FastString* Fs) {
	0;
}

void SC_Msg_MiniArgCpp(Message* Self, FastString* Fs) {
	JB_FS_AppendByte2(Fs, '{');
	{
		Message* Ch = ((Message*)JB_Ring_First(Self));
		Message* _firstf2 = Ch;
		while (Ch) {
			Message* _Nf1 = (((Message*)JB_Ring_NextSib(Ch)));
			if (_firstf2 != Ch) {
				JB_FS_AppendString(Fs, JB_LUB[47]);
			}
			//start;
			JB_Msg_Export(Ch, Fs);
			Ch = _Nf1;
		};
		;
	}
	;
	JB_FS_AppendByte2(Fs, '}');
}

JB_String* JB_Msg_MiniName(Message* Self, JB_String* Prefix) {
	if (!Self) {
		return JB_LUB[0];
	}
	JB_String* _tmPf1 = JB_Msg_FuncName(Self);
	JB_Incr(_tmPf1);
	JB_String* _tmPf3 = JB_Str_Range(Self->Name, 0, 64, false);
	JB_Incr(_tmPf3);
	JB_String* _tmPf2 = JB_Str_UnicodeSync(_tmPf3);
	JB_Incr(_tmPf2);
	JB_Decr(_tmPf3);
	JB_String* _tmPf4 = JB_Str_Append6(Prefix, _tmPf1, JB_LUB[536], _tmPf2, JB_LUB[537], nil);
	JB_Incr(_tmPf4);
	JB_Decr(_tmPf1);
	JB_EarlyDecr(_tmPf2);
	JB_SafeDecr(_tmPf4);
	return _tmPf4;
}

void SC_Msg_MiniTran(Message* Self, SCNode* Name_space, JB_String* On) {
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Self, (&_usingf0));
		Message* F = ((Message*)JB_Ring_First(Self));
		JB_Incr(F);
		Message* _tmPf1 = JB_Msg_Msg(Self, kJB_SyxPrm, JB_LUB[0]);
		JB_Incr(_tmPf1);
		JB_Tree_SyntaxAppend(_tmPf1, F);
		JB_Decr(_tmPf1);
		;
		JB_Decr(F);
		Message* _tmPf2 = JB_Syx_OperatorPlus(kJB_SyxThg, On);
		JB_Incr(_tmPf2);
		(JB_Ring_FirstSet(Self, _tmPf2));
		JB_Decr(_tmPf2);
		Self->Func = kJB_SyxDot;
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
		JB_MsgPos_Destructor((&_usingf0));
	}
	JB_FreeIfDead(SC_TypeOfExpr(Self, Name_space, nil));
}

int SC_Msg_ModelMode(Message* Self) {
	int Rz = 0;
	if ((!JB_Msg_EqualsSyx(Self, kJB_SyxRel))) {
		return 0;
	}
	{
		Message* _LoopSrcf3 = ((Message*)JB_Ring_Last(Self));
		JB_Incr(_LoopSrcf3);
		Message* C = _LoopSrcf3;
		JB_Incr(C);
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(_LoopSrcf3));
		JB_Incr(_afterf1);
		while ((C) and (C != _afterf1)) {
			Message* _N_f2 = ((Message*)JB_Ring_FlatNext0(C));
			JB_Incr(_N_f2);
			if (SC_Msg_OperatorIsThing(C, JB_LUB[1004])) {
				Rz = (Rz | 1);
			}
			 else if (SC_Msg_OperatorIsThing(C, JB_LUB[1005])) {
				Rz = (Rz | 2);
			}
			 else {
				if (!((JB_Msg_EqualsSyx(C, kJB_SyxRel)) or (JB_Msg_SyntaxEquals(C, JB_LUB[550], false)))) {
					JB_Msg_Fail(C, nil);
					JB_EarlyDecr(_N_f2);
					JB_EarlyDecr(_afterf1);
					JB_EarlyDecr(C);
					JB_EarlyDecr(_LoopSrcf3);
					return 0;
				}
			}
			JB_SetRef(C, _N_f2);
			JB_Decr(_N_f2);
		};
		JB_Decr(C);
		JB_Decr(_afterf1);
		;
		JB_Decr(_LoopSrcf3);
	}
	;
	return Rz;
}

Message* SC_Msg_ModelType(Message* Self) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, Self);
	if (JB_Msg_EqualsSyx(Rz, kJB_SyxRel)) {
		JB_SetRef(Rz, ((Message*)JB_Ring_First(Rz)));
	}
	if ((!JB_Msg_EqualsSyx(Rz, kJB_SyxThg))) {
		JB_Msg_Fail(Self, nil);
		JB_EarlyDecr(Rz);
		return nil;
	}
	JB_SafeDecr(Rz);
	return Rz;
}

Message* SC_Msg_ModuleSrc(Message* Self) {
	JB_String* Name = Self->Name;
	if (JB_Str_Exists(Name)) {
		SCModule* Found = SC_Base_FindModule(SC__Comp_Program, Name, nil, 0);
		if (Found) {
			SCClass* C = Found->Cls;
			if (C) {
				SCFunction* Fp = C->FuncProto;
				if (Fp) {
					return Fp->Source;
				}
				return SC_Base_SourceArg(C);
			}
			return Found->Source;
		}
	}
	return nil;
}

void SC_Msg_Move(Message* Self, Message* Last, Message* Into) {
	Message* Curr = Self;
	while (Curr != Last) {
		Message* Next_ = ((Message*)JB_Ring_NextSib(Curr));
		(JB_Ring_FirstSet(Into, Curr));
		Curr = Next_;
	};
}

void SC_Msg_MoveAllAfter(Message* Self, Message* After) {
	while (JB_Ring_HasChildren(Self)) {
		(JB_Ring_NextSibSet(After, ((Message*)JB_Ring_Last(Self))));
	};
}

Message* JB_Msg_Msg(Message* Self, Syntax Fn, JB_String* Name) {
	return JB_Msg_Constructor(nil, Self, Fn, Name);
}

void JB_Msg_Msg__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, JB_LUB[538]);
	JB_String* N = Self->Name;
	if (JB_Str_Exists(N)) {
		JB_FS_AppendString(Fs, N);
	}
	 else {
		JB_FS_AppendMultiByte(Fs, '"', 2);
	}
	Message* Ch = ((Message*)JB_Ring_First(Self));
	if (!Ch) {
		JB_FS_AppendByte(Fs, ' ');
	}
	 else if ((!((Message*)JB_Ring_NextSib(Ch))) and (!JB_Msg_EqualsSyx(Ch, kJB_SyxMsg))) {
		JB_FS_AppendByte(Fs, ' ');
		JB_FS_SyntaxAppend(Fs, Ch);
		if (!JB_Msg_IsString(Ch)) {
			JB_FS_AppendByte(Fs, ' ');
		}
	}
	 else {
		Fs->Indent = (Fs->Indent + 1);
		while (Ch) {
			if ((!((Message*)JB_Ring_PrevSib(Ch))) and JB_Msg_IsString(Ch)) {
				if (!JB_Str_Exists(Ch->Name)) {
					Ch = ((Message*)JB_Ring_NextSib(Ch));
					continue;
				}
				JB_FS_AppendByte(Fs, ' ');
			}
			 else {
				JB_FS_LineIndent(Fs);
			}
			JB_FS_SyntaxAppend(Fs, Ch);
			Ch = ((Message*)JB_Ring_NextSib(Ch));
		};
		Fs->Indent = (Fs->Indent - 1);
		JB_FS_LineIndent(Fs);
	}
	JB_FS_AppendString(Fs, JB_LUB[539]);
}

SCArg* SC_Msg_MsgArg(Message* Self) {
	{
		Message* Ch = Self;
		while (Ch) {
			JB_Object* O = Ch->Obj;
			if (JB_Object_FastIsa(O, &SCArgData)) {
				return ((SCArg*)O);
			}
			Ch = ((Message*)JB_Ring_Parent(Ch));
		};
		;
	}
	;
	return nil;
}

SCDecl* SC_Msg_MsgDecl(Message* Self) {
	Message* D = SC_Msg_DclExp(Self);
	if (D) {
		return SC_Msg_AsDecl(D);
	}
	return nil;
}

Message* SC_Msg_MsgFix(Message* Self, Message* Parent) {
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Self, (&_usingf0));
	Message* F = ((Message*)JB_Ring_First(Self));
	Message* N = ((Message*)JB_Ring_NextSib(F));
	Self->Func = kJB_SyxList;
	(JB_Ring_FirstSet(Self, JB_Syx_OperatorPlus(kJB_SyxName, Self->Name)));
	JB_SetRef(Self->Name, JB_LUB[0]);
	while (N) {
		Message* N2 = ((Message*)JB_Ring_NextSib(N));
		Self = SC_Msg_WrapWith(Self, kJB_SyxRel, JB_LUB[0]);
		JB_Msg_AppendSyx(Self, kJB_SyxOpp, JB_LUB[669]);
		JB_Tree_SyntaxAppend(Self, N);
		N = SC_Msg_UnBra(N);
		if (JB_Msg_EqualsSyx(N, kJB_SyxMsg)) {
			JB_FreeIfDead(SC_Msg_MsgFix(N, nil));
		}
		N = N2;
	};
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
	JB_MsgPos_Destructor((&_usingf0));
	return Self;
}

SCFunction* SC_Msg_MsgFunc(Message* Self) {
	if ((JB_Msg_EqualsSyx(Self, kJB_SyxDot)) or (JB_Msg_EqualsSyx(Self, kJB_SyxFunc))) {
		Message* Sc = ((Message*)JB_Tree_Second(Self));
		if (Sc) {
			return SC_Msg_AsFunc(Sc);
		}
	}
	return nil;
}

SCFunction* SC_Msg_MsgOwningFunc(Message* Self) {
	{
		Message* Ch = Self;
		while (Ch) {
			JB_Object* O = Ch->Obj;
			if (JB_Object_FastIsa(O, &SCArgData)) {
				SCFunction* Pf = ((SCArg*)O)->ParentFunc;
				if (Pf) {
					return Pf;
				}
			}
			 else if ((JB_Object_FastIsa(O, &SCFunctionData)) and ((!JB_Msg_EqualsSyx(Ch, kJB_SyxPrm)))) {
				return ((SCFunction*)O);
			}
			Ch = ((Message*)JB_Ring_Parent(Ch));
		};
		;
	}
	;
	return nil;
}

FatASM* SC_Msg_MUL(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_MUL, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_MULK(Message* Self, ASMReg R1, ASMReg R2, int K) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_MULK, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, K));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_MULS(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_MULS, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

void JB_Msg_Name__(Message* Self, FastString* Fs) {
	Message* Ch = ((Message*)JB_Ring_First(Self));
	if (Ch) {
		JB_FS_AppendString(Fs, Self->Name);
		JB_FS_AppendString(Fs, JB_LUB[540]);
		JB_FS_SyntaxAppend(Fs, Ch);
	}
	 else {
		JB_FS_AppendByte2(Fs, '@');
		JB_FS_AppendString(Fs, Self->Name);
	}
}

Message* SC_Msg_NeedBra(Message* Self) {
	if ((JB_Msg_EqualsSyx(Self, kJB_SyxBra)) or JB_Msg_OperatorIn(Self, kJB_SyxBra)) {
		return Self;
	}
	return SC_Msg_WrapWith(Self, kJB_SyxBra, JB_LUB[0]);
}

Message* SC_Msg_NeedMarker(Message* Self, JB_String* S, bool B) {
	Message* Rz = nil;
	Message* F = JB_Msg_FindSyxName(Self, kJB_SyxTmp, S, false);
	if (F) {
		return F;
	}
	Rz = JB_Syx_Msg(kJB_SyxTmp, S);
	if (B) {
		(JB_Ring_LastSet(Self, Rz));
	}
	 else {
		(JB_Ring_FirstSet(Self, Rz));
	}
	return Rz;
}

bool SC_Msg_NeedsPreprocess(Message* Self) {
	if (JB_Msg_EqualsSyx(Self, kJB_SyxTRel)) {
		return true;
	}
	if (SC_Msg_OperatorIsARel(Self, JB_LUB[456])) {
		return (!SC_Msg_InDecl(Self));
	}
	if (JB_Msg_EqualsSyx(Self, kJB_SyxTmp)) {
		return (JB_Str_Equals(Self->Name, JB_LUB[457], false)) or ((JB_Str_Equals(Self->Name, JB_LUB[458], false)) or ((JB_Str_Equals(Self->Name, JB_LUB[459], false)) or ((JB_Str_Equals(Self->Name, JB_LUB[460], false)) or ((JB_Str_Equals(Self->Name, JB_LUB[461], false)) or ((JB_Str_Equals(Self->Name, JB_LUB[462], false)) or ((JB_Str_Equals(Self->Name, JB_LUB[463], false)) or (JB_Str_Equals(Self->Name, JB_LUB[464], false))))))));
	}
	if ((!JB_Msg_EqualsSyx(Self, kJB_SyxRel))) {
		return nil;
	}
	Message* L = ((Message*)JB_Ring_First(Self));
	if (((JB_Msg_EqualsSyx(L, kJB_SyxRel))) and ((JB_Msg_SyntaxEquals(((Message*)JB_Ring_NextSib(L)), JB_LUB[465], false)))) {
		return ((JB_Msg_SyntaxEquals(((Message*)JB_Tree_Second(L)), JB_LUB[455], false))) and ((JB_Msg_SyntaxEquals(((Message*)JB_Tree_Second(((Message*)JB_Ring_Last(Self)))), JB_LUB[455], false)));
	}
	return false;
}

Message* SC_Msg_Negate(Message* Self) {
	Message* Rz = nil;
	Message* Upon = Self;
	Syntax F = Self->Func;
	if (F == kJB_SyxThg) {
		return SC_Msg_NegateThg(Self);
	}
	if (F == kJB_SyxBra) {
		Upon = SC_Msg_UnBra(Self);
		if (Upon->Func == kJB_SyxThg) {
			JB_FreeIfDead(SC_Msg_NegateThg(Upon));
			JB_SetRef(Self->Obj, Upon->Obj);
			return Self;
		}
	}
	if (SC_Msg_OperatorIsBRel(Upon, JB_LUB[96])) {
		JB_Msg_BecomeStr(Upon, kJB_SyxBra, JB_LUB[0]);
		return Self;
	}
	if (Upon->Func == kJB_SyxRel) {
		Message* Opmsg = ((Message*)JB_Tree_Second(Upon));
		SCOperator* Op = ((SCOperator*)JB_Dict_Value0(SC__Opp_Dict, Opmsg->Name));
		if (Op) {
			SCOperator* Nega = Op->Opposite;
			if (Nega) {
				SC_Msg_BecomeWithOpp(Opmsg, Nega);
				return Self;
			}
		}
	}
	if (F == kJB_SyxBra) {
		JB_Msg_BecomeStr(Self, kJB_SyxBRel, JB_LUB[96]);
		return Self;
	}
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Self, (&_usingf0));
	Rz = SC_Msg_WrapWith(Self, kJB_SyxBRel, JB_LUB[96]);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
	JB_MsgPos_Destructor((&_usingf0));
	return Rz;
}

Message* SC_Msg_NegateThg(Message* Self) {
	if (JB_Str_Equals(Self->Name, JB_LUB[6], false)) {
		JB_SetRef(Self->Name, JB_LUB[7]);
		JB_SetRef(Self->Obj, SC_FalseBool);
		return Self;
	}
	if (JB_Str_Equals(Self->Name, JB_LUB[7], false)) {
		JB_SetRef(Self->Name, JB_LUB[6]);
		JB_SetRef(Self->Obj, SC_TrueBool);
		return Self;
	}
	return SC_Msg_WrapWith(Self, kJB_SyxBRel, JB_LUB[96]);
}

Message* JB_Msg_NextOf(Message* Self, Syntax Need, JB_String* Name) {
	//cpp_part;
	if (Self) {
		Message* Ch = ((Message*)JB_Ring_NextSib(Self));
		if (Ch) {
			if (((!Need) or (Ch->Func == Need)) and ((Name == nil) or (JB_Str_Equals(Ch->Name, Name, true)))) {
				return Ch;
			}
		}
		JB_Msg_CantFind(Self, Need, nil, Ch);
	}
	return nil;
}

void SC_Msg_Next_Index(Message* Self, SCIterator* Iter, Message* Node2) {
	Message* I = Iter->Index;
	JB_Incr(I);
	if (I) {
		Message* _tmPf1 = JB_Msg_Copy(I, Node2);
		JB_Incr(_tmPf1);
		Message* _tmPf2 = ((Message*)JB_Ring_Last(Self));
		JB_Incr(_tmPf2);
		Message* _tmPf0 = SC_NewEqRelWithMsgMsg(_tmPf1, _tmPf2);
		JB_Incr(_tmPf0);
		JB_Decr(_tmPf1);
		JB_Decr(_tmPf2);
		(JB_Ring_PrevSibSet(Self, _tmPf0));
		JB_Decr(_tmPf0);
	}
	 else {
	}
	JB_Decr(I);
}

Message* SC_Msg_NextPath(Message* Self, Message* Before, Message* Path) {
	JB_String* Sp = SC_Msg_File(Self);
	if (!JB_Str_Equals(JB_Msg_FirstName(Path), Sp, false)) {
		Path = SC_Msg_FileMark(Self);
		(JB_Ring_PrevSibSet(Before, Path));
	}
	return Path;
}

SCDecl* SC_Msg_NiceIsFlagSyntax(Message* Self, Message* Opch, Message* RN, SCNode* Name_space, Message* Side) {
	JB_Incr(Side);
	SCObject* Upon = SC_TypeOfExprModulesOK(Self, Name_space, nil);
	JB_Incr(Upon);
	if (!Upon) {
		JB_EarlyDecr(Side);
		JB_EarlyDecr(Upon);
		return nil;
	}
	SCFunction* Fn = SC_SCObject_TheIsFunc2(Upon, Opch);
	JB_Incr(Fn);
	JB_Decr(Upon);
	if (!Fn) {
		JB_EarlyDecr(Side);
		JB_EarlyDecr(Fn);
		return nil;
	}
	int ParamIndex = ((int)(Fn->Cls != nil));
	SCDecl* Arg1 = ((SCDecl*)JB_Array_Value(Fn->Args, ParamIndex));
	JB_Incr(Arg1);
	if (!Arg1) {
		JB_Msg_Fail(Fn->Source, JB_LUB[2266]);
		JB_EarlyDecr(Side);
		JB_EarlyDecr(Arg1);
		JB_EarlyDecr(Fn);
		return nil;
	}
	JB_Decr(Fn);
	SCClass* LookupType = Arg1->Type;
	JB_Incr(LookupType);
	JB_Decr(Arg1);
	if (!JB_Msg_Expect(RN, kJB_SyxThg, nil)) {
		JB_EarlyDecr(Side);
		JB_EarlyDecr(LookupType);
		return nil;
	}
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(RN, (&_usingf0));
	Message* Exp = ((Message*)JB_Ring_Parent(Self));
	JB_Incr(Exp);
	if (!Side) {
		Message* Bra = ((Message*)JB_Ring_Parent(Exp));
		JB_Incr(Bra);
		if (!JB_Msg_EqualsSyx(Bra, kJB_SyxBra)) {
			JB_SetRef(Bra, Exp);
		}
		if (JB_Msg_OperatorIn(Bra, kJB_SyxArg)) {
			if (Bra == Exp) {
				JB_SetRef(Bra, SC_Msg_WrapWith(Exp, kJB_SyxBra, JB_LUB[0]));
			}
			SC_Msg_BecomeSetRel(Bra);
			Message* Eq = JB_Msg_Msg(Bra, kJB_SyxOpp, JB_LUB[455]);
			JB_Incr(Eq);
			JB_SetRef(Eq->Obj, SC__Opp_Assigns);
			JB_Decr(Eq);
			JB_Msg_AppendSyx(Bra, kJB_SyxThg, JB_LUB[6]);
			JB_SetRef(Side, ((Message*)JB_Ring_Last(Bra)));
		}
		JB_Decr(Bra);
	}
	(SC_Msg_SpdFuncSet(Exp, kJB_SyxDot));
	Message* Negate = SC_Msg_NiceParent(Exp);
	JB_Incr(Negate);
	if (!SC_Msg_OperatorIsBRel(Negate, JB_LUB[96])) {
		JB_SetRef(Negate, nil);
	}
	bool OpchIsnt = ((JB_Msg_SyntaxEquals(Opch, JB_LUB[1809], false))) == (Negate != nil);
	if (OpchIsnt) {
		JB_SetRef(Exp->Name, JB_LUB[2267]);
	}
	 else {
		JB_SetRef(Exp->Name, JB_LUB[1481]);
	}
	JB_Msg_BecomeStr(Opch, kJB_SyxPrm, JB_LUB[0]);
	JB_SetRef(Opch->Obj, nil);
	RN->Func = kJB_SyxDot;
	while (JB_Ring_HasChildren(RN)) {
		Message* _tmPf1 = ((Message*)JB_Ring_First(RN));
		JB_Incr(_tmPf1);
		JB_Tree_SyntaxAppend(Opch, _tmPf1);
		JB_Decr(_tmPf1);
	};
	JB_Msg_AppendSyx(RN, kJB_SyxThg, LookupType->Name);
	JB_Decr(LookupType);
	JB_Tree_SyntaxAppend(RN, Opch);
	Message* _tmPf2 = JB_Msg_Msg(Exp, kJB_SyxPrm, JB_LUB[0]);
	JB_Incr(_tmPf2);
	JB_Tree_SyntaxAppend(_tmPf2, RN);
	JB_Decr(_tmPf2);
	if (OpchIsnt) {
		JB_SetRef(Exp->Name, JB_LUB[1481]);
		if (!Side) {
			if (!Negate) {
				Message* NOT = JB_Syx_OperatorPlus(kJB_SyxBRel, JB_LUB[96]);
				JB_Incr(NOT);
				(JB_Ring_NextSibSet(Exp, NOT));
				JB_Tree_SyntaxAppend(NOT, Exp);
				JB_SetRef(Exp, NOT);
				JB_Decr(NOT);
			}
			 else {
				JB_SetRef(Exp, Negate);
			}
		}
		 else {
			if (!Negate) {
				Message* NOT = JB_Syx_OperatorPlus(kJB_SyxBRel, JB_LUB[96]);
				JB_Incr(NOT);
				(JB_Ring_NextSibSet(Side, NOT));
				JB_Tree_SyntaxAppend(NOT, Side);
				JB_SetRef(Side, NOT);
				JB_Decr(NOT);
			}
			 else {
				JB_SetRef(Side, Negate);
			}
			JB_FreeIfDead(SC_TypeOfExpr(Side, Name_space, nil));
		}
	}
	 else {
		if (Negate) {
			JB_Msg_BecomeStr(Negate, kJB_SyxBra, JB_LUB[0]);
		}
	}
	JB_Decr(Negate);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), RN);
	SCDecl* _tmPf3 = SC_TypeOfExpr(Exp, Name_space, Side);
	JB_Incr(_tmPf3);
	JB_Decr(Exp);
	JB_EarlyDecr(Side);
	JB_SafeDecr(_tmPf3);
	JB_MsgPos_Destructor((&_usingf0));
	return _tmPf3;
}

Message* SC_Msg_NiceParent(Message* Self) {
	return SC_Msg_UseNonRefChangers(Self, true);
}

void JB_Msg_Nil__(Message* Self, FastString* Fs) {
	JB_DoAt(1);
}

int SC_Msg_NilCheckMode(Message* Self, bool Ok) {
	int Rz = 0;
	Rz = (2 * Ok);
	if (Rz) {
		Message* F = ((Message*)JB_Ring_First(Self));
		if (F) {
			Rz = (Rz + JB_Msg_DeepEquals(F, SC_Msg__NilchCompare(), false));
		}
	}
	return Rz;
}

SCDecl* SC_Msg_NilDecl(Message* Self) {
	JB_Object* Obj = Self->Obj;
	if (JB_Object_FastIsa(Obj, &SCDeclData)) {
		JB_Object* L = ((SCDecl*)Obj)->IsLookupOnly;
		if (JB_Object_FastIsa(L, &SCDeclData)) {
			return ((SCDecl*)L);
		}
		return ((SCDecl*)Obj);
	}
	return nil;
}

FatASM* SC_Msg_NOOP(Message* Self) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_NOOP, Self);
	return Rz;
}

Message* SC_Msg_NormaliseFunc(Message* Self, SCClass* AddSelf) {
	Message* Rz = nil;
	Message* Name = JB_Msg_NeedSyx(Self, kJB_SyxThg);
	if (!Name) {
		return nil;
	}
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Name, (&_usingf0));
	Message* Prm = ((Message*)JB_Ring_NextSib(Name));
	if (JB_Msg_EqualsSyx(Prm, kJB_SyxArg)) {
		Prm = JB_Syx_Msg(kJB_SyxPrm, JB_LUB[0]);
		(JB_Ring_NextSibSet(Name, Prm));
	}
	 else if (!Prm) {
		Prm = JB_Msg_Msg(Self, kJB_SyxPrm, JB_LUB[0]);
	}
	 else {
		Syntax Fn = Prm->Func;
		if (!((Fn == kJB_SyxBra) or ((Fn == kJB_SyxList) or (Fn == kJB_SyxPrm)))) {
			JB_Msg_Fail(Prm, nil);
			JB_MsgPos_Destructor((&_usingf0));
			return nil;
		}
		Prm->Func = kJB_SyxPrm;
	}
	if (AddSelf) {
		Message* D = ((Message*)JB_Ring_First(Prm));
		if (!(((JB_Msg_EqualsSyx(D, kJB_SyxDecl))) and (SC_Msg_OperatorIsThing(((Message*)JB_Tree_Second(D)), JB_LUB[401])))) {
			D = JB_Syx_Msg(kJB_SyxDecl, JB_LUB[0]);
			JB_Msg_AppendSyx(D, kJB_SyxThg, AddSelf->Name);
			JB_Msg_AppendSyx(D, kJB_SyxThg, JB_LUB[401]);
			(JB_Ring_FirstSet(Prm, D));
		}
	}
	Rz = ((Message*)JB_Ring_NextSib(Prm));
	if (Rz) {
		JB_Msg_Expect(Rz, kJB_SyxArg, nil);
	}
	 else {
		Rz = JB_Msg_Msg(Self, kJB_SyxArg, JB_LUB[0]);
	}
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Name);
	JB_MsgPos_Destructor((&_usingf0));
	return Rz;
}

void SC_Msg_NotNilRZ(Message* Self, SCDecl* Type, SCNode* Space) {
	Message* Rel = ((Message*)JB_Ring_Last(Self));
	if (!Rel) {
		return;
	}
	Message* Nel = ((Message*)JB_Ring_Last(Rel));
	if (!Nel) {
		return;
	}
	if (JB_Msg_EqualsSyx(Nel, kJB_SyxType)) {
		Nel = ((Message*)JB_Ring_First(Nel));
	}
	if ((SC_Msg_OperatorIsThing(Nel, JB_LUB[100])) and SC_Decl_IsNormalObject(Type)) {
		JB_Msg_BecomeStr(Nel, kJB_SyxDot, JB_LUB[688]);
		JB_Msg_AppendSyx(Nel, kJB_SyxThg, Type->Type->Name);
		JB_Msg_AppendSyx(Nel, kJB_SyxPrm, JB_LUB[0]);
		JB_SetRef(Nel->Obj, nil);
		JB_FreeIfDead(SC_TypeOfExpr(Nel, Space, nil));
	}
}

void JB_Msg_Num__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, Self->Name);
}

void JB_Msg_Oat__(Message* Self, FastString* Fs) {
	JB_FS_AppendByte2(Fs, '%');
	JB_Msg_RenderWithSpaces(Self, Fs, nil);
}

SCClass* SC_Msg_ObjCls(Message* Self) {
	SCDecl* O = ((SCDecl*)JB_Object_FastAs(Self->Obj, &SCDeclData));
	if (O) {
		if (SC_Decl_SyntaxIs(O, kSC__SCDeclInfo_ClassObj)) {
			return O->Contains->Type;
		}
	}
	return nil;
}

bool JB_Msg_OperatorIn(Message* Self, Syntax F) {
	Message* P = ((Message*)JB_Ring_Parent(Self));
	if (P) {
		return P->Func == F;
	}
	return false;
}

bool SC_Msg_OperatorIsARel(Message* Self, JB_String* Name) {
	return (Self) and ((Self->Func == kJB_SyxARel) and ((JB_Str_Equals(Self->Name, Name, false))));
}

bool SC_Msg_OperatorIsBRel(Message* Self, JB_String* Name) {
	return (Self) and ((Self->Func == kJB_SyxBRel) and ((JB_Str_Equals(Self->Name, Name, false))));
}

bool SC_Msg_OperatorIsOpp(Message* Self, JB_String* Name) {
	return (Self) and ((Self->Func == kJB_SyxOpp) and ((JB_Str_Equals(Self->Name, Name, true))));
}

bool SC_Msg_OperatorIsThing(Message* Self, JB_String* Name) {
	return (Self) and ((Self->Func == kJB_SyxThg) and ((JB_Str_Equals(Self->Name, Name, true))));
}

bool SC_Msg_OperatorIsTmp(Message* Self, JB_String* Name) {
	return (Self) and ((Self->Func == kJB_SyxTmp) and ((JB_Str_Equals(Self->Name, Name, false))));
}

bool SC_Msg_operatormatches(Message* Self, Message* M) {
	return Self and (M and ((Self->Func == M->Func) and ((JB_Str_Equals(Self->Name, M->Name, true)))));
}

bool JB_Msg_OperatorStarts(Message* Self, JB_String* S) {
	return JB_Str_MidEquals(Self->Name, 0, S, true);
}

void JB_Msg_Opp__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, Self->Name);
}

bool SC_Msg_OppExpand(Message* Self) {
	if (JB_Msg_SyntaxEquals(Self, JB_LUB[2116], false)) {
		return SC_Msg_AOrBExpand(Self);
	}
	if (JB_Msg_SyntaxEquals(Self, JB_LUB[2117], false)) {
		return SC_Msg_InitExpand(Self);
	}
	return false;
}

int SC_Msg_OpScore(Message* Self) {
	JB_Object* O = Self->Obj;
	if (O) {
		return ((SCOperator*)O)->Score;
	}
	SCOperator* Op = ((SCOperator*)JB_Dict_ValueLower(SC__Opp_Dict, Self->Name));
	if (Op) {
		JB_SetRef(Self->Obj, Op);
		return Op->Score;
	}
	return SC__Opp_CustomOperatorScore;
}

JB_String* JB_Msg_OriginalFilePath(Message* Self) {
	JB_Object* O = JB_ObjLayer(Self)->Obj;
	if ((!false) and (JB_Object_Isa(O, &JB_FileData))) {
		return JB_File_Path(((JB_File*)O));
	}
	if (JB_Object_Isa(O, &JB_StringData)) {
		return ((JB_String*)O);
	}
	return JB_LUB[0];
}

JB_String* JB_Msg_OriginalParseData(Message* Self) {
	if (Self) {
		JB_Object* D = JB_ObjLayer(Self)->Obj2;
		if (JB_Object_Isa(D, &JB_StringData)) {
			return ((JB_String*)D);
		}
	}
	return JB_LUB[0];
}

Message* SC_Msg_OrigMsg(Message* Self) {
	SCFile* F = SC_Msg_File(Self);
	if (F) {
		return JB_Msg_FindTightest(SC_File_Orig(F), Self->Position, false, true);
	}
	return nil;
}

JB_String* SC_Msg_OrigRender(Message* Self, FastString* Fs_in) {
	Message* N = SC_Msg_OrigMsg(Self);
	FastString* Fs = JB_FS__FastNew(Fs_in);
	if (N and (N != Self)) {
		JB_FreeIfDead(JB_Msg_Render(N, Fs));
		if (JB_Msg_SyntaxIs(Self, kJB__MsgParseFlags_Inserted)) {
			JB_FS_AppendString(Fs, JB_LUB[809]);
			JB_FreeIfDead(JB_Msg_Render(Self, Fs));
			JB_FS_AppendByte(Fs, ')');
		}
	}
	 else {
		JB_FreeIfDead(JB_Msg_Render(Self, Fs));
	}
	if (!Fs_in) {
		return JB_FS_SyntaxCast(Fs);
	}
	return JB_LUB[0];
}

Message* SC_Msg_ParseShaderSub(Message* Self) {
	Message* Rz = nil;
	JB_Incr(Rz);
	Message* _tmPf2 = ((Message*)JB_Ring_Parent(Self));
	JB_Incr(_tmPf2);
	Message* _tmPf1 = ((Message*)JB_Ring_First(_tmPf2));
	JB_Incr(_tmPf1);
	JB_Decr(_tmPf2);
	JB_String* Name = _tmPf1->Name;
	JB_Incr(Name);
	JB_Decr(_tmPf1);
	if (!JB_Str_Exists(Name)) {
		Message* _tmPf3 = ((Message*)JB_Ring_Parent(Self));
		JB_Incr(_tmPf3);
		JB_Msg_Fail(_tmPf3, JB_LUB[1978]);
		JB_EarlyDecr(_tmPf3);
		JB_EarlyDecr(Name);
		JB_EarlyDecr(Rz);
		return nil;
	}
	JB_SetRef(Rz, SC_Msg_FindShader(Self, Name));
	if (!Rz) {
		JB_EarlyDecr(Name);
		JB_EarlyDecr(Rz);
		return nil;
	}
	JB_String* _tmPf4 = JB_Str_Append6(JB_LUB[1979], Name, JB_LUB[1980], Name, JB_LUB[1981], nil);
	JB_Incr(_tmPf4);
	JB_Decr(Name);
	Message* StaticAdditions = JB_Str_Parse(_tmPf4, kJB_SyxNil, true);
	JB_Incr(StaticAdditions);
	JB_Decr(_tmPf4);
	SC_AddToStaticSection(Self, StaticAdditions);
	JB_EarlyDecr(StaticAdditions);
	JB_SafeDecr(Rz);
	return Rz;
}

void JB_Msg_pinn__(Message* Self, FastString* Fs) {
	Message* F = ((Message*)JB_Ring_First(Self));
	Message* Opp = ((Message*)JB_Ring_NextSib(F));
	Message* L = ((Message*)JB_Ring_NextSib(Opp));
	JB_FS_SyntaxAppend(Fs, F);
	JB_FS_AppendByte2(Fs, ' ');
	JB_FS_SyntaxAppend(Fs, ((Message*)JB_Ring_Last(Opp)));
	JB_FS_AppendByte2(Fs, ' ');
	JB_FS_SyntaxAppend(Fs, L);
	JB_FS_AppendString(Fs, JB_LUB[548]);
	JB_FS_SyntaxAppend(Fs, ((Message*)JB_Ring_First(Opp)));
}

JB_String* JB_Msg_plocate(Message* Self) {
	if (Self) {
		Message* _tmPf0 = ((Message*)JB_Ring_Parent(Self));
		JB_Incr(_tmPf0);
		JB_String* _tmPf1 = JB_Msg_Locate(_tmPf0);
		JB_Incr(_tmPf1);
		JB_EarlyDecr(_tmPf0);
		JB_SafeDecr(_tmPf1);
		return _tmPf1;
	}
	return JB_LUB[0];
}

void SC_Msg_PrepareAST(Message* Self) {
	Message* After = ((Message*)JB_Ring_FlatAfter(Self));
	Message* Msg = Self;
	while (Msg != After) {
		if (((JB_Msg_EqualsSyx(Msg, kJB_SyxTmp))) and ((JB_Msg_SyntaxEquals(Msg, JB_LUB[1257], false)) or (JB_Msg_SyntaxEquals(Msg, JB_LUB[1141], false)))) {
			SC_Func__Tran_FuncTable(Msg);
		}
		Msg = ((Message*)JB_Ring_FlatNext0(Msg));
	};
}

int JB_Msg_PrevIndentCheck(Message* Self, Message* Pr) {
	uint Chin = Self->Indent & (~1);
	if (Chin >= 252) {
		Chin = 0;
	}
	uint Prin = Pr->Indent & (~1);
	if (Prin >= 252) {
		Pr->Indent = Self->Indent;
		Prin = Chin;
	}
	int IndExtra = Chin - Prin;
	if (!IndExtra) {
		return 0;
	}
	if (JB_int_OperatorIsa(IndExtra, 2)) {
		if (IndExtra == 4) {
			return IndExtra;
		}
		if (IndExtra < 0) {
			if ((JB_int_OperatorIsa(IndExtra, 4)) or ((JB_int_OperatorIsa(((int)Self->Indent), 4)) or (JB_Msg_InInvisArg(Self)))) {
				return IndExtra;
			}
		}
		if ((IndExtra > 0) and ((JB_Msg_EqualsSyx(Pr, kJB_SyxTmp)))) {
			return IndExtra;
		}
	}
	FastString* _fsf0 = JB_FS_Constructor(nil);
	JB_FS_AppendString(_fsf0, JB_LUB[801]);
	JB_FS_AppendInt32(_fsf0, ((int)Prin));
	JB_FS_AppendString(_fsf0, JB_LUB[802]);
	JB_FS_AppendInt32(_fsf0, ((int)Chin));
	JB_FS_AppendString(_fsf0, JB_LUB[803]);
	JB_FreeIfDead(JB_Tk__ErrorAlwaysAdd(JB_FS_GetResult(_fsf0), Self->Position));
	return 0;
}

void JB_Msg_Prm__(Message* Self, FastString* Fs) {
	JB_FS_AppendByte2(Fs, '(');
	{
		Message* Ch = ((Message*)JB_Ring_First(Self));
		Message* _firstf1 = Ch;
		while (Ch) {
			if (_firstf1 != Ch) {
				JB_FS_AppendString(Fs, JB_LUB[47]);
			}
			//start;
			JB_FS_SyntaxAppend(Fs, Ch);
			Ch = (((Message*)JB_Ring_NextSib(Ch)));
		};
		;
	}
	;
	JB_FS_AppendByte2(Fs, ')');
}

SCFunction* SC_Msg_PrmFunc(Message* Self) {
	if (Self) {
		Message* S = ((Message*)JB_Tree_Second(Self));
		if (S) {
			return ((SCFunction*)JB_Object_FastAs(S->Obj, &SCFunctionData));
		}
	}
	return nil;
}

Message* SC_Msg_PrmFuncStructMsg(Message* Self) {
	SCFunction* List_fn = SC_Msg_PrmFunc(Self);
	if (List_fn) {
		return ((Message*)JB_Tree_Get(((Message*)JB_Ring_Last(Self)), List_fn->StructReturnPos - 1));
	}
	return nil;
}

FatASM* SC_Msg_QADD(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_QADD, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_QADK(Message* Self, ASMReg R1, ASMReg R2, int K) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_QADK, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, K));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_QAND(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_QAND, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_QCLM(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_QCLM, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_QCNV(Message* Self, ASMReg R1, ASMReg R2, int Mode) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_QCNV, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, Mode));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_QDIV(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4, int Kind) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_QDIV, Self);
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	(SC_FAT_NumInputSet(Rz, 4, Kind));
	SC_FAT_Dest(Rz, 0, R1, A);
	SC_FAT_Dest(Rz, 1, R2, A);
	return Rz;
}

FatASM* SC_Msg_QFLG(Message* Self, ASMReg R1, ASMReg R2, int Up, int Down, int Sign) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_QFLG, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, Up));
	(SC_FAT_NumInputSet(Rz, 3, Down));
	(SC_FAT_NumInputSet(Rz, 4, Sign));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_QINC(Message* Self, ASMReg R1, ASMReg R2, int Part, int Amount) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_QINC, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, Part));
	(SC_FAT_NumInputSet(Rz, 3, Amount));
	SC_FAT_Dest(Rz, 0, R1, A);
	SC_FAT_Dest(Rz, 1, R2, A);
	return Rz;
}

FatASM* SC_Msg_QLSH(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_QLSH, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

Message* SC_Msg_QMarkRel(Message* Self) {
	Message* X = Self;
	while (true) {
		Message* P = ((Message*)JB_Ring_Parent(X));
		if ((SC_Msg_IsSetRel(P)) and JB_Tree_IsFirst(X)) {
			if ((JB_Msg_OperatorIn(P, kJB_SyxDecl))) {
				JB_Msg_Fail(Self, nil);
				return nil;
			}
			return P;
		}
		X = P;
		if (!JB_Msg_EqualsSyx(X, kJB_SyxDot)) {
			return nil;
		}
	};
}

FatASM* SC_Msg_QMUL(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_QMUL, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_QNOT(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_QNOT, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_QORR(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_QORR, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_QRSH(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_QRSH, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_QRSS(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_QRSS, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_QSUB(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_QSUB, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

void JB_Msg_Ques__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, JB_LUB[541]);
	JB_FS_AppendString(Fs, Self->Name);
	Message* N = ((Message*)JB_Ring_First(Self));
	if (N) {
		JB_FS_AppendByte2(Fs, ' ');
		JB_FS_SyntaxAppend(Fs, N);
	}
}

void JB_Msg_Quot__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, JB_LUB[542]);
	{
		Message* Ch = ((Message*)JB_Ring_First(Self));
		while (Ch) {
			JB_FS_SyntaxAppend(Fs, Ch);
			if (((Message*)JB_Ring_NextSib(Ch))) {
				JB_FS_AppendString(Fs, JB_LUB[47]);
			}
			Ch = (((Message*)JB_Ring_NextSib(Ch)));
		};
		;
	}
	;
	JB_FS_AppendString(Fs, JB_LUB[543]);
}

FatASM* SC_Msg_QXOR(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_QXOR, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_RALO(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_RALO, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

IntRange JB_Msg_Range(Message* Self) {
	return ((IntRange)ivec2{Self->Position, Self->Position + Self->RangeLength});
}

void JB_Msg_RangeSet(Message* Self, IntRange R) {
	Self->Position = R[0];
	Self->RangeLength = JB_Rg_Width(R);
}

int SC_Msg_RC_HasTemporary(Message* Self) {
	if (((JB_Msg_EqualsSyx(Self, kJB_SyxFunc))) or (SC_Msg_IsStatementExpr(Self))) {
		return SC_Refs__RefBasisStruct(Self, false);
	}
	return 0;
}

FatASM* SC_Msg_RD16(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Offset, int Move) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_RD16, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Offset));
	(SC_FAT_NumInputSet(Rz, 4, Move));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_RD1S(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Offset, int Move) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_RD1S, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Offset));
	(SC_FAT_NumInputSet(Rz, 4, Move));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_RD1U(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Offset, int Move) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_RD1U, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Offset));
	(SC_FAT_NumInputSet(Rz, 4, Move));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_RD2S(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Offset, int Move) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_RD2S, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Offset));
	(SC_FAT_NumInputSet(Rz, 4, Move));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_RD2U(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Offset, int Move) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_RD2U, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Offset));
	(SC_FAT_NumInputSet(Rz, 4, Move));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_RD4S(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Offset, int Move) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_RD4S, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Offset));
	(SC_FAT_NumInputSet(Rz, 4, Move));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_RD4U(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Offset, int Move) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_RD4U, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Offset));
	(SC_FAT_NumInputSet(Rz, 4, Move));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_RD8U(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Offset, int Move) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_RD8U, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Offset));
	(SC_FAT_NumInputSet(Rz, 4, Move));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

NilState SC_Msg_RedundantDeclare(Message* Self, uint /*NilState*/ D) {
	JB_String* _tmPf0 = SC_Msg_OrigRender(Self, nil);
	JB_Incr(_tmPf0);
	JB_String* Str = JB_Str_OperatorPlus(JB_LUB[2287], _tmPf0);
	JB_Incr(Str);
	JB_Decr(_tmPf0);
	if (true) {
		JB_Msg_Fail(Self, Str);
	}
	JB_EarlyDecr(Str);
	return D;
}

NilState SC_Msg_RedundantVar(Message* Self, SCDecl* Dcl, NilCheckMode Test) {
	if (SC_khalai_SyntaxIs(Test, kSC__khalai_Soft) or SC_khalai_SyntaxIs(Test, kSC__khalai_While)) {
		return Test & kSC__NilState_Either;
	}
	if (SC__nil_Loops.BranchDepth == 0) {
		FastString* Fs = JB_FS_Constructor(nil);
		JB_Incr(Fs);
		JB_FS_AppendString(Fs, JB_LUB[2288]);
		JB_String* _tmPf0 = SC_NilState_RawName(SC_Decl_NilCurr(Dcl));
		JB_Incr(_tmPf0);
		JB_FS_AppendString(Fs, _tmPf0);
		JB_Decr(_tmPf0);
		JB_FS_AppendString(Fs, JB_LUB[121]);
		JB_FreeIfDead(SC_Msg_OrigRender(Self, Fs));
		if (true) {
			JB_String* _tmPf1 = JB_FS_SyntaxCast(Fs);
			JB_Incr(_tmPf1);
			JB_Msg_Fail(Self, _tmPf1);
			JB_Decr(_tmPf1);
		}
		JB_Decr(Fs);
	}
	return Test & kSC__NilState_Either;
}

bool SC_Msg_RefDisappears(Message* Self) {
	if (Self->Func == kJB_SyxFunc) {
		Self = ((Message*)JB_Ring_Parent(Self));
	}
	{
		Message* P = Self;
		while (P) {
			Syntax F = P->Func;
			if (F == kJB_SyxType) {
				SCDecl* D = SC_Msg_AsDecl(P);
				if (!D) {
					return nil;
				}
				if (!SC_Decl_IsNormalObject(D)) {
					return true;
				}
			}
			 else if (SC_Msg_RefTransparent(P)) {
				0;
			}
			 else if (F == kJB_SyxPrm) {
				return false;
			}
			 else if (F == kJB_SyxBRel) {
				return true;
			}
			 else if (F == kJB_SyxTmp) {
				uint T = SC_Msg_ASMType(P);
				return (T != kSC__ASMType_kReturn) and (T != kSC__ASMType_kRejoin);
			}
			 else if (F == kJB_SyxArg) {
				return true;
			}
			 else if (F == kJB_SyxRel) {
				JB_Object* Comp = ((Message*)JB_Tree_Second(P))->Obj;
				if (JB_Object_FastIsa(Comp, &SCOperatorData)) {
					return (SC_Opp_SyntaxIs(((SCOperator*)Comp), kSC__OpMode_Compare) and (!((bool)SC_Opp_SyntaxIs(((SCOperator*)Comp), kSC__OpMode_Custom))));
				}
				return false;
			}
			 else {
				return false;
			}
			P = ((Message*)JB_Ring_Parent(P));
		};
		;
	}
	;
	return false;
}

Message* SC_Msg_RefMsgToUse(Message* Self) {
	if (JB_Msg_EqualsSyx(Self, kJB_SyxArg)) {
		return ((Message*)JB_Ring_Last(Self));
	}
	return Self;
}

bool SC_Msg_RefTransparent(Message* Self) {
	Syntax F = Self->Func;
	if (F == kJB_SyxBra) {
		return true;
	}
	if (F == kJB_SyxType) {
		return true;
	}
	if (F == kJB_SyxARel) {
		uint N = JB_Str_First(Self->Name);
		return (N == '?') or (N == '!');
	}
	if (F == kJB_SyxBRel) {
		return JB_Str_First(Self->Name) == '?';
	}
	return false;
}

void JB_Msg_Rel__(Message* Self, FastString* Fs) {
	JB_Msg_RenderWithSpaces(Self, Fs, nil);
}

bool SC_Msg_RelFix(Message* Self, bool Force) {
	bool Rz = false;
	if (SC_Msg_AndOrExpansionTest(Self) == -1) {
		return nil;
	}
	Message* One = ((Message*)JB_Ring_First(Self));
	JB_Incr(One);
	Message* Plus = ((Message*)JB_Ring_NextSib(One));
	JB_Incr(Plus);
	if (Force or (!Plus->Obj)) {
		int PlusScore = SC_Msg_OpScore(Plus);
		Message* SubRel = ((Message*)JB_Ring_NextSib(Plus));
		JB_Incr(SubRel);
		if (JB_Msg_SyntaxEquals(Plus, JB_LUB[2062], false)) {
			SC_Msg_FixErl(Self);
		}
		 else if (JB_Msg_EqualsSyx(SubRel, kJB_SyxRel)) {
			Rz = SC_Msg_RelFix(SubRel, true);
			if (!(JB_Msg_OperatorIn(Self, kJB_SyxDecl) or JB_Msg_OperatorIn(Self, kJB_SyxArg))) {
				Message* Two = ((Message*)JB_Ring_First(SubRel));
				JB_Incr(Two);
				Message* LessThan = ((Message*)JB_Ring_NextSib(Two));
				JB_Incr(LessThan);
				JB_Decr(Two);
				Message* Last = ((Message*)JB_Ring_NextSib(LessThan));
				JB_Incr(Last);
				if (SC_Msg_OpScore(LessThan) > PlusScore) {
					JB_Tree_SyntaxAppend(Self, LessThan);
					JB_Tree_SyntaxAppend(Self, Last);
					(JB_Ring_FirstSet(SubRel, Plus));
					(JB_Ring_FirstSet(SubRel, One));
					SC_Msg_RelFix(SubRel, true);
					Rz = true;
				}
				JB_Decr(LessThan);
				JB_Decr(Last);
			}
		}
		JB_Decr(SubRel);
	}
	JB_Decr(One);
	JB_EarlyDecr(Plus);
	return Rz;
}

JB_String* JB_Msg_Render(Message* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_FS_SyntaxAppend(Fs, Self);
	return JB_FS_SmartResult(Fs, Fs_in);
}

void JB_Msg_render_jbin_sub(Message* Self, FastString* Js) {
	Message* Ch = Self;
	Message* After = ((Message*)JB_Ring_FlatAfter(Self));
	while (Ch and (Ch != After)) {
		int Depth = 0;
		Message* Curr = Ch;
		Ch = ((Message*)JB_Ring_FlatNextDepth(Curr, &Depth, true));
		JB_bin_Add(Js, Curr->Func, Curr->Name, Depth > 0);
		JB_bin_Exit(Js, (-Depth));
	};
}

JB_String* JB_Msg_RenderAST(Message* Self, bool RenderRoot, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	if (!RenderRoot) {
		RenderRoot = (!((Self->Func == kJB_SyxArg) and ((((Message*)JB_Ring_Parent(Self)) == nil) and (!JB_Str_Exists(Self->Name)))));
	}
	if (RenderRoot) {
		JB_FS_AppendString(Fs, JB_LUB[538]);
		JB_FS_AppendString(Fs, JB_Syx_Name(Self->Func));
		JB_FS_AppendByte2(Fs, ' ');
		(++Fs->Indent);
	}
	JB_String* Name = Self->Name;
	if (JB_Str_Exists(Name)) {
		JB_FS_AppendQuotedEscape(Fs, Name, '"');
	}
	if (JB_Ring_HasChildren(Self)) {
		{
			Message* Ch = ((Message*)JB_Ring_First(Self));
			while (Ch) {
				JB_FS_LineIndent(Fs);
				JB_FreeIfDead(JB_Msg_RenderAST(Ch, false, Fs));
				Ch = (((Message*)JB_Ring_NextSib(Ch)));
			};
			;
		}
		;
		Fs->Indent = (Fs->Indent - RenderRoot);
		JB_FS_LineIndent(Fs);
	}
	 else {
		Fs->Indent = (Fs->Indent - RenderRoot);
	}
	if (RenderRoot) {
		JB_FS_AppendString(Fs, JB_LUB[539]);
	}
	return JB_FS_SmartResult(Fs, Fs_in);
}

JB_String* JB_Msg_RenderJbin(Message* Self, JB_String* Shell_path, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	if (!Self) {
		return JB_LUB[0];
	}
	FastString* Js = ((FastString*)Fs);
	JB_bin_RunHeader(Js, Shell_path);
	JB_Msg_render_jbin_sub(Self, Js);
	return JB_FS_SmartResult(Fs, Fs_in);
}

void JB_Msg_RenderPrm(Message* Self, FastString* Fs, uint /*byte*/ B1, uint /*byte*/ B2) {
	JB_FS_AppendByte2(Fs, B1);
	JB_Msg_FSListSep(Self, Fs, JB_LUB[47]);
	JB_FS_AppendByte2(Fs, B2);
}

JB_String* SC_Msg_RenderType(Message* Self) {
	JB_Object* D = ((JB_Object*)Self->Obj);
	if (JB_Object_FastIsa(D, &SCDeclData)) {
		Message* _tmPf0 = SC_Decl_WriteSimpleType(((SCDecl*)D), true);
		JB_Incr(_tmPf0);
		JB_String* _tmPf1 = JB_Msg_Render(_tmPf0, nil);
		JB_Incr(_tmPf1);
		JB_EarlyDecr(_tmPf0);
		JB_SafeDecr(_tmPf1);
		return _tmPf1;
	}
	if (JB_Object_FastIsa(D, &SCModuleData)) {
		return ((SCModule*)D)->Name;
	}
	return JB_Msg_Render(Self, nil);
}

void JB_Msg_RenderWithSpaces(Message* Self, FastString* Fs, Message* Ch) {
	if (!Ch) {
		Ch = ((Message*)JB_Ring_First(Self));
	}
	while (Ch) {
		JB_FS_SyntaxAppend(Fs, Ch);
		Ch = ((Message*)JB_Ring_NextSib(Ch));
		if (!Ch) {
			return;
		}
		JB_FS_AppendByte2(Fs, ' ');
	};
}

Message* SC_Msg_ReplaceInbuiltSub(Message* Self, SCDecl* Self_decl) {
	if ((JB_Msg_SyntaxEquals(Self, JB_LUB[100], false))) {
		return SC_Msg_FalsifyNil(Self);
	}
	 else if ((JB_Msg_SyntaxEquals(Self, JB_LUB[2028], false))) {
		if (!(Self_decl and SC_Decl_IsCArray(Self_decl))) {
			JB_Msg_Fail(Self, JB_LUB[2029]);
			return nil;
		}
		return JB_int_Msg(Self_decl->C_Array);
	}
	 else if ((JB_Msg_SyntaxEquals(Self, JB_LUB[1996], false))) {
		Message* F = JB_Msg_NeedSyx(Self, kJB_SyxSStr);
		if (F) {
			ErrorMarker IsOK = JB_Rec_Mark(JB_StdErr);
			if (true) {
				MessagePosition _usingf0 = ((MessagePosition){});
				JB_Msg_SyntaxUsing(Self, (&_usingf0));
				JB_SetRef(F->Name, JB_Str_Digest(F->Name));
				if ((!JB_ErrorMarker_SyntaxCast(IsOK)) and JB_Rec_CanAddMore(JB_StdErr, kJB__ErrorSeverity_Error)) {
					JB_Error* Err = ((JB_Error*)JB_Ring_Last(JB_StdErr->Errors));
					if (Err) {
						JB_Err_ShiftPosition(Err, F->Position);
					}
				}
				JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
				JB_MsgPos_Destructor((&_usingf0));
			}
		}
		JB_Msg_BecomeStr(Self, kJB_SyxBra, JB_LUB[0]);
	}
	 else if ((JB_Msg_SyntaxEquals(Self, JB_LUB[2030], false))) {
		Message* F = JB_Msg_NeedSyx(Self, kJB_SyxSStr);
		if (F) {
			JB_SetRef(F->Name, JB_Str_Compress(F->Name, kJB__MZLab_Default, nil, nil));
		}
		JB_Msg_BecomeStr(Self, kJB_SyxBra, JB_LUB[0]);
	}
	 else if ((JB_Msg_SyntaxEquals(Self, JB_LUB[2031], false))) {
		SCClass* Cls = SC_Func__CurrFunc()->Cls;
		if (!Cls) {
			JB_Msg_Fail(Self, nil);
			return nil;
		}
		JB_Msg_BecomeStr(Self, kJB_SyxNum, JB_int_RenderFS(((int)Cls->TaskObjectCount), nil));
	}
	 else if ((JB_Msg_SyntaxEquals(Self, JB_LUB[2032], false))) {
		if ((!Self_decl)) {
			JB_Msg_Fail(Self, JB_LUB[2033]);
			return nil;
		}
		return SC_Msg_InBuiltSizeOf(Self, Self_decl);
	}
	 else if ((JB_Msg_SyntaxEquals(Self, JB_LUB[2034], false)) or (JB_Msg_SyntaxEquals(Self, JB_LUB[2035], false))) {
		if ((!Self_decl)) {
			JB_Msg_Fail(Self, JB_LUB[2036]);
			return nil;
		}
		if (JB_Msg_SyntaxEquals(Self, JB_LUB[2034], true)) {
			return SC_Msg_InBuiltTypeOf(Self, Self_decl);
		}
		return SC_Msg_InBuiltContained(Self, Self_decl);
	}
	 else if ((JB_Msg_SyntaxEquals(Self, JB_LUB[2037], false)) or (JB_Msg_SyntaxEquals(Self, JB_LUB[2038], false))) {
		SC_Create_JeeboxTest(Self);
	}
	 else {
		if (true) {
			JB_Msg_Fail(Self, nil);
		}
	}
	return nil;
}

Message* SC_Msg_ReplaceInto(Message* Self, Message* W) {
	(JB_Ring_PrevSibSet(Self, W));
	JB_Tree_SyntaxAppend(W, Self);
	return W;
}

Message* SC_Msg_ReplaceWith(Message* Self, Message* J) {
	(JB_Ring_PrevSibSet(Self, J));
	JB_Tree_Remove(Self);
	return J;
}

Message* SC_Msg_ReplaceWithChild(Message* Self) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, ((Message*)JB_Ring_First(Self)));
	(JB_Ring_PrevSibSet(Self, Rz));
	JB_Tree_Remove(Self);
	JB_SafeDecr(Rz);
	return Rz;
}

void JB_Msg_CantFind(Message* Self, Syntax S, JB_String* Name, Message* Found) {
	JB_Incr(Found);
	//cpp_part;
	if ((!Self) and (!Found)) {
		JB_API__NilHandler();
		JB_EarlyDecr(Found);
		return;
	}
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	if (Found) {
		JB_FS_AppendString(Fs, JB_LUB[562]);
		JB_FS_MsgErrorName(Fs, Name);
		JB_String* _tmPf0 = JB_Syx_LongName(S);
		JB_Incr(_tmPf0);
		JB_FS_AppendString(Fs, _tmPf0);
		JB_Decr(_tmPf0);
		JB_FS_AppendString(Fs, JB_LUB[829]);
		JB_String* _tmPf1 = JB_Syx_LongName(Found->Func);
		JB_Incr(_tmPf1);
		JB_FS_AppendString(Fs, _tmPf1);
		JB_Decr(_tmPf1);
	}
	 else {
		if (S) {
			JB_FS_AppendString(Fs, JB_LUB[830]);
			JB_String* _tmPf2 = JB_Syx_LongName(S);
			JB_Incr(_tmPf2);
			JB_FS_AppendString(Fs, _tmPf2);
			JB_Decr(_tmPf2);
		}
		 else {
			JB_FS_AppendString(Fs, JB_LUB[831]);
		}
		JB_FS_MsgErrorName(Fs, Name);
		JB_SetRef(Found, Self);
	}
	JB_String* _tmPf3 = JB_FS_GetResult(Fs);
	JB_Incr(_tmPf3);
	JB_Decr(Fs);
	JB_Rec__Latchkum(Found, _tmPf3, nil);
	JB_Decr(_tmPf3);
	JB_Decr(Found);
}

Message* SC_Msg_Resync(Message* Self, Message* Parent) {
	Message* Rz = nil;
	Rz = Self;
	while (Rz and (((Message*)JB_Ring_Parent(Rz)) != Parent)) {
		Rz = ((Message*)JB_Ring_Parent(Rz));
	};
	return Rz;
}

FatASM* SC_Msg_RET(Message* Self, ASMReg R1, int Value) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_RET, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_NumInputSet(Rz, 1, Value));
	return Rz;
}

FatASM* SC_Msg_RFRD(Message* Self, ASMReg R1, ASMReg R2, int Decr, int Offset) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_RFRD, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, Decr));
	(SC_FAT_NumInputSet(Rz, 3, Offset));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_RFRT(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_RFRT, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	return Rz;
}

FatASM* SC_Msg_RFST(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_RFST, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_RFUN(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_RFUN, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	return Rz;
}

FatASM* SC_Msg_RFWR(Message* Self, ASMReg R1, ASMReg R2, int Decr, int Offset) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_RFWR, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, Decr));
	(SC_FAT_NumInputSet(Rz, 3, Offset));
	return Rz;
}

void SC_Msg_Safe(Message* Self, FastString* Fs) {
	SC_Str_Safe(Self->Name, Fs, false);
}

void SC_Msg_SafeRemove(Message* Self, Syntax T) {
	if (Self) {
		(SC_Msg_SpdFuncSet(Self, T));
		JB_SetRef(Self->Name, JB_LUB[0]);
		(JB_Msg_SyntaxIsSet(Self, kJB__MsgParseFlags_Inserted, true));
		{
			Message* C = ((Message*)JB_Ring_First(Self));
			JB_Incr(C);
			while (C) {
				Message* _Nf1 = (((Message*)JB_Ring_NextSib(C)));
				JB_Incr(_Nf1);
				JB_Tree_Remove(C);
				JB_SetRef(C, _Nf1);
				JB_Decr(_Nf1);
			};
			JB_Decr(C);
			;
		};
	}
}

void SC_Msg_SafeReplaceWith(Message* Self, Message* Incoming) {
	SC_Msg_SafeRemove(Self, kJB_SyxBra);
	JB_Tree_SyntaxAppend(Self, Incoming);
}

SCArg* SC_Msg_SCArg(Message* Self, SCNode* P, Message* Avoid) {
	if (!Self) {
		return nil;
	}
	if (Avoid and ((!JB_Msg_EqualsSyx(Avoid, kJB_SyxArg)) and (!JB_Msg_EqualsSyx(Avoid, kJB_SyxTmp)))) {
		if (JB_Object_FastIsa(P, &SCArgData)) {
			return ((SCArg*)P);
		}
		return nil;
	}
	SCArg* R = SC_Msg_AsArg(Self);
	if (!P) {
		P = SC_Msg_MsgArg(Self);
	}
	if ((!R) and P) {
		R = SC_Arg_Constructor(nil, Self);
		if (JB_Object_FastIsa(P, &SCArgData)) {
			JB_SetRef(R->ParentFunc, ((SCArg*)P)->ParentFunc);
			R->IsClassArg = ((SCArg*)P)->IsClassArg;
			R->Parent = ((SCArg*)P);
		}
		 else if (JB_Object_FastIsa(P, &SCFunctionData)) {
			JB_SetRef(R->ParentFunc, P);
			R->IsClassArg = ((bool)((SCFunction*)P)->Cls);
			R->Parent = ((SCFunction*)P)->Parent;
		}
		JB_SetRef(Self->Obj, R);
	}
	if (P and R) {
		R->Project = P->Project;
	}
	return R;
}

SCArg* SC_Msg_SCArgNested(Message* Self, Message* Base, SCNode* P) {
	while (true) {
		Message* Cp = JB_Msg_Ancestor(Self, kJB_SyxArg);
		if (Cp == Base) {
			return SC_Msg_SCArg(Self, P, nil);
		}
		Self = Cp;
		if (!Self) {
			return nil;
		}
	};
}

void JB_Msg_SCnj__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, Self->Name);
}

void JB_Msg_SCom__(Message* Self, FastString* Fs) {
	Message* Ch = ((Message*)JB_Ring_First(Self));
	if (!Ch) {
		JB_FS_AppendString(Fs, JB_LUB[611]);
		return;
	}
	JB_FS_SyntaxAppend(Fs, ((Message*)JB_Ring_NextSib(Ch)));
	JB_FS_AppendString(Fs, JB_LUB[611]);
	if (JB_Tree_HasOneChild(Ch)) {
		JB_FS_SyntaxAppend(Fs, ((Message*)JB_Ring_First(Ch)));
	}
	 else {
		JB_Msg_FSListArg(Ch, Fs, false);
		JB_FS_AppendByte2(Fs, '\n');
	}
	JB_FS_AppendString(Fs, JB_LUB[415]);
}

void JB_Msg_SDot__(Message* Self, FastString* Fs) {
	JB_FS_AppendByte2(Fs, '.');
	JB_FS_AppendString(Fs, Self->Name);
	JB_FS_SyntaxAppend(Fs, ((Message*)JB_Ring_First(Self)));
}

bool SC_Msg_SecondIs(Message* Self, Syntax Fn, JB_String* Name) {
	Message* S = ((Message*)JB_Tree_Second(Self));
	if (S) {
		return (JB_Msg_EqualsSyx(S, Fn)) and (JB_Msg_SyntaxEquals(S, Name, false));
	}
	return false;
}

int SC_Msg_SelfUsedForProperty(Message* Self) {
	Message* R = ((Message*)JB_Ring_Parent(Self));
	if (!(R and ((Self->Func == kJB_SyxDot) and (R->Func == kJB_SyxRel)))) {
		return 0;
	}
	if (SC_Msg_OperatorIsThing(((Message*)JB_Ring_First(Self)), JB_LUB[401])) {
		if (SC_Msg_DotType(Self)) {
			Message* Op = ((Message*)JB_Tree_Second(R));
			return 1 + (!(JB_Tree_IsFirst(Self) and (JB_Msg_SyntaxEquals(Op, JB_LUB[455], false))));
		}
	}
	return 0;
}

Message* SC_Msg_SendPerryErrors(Message* Self) {
	JB_Tree_Clear(Self);
	Message* _tmPf0 = SC_AC__ErrorsInAWayThatPerryLikes();
	JB_Incr(_tmPf0);
	JB_Tree_SyntaxAppend(Self, _tmPf0);
	JB_EarlyDecr(_tmPf0);
	return Self;
}

bool SC_Msg_SettingToNil(Message* Self) {
	if ((JB_Msg_EqualsSyx(Self, kJB_SyxDecl))) {
		Message* D = ((Message*)JB_Ring_Last(Self));
		if (((JB_Msg_EqualsSyx(D, kJB_SyxRel))) and ((JB_Msg_SyntaxEquals(((Message*)JB_Ring_Last(D)), JB_LUB[100], true)))) {
			return true;
		}
	}
	return false;
}

bool JB_Msg_ShallowEquals(Message* Self, Message* B, bool Aware) {
	return (Self->Func == B->Func) and JB_Str_Equals(Self->Name, B->Name, Aware);
}

void JB_Msg_Sheb__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, JB_LUB[152]);
	JB_FS_AppendString(Fs, Self->Name);
	JB_FS_AppendByte2(Fs, '\n');
}

void SC_Msg_SlidePositions(Message* Self, int Add) {
	{
		Message* S = Self;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Self));
		while ((S) and (S != _afterf1)) {
			Message* _N_f2 = (((Message*)JB_Ring_FlatNext0(S)));
			if (S->Position >= 0) {
				S->Position = (S->Position + Add);
			}
			S = _N_f2;
		};
		;
	};
}

void SC_Msg_SortImprove(Message* Self, SCNode* Name_space) {
	if (JB_Object_MustBe(Name_space, &SCClassData, Self)) {
		Message* L = JB_Msg_GiveArg(Self);
		if (!JB_Msg_ExpectLast(L, nil)) {
			return;
		}
		Message* Prm = JB_Syx_Msg(kJB_SyxPrm, JB_LUB[0]);
		(JB_Ring_PrevSibSet(L, Prm));
		JB_Tree_SyntaxAppend(Prm, SC_NewRel(JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[1258]), JB_Syx_OperatorPlus(kJB_SyxThg, ((SCClass*)Name_space)->Name), JB_LUB[1259]));
	}
}

void SC_Msg_SpdFuncSet(Message* Self, Syntax Value) {
	Self->Func = Value;
	(SC_Msg_ASMTypeSet(Self, 0));
}

uint SC_Msg_SrcMap(Message* Self) {
	uint FileNum = ((uint)(Self->Tag & (~31)));
	return (FileNum << 16) | (Self->Position & (((1 << 21) - 1)));
}

void JB_Msg_SStr__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, JB_LUB[48]);
	JB_FS_AppendString(Fs, Self->Name);
	JB_FS_AppendString(Fs, JB_LUB[49]);
}

void SC_Msg_StartUsingAfter(Message* Self) {
	int Biggest = -1;
	JB_MemoryLayer* L = JB_ObjLayer(Self);
	JB_String* D = JB_Msg_OriginalParseData(Self);
	if (JB_Str_Exists(D)) {
		{
			Message* S = Self;
			Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Self));
			while ((S) and (S != _afterf1)) {
				Message* _N_f2 = (((Message*)JB_Ring_FlatNext0(S)));
				if ((S->Position >= 0) and (JB_ObjLayer(S) == L)) {
					(Biggest = JB_int_OperatorMax(Biggest, JB_Msg_After(S)));
				}
				S = _N_f2;
			};
			;
		}
		;
		Ind B2 = JB_Str_InStr(D, JB_LUB[18], Biggest, kJB__int_Max, false);
		if (JB_Ind_SyntaxCast(B2)) {
			Biggest = B2;
		}
		(++Biggest);
	}
	JB__Tk_Using.Position = Biggest;
	JB__Tk_Using.Flags = kJB__MsgParseFlags_Inserted;
	JB_Mem_Use(JB_ObjLayer(Self));
}

void SC_Msg_StatementExprSet(Message* Self, SCArg* Arg) {
	(SC_Msg_ASMTypeSet(Self, kSC__ASMType_kStatExpr));
	Arg->IsStatementExpr = true;
}

void JB_Msg_SThg__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, Self->Name);
}

void JB_Msg_Str__(Message* Self, FastString* Fs) {
	JB_FS_AppendByte2(Fs, '"');
	JB_FS_AppendEscape(Fs, Self->Name);
	{
		Message* Ch = ((Message*)JB_Ring_First(Self));
		while (Ch) {
			if ((JB_Msg_EqualsSyx(Ch, kJB_SyxEmb))) {
				JB_FS_AppendEscape(Fs, Ch->Name);
			}
			 else {
				JB_FS_AppendByte2(Fs, '$');
				JB_FS_AppendByte2(Fs, '{');
				JB_FS_SyntaxAppend(Fs, Ch);
				JB_FS_AppendByte2(Fs, '}');
			}
			Ch = (((Message*)JB_Ring_NextSib(Ch)));
		};
		;
	}
	;
	JB_FS_AppendByte2(Fs, '"');
}

void SC_Msg_StructReturnCleanup(Message* Self, SCFunction* Fn, SCNode* Name_space) {
	Message* R = ((Message*)JB_Ring_First(Self));
	JB_Incr(R);
	if (!R) {
		JB_EarlyDecr(R);
		return;
	}
	JB_FreeIfDead(SC_TypeOfExpr(R, Name_space, nil));
	if (!JB_Tree_OperatorIn(R, Self)) {
		JB_EarlyDecr(R);
		return;
	}
	SCDecl* Arg = ((SCDecl*)JB_Array_Value(Fn->Args, Fn->StructReturnPos - 1));
	JB_Incr(Arg);
	if (SC_Decl_CanRemoveArgOnReturn(Arg, R)) {
		JB_Tree_Remove(R);
	}
	 else {
		if (true) {
			MessagePosition _usingf0 = ((MessagePosition){});
			JB_Msg_SyntaxUsing(Self, (&_usingf0));
			Message* _tmPf1 = SC_Decl_MakeAccess0(Arg);
			JB_Incr(_tmPf1);
			Message* Rel = SC_NewEqRelWithMsgMsg(_tmPf1, R);
			JB_Incr(Rel);
			JB_Decr(_tmPf1);
			(JB_Ring_PrevSibSet(Self, Rel));
			JB_FreeIfDead(SC_TypeOfExpr(Rel, Name_space, nil));
			JB_Decr(Rel);
			JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
			JB_MsgPos_Destructor((&_usingf0));
		}
	}
	JB_Decr(R);
	JB_Decr(Arg);
}

FatASM* SC_Msg_SUB(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_SUB, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_SUBM(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Sh) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_SUBM, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Sh));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

Message* JB_Msg_NeedSyxOK(Message* Self, Syntax Need, Syntax OK) {
	//cpp_part;
	if (Self) {
		Message* Found = ((Message*)JB_Ring_First(Self));
		if (Found) {
			if ((JB_Msg_EqualsSyx(Found, OK)) or ((JB_Msg_EqualsSyx(Found, Need)) or (OK == kJB_SyxNil))) {
				return Found;
			}
		}
		if (OK != kJB_SyxNil) {
			JB_Msg_CantFind(Self, Need, nil, Found);
		}
	}
	return nil;
}

Message* JB_Msg_NeedSyx(Message* Self, Syntax S) {
	//cpp_part;
	Message* Found = ((Message*)JB_Ring_First(Self));
	if (Found) {
		if ((S == nil) or (Found->Func == S)) {
			return Found;
		}
	}
	if (Self) {
		JB_Msg_CantFind(Self, S, JB_LUB[0], Found);
	}
	return nil;
}

Message* JB_Msg_NeedSyxInt(Message* Self, Syntax S, int N) {
	//cpp_part;
	Message* Ch = ((Message*)JB_Tree_Get(Self, N));
	if (Ch) {
		if ((!S) or (Ch->Func == S)) {
			return Ch;
		}
	}
	JB_Msg_CantFind(Self, S, nil, Ch);
	return nil;
}

Message* JB_Msg_NeedSyxName(Message* Self, Syntax S, JB_String* Name) {
	//cpp_part;
	Message* F = JB_Msg_NeedSyx(Self, S);
	if (JB_Msg_Expect(F, kJB_SyxNil, Name)) {
		return F;
	}
	return nil;
}

void JB_Msg_SetStr(Message* Self, JB_String* Key, JB_String* Value) {
	//cpp_part;
	Message* _tmPf0 = JB_Syx_Msg(kJB_SyxStr, Value);
	JB_Incr(_tmPf0);
	(JB_Msg_SetMsg(Self, Key, _tmPf0));
	JB_Decr(_tmPf0);
}

void JB_Msg_SetMsg(Message* Self, JB_String* Key, Message* Value) {
	//cpp_part;
	JB_Tree_SyntaxAppend(JB_Msg_AccessAdd(Self, Key), Value);
}

Message* JB_Msg_GetConf(Message* Self, JB_String* Key, bool Err) {
	//cpp_part;
	Message* Arg = JB_Msg_ConfArg(Self);
	{
		Message* Item = JB_config_ConfFirst(Arg);
		while (Item) {
			if (JB_Msg_SyntaxEquals(Item, Key, true)) {
				if (Item->Func == kJB_SyxMsg) {
					return Item;
				}
				Message* F = ((Message*)JB_Ring_First(Item));
				if (F) {
					return F;
				}
				if (Err) {
					if (true) {
						JB_Msg_Fail(Item, JB_Str_OperatorPlus(JB_LUB[881], Key));
					}
				}
				return nil;
			}
			Item = ((Message*)JB_Ring_NextSib(Item));
		};
	}
	;
	if (Err) {
		if (true) {
			JB_Msg_Fail(Self, JB_Str_OperatorPlus(Key, JB_LUB[882]));
		}
	}
	return nil;
}

void JB_Msg_AppendString(Message* Self, JB_String* Key) {
	//cpp_part;
	JB_Msg_AppendSyx(Self, kJB_SyxStr, Key);
}

void JB_Msg_AppendNum(Message* Self, int64 Num) {
	//cpp_part;
	JB_Msg_AppendSyx(Self, kJB_SyxNum, JB_int64_Render(Num, nil));
}

bool JB_Msg_SyntaxEquals(Message* Self, JB_String* Name, bool Aware) {
	return Self and JB_Str_Equals(Self->Name, Name, Aware);
}

bool JB_Msg_EqualsSyx(Message* Self, Syntax X) {
	//cpp_part;
	return Self and (Self->Func == X);
}

bool JB_Msg_SyntaxIs(Message* Self, uint /*MsgParseFlags*/ F) {
	if (Self) {
		return ((bool)(Self->Flags & F));
	}
	return false;
}

void JB_Msg_SyntaxIsSet(Message* Self, uint /*MsgParseFlags*/ F, bool Value) {
	if (Self) {
		if (Value) {
			Self->Flags = (Self->Flags | F);
		}
		 else {
			Self->Flags = (Self->Flags & (~F));
		}
	}
}

void JB_Msg_SyntaxUsing(Message* Self, MessagePosition* Rz) {
	Rz[0] = JB__Tk_Using;
	Rz->Layer = JB_Class_Layer((&MessageData));
	JB__Tk_Using.Position = Self->Position;
	JB__Tk_Using.Length = Self->RangeLength;
	JB__Tk_Using.Tag = Self->Tag;
	JB__Tk_Using.Flags = kJB__MsgParseFlags_Inserted;
	JB_Mem_Use(JB_ObjLayer(Self));
}

FatASM* SC_Msg_TAIL(Message* Self, int JUMP, int Prm1) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_TAIL, Self);
	(SC_FAT_NumInputSet(Rz, 0, JUMP));
	(SC_FAT_NumInputSet(Rz, 1, Prm1));
	return Rz;
}

bool SC_Msg_TargetTest(Message* Self) {
	while (Self->Func == kJB_SyxBra) {
		Self = ((Message*)JB_Ring_First(Self));
	};
	Syntax Fn = Self->Func;
	if (Fn == kJB_SyxRel) {
		Message* C = ((Message*)JB_Ring_Last(Self));
		int Op = SC_Msg_TargetTestOp(((Message*)JB_Tree_Second(Self)), C);
		if (!Op) {
			return nil;
		}
		bool AOK = SC_Msg_TargetTest(((Message*)JB_Ring_First(Self)));
		if ((Op == 1) == AOK) {
			return AOK;
		}
		return SC_Msg_TargetTest(C);
	}
	if ((Fn == kJB_SyxBRel) and ((JB_Msg_SyntaxEquals(Self, JB_LUB[96], false)))) {
		return (!SC_Msg_TargetThg(((Message*)JB_Ring_First(Self))));
	}
	if (JB_Msg_Expect(Self, kJB_SyxThg, nil)) {
		return SC_Msg_TargetThg(Self);
	}
	return false;
}

int SC_Msg_TargetTestOp(Message* Self, Message* C) {
	if (C) {
		JB_String* N = Self->Name;
		if (JB_Str_Equals(N, JB_LUB[465], false)) {
			return 1;
		}
		if (JB_Str_Equals(N, JB_LUB[479], false)) {
			return 2;
		}
	}
	JB_Msg_Fail(Self, nil);
	return 0;
}

bool SC_Msg_TargetThg(Message* Self) {
	if (!((!JB_Msg_SyntaxEquals(Self, JB_LUB[1348], true)) or (!JB_Msg_SyntaxEquals(Self, JB_LUB[1349], true)))) {
		JB_Msg_Fail(Self, JB_LUB[1350]);
		return nil;
	}
	if (!(!JB_Msg_SyntaxEquals(Self, JB_LUB[1351], true))) {
		JB_Msg_Fail(Self, JB_LUB[1352]);
		return nil;
	}
	if (!(!JB_Msg_SyntaxEquals(Self, JB_LUB[1353], true))) {
		JB_Msg_Fail(Self, JB_LUB[1354]);
		return nil;
	}
	if (!(!JB_Msg_SyntaxEquals(Self, JB_LUB[930], true))) {
		JB_Msg_Fail(Self, JB_LUB[1355]);
		return nil;
	}
	if (JB_Msg_SyntaxEquals(Self, JB_LUB[1356], true)) {
		return SC__Options_Mode == kSC__Options_cake;
	}
	if (JB_Msg_SyntaxEquals(Self, JB_LUB[127], true)) {
		return SC__Options_Mode == kSC__Options_cpp;
	}
	if (JB_Msg_SyntaxEquals(Self, JB_LUB[530], true)) {
		return SC__Options_TargetDebug;
	}
	if (JB_Msg_SyntaxEquals(Self, JB_LUB[659], true)) {
		return ((bool)SC__Options_PerryOutput);
	}
	if (JB_Msg_SyntaxEquals(Self, JB_LUB[1357], true)) {
		return ((bool)SC__Imp_CurrIsManuallyImported);
	}
	if (JB_Msg_SyntaxEquals(Self, JB_LUB[1358], true)) {
		return JB_Platform__OSX();
	}
	if (JB_Msg_SyntaxEquals(Self, JB_LUB[1359], true)) {
		return JB_Platform__Win();
	}
	if (JB_Msg_SyntaxEquals(Self, JB_LUB[1360], true)) {
		return JB_Platform__Lin();
	}
	if (JB_Msg_SyntaxEquals(Self, JB_LUB[1256], true)) {
		return SC_Linkage__VM();
	}
	if (JB_Msg_SyntaxEquals(Self, JB_LUB[1361], true)) {
		return SC_Linkage__Interpreter();
	}
	if (JB_Msg_SyntaxEquals(Self, JB_LUB[693], true)) {
		return SC__Options_IsDirectTest;
	}
	if (JB_Msg_SyntaxEquals(Self, JB_LUB[6], true)) {
		return true;
	}
	if (JB_Msg_SyntaxEquals(Self, JB_LUB[1240], true)) {
		return SC__Options_ProjectIsLibrary;
	}
	if (JB_Msg_SyntaxEquals(Self, JB_LUB[1362], true)) {
		return SC__Options_ProjectIsMiniLib;
	}
	return SC_SC_Targets__SyntaxAccess(Self->Name);
}

Message* SC_Msg_TaskConBefore(Message* Self) {
	Message* Marker = JB_Msg_FindSyxName(Self, kJB_SyxDot, JB_LUB[1137], false);
	if (Marker) {
		Marker = ((Message*)JB_Ring_NextSib(Marker));
	}
	 else {
		Marker = ((Message*)JB_Ring_First(Self));
	}
	if (Marker) {
		return Marker;
	}
	return JB_Msg_Msg(Self, kJB_SyxSheb, JB_LUB[1161]);
}

Message* SC_Msg_TempIntoBlock(Message* Self, Message* ParentPlace) {
	Message* Rz = nil;
	JB_Incr(Rz);
	Message* FuncMsg = ((Message*)JB_Ring_Parent(Self));
	JB_Incr(FuncMsg);
	if (!(((JB_Msg_EqualsSyx(FuncMsg, kJB_SyxDot))) and (JB_FreeIfDead(((Message*)JB_Ring_First(FuncMsg))) == Self))) {
		if (!JB_Msg_EqualsSyx(FuncMsg, kJB_SyxPrm)) {
			SC_Msg_RefDisappears(Self);
			JB_EarlyDecr(FuncMsg);
			JB_EarlyDecr(Rz);
			return nil;
		}
		JB_SetRef(FuncMsg, ((Message*)JB_Ring_Parent(FuncMsg)));
	}
	SCFunction* Fn = SC_Msg_MsgFunc(FuncMsg);
	JB_Incr(Fn);
	if (!(((JB_Msg_EqualsSyx(FuncMsg, kJB_SyxFunc)) or (JB_Msg_EqualsSyx(FuncMsg, kJB_SyxDot))) and ((!Fn) or (JB_ObjClass(Fn) == &SCFunctionData)))) {
		JB_EarlyDecr(Fn);
		JB_EarlyDecr(FuncMsg);
		JB_EarlyDecr(Rz);
		return nil;
	}
	if (!(Fn and Fn->ReturnType)) {
		JB_FreeIfDead(SC_Func__TempMoveOut(Self, ParentPlace));
		JB_EarlyDecr(Fn);
		JB_EarlyDecr(FuncMsg);
		JB_EarlyDecr(Rz);
		return nil;
	}
	JB_Decr(Fn);
	MessagePosition Using = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Self, (&Using));
	Message* Arg = SC_Msg_HasOwnBlock(FuncMsg);
	JB_Incr(Arg);
	Message* TmpFuncThg = nil;
	JB_Incr(TmpFuncThg);
	Message* TmpFuncDecl = nil;
	JB_Incr(TmpFuncDecl);
	if (Arg) {
		Message* Rel = ((Message*)JB_Ring_Parent(FuncMsg));
		JB_Incr(Rel);
		JB_SetRef(TmpFuncDecl, ((Message*)JB_Ring_Parent(Rel)));
		JB_SetRef(TmpFuncThg, ((Message*)JB_Ring_First(Rel)));
		JB_Decr(Rel);
	}
	 else {
		JB_SetRef(Arg, SC_Msg_CreateOwnBlock(FuncMsg));
		if (!Arg) {
			JB_EarlyDecr(TmpFuncDecl);
			JB_EarlyDecr(TmpFuncThg);
			JB_EarlyDecr(Arg);
			JB_MsgPos_Destructor((&Using));
			JB_EarlyDecr(FuncMsg);
			JB_EarlyDecr(Rz);
			return nil;
		}
		SCFunction* _tmPf0 = SC_Func__CurrFunc();
		JB_Incr(_tmPf0);
		JB_String* TmpFuncVar = SC_UniqueTmpVar(_tmPf0, JB_LUB[1517]);
		JB_Incr(TmpFuncVar);
		JB_Decr(_tmPf0);
		JB_SetRef(TmpFuncDecl, SC_MakeDecl(JB_LUB[0], TmpFuncVar, FuncMsg, kSC__SCDeclInfo_Temp));
		JB_SetRef(TmpFuncThg, JB_Syx_OperatorPlus(kJB_SyxThg, TmpFuncVar));
		JB_Decr(TmpFuncVar);
		JB_SetRef(TmpFuncThg->Obj, TmpFuncDecl->Obj);
		JB_Tree_SyntaxAppend(Arg, TmpFuncDecl);
		Message* Rej = SC_NewRejoin();
		JB_Incr(Rej);
		JB_Tree_SyntaxAppend(Rej, TmpFuncThg);
		JB_Tree_SyntaxAppend(Arg, Rej);
		JB_Decr(Rej);
	}
	JB_Decr(FuncMsg);
	JB_Decr(Arg);
	JB_Decr(TmpFuncThg);
	SCFunction* _tmPf1 = SC_Func__CurrFunc();
	JB_Incr(_tmPf1);
	JB_String* TmpParamName = SC_UniqueTmpVar(_tmPf1, JB_LUB[1517]);
	JB_Incr(TmpParamName);
	JB_Decr(_tmPf1);
	JB_SetRef(Rz, JB_Syx_OperatorPlus(kJB_SyxThg, TmpParamName));
	JB_FreeIfDead(SC_Msg_ReplaceWith(Self, Rz));
	Message* TmpParamDecl = SC_MakeDecl(JB_LUB[0], TmpParamName, Self, kSC__SCDeclInfo_Temp);
	JB_Incr(TmpParamDecl);
	JB_Decr(TmpParamName);
	JB_SetRef(Rz->Obj, TmpParamDecl->Obj);
	(JB_Ring_PrevSibSet(TmpFuncDecl, TmpParamDecl));
	JB_Decr(TmpFuncDecl);
	JB_EarlyDecr(TmpParamDecl);
	JB_MsgPos_Destructor((&Using));
	JB_SafeDecr(Rz);
	return Rz;
}

FatASM* SC_Msg_TERN(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4, int Small) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_TERN, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	(SC_FAT_NumInputSet(Rz, 4, Small));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

void JB_Msg_Test(Message* Self, JB_String* New_render, JB_String* Name) {
	if (!JB_Msg_TestSub(Self, New_render, Name)) {
		JB_String* _tmPf1 = JB_Str_Append4(JB_LUB[1984], Name, JB_LUB[1985], New_render);
		JB_Incr(_tmPf1);
		JB_Print(_tmPf1);
		JB_Decr(_tmPf1);
		JB_Rec_Clear(JB_StdErr);
	}
}

void JB_Msg_test_style(Message* Self) {
	bool B = false;
	{
		Message* S = Self;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Self));
		while ((S) and (S != _afterf1)) {
			Message* _N_f2 = (((Message*)JB_Ring_FlatNext0(S)));
			if ((JB_Msg_EqualsSyx(S, kJB_SyxArg)) or (JB_Msg_EqualsSyx(S, kJB_SyxList))) {
				B = (!B);
				((JB_Msg_SyntaxIsSet(S, kJB__MsgParseFlags_Style2, B)));
			}
			S = _N_f2;
		};
		;
	};
}

bool SC_Msg_TestFuncName(Message* Self) {
	Syntax Fn = Self->Func;
	if (!((Fn != kJB_SyxFunc) and ((Fn != kJB_SyxPrm) and (Fn != kJB_SyxList)))) {
		JB_Msg_Fail(Self, JB_LUB[926]);
		return nil;
	}
	if (Fn != kJB_SyxThg) {
		JB_Msg_Fail(Self, JB_LUB[1006]);
		return nil;
	}
	return true;
}

bool JB_Msg_TestSub(Message* Self, JB_String* New_render, JB_String* Name) {
	LeakTester LKT = ((LeakTester){});
	JB_Lk__New(Name, (&LKT));
	{
		Message* Reparse = JB_Str_Parse(New_render, kJB_SyxNil, true);
		JB_Incr(Reparse);
		if (!Reparse) {
			JB_EarlyDecr(Reparse);
			JB_Lk_Destructor((&LKT));
			return nil;
		}
		JB_Msg_test_style(Reparse);
		JB_Msg_test_style(Self);
		if (!JB_Msg__TreeCompare(Self, Reparse, false)) {
			JB_EarlyDecr(Reparse);
			JB_Lk_Destructor((&LKT));
			return nil;
		}
		JB_String* Self_render = JB_Msg_Render(Self, nil);
		JB_Incr(Self_render);
		if (!JB_Str_Exists(Self_render)) {
			JB_EarlyDecr(Self_render);
			JB_EarlyDecr(Reparse);
			JB_Lk_Destructor((&LKT));
			return nil;
		}
		JB_String* Reparse_render = JB_Msg_Render(Reparse, nil);
		JB_Incr(Reparse_render);
		if (!JB_Str_Exists(Reparse_render)) {
			JB_EarlyDecr(Reparse_render);
			JB_EarlyDecr(Self_render);
			JB_EarlyDecr(Reparse);
			JB_Lk_Destructor((&LKT));
			return nil;
		}
		if (!(JB_Rec_OK(JB_StdErr) and ((JB_Str_Equals(Self_render, Reparse_render, false))))) {
			JB_EarlyDecr(Reparse_render);
			JB_EarlyDecr(Self_render);
			JB_EarlyDecr(Reparse);
			JB_Lk_Destructor((&LKT));
			return nil;
		}
		JB_Decr(Self_render);
		JB_Decr(Reparse_render);
		JB_Decr(Reparse);
	}
	;
	(JB_Lk_Test((&LKT)));
	JB_Lk_Destructor((&LKT));
	return true;
}

bool JB_Msg_TextSet(Message* Self, int I, JB_String* V) {
	if (I == 0) {
		JB_SetRef(JB_Msg_TextViewChild(Self)->Name, V);
		return true;
	}
	return false;
}

Message* JB_Msg_TextViewChild(Message* Self) {
	if (!JB_Msg_EqualsSyx(Self, kJB_SyxTmp)) {
		return Self;
	}
	Message* Ch = ((Message*)JB_Ring_First(Self));
	if (Ch) {
		Message* Ch2 = ((Message*)JB_Ring_NextSib(Ch));
		if (JB_Msg_ListViewable(Ch2)) {
			return Ch2;
		}
		if (JB_Msg_ListViewable(Ch)) {
			return Ch;
		}
	}
	return Self;
}

void JB_Msg_Thg__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, Self->Name);
}

FatASM* SC_Msg_TIME(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_TIME, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

void JB_Msg_Tmp__(Message* Self, FastString* Fs) {
	JB_String* N = Self->Name;
	if (JB_Str_Exists(N) and ((JB_CharSet_ContainsStr(kJB__CharSet_NameMid, N)) and (!(JB_byte_IsInt(JB_Str_First(N)))))) {
		JB_FS_AppendString(Fs, N);
	}
	 else {
		JB_FS_AppendByte2(Fs, '+');
		JB_FS_AppendQuotedEscape(Fs, Self->Name, '\'');
	}
	Message* Ch = ((Message*)JB_Ring_First(Self));
	if (!Ch) {
		return;
	}
	bool HasArg = false;
	while (Ch) {
		if (HasArg) {
			JB_FS_LineIndent(Fs);
		}
		int Spaces = 1;
		Syntax Fn = Ch->Func;
		if (Fn == kJB_SyxArg) {
			Spaces = ((int)((!JB_Msg_SyntaxIs(Ch, kJB__MsgParseFlags_Style2))));
		}
		 else if (Fn == kJB_SyxTmp) {
			Spaces = 2;
		}
		JB_FS_AppendMultiByte(Fs, ' ', Spaces);
		JB_FS_SyntaxAppend(Fs, Ch);
		if (Fn == kJB_SyxArg) {
			HasArg = true;
		}
		Ch = ((Message*)JB_Ring_NextSib(Ch));
	};
}

void JB_Msg_Todo__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, Self->Name);
	JB_Msg_FSListSep(Self, Fs, JB_LUB[60]);
}

void SC_Msg_Tran_Isnt(Message* Self, JB_String* Name) {
	Message* Type = JB_Msg_NeedFirst(Self);
	JB_Incr(Type);
	if (!JB_Msg_ExpectLast(Type, nil)) {
		JB_EarlyDecr(Type);
		return;
	}
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Self, (&_usingf0));
		SC_Msg_BecomeSetRel(Self);
		JB_Msg_AppendSyx(Self, kJB_SyxThg, Name);
		JB_Msg_AppendSyx(Self, kJB_SyxOpp, Self->Name);
		JB_Tree_SyntaxAppend(Self, Type);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
		JB_MsgPos_Destructor((&_usingf0));
	}
	JB_Decr(Type);
}

void SC_Msg_Tran_QMark(Message* Self) {
	Message* Thedot = ((Message*)JB_Ring_First(Self));
	JB_Incr(Thedot);
	if (!Thedot) {
		JB_EarlyDecr(Thedot);
		return;
	}
	bool IsNormal = ((JB_Msg_EqualsSyx(Thedot, kJB_SyxDot)) or ((JB_Msg_EqualsSyx(Thedot, kJB_SyxSDot)) or (JB_Msg_EqualsSyx(Thedot, kJB_SyxFunc))));
	if (!IsNormal) {
		if ((!JB_Msg_EqualsSyx(Thedot, kJB_SyxThg))) {
			JB_Msg_Fail(Thedot, JB_LUB[1536]);
			JB_EarlyDecr(Thedot);
			return;
		}
		Self->Func = kJB_SyxBra;
		JB_EarlyDecr(Thedot);
		return;
	}
	if (JB_Msg_EqualsSyx(Thedot, kJB_SyxSDot)) {
		SC_Func__Tran_Sdt(Thedot);
	}
	Message* Inside = ((Message*)JB_Ring_First(Thedot));
	JB_Incr(Inside);
	if (JB_Msg_EqualsSyx(Thedot, kJB_SyxFunc)) {
		if (!JB_Msg_Expect(Inside, kJB_SyxBra, nil)) {
			JB_EarlyDecr(Inside);
			JB_EarlyDecr(Thedot);
			return;
		}
		JB_SetRef(Inside, ((Message*)JB_Ring_First(Inside)));
	}
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Self, (&_usingf0));
	Message* Rel = SC_Msg_QMarkRel(Self);
	JB_Incr(Rel);
	if (Rel) {
		(JB_Ring_PrevSibSet(Self, Thedot));
		(JB_Ring_NextSibSet(Rel, Self));
		JB_Msg_BecomeStr(Self, kJB_SyxArg, JB_LUB[0]);
		Message* _tmPf1 = JB_Syx_Msg(kJB_SyxThg, JB_LUB[1537]);
		JB_Incr(_tmPf1);
		JB_FreeIfDead(SC_Msg_ReplaceWith(Inside, _tmPf1));
		JB_Decr(_tmPf1);
		Message* Decl = SC_MakeDecl(JB_LUB[0], JB_LUB[1537], Inside, kSC__SCDeclInfo_Temp);
		JB_Incr(Decl);
		JB_Tree_SyntaxAppend(Self, Decl);
		Message* _tmPf2 = JB_Msg_Msg(Decl, kJB_SyxArg, JB_LUB[0]);
		JB_Incr(_tmPf2);
		JB_Decr(Decl);
		JB_Tree_SyntaxAppend(_tmPf2, Rel);
		JB_EarlyDecr(_tmPf2);
		JB_EarlyDecr(Rel);
		JB_MsgPos_Destructor((&_usingf0));
		JB_EarlyDecr(Inside);
		JB_EarlyDecr(Thedot);
		return;
	}
	JB_Decr(Rel);
	Message* Tern = Self;
	JB_Incr(Tern);
	if (JB_Msg_OperatorIn(Self, kJB_SyxArg)) {
		JB_Msg_BecomeStr(Self, kJB_SyxArg, JB_LUB[0]);
		(JB_Msg_SyntaxIsSet(Self, kJB__MsgParseFlags_Style2, true));
	}
	 else if ((JB_Msg_EqualsSyx(Inside, kJB_SyxThg))) {
		Self->Func = kJB_SyxFunc;
	}
	 else {
		Self->Func = kJB_SyxBra;
		JB_SetRef(Tern, JB_Msg_Msg(Self, kJB_SyxArg, JB_LUB[0]));
		(JB_Msg_SyntaxIsSet(Tern, kJB__MsgParseFlags_Style2, true));
		JB_SetRef(Tern, JB_Msg_Msg(Tern, kJB_SyxFunc, JB_LUB[0]));
	}
	Message* Cond = JB_Syx_OperatorPlus(kJB_SyxThg, Inside->Name);
	JB_Incr(Cond);
	if (JB_Msg_OperatorIn(Self, kJB_SyxArg)) {
		JB_SetRef(Tern, JB_Msg_Msg(Self, kJB_SyxTmp, JB_LUB[397]));
		JB_Tree_SyntaxAppend(Tern, Cond);
		Message* _tmPf3 = JB_Msg_Msg(Tern, kJB_SyxArg, JB_LUB[0]);
		JB_Incr(_tmPf3);
		JB_Tree_SyntaxAppend(_tmPf3, Thedot);
		JB_Decr(_tmPf3);
	}
	 else {
		Message* Options = JB_Msg_Msg(Tern, kJB_SyxList, JB_LUB[0]);
		JB_Incr(Options);
		Message* _tmPf4 = JB_Msg_Msg(Tern, kJB_SyxPrm, JB_LUB[0]);
		JB_Incr(_tmPf4);
		JB_Tree_SyntaxAppend(_tmPf4, Cond);
		JB_Decr(_tmPf4);
		JB_Tree_SyntaxAppend(Options, Thedot);
		JB_Msg_AppendSyx(Options, kJB_SyxThg, JB_LUB[100]);
		JB_Decr(Options);
	}
	JB_Decr(Thedot);
	if ((!JB_Msg_EqualsSyx(Inside, kJB_SyxThg))) {
		JB_SetRef(Cond->Name, JB_LUB[1537]);
		Message* _tmPf5 = JB_Syx_Msg(kJB_SyxThg, JB_LUB[1537]);
		JB_Incr(_tmPf5);
		JB_FreeIfDead(SC_Msg_ReplaceWith(Inside, _tmPf5));
		JB_Decr(_tmPf5);
		Message* _tmPf6 = SC_MakeDecl(JB_LUB[0], JB_LUB[1537], Inside, kSC__SCDeclInfo_Temp);
		JB_Incr(_tmPf6);
		(JB_Ring_PrevSibSet(Tern, _tmPf6));
		JB_Decr(_tmPf6);
	}
	JB_Decr(Inside);
	JB_Decr(Tern);
	JB_Decr(Cond);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
	JB_MsgPos_Destructor((&_usingf0));
}

Message* SC_Msg_Tran_Target(Message* Self) {
	Message* Rz = nil;
	JB_Incr(Rz);
	SC_Msg_Tran_TargetSub(Self);
	JB_SetRef(Rz, ((Message*)JB_Ring_NextSib(Self)));
	if (!Rz) {
		JB_SetRef(Rz, ((Message*)JB_Ring_FlatAfter(Self)));
	}
	JB_Tree_Remove(Self);
	JB_SafeDecr(Rz);
	return Rz;
}

void SC_Msg_Tran_TargetSub(Message* Self) {
	Message* Value = JB_Msg_NeedFirst(Self);
	if (!Value) {
		return;
	}
	Message* Arg = JB_Msg_NeedSyxInt(Self, kJB_SyxArg, 1);
	if (!Arg) {
		return;
	}
	if (!SC_Msg_TargetTest(Value)) {
		Arg = JB_Msg_NeedSyx(((Message*)JB_Tree_Get(Self, 2)), kJB_SyxArg);
	}
	while (JB_Ring_HasChildren(Arg)) {
		(JB_Ring_NextSibSet(Self, ((Message*)JB_Tree_Pop(Arg))));
	};
}

void SC_Msg_Tran_With(Message* Self) {
	Message* Obj = JB_Msg_NeedFirst(Self);
	JB_Incr(Obj);
	if (!(Obj and (!JB_Msg_EqualsSyx(Obj, kJB_SyxArg)))) {
		JB_EarlyDecr(Obj);
		return;
	}
	Message* Arg = JB_Msg_NextOf(Obj, kJB_SyxArg, nil);
	JB_Incr(Arg);
	if (JB_Msg_EqualsSyx(Obj, kJB_SyxRel)) {
		if (true) {
			JB_Msg_Fail(Obj, nil);
		}
	}
	if (!(Arg and (!JB_Msg_EqualsSyx(Obj, kJB_SyxRel)))) {
		JB_EarlyDecr(Arg);
		JB_EarlyDecr(Obj);
		return;
	}
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Obj, (&_usingf0));
	JB_String* Name = Obj->Name;
	JB_Incr(Name);
	Message* If = Self;
	JB_Incr(If);
	if (Obj->Func == kJB_SyxThg) {
		JB_SetRef(Self->Name, JB_LUB[397]);
	}
	 else {
		JB_Msg_BecomeStr(Self, kJB_SyxArg, JB_LUB[0]);
		JB_SetRef(If, JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[397]));
		(JB_Ring_FirstSet(Self, If));
		JB_Tree_SyntaxAppend(If, Obj);
		JB_Tree_SyntaxAppend(If, Arg);
		Message* Dcl = SC_Func__TypedTempMoveOut(Obj, JB_LUB[0], nil);
		JB_Incr(Dcl);
		Message* _tmPf4 = SC_Msg_DeclName(Dcl);
		JB_Incr(_tmPf4);
		JB_Decr(Dcl);
		JB_SetRef(Name, _tmPf4->Name);
		JB_Decr(_tmPf4);
	}
	Message* _tmPf5 = ((Message*)JB_Ring_First(If));
	JB_Incr(_tmPf5);
	JB_Decr(If);
	JB_FreeIfDead(SC_Msg_WrapWith(_tmPf5, kJB_SyxBra, JB_LUB[689]));
	{
		Message* Ch = Arg;
		JB_Incr(Ch);
		Message* _afterf2 = ((Message*)JB_Ring_FlatAfter(Arg));
		JB_Incr(_afterf2);
		while ((Ch) and (Ch != _afterf2)) {
			Message* _N_f3 = ((Message*)JB_Ring_FlatNext0(Ch));
			JB_Incr(_N_f3);
			if (JB_Msg_EqualsSyx(Ch, kJB_SyxTmp)) {
				if ((JB_Msg_SyntaxEquals(Ch, JB_LUB[1809], false)) or (JB_Msg_SyntaxEquals(Ch, JB_LUB[1810], false))) {
					SC_Msg_Tran_Isnt(Ch, JB_LUB[1811]);
					Ch = Ch;
					JB_EarlyDecr(_N_f3);
					continue;
				}
				 else if (JB_Msg_SyntaxEquals(Ch, JB_LUB[1812], false)) {
					JB_SetRef(Ch, ((Message*)JB_Ring_FlatAfter(Ch)));
					JB_EarlyDecr(_N_f3);
					continue;
				}
			}
			 else if (JB_Msg_EqualsSyx(Ch, kJB_SyxSDot)) {
				Ch->Func = kJB_SyxDot;
				Message* _tmPf6 = JB_Syx_OperatorPlus(kJB_SyxThg, Name);
				JB_Incr(_tmPf6);
				(JB_Ring_FirstSet(Ch, _tmPf6));
				JB_Decr(_tmPf6);
			}
			 else if (JB_Msg_EqualsSyx(Ch, kJB_SyxThg)) {
				if (JB_Msg_SyntaxEquals(Ch, JB_LUB[1811], false)) {
					JB_SetRef(Ch->Name, Name);
				}
			}
			JB_SetRef(Ch, _N_f3);
			JB_Decr(_N_f3);
		};
		JB_Decr(Ch);
		JB_Decr(_afterf2);
		;
		JB_Decr(_tmPf5);
	}
	;
	JB_Decr(Arg);
	JB_Decr(Name);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Obj);
	JB_Decr(Obj);
	JB_MsgPos_Destructor((&_usingf0));
}

void SC_Msg_TranAllTargets(Message* Self) {
	{
		Message* S = Self;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Self));
		while ((S) and (S != _afterf1)) {
			Message* _N_f2 = (((Message*)JB_Ring_FlatNext0(S)));
			if (JB_Msg_SyntaxEquals(S, JB_LUB[1808], false)) {
				S = SC_Msg_Tran_Target(S);
				continue;
			}
			S = _N_f2;
		};
		;
	};
}

Message* SC_Msg_TranModel(Message* Self) {
	Message* Arg = JB_Msg_Last(Self, kJB_SyxArg);
	JB_Incr(Arg);
	if (!Arg) {
		JB_EarlyDecr(Arg);
		return nil;
	}
	Message* Shader = SC_Msg_ParseShaderSub(Arg);
	JB_Incr(Shader);
	JB_Decr(Arg);
	if (!Shader) {
		JB_EarlyDecr(Shader);
		return nil;
	}
	JB_SetRef(Self->Name, JB_LUB[449]);
	JB_SafeDecr(Shader);
	return Shader;
}

FatASM* SC_Msg_TRAP(Message* Self, ASMReg R1, int Upon) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_TRAP, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_NumInputSet(Rz, 1, Upon));
	return Rz;
}

void JB_Msg_TRel__(Message* Self, FastString* Fs) {
	JB_Msg_RenderWithSpaces(Self, Fs, nil);
}

void JB_Msg_Tril__(Message* Self, FastString* Fs) {
	Message* F = ((Message*)JB_Ring_First(Self));
	if (!F) {
		return;
	}
	JB_FS_AppendByte2(Fs, '#');
	JB_FS_SyntaxAppend(Fs, F);
	Message* S = ((Message*)JB_Ring_NextSib(F));
	if (!S) {
		return;
	}
	JB_FS_AppendByte2(Fs, ' ');
	JB_FS_SyntaxAppend(Fs, S);
	Message* L = ((Message*)JB_Ring_NextSib(S));
	if (!L) {
		return;
	}
	JB_FS_AppendByte2(Fs, ' ');
	JB_FS_SyntaxAppend(Fs, L);
}

int SC_Msg_TrinInt(Message* Self) {
	return JB_Msg_Int(((Message*)JB_Ring_First(Self)), 0);
}

MaybeBool SC_Msg_Trueness(Message* Self, uint /*NilState*/ Found) {
	SCDecl* D = SC_Msg_FastDecl(Self);
	SCDecl* Ret = SC__nil_T.Return;
	if (!Ret) {
		return nil;
	}
	if (SC_Decl_FastMatch(D, Ret)) {
		uint N = D->NilDeclared;
		if (N & kSC__NilState_KnownValue) {
			return JB_MaybeBool__Known(SC_NilState_SyntaxIs(N, kSC__NilState_TrueValue));
		}
		if (Found & kSC__NilState_KnownValue) {
			return JB_MaybeBool__Known(SC_NilState_SyntaxIs(Found, kSC__NilState_TrueValue));
		}
	}
	 else if (SC_Decl_IsDataTypeOnly(Ret) and SC_Decl_IsDataTypeOnly(D)) {
		while ((JB_Msg_EqualsSyx(Self, kJB_SyxArg)) or (JB_Msg_EqualsSyx(Self, kJB_SyxBra))) {
			Self = ((Message*)JB_Ring_Last(Self));
		};
		if (SC_Msg_operatormatches(Self, Ret->Type->False)) {
			return JB_MaybeBool__Known(false);
		}
	}
	return ((MaybeBool)8);
}

bool SC_Msg_TrueOrFalse(Message* Self) {
	if (JB_Msg_SyntaxEquals(Self, JB_LUB[6], true)) {
		return true;
	}
	if (JB_Msg_SyntaxEquals(Self, JB_LUB[7], true)) {
		return false;
	}
	if (true) {
		JB_Msg_Fail(Self, JB_LUB[1007]);
	}
	return false;
}

int SC_Msg_TryImproveShiftConstants(Message* Self, SCDecl* LC, SCDecl* RC) {
	int64 Lk = SC_Decl_ExportPosition(LC);
	bool Uk = SC_Decl_SyntaxIs(LC, kSC__SCDeclInfo_UnknownConst);
	int64 Rk = SC_Decl_ExportPosition(RC);
	if (!((Lk | Rk) or Uk)) {
		return 0;
	}
	int64 Nk = Lk << Rk;
	int Size = SC_int64_BitsNeeded(Nk);
	if (!(Uk or (Size > JB_TC_BitCount(SC_Decl_TypeInfo(LC))))) {
		return 0;
	}
	SCClass* Ty = ((SCClass*)JB_Ternary(Size > 32, SC_TypeInt64, SC_TypeInt));
	if (Uk and (Rk > 32)) {
		Ty = SC_TypeInt64;
	}
	SCDecl* Ty2 = SC_Decl_CopyDecl(Ty->TypeNormal, false);
	JB_SetRef(Self->Obj, Ty2);
	(SC_Decl_SyntaxIsSet(Ty2, kSC__SCDeclInfo_Const, true));
	if (Uk) {
		(SC_Decl_SyntaxIsSet(Ty2, kSC__SCDeclInfo_UnknownConst, true));
	}
	 else {
		(SC_Decl_ExportPositionSet(Ty2, Nk));
		JB_Msg_BecomeStr(Self, kJB_SyxNum, JB_int64_Render(((int64)Nk), nil));
		JB_Tree_Clear(Self);
	}
	return kSC__CustomOps_RecheckType;
}

void JB_Msg_Type__(Message* Self, FastString* Fs) {
	Message* Obj = ((Message*)JB_Ring_First(Self));
	if (!Obj) {
		return;
	}
	Message* Type = ((Message*)JB_Ring_NextSib(Obj));
	JB_FS_SyntaxAppend(Fs, Obj);
	JB_FS_AppendByte2(Fs, '|');
	if (Type) {
		JB_FS_SyntaxAppend(Fs, Type);
	}
	JB_FS_AppendByte2(Fs, '|');
}

bool SC_Msg_TypeCastDoesNothing(Message* Self) {
	uint Output = SC_Decl_TypeOnly(SC_Msg_ASMDecl(Self));
	uint Input = SC_Decl_TypeOnly(SC_Msg_ASMDecl(((Message*)JB_Ring_First(Self))));
	if (JB_TC_VecCount(Output) != JB_TC_VecCount(Input)) {
		return nil;
	}
	if (JB_TC_IsFloat(Output) != JB_TC_IsFloat(Input)) {
		return nil;
	}
	if ((JB_TC_SyntaxIs(Output, kJB__TC_bool)) == (JB_TC_SyntaxIs(Input, kJB__TC_bool))) {
		return JB_TC_ByteCount(Input) == JB_TC_ByteCount(Output);
	}
	return false;
}

void SC_Msg_TypeExpect(Message* Self, uint /*DataTypeCode*/& Ty, uint /*DataTypeCode*/ In) {
	uint V = Ty;
	if (V) {
		if ((V != In) and (V != kJB__TC_Failed)) {
			Ty = kJB__TC_Failed;
			if (true) {
				JB_Msg_Fail(Self, JB_LUB[1008]);
			}
		}
	}
	 else {
		Ty = In;
	}
}

Message* SC_Msg_TypeOfArrItem(Message* Self) {
	if (JB_Msg_EqualsSyx(Self, kJB_SyxList)) {
		return ((Message*)JB_Ring_First(Self));
	}
	if (((JB_Msg_EqualsSyx(Self, kJB_SyxRel))) and (SC_Msg_OperatorIsThing(((Message*)JB_Tree_Second(Self)), JB_LUB[466]))) {
		return ((Message*)JB_Ring_First(Self));
	}
	return Self;
}

FatASM* SC_Msg_UCLM(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4, int Small) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_UCLM, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	(SC_FAT_NumInputSet(Rz, 4, Small));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

Message* SC_Msg_UnBra(Message* Self) {
	while ((JB_Msg_EqualsSyx(Self, kJB_SyxBra)) and (!JB_Msg_EqualsSyx(((Message*)JB_Ring_First(Self)), kJB_SyxArg))) {
		Self = ((Message*)JB_Ring_First(Self));
	};
	return Self;
}

Message* SC_Msg_UnBraType(Message* Self) {
	while (((JB_Msg_EqualsSyx(Self, kJB_SyxType))) or ((JB_Msg_EqualsSyx(Self, kJB_SyxBra)) and (!JB_Msg_EqualsSyx(((Message*)JB_Ring_First(Self)), kJB_SyxArg)))) {
		Self = ((Message*)JB_Ring_First(Self));
	};
	return Self;
}

void JB_Msg_UnEmbedStr(Message* Self) {
	Message* S1 = ((Message*)JB_Ring_First(Self));
	JB_Incr(S1);
	if (((JB_Msg_EqualsSyx(S1, kJB_SyxEmb))) and (!JB_FreeIfDead(((Message*)JB_Ring_NextSib(S1))))) {
		JB_Tree_Remove(S1);
		JB_SetRef(Self->Name, S1->Name);
	}
	JB_Decr(S1);
}

void JB_Msg_Unit__(Message* Self, FastString* Fs) {
	JB_String* Num = JB_Msg_FirstName(Self);
	JB_FS_AppendString(Fs, Num);
	if ((JB_Str_IsHexLike(Num, 0)) and (JB_Str_Last(Num, 0) != '_')) {
		JB_FS_AppendByte2(Fs, '_');
	}
	JB_FS_AppendString(Fs, Self->Name);
}

bool SC_Msg_UnitMatch(Message* Self, JB_String* A, JB_String* B) {
	JB_String* Unit = Self->Name;
	if (JB_Str_Equals(Unit, A, false)) {
		return true;
	}
	if (JB_Str_Equals(Unit, B, false)) {
		if (true) {
			JB_Msg_Fail(Self, JB_Str_OperatorPlus(JB_LUB[1009], A));
		}
	}
	return false;
}

Message* SC_Msg_UnReachable(Message* Self) {
	return SC_Msg_CausesUnReachable(Self, Self, nil, nil);
}

Message* SC_Msg_Unwrap(Message* Self) {
	Message* Rz = nil;
	Rz = Self;
	while (SC_Msg_RefTransparent(Rz)) {
		Message* F = ((Message*)JB_Ring_First(Rz));
		if (!F) {
			break;
		}
		Rz = F;
	};
	return Rz;
}

Message* SC_Msg_UpToArg(Message* Self) {
	while (true) {
		Message* P = ((Message*)JB_Ring_Parent(Self));
		if (P->Func == kJB_SyxArg) {
			return Self;
		}
		Self = P;
	};
}

Message* SC_Msg_UpToType(Message* Self) {
	Message* C = Self;
	while (C) {
		Message* P = ((Message*)JB_Ring_Parent(C));
		if (JB_Msg_EqualsSyx(P, kJB_SyxType)) {
			if (!JB_Tree_IsLast(C)) {
				return nil;
			}
			return P;
		}
		C = P;
	};
	return nil;
}

void JB_Msg_URL__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, Self->Name);
	JB_FS_AppendString(Fs, JB_LUB[50]);
	Message* F = ((Message*)JB_Ring_First(Self));
	if (F) {
		JB_FS_AppendString(Fs, F->Name);
	}
}

Message* SC_Msg_UseNonRefChangers(Message* Self, bool Parent) {
	Message* Last = Self;
	Message* Curr = Self;
	while (true) {
		Curr = ((Message*)JB_Ring_Parent(Curr));
		if (!Curr) {
			return Last;
		}
		Syntax F = Curr->Func;
		if (F == kJB_SyxType) {
			JB_Object* D = Curr->Obj;
			if (JB_Object_FastIsa(D, &SCDeclData)) {
				if (!SC_Decl_IsNormalObject(((SCDecl*)D))) {
					return ((Message*)JB_Ternary(Parent, Curr, Last));
				}
			}
		}
		 else if (!SC_Msg_RefTransparent(Curr)) {
			return ((Message*)JB_Ternary(Parent, Curr, Last));
		}
		Last = Curr;
	};
}

FatASM* SC_Msg_VABS(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VABS, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VADD(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4, int D) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VADD, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	(SC_FAT_NumInputSet(Rz, 4, D));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VADK(Message* Self, ASMReg R1, ASMReg R2, int High) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VADK, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, High));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

JB_String* JB_Msg_Value(Message* Self) {
	if (Self) {
		if (JB_Msg_EqualsSyx(Self, kJB_SyxMsg)) {
			return JB_Msg_FirstName(Self);
		}
		if ((JB_Msg_EqualsSyx(Self, kJB_SyxTmp)) and JB_Msg_OperatorIn(Self, kJB_SyxArg)) {
			return JB_Msg_FirstName(Self);
		}
		if (!JB_Msg_EqualsSyx(Self, kJB_SyxArg)) {
			return Self->Name;
		}
		return JB_Msg_FirstName(Self);
	}
	return JB_LUB[0];
}

void SC_Msg_VariableParamSafety(Message* Self) {
	if (!JB_Ring_HasChildren(Self)) {
		return;
	}
	Syntax Fn = Self->Func;
	if ((Fn == kJB_SyxBRel) or (Fn == kJB_SyxARel)) {
		uint S = JB_Str_First(Self->Name);
		if ((S == '-') or (S == '+')) {
			return SC_Msg_DenyPreviousUse(Self, Self);
		}
	}
	 else {
		{
			Message* Ch = Self;
			Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Self));
			while ((Ch) and (Ch != _afterf1)) {
				Message* _N_f2 = (((Message*)JB_Ring_FlatNext0(Ch)));
				Fn = Ch->Func;
				if ((Fn == kJB_SyxBRel) or (Fn == kJB_SyxARel)) {
					uint S = JB_Str_First(Ch->Name);
					if ((S == '&') or ((S == '-') or (S == '+'))) {
						SC_Msg_DenyPreviousUse(Self, Ch);
					}
				}
				Ch = _N_f2;
			};
			;
		};
	}
}

JB_String* SC_Msg_VarName(Message* Self) {
	Message* Ch = JB_Msg_NeedSyxInt(Self, kJB_SyxNil, 1);
	if (Ch) {
		Syntax F = Ch->Func;
		if (F == kJB_SyxRel) {
			Ch = ((Message*)JB_Ring_First(Ch));
			F = Ch->Func;
		}
		if (F == kJB_SyxThg) {
			return Ch->Name;
		}
		if (true) {
			JB_Msg_Fail(Ch, nil);
		}
	}
	return JB_LUB[0];
}

FatASM* SC_Msg_VBLD(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4, ASMReg R5) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VBLD, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	(SC_FAT_Prm(Rz, 4, R5));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VCLM(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VCLM, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VCOS(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VCOS, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VCRS(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VCRS, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VDIV(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4, int D) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VDIV, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	(SC_FAT_NumInputSet(Rz, 4, D));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VDOT(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VDOT, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VEXP(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VEXP, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VFLR(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VFLR, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VFRC(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VFRC, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VGET(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Ind) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VGET, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Ind));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

bool SC_Msg_visible(Message* Self) {
	MaybeBool B = SC_Msg_visible2(Self);
	if (JB_MaybeBool_IsKnown(B)) {
		return JB_MaybeBool_KnownTrue(B);
	}
	return SC__Base_CurrVisibility;
}

void SC_Msg_visibleSet(Message* Self, bool Value) {
	Self->Indent = (255 - Value);
}

MaybeBool SC_Msg_visible2(Message* Self) {
	if (Self) {
		uint I = Self->Indent;
		if (I >= 254) {
			return ((MaybeBool)(I == 254));
		}
	}
	return ((MaybeBool)8);
}

FatASM* SC_Msg_VLG2(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VLG2, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VLNG(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VLNG, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VLOG(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VLOG, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VMAX(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VMAX, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

int SC_Msg_VMBits(Message* Self) {
	int Rz = 0;
	{
		Message* S = ((Message*)JB_Ring_First(Self));
		while (S) {
			Message* _Nf1 = (((Message*)JB_Ring_NextSib(S)));
			if (JB_Msg_EqualsSyx(S, kJB_SyxNum)) {
				Rz = (Rz | (1 << (JB_Msg_IntRange(S, 0, 1, 3) - 1)));
			}
			S = _Nf1;
		};
		;
	}
	;
	if (!Rz) {
		Rz = 1;
	}
	return Rz;
}

FatASM* SC_Msg_VMIN(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VMIN, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VMIX(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VMIX, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VMLK(Message* Self, ASMReg R1, ASMReg R2, int High) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VMLK, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, High));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

JB_String* SC_Msg_VMMsgArgName(Message* Self, int I) {
	if (Self) {
		return Self->Name;
	}
	return JB_Str__Byte('a' + I);
}

FatASM* SC_Msg_VMOD(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4, int D) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VMOD, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	(SC_FAT_NumInputSet(Rz, 4, D));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VMOV(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VMOV, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VMUL(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4, int D) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VMUL, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	(SC_FAT_NumInputSet(Rz, 4, D));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VNAT(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VNAT, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VNIS(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VNIS, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VPOW(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VPOW, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VRFL(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VRFL, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VRND(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VRND, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VSET(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Ind) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VSET, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Ind));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VSGN(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VSGN, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VSIN(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VSIN, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VSMS(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, ASMReg R4) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VSMS, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_Prm(Rz, 3, R4));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VSOC(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VSOC, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VSQT(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VSQT, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VSUM(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VSUM, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VSWZ(Message* Self, ASMReg R1, ASMReg R2, int Fields) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VSWZ, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, Fields));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VTAN(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VTAN, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_VXP2(Message* Self, ASMReg R1, ASMReg R2) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_VXP2, Self);
	(SC_FAT_Prm(Rz, 1, R2));
	SC_FAT_Dest(Rz, 0, R1, A);
	return Rz;
}

FatASM* SC_Msg_WCPY(Message* Self, ASMReg R1, ASMReg R2, int Length) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_WCPY, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_NumInputSet(Rz, 2, Length));
	return Rz;
}

Message* SC_Msg_WipePos(Message* Self, int V) {
	{
		Message* S = Self;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Self));
		while ((S) and (S != _afterf1)) {
			Message* _N_f2 = (((Message*)JB_Ring_FlatNext0(S)));
			S->Position = V;
			S = _N_f2;
		};
		;
	}
	;
	return Self;
}

void SC_Msg_WithDeclTransform(Message* Self, Message* Decl, Message* Rel, Message* Arg) {
	if (!JB_Msg_Expect(Rel, kJB_SyxRel, nil)) {
		return;
	}
	Message* Name = JB_Msg_NeedSyx(Rel, kJB_SyxThg);
	JB_Incr(Name);
	if (Name) {
		//using;
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Arg, (&_usingf0));
		Message* IF = JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[397]);
		JB_Incr(IF);
		(JB_Ring_NextSibSet(Decl, IF));
		JB_Msg_AppendSyx(IF, kJB_SyxThg, Name->Name);
		JB_Tree_SyntaxAppend(IF, Arg);
		JB_Decr(IF);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Arg);
		JB_MsgPos_Destructor((&_usingf0));
	}
	JB_Decr(Name);
}

bool SC_Msg_WithinLoop(Message* Self, Message* Stop) {
	while ((Self != Stop) and Self) {
		if (SC_Msg_OperatorIsTmp(Self, JB_LUB[398]) or SC_Msg_OperatorIsTmp(Self, JB_LUB[466])) {
			return true;
		}
		Self = ((Message*)JB_Ring_Parent(Self));
	};
	return false;
}

bool JB_Msg_WithinType(Message* Self, int Allowed) {
	Message* P = ((Message*)JB_Ring_Parent(Self));
	Message* Msg = Self;
	while (P and (!JB_Msg_EqualsSyx(P, kJB_SyxArg))) {
		if ((Allowed & 1) and ((JB_Msg_EqualsSyx(P, kJB_SyxDecl)))) {
			return JB_Tree_IsFirst(Msg);
		}
		if ((Allowed & 2) and ((JB_Msg_EqualsSyx(P, kJB_SyxType)))) {
			return JB_Tree_IsLast(Msg);
		}
		Msg = P;
		P = ((Message*)JB_Ring_Parent(P));
	};
	return false;
}

FatASM* SC_Msg_WR16(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Offset, int Move) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_WR16, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Offset));
	(SC_FAT_NumInputSet(Rz, 4, Move));
	return Rz;
}

FatASM* SC_Msg_WR1U(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Offset, int Move) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_WR1U, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Offset));
	(SC_FAT_NumInputSet(Rz, 4, Move));
	return Rz;
}

FatASM* SC_Msg_WR2U(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Offset, int Move) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_WR2U, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Offset));
	(SC_FAT_NumInputSet(Rz, 4, Move));
	return Rz;
}

FatASM* SC_Msg_WR4U(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Offset, int Move) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_WR4U, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Offset));
	(SC_FAT_NumInputSet(Rz, 4, Move));
	return Rz;
}

FatASM* SC_Msg_WR8U(Message* Self, ASMReg R1, ASMReg R2, ASMReg R3, int Offset, int Move) {
	FatASM* Rz = nil;
	//visible;
	Assembler* A = (&SC__Pac_Sh);
	Rz = SC_Pac_RequestOp(A, kSC__ASM_WR8U, Self);
	(SC_FAT_Prm(Rz, 0, R1));
	(SC_FAT_Prm(Rz, 1, R2));
	(SC_FAT_Prm(Rz, 2, R3));
	(SC_FAT_NumInputSet(Rz, 3, Offset));
	(SC_FAT_NumInputSet(Rz, 4, Move));
	return Rz;
}

int SC_Msg_WrapExpr(Message* Self, SCDecl* Src) {
	if (!Self) {
		return kJB_kNeedsTypeCast;
	}
	Message* W = JB_Syx_OperatorPlus(kJB_SyxDot, JB_LUB[688]);
	JB_Incr(W);
	JB_Msg_AppendSyx(W, kJB_SyxThg, JB_LUB[1813]);
	JB_Msg_AppendSyx(W, kJB_SyxEmb, JB_LUB[0]);
	if (SC_Decl_IsFloat(Src)) {
		JB_SetRef(W->Name, JB_LUB[1814]);
	}
	JB_FreeIfDead(SC_Msg_ReplaceWith(Self, W));
	Message* _tmPf0 = ((Message*)JB_Ring_Last(W));
	JB_Incr(_tmPf0);
	JB_Tree_SyntaxAppend(_tmPf0, Self);
	JB_Decr(_tmPf0);
	JB_FreeIfDead(SC_TypeOfExpr(W, SC__Comp_Program, nil));
	SCDecl* D = SC_Msg_AsDecl(Self);
	JB_Incr(D);
	if (D) {
		JB_SetRef(W->Obj, SC_Decl_NewWrapper(D, D));
	}
	 else {
	}
	JB_Decr(W);
	JB_EarlyDecr(D);
	return kJB_kCastedMatch;
}

void SC_Msg_WrapFloatOrInt(Message* Self, uint /*DataTypeCode*/ T, int N, SCDecl* D) {
	if (!((T != kJB__TC_Float) and (T != kJB__TC_Int))) {
		return;
	}
	SCClass* V = SC_VecType(JB_TC_IsFloat(T), N);
	JB_Incr(V);
	if (!SC_Decl_OperatorExact_isa(D, V)) {
		//using;
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Self, (&_usingf0));
		Message* W = JB_Syx_Msg(kJB_SyxType, JB_LUB[0]);
		JB_Incr(W);
		Message* Thg = JB_Msg_Msg(W, kJB_SyxThg, V->Name);
		JB_Incr(Thg);
		JB_SetRef(Thg->Obj, V->TypeNormal);
		JB_Decr(Thg);
		JB_SetRef(W->Obj, V->TypeNormal);
		JB_FreeIfDead(((Message*)JB_Tree_WrapWith(Self, W)));
		JB_Decr(W);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Self);
		JB_MsgPos_Destructor((&_usingf0));
	}
	JB_Decr(V);
}

JB_String* SC_Msg_WrapperCpp(Message* Self) {
	if (Self) {
		Message* Ch = ((Message*)JB_Ring_First(Self));
		if (Ch) {
			return Ch->Name;
		}
		return Self->Name;
	}
	return JB_LUB[0];
}

Message* SC_Msg_WrapWith(Message* Self, Syntax F, JB_String* S) {
	Message* Rz = nil;
	Rz = JB_Syx_OperatorPlus(F, S);
	(JB_Ring_PrevSibSet(Self, Rz));
	JB_Tree_SyntaxAppend(Rz, Self);
	return Rz;
}

void JB_Msg_XAtt__(Message* Self, FastString* Fs) {
	//;
	JB_FS_AppendByte(Fs, ' ');
	JB_FS_AppendString(Fs, Self->Name);
	JB_FS_AppendString(Fs, JB_LUB[544]);
	JB_FS_SyntaxAppend(Fs, ((Message*)JB_Ring_First(Self)));
	JB_FS_AppendByte(Fs, '"');
	//;
}

void JB_Msg_XCDT__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, JB_LUB[51]);
	JB_FS_AppendString(Fs, Self->Name);
	JB_FS_AppendString(Fs, JB_LUB[52]);
}

void JB_Msg_XCom__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, JB_LUB[53]);
	JB_FS_AppendString(Fs, Self->Name);
	JB_FS_AppendString(Fs, JB_LUB[54]);
}

void JB_Msg_XDTD__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, JB_LUB[55]);
	JB_FS_AppendString(Fs, Self->Name);
	JB_FS_AppendByte(Fs, '>');
}

void JB_Msg_XML__(Message* Self, FastString* Fs) {
	JB_FS_AppendByte(Fs, '<');
	JB_FS_AppendString(Fs, Self->Name);
	Message* Atts = ((Message*)JB_Ring_First(Self));
	{
		Message* A = ((Message*)JB_Ring_First(Atts));
		while (A) {
			Message* _Nf2 = ((Message*)JB_Ring_NextSib(A));
			JB_FS_SyntaxAppend(Fs, A);
			A = _Nf2;
		};
		;
	}
	;
	Message* Children = ((Message*)JB_Ring_NextSib(Atts));
	if (!Children) {
		JB_FS_AppendString(Fs, JB_LUB[545]);
		return;
	}
	JB_FS_AppendByte(Fs, '>');
	bool SingleText = ((JB_Msg_EqualsSyx(Children, kJB_SyxXTxt))) and ((!((Message*)JB_Ring_NextSib(Children))));
	if (SingleText) {
		JB_FS_SyntaxAppend(Fs, Children);
	}
	 else {
		(++Fs->Indent);
		{
			Message* Ch = Children;
			while (Ch) {
				JB_FS_LineIndent(Fs);
				JB_FS_SyntaxAppend(Fs, Ch);
				Ch = ((Message*)JB_Ring_NextSib(Ch));
			};
			;
		}
		;
		(--Fs->Indent);
		JB_FS_LineIndent(Fs);
	}
	//;
	JB_FS_AppendString(Fs, JB_LUB[546]);
	JB_FS_AppendString(Fs, Self->Name);
	JB_FS_AppendByte(Fs, '>');
	//;
}

void JB_Msg_XPI__(Message* Self, FastString* Fs) {
	JB_FS_AppendString(Fs, JB_LUB[612]);
	if (JB_Tree_HasOneChild(Self)) {
		Message* _tmPf0 = ((Message*)JB_Ring_First(Self));
		JB_Incr(_tmPf0);
		JB_FS_SyntaxAppend(Fs, _tmPf0);
		JB_Decr(_tmPf0);
	}
	 else {
		JB_Msg_FSListArg(Self, Fs, false);
		JB_FS_AppendByte2(Fs, '\n');
	}
	JB_FS_AppendString(Fs, JB_LUB[613]);
}

void JB_Msg_XTxt__(Message* Self, FastString* Fs) {
	JB_FS_AppendMultiReplace(Fs, Self->Name, JB__Constants_XML_EscapeStr, JB_StdErr);
}

bool JB_Msg_Yes(Message* Self, bool Default) {
	if (Self) {
		return JB_Str_Yes(Self->Name, Self);
	}
	return Default;
}

void JB_Msg_Yoda__(Message* Self, FastString* Fs) {
	Message* F = ((Message*)JB_Ring_First(Self));
	Message* S = ((Message*)JB_Ring_NextSib(F));
	Message* L = ((Message*)JB_Ring_NextSib(S));
	JB_FS_AppendString(Fs, JB_LUB[547]);
	JB_FS_SyntaxAppend(Fs, L);
	JB_FS_AppendByte2(Fs, ' ');
	JB_FS_SyntaxAppend(Fs, F);
	JB_FS_AppendByte2(Fs, ' ');
	JB_FS_SyntaxAppend(Fs, S);
}

Message* SC_Msg__NilchCompare() {
	if (SC_ReturnSelfEqNil) {
		return SC_ReturnSelfEqNil;
	}
	JB_SetRef(SC_ReturnSelfEqNil, JB_Str_ParseJbin(((JB_LUB[1538])), 1073741824));
	return SC_ReturnSelfEqNil;
}

SortComparison JB_Msg__Sorter(JB_List* Self, JB_List* B) {
	return ((SortComparison)(Self->Position < B->Position));
}

bool JB_Msg__TreeCompare(Message* Orig, Message* Reparse, bool PrintIfSame) {
	if (!(Orig and Reparse)) {
		return JB_CompareError(Orig, Reparse);
	}
	if ((Orig->Func != Reparse->Func) or ((!JB_Str_Equals(Orig->Name, Reparse->Name, false)))) {
		return JB_CompareError(Orig, Reparse);
	}
	Message* R1 = ((Message*)JB_Ring_First(Reparse));
	Message* S1 = ((Message*)JB_Ring_First(Orig));
	while (R1 or S1) {
		if (!JB_Msg__TreeCompare(S1, R1, false)) {
			return nil;
		}
		R1 = ((Message*)JB_Ring_NextSib(R1));
		S1 = ((Message*)JB_Ring_NextSib(S1));
	};
	if (PrintIfSame) {
		JB_Msg__TreeComparePrint(Orig);
	}
	return true;
}

void JB_Msg__TreeComparePrint(Message* Orig) {
	JB_String* _tmPf2 = JB_Msg_MiniName(Orig, JB_LUB[0]);
	JB_Incr(_tmPf2);
	JB_String* _tmPf1 = JB_Str_Append4(JB_LUB[614], _tmPf2, JB_LUB[615], nil);
	JB_Incr(_tmPf1);
	JB_Decr(_tmPf2);
	JB_PrintLine(_tmPf1);
	JB_Decr(_tmPf1);
}



SCDecl* SC_Decl_AccessToMemCpy(SCDecl* Self, Message* Exp, Message* Side, SCDecl* Type) {
	SCDecl* Internal = Type->Internal;
	Message* Rel = JB_Msg_Ancestor(Exp, kJB_SyxRel);
	if (!(Rel and Internal)) {
		JB_Msg_Fail(Rel, JB_LUB[1883]);
		return nil;
	}
	Message* F = ((Message*)JB_Ring_First(Rel));
	Rel->Func = kJB_SyxFunc;
	Message* Name = JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[1884]);
	(JB_Ring_FirstSet(Rel, Name));
	JB_SetRef(Rel->Obj, SC_TypeVoid);
	(SC_Msg_ASMTypeSet(Rel, 0));
	Message* Prms = ((Message*)JB_Ring_NextSib(F));
	Prms->Func = kJB_SyxPrm;
	JB_Tree_SyntaxAppend(Prms, F);
	Message* Nxt = ((Message*)JB_Ring_NextSib(Prms));
	if (Nxt) {
		SCDecl* Nxtyp = SC_Msg_FastDecl(Nxt);
		if (SC_Decl_IsBareStruct(Nxtyp)) {
			Nxt = SC_Msg_WrapWith(Nxt, kJB_SyxBRel, JB_LUB[32]);
		}
	}
	if (Side->Obj == SC_TypeNil) {
		JB_SetRef(Name->Name, JB_LUB[1885]);
		JB_Tree_Remove(Nxt);
	}
	 else {
		JB_Tree_SyntaxAppend(Prms, Nxt);
	}
	JB_SetRef(Prms->Obj, SC_Comp__XFunc(Name->Name, nil));
	Message* Msg = JB_int_Msg(SC_Decl_SizeOfQuery(Internal));
	JB_SetRef(Msg->Obj, SC_TypeInt->TypeNormal);
	JB_Tree_SyntaxAppend(Prms, Msg);
	return Type;
}

int SC_Decl_AccessType(SCDecl* Self, SCDecl* Access, Message* Ch) {
	int W = SC_Decl_IsNumeric(Self);
	if (W > 1) {
		return 1;
	}
	if (SC_Decl_IsCArray(Self)) {
		return 2;
	}
	if (Self->PointerCount) {
		if (!Access) {
			if (SC_Class_IsStruct(Self->Type)) {
				return 0;
			}
			return 2;
		}
		if (SC_Decl_OperatorMatches(Access, SC_TypeInt)) {
			if (!((JB_Msg_EqualsSyx(Ch, kJB_SyxBra)) and (JB_Msg_EqualsSyx(((Message*)JB_Ring_First(Ch)), kJB_SyxBra)))) {
				return 2;
			}
		}
	}
	return 0;
}

SCDecl* SC_Decl_ActualReplace(SCDecl* Self, SCDecl* New) {
	JB_SetRef(Self->Type, New->Type);
	JB_SetRef(Self->Contains, New->Contains);
	uint P = Self->PointerCount;
	if (!P) {
		return Self;
	}
	if (New->PointerCount) {
		if (true) {
			JB_Msg_Fail(Self->Source, JB_Str_OperatorPlus(kJB__Rec_NonFatal, JB_LUB[1467]));
		}
	}
	 else {
		SCDecl* Last = Self;
		while ((--P) > 0) {
			SCDecl* Nl = SC_Decl_CopyDecl(Last, false);
			JB_SetRef(Last->Internal, Nl);
			Last = Nl;
		};
		JB_SetRef(Last->Internal, New);
	}
	return Self;
}

bool SC_Decl_AddToGlobs(SCDecl* Self) {
	(SC_Decl_SyntaxIsSet(Self, kSC__SCDeclInfo_Global, true));
	if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Library) and (!SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_ClassObj))) {
		JB_Array_SyntaxAppend(SC__PackMaker_LibGlobs, Self);
	}
	 else {
		JB_Array_SyntaxAppend(SC__PackMaker_PackGlobs, Self);
	}
	return true;
}

int SC_Decl_Alignment(SCDecl* Self, bool PutStructsAfter) {
	if (SC_Decl_IsObject(Self) or Self->PointerCount) {
		return JB_Platform__PointerBytes();
	}
	if (SC_Decl_IsCArray(Self)) {
		return SC_Decl_Alignment(Self->Internal, false);
	}
	SCClass* T = Self->Type;
	if (SC_Class_IsStruct(T)) {
		if (PutStructsAfter) {
			return 32;
		}
		uint Al = T->Alignment;
		if (Al) {
			return Al;
		}
		return 32;
	}
	return T->ClsSize;
}

bool SC_Decl_AlreadyContains(SCDecl* Self) {
	SCDecl* Ty = Self->Type->Contained;
	if (Ty) {
		return SC_Decl_MiniMatch(Self->Contains, Ty, 0);
	}
	return false;
}

void SC_Decl_AsBody(SCDecl* Self) {
	(SC_Decl_SyntaxIsSet(Self, kSC__SCDeclInfo_Body, true));
	(SC_Decl_SyntaxIsSet(Self, kSC__SCDeclInfo_Altered, (!true)));
	(SC_Decl_SyntaxIsSet(Self, kSC__SCDeclInfo_NumberConst, (!true)));
	Self->DepthOfBranch = SC__Func_InBranch;
	Self->DepthOfLoop = SC__Func_InLoop;
}

uint64 SC_Decl_AsConst(SCDecl* Self, Message* Value, uint /*DataTypeCode*/& Ty) {
	if (!SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Const)) {
		JB_Msg_Fail(Value, JB_LUB[1105]);
		return 0;
	}
	if (SC_Decl_IsFloat(Self)) {
		SC_Msg_TypeExpect(Value, Ty, kJB__TC_Float);
	}
	 else if (SC_Decl_IsInt(Self)) {
		SC_Msg_TypeExpect(Value, Ty, kJB__TC_Int);
	}
	 else {
		if (true) {
			JB_Msg_Fail(Value, JB_LUB[1106]);
		}
	}
	return SC_Decl_ExportPosition(Self);
}

SCDecl* SC_Decl_AsLocal(SCDecl* Self) {
	SCDecl* Rz = nil;
	if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Local)) {
		return Self;
	}
	Rz = SC_Decl_CopyDecl(Self, false);
	(SC_Decl_NameSet(Rz, JB_LUB[0]));
	(SC_Decl_SyntaxIsSet(Rz, kSC__SCDeclInfo_Local, true));
	return Rz;
}

void SC_Decl_ASMRegSet(SCDecl* Self, ASMReg Value) {
	if (Self == SC_TypeBool->TypeNormal) {
	}
	(SC_Decl_SyntaxIsSet(Self, kSC__SCDeclInfo_Const, (!true)));
	(SC_Decl_ExportPositionSet(Self, 0));
	if (SC_Reg_SyntaxIs(Value, kSC__Reg_Const)) {
		SC_Reg_incr(Value);
		SC_Reg_ConstCheck(Value);
		if (!SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Altered)) {
			(SC_Decl_SyntaxIsSet(Self, kSC__SCDeclInfo_Const, true));
		}
	}
	Value = SC_Reg_xC2xB5TypeSetWithTc(Value, Self->mu.DataType);
	Self->mu.DataType = ((DataTypeCode)Value);
	SC_Reg_TmpCheck(SC_Decl_WholeType(Self));
}

DataTypeCode SC_Decl_ASMRegType(SCDecl* Self) {
	if (Self) {
		if (SC_Decl_IsCArray(Self) or Self->PointerCount) {
			return kJB__TC__voidptr;
		}
		SCClass* Ty = Self->Type;
		if (SC_SCNodeType_HasASMPtrs(Ty->BaseType)) {
			return kJB__TC__voidptr;
		}
		return Ty->ASMTypeInfo;
	}
	return 0;
}

bool SC_Decl_AssignabilityCheck(SCDecl* Self, Message* Ln, Message* RN, SCDecl* Rc, bool WasHex) {
	if (!(Self and Rc)) {
		return nil;
	}
	if (Ln) {
		if (!((SC_Msg_IsAssignable(Ln)) and ((!SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Const))))) {
			JB_Msg_Fail(Ln, JB_LUB[1210]);
			return nil;
		}
	}
	if (SC_Decl_IsNil(Rc)) {
		return true;
	}
	if (SC_Decl_IsCArray(Self) or SC_Decl_IsCArray(Rc)) {
		if (Self->C_Array != Rc->C_Array) {
			JB_Msg_Fail(RN, JB_LUB[1211]);
			return nil;
		}
		if (JB_Msg_OperatorIn(RN, kJB_SyxSheb)) {
			return true;
		}
		if (true) {
			JB_Msg_Fail(RN, JB_LUB[1210]);
		}
	}
	if (SC_Decl_SyntaxIs(Rc, kSC__SCDeclInfo_Const)) {
		SC_Decl_ConstInRange(Self, RN, Rc, WasHex);
	}
	return true;
}

JB_String* SC_Decl_AutoCompleteName(SCDecl* Self) {
	JB_String* N = SC_Decl_RealName(Self);
	JB_Incr(N);
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, N);
	JB_FS_AppendMultiByte(Fs, ' ', JB_int_OperatorMax((32 - JB_Str_LengthUTF8(N)), 1));
	JB_Decr(N);
	JB_FS_AppendByte2(Fs, '|');
	Message* _tmPf0 = SC_Decl_WriteType(Self, 0, true);
	JB_Incr(_tmPf0);
	JB_FS_SyntaxAppend(Fs, _tmPf0);
	JB_Decr(_tmPf0);
	JB_FS_AppendByte2(Fs, '|');
	JB_String* _tmPf1 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

SCDecl* SC_Decl_AvoidGlobals(SCDecl* Self) {
	if (!SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Global)) {
		return Self;
	}
	return SC_Decl_CopyDecl(Self, false);
}

void SC_Decl_BecomeReal(SCDecl* Self) {
	if (!SC_NilState_SyntaxIs(Self->NilDeclared, kSC__NilState_Stated)) {
		Self->NilDeclared = kSC__NilState_Real;
	}
}

int SC_Decl_BestFloat(SCDecl* Self, SCDecl* OT) {
	uint T = OT->Type->TypeInfo;
	int Bt = JB_TC_ItemBitCount(T);
	if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Const)) {
		return Bt;
	}
	uint S = Self->Type->TypeInfo;
	int Bme = JB_TC_ItemBitCount(S);
	if (SC_Decl_SyntaxIs(OT, kSC__SCDeclInfo_Const)) {
		return Bme;
	}
	return JB_int_OperatorMax(Bme, Bt);
}

SCDecl* SC_Decl_Better_Numeric(SCDecl* Self, SCDecl* O, OpMode Mode, Message* Left, Message* Right) {
	uint S = Self->Type->TypeInfo;
	uint T = O->Type->TypeInfo;
	if (!SC_OpMode_SyntaxIs(Mode, kSC__OpMode_MakesSigned)) {
		if (SC_OpMode_SyntaxIs(Mode, kSC__OpMode_LoseBits)) {
			if (JB_TC_Basictype(S) == JB_TC_Basictype(T)) {
				if (JB_TC_ByteCount(S) < JB_TC_ByteCount(T)) {
					return Self;
				}
				return O;
			}
		}
		if ((S & (~kJB__TC_Unsigned)) == (T & (~kJB__TC_Unsigned))) {
			return Self;
		}
	}
	SCClass* Cls = SC_Decl_Better_Numeric_Sub(Self, O, Mode, Left, Right);
	if (Cls->TypeInfo == S) {
		return Self;
	}
	if (Cls->TypeInfo == T) {
		return O;
	}
	return Cls->TypeNormal;
}

SCClass* SC_Decl_Better_Numeric_Sub(SCDecl* Self, SCDecl* Ot, OpMode Op, Message* Left, Message* Right) {
	uint S = Self->Type->TypeInfo;
	uint T = Ot->Type->TypeInfo;
	if (SC_Decl_IsFloat(Self) or JB_TC_IsFloat(T)) {
		int Bits = SC_Decl_BestFloat(Self, Ot);
		int FF = JB_Ternary(Bits > 32, JB_TC_Floatness(kJB__TC_Double), JB_TC_Floatness(kJB__TC_Float));
		SCClass* Dest = ((SCClass*)JB_Ternary(Bits > 32, SC_TypeFloat64, SC_Typefloat));
		if (JB_TC_Floatness(S) != FF) {
			SC_Msg_CastToClass(Left, Dest, nil);
		}
		if (JB_TC_Floatness(T) != FF) {
			SC_Msg_CastToClass(Right, Dest, nil);
		}
		return Dest;
	}
	int Bme = JB_TC_ItemBitCount(S);
	int Bt = JB_TC_ItemBitCount(T);
	int Bits = JB_int_OperatorMax(Bme, Bt);
	if (Op) {
		if (SC_OpMode_SyntaxIs(Op, kSC__OpMode_MakesSigned)) {
			if ((Bme == 32) and (Bt == 32)) {
				return SC_TypeInt;
			}
			int Bits2 = JB_int_OperatorMax((Bme + (!JB_TC_IsSigned(S))), (Bt + (!JB_TC_IsSigned(T))));
			if (!(SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Property) or SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Global))) {
				if (!((Bt <= Bme) or SC_Decl_SyntaxIs(Ot, kSC__SCDeclInfo_DirectNumber))) {
					JB_Msg_Fail(Right, JB_LUB[1511]);
				}
			}
			if (Bits2 > 32) {
				return SC_TypeInt64;
			}
			return SC_TypeInt;
		}
		if (SC_OpMode_SyntaxIs(Op, kSC__OpMode_LoseBits)) {
			Bits = JB_int_OperatorMin(Bme, Bt);
		}
		 else if (SC_OpMode_SyntaxIs(Op, kSC__OpMode_ShiftOnly)) {
			if (SC_OpMode_SyntaxIs(Op, kSC__OpMode_NoExtraBits)) {
				Bits = Bme;
			}
		}
		 else if (SC_OpMode_SyntaxIs(Op, kSC__OpMode_NoExtraBits)) {
			0;
		}
		 else if ((SC_OpMode_SyntaxIs(Op, kSC__OpMode_MathLike)) and (Bits < 32)) {
			Bits = 32;
		}
	}
	bool Signed = JB_TC_IsSigned(S);
	if (!SC_OpMode_SyntaxIs(Op, kSC__OpMode_ShiftOnly)) {
		if (!Signed) {
			Signed = JB_TC_IsSigned(T);
		}
	}
	if (Bits > 32) {
		return ((SCClass*)JB_Ternary(Signed, SC_TypeInt64, SC_TypeuInt64));
	}
	if (Bits > 16) {
		return ((SCClass*)JB_Ternary(Signed, SC_TypeInt, SC_TypeuInt));
	}
	if (Bits > 8) {
		return ((SCClass*)JB_Ternary(Signed, SC_TypeInt16, SC_TypeuInt16));
	}
	return ((SCClass*)JB_Ternary(Signed, SC_TypeChar, SC_TypeByte));
}

ASMReg SC_Decl_CalculateASMType(SCDecl* Self) {
	return ((ASMReg)SC_Decl_CalculateDataTypeSub(Self));
}

DataTypeCode SC_Decl_CalculateDataType(SCDecl* Self) {
	uint Rz = 0;
	Rz = SC_Decl_CalculateDataTypeSub(Self);
	Self->mu.DataType = Rz;
	return Rz;
}

DataTypeCode SC_Decl_CalculateDataTypeSub(SCDecl* Self) {
	if (Self->PointerCount or SC_Decl_IsCArray(Self)) {
		return kJB__TC__voidptr;
	}
	SCClass* T = Self->Type;
	SCNodeType B = T->BaseType;
	if (B > kSC__SCNodeType_DataType) {
		return kJB__TC__voidptr;
	}
	return T->TypeInfo;
}

int SC_Decl_CalculateDeclSize(SCDecl* Self, int Depth) {
	if (SC_Class_IsObject(Self->Type) or Self->PointerCount) {
		return JB_Platform__PointerBytes();
	}
	(++Depth);
	if (SC_Decl_IsCArray(Self)) {
		SCDecl* I = Self->Internal;
		if (I) {
			return SC_Decl_CalculateDeclSize(I, Depth);
		}
	}
	return Self->Type->ClsSize;
}

bool SC_Decl_CanCompare(SCDecl* Self, SCDecl* Against, bool AsEquals) {
	SCClass* T = Self->Type;
	bool CanUseEquals = AsEquals and (SC_Class_SyntaxIs(T, kSC__ClassInfo_HasEqualsFunc));
	if (((!T->TheCompareFunc)) and (!CanUseEquals)) {
		return false;
	}
	if (CanUseEquals and SC_Class_CanCompareSub(T, JB_LUB[1950], Against)) {
		return true;
	}
	if (T->TheCompareFunc) {
		return SC_Class_CanCompareSub(T, JB_LUB[1951], Against);
	}
	return false;
}

bool SC_Decl_CanCopyNormally(SCDecl* Self) {
	SCDecl* I = Self->Internal;
	if (I and SC_Decl_IsBareStruct(I)) {
		return false;
	}
	return true;
}

bool SC_Decl_CanGetAddressSafely(SCDecl* Self) {
	if (Self == SC_TypeNil) {
		return true;
	}
	return SC_Decl_IsCArray(Self) or (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Global));
}

bool SC_Decl_CanNilCheck(SCDecl* Self) {
	if (!Self) {
		return nil;
	}
	if (Self->PointerCount) {
		return true;
	}
	if (SC_Decl_IsCArray(Self)) {
		return false;
	}
	return (SC_Class_SyntaxIs(Self->Type, kSC__ClassInfo_HasNilChecker));
}

bool SC_Decl_CanRemoveArgOnReturn(SCDecl* Self, Message* R) {
	if (!Self) {
		return true;
	}
	if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_IntendedAsReturn)) {
		return Self == SC_Msg_FastDecl(R);
	}
	return false;
}

bool SC_Decl_CantBeNilInCpp(SCDecl* Self) {
	if (Self->PointerCount) {
		return nil;
	}
	return (SC_Decl_IsCArray(Self)) or ((SC_Class_IsStruct(Self->Type)) or (SC_Decl_IsNumeric(Self) > 1));
}

int SC_Decl_CanUpgradeRegister(SCDecl* Self) {
	SCDecl* I = Self->Internal;
	if (I) {
		if ((SC_Decl_SyntaxIs(I, kSC__SCDeclInfo_Local)) and I->Suffers) {
			return 1;
		}
	}
	if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Reference)) {
		if ((SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Local)) and Self->Suffers) {
			return 2;
		}
	}
	return 0;
}

bool SC_Decl_CanUseDefault(SCDecl* Self) {
	if (SC_Decl_IsNil(Self)) {
		return false;
	}
	if (SC_Class_IsStruct(Self->Type) and (!Self->PointerCount)) {
		return (SC_Decl_IsBareStruct(Self));
	}
	return true;
}

bool SC_Decl_CanWrap(SCDecl* Self) {
	if (Self->PointerCount or Self->Type->FuncProto) {
		return true;
	}
	if (!((!SC_Decl_IsBareStruct(Self)) and (!SC_Decl_IsCArray(Self)))) {
		return nil;
	}
	if (Self->Type->TypeInfo == 0) {
		return nil;
	}
	return true;
}

SCDecl* SC_Decl_CArrayInner(SCDecl* Self) {
	while (SC_Decl_IsCArray(Self)) {
		Self = Self->Internal;
	};
	return Self;
}

int SC_Decl_CArraySize(SCDecl* Self, int Mul) {
	int C = Self->C_Array;
	if (C) {
		return SC_Decl_CArraySize(Self->Internal, C * Mul);
	}
	SCClass* T = Self->Type;
	if (SC_Class_IsObject(T) or Self->PointerCount) {
		return JB_Platform__PointerBytes() * Mul;
	}
	return T->ClsSize * Mul;
}

int SC_Decl_CArrayTotal(SCDecl* Self) {
	int Rz = 0;
	Rz = 1;
	while (true) {
		int M = Self->C_Array;
		if ((!M)) {
			break;
		}
		Rz = (Rz * M);
		SCDecl* _tmPf0 = Self->Internal;
		if (!_tmPf0) {
			break;
		}
		Self = _tmPf0;
	};
	return Rz;
}

SCDecl* SC_Decl_CheckMath(SCDecl* Self, Message* Exp) {
	if (Self->PointerCount == 1) {
		if (Self->Type == SC_TypeVoid_) {
			JB_Msg_Fail(Exp, JB_LUB[947]);
		}
	}
	return Self;
}

void SC_Decl_CheckUnusedDecl(SCDecl* Self, Message* Feedback, uint /*byte*/ Dbg) {
	if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Library)) {
		return;
	}
	if ((SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_ReadFrom)) and ((SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_SetTo) or SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Const)) or (SC_Decl_IsCArray(Self) or SC_Decl_IsBareStruct(Self)))) {
		return;
	}
	if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_SetTo) and SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Reference)) {
		return;
	}
	if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_ClassObj)) {
		return;
	}
	JB_Object* Fn = Self->IsLookupOnly;
	if (JB_Object_FastIsa(Fn, &SCFunctionData)) {
		if (SC_Func_SyntaxIs(((SCFunction*)Fn), kSC__FunctionType_Behaviour)) {
			return;
		}
	}
	SC_SCObject_MarkUnused(Self, Feedback, Dbg, JB_LUB[0]);
}

bool SC_Decl_CompareUnclear(SCDecl* Self, SCDecl* D, bool MakesSenseVsZero) {
	uint L = SC_Decl_TypeInfo(Self);
	uint R = SC_Decl_TypeInfo(D);
	int Bitdiff = JB_TC_BitCount(L) - JB_TC_BitCount(R);
	if (JB_TC_IsSigned(L) and (Bitdiff <= 0)) {
		if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_DirectNumber)) {
			int64 X = SC_Decl_ExportPosition(Self);
			if (X) {
				return ((int64)X) < 0;
			}
			return (!MakesSenseVsZero);
		}
		return true;
	}
	return false;
}

int SC_Decl_Complexity(SCDecl* Self) {
	int Rz = 0;
	SCClass* T = Self->Type;
	Rz = (Rz + SC_Class_IsObject(T));
	Rz = (Rz + ((SC_SCNodeType_SyntaxIs(T->BaseType, kSC__SCNodeType_ProtoType)) << 1));
	Rz = (Rz + (SC_Class_IsStruct(T) << 2));
	Rz = (Rz + (SC_Decl_IsCArray(Self) << 3));
	return Rz;
}

void SC_Decl_ConstInRange(SCDecl* Self, Message* RN, SCDecl* Rt, bool WasHex) {
	int64 N = 0;
	if (JB_Msg_EqualsSyx(RN, kJB_SyxNum)) {
		if (SC_Msg_IsInt(RN)) {
			N = JB_Msg_Int(RN, 0);
		}
	}
	 else if ((SC_Decl_SyntaxIs(Rt, kSC__SCDeclInfo_NumberConst)) and (SC_Decl_IsNormalNumber(Rt) and SC_Decl_IsInteger(Rt))) {
		N = SC_Decl_ExportPosition(Rt);
	}
	if (N) {
		WasHex = ((bool)(WasHex | Rt->WasHex));
		int64 Bad = SC_Decl_ConstInRangeSub(Self, N, WasHex);
		if (Bad) {
			if (true) {
				FastString* _fsf0 = JB_FS_Constructor(nil);
				JB_FS_AppendString(_fsf0, JB_LUB[1107]);
				JB_FS_AppendInt64(_fsf0, N);
				JB_FS_AppendString(_fsf0, JB_LUB[1108]);
				JB_FS_AppendInt64(_fsf0, Bad);
				JB_Msg_Fail(RN, JB_FS_GetResult(_fsf0));
			}
		}
	}
}

int64 SC_Decl_ConstInRangeSub(SCDecl* Self, int64 Value, bool WasHex) {
	uint T = Self->Type->TypeInfo;
	if (!JB_TC_IsInt(T)) {
		return 0;
	}
	int S = JB_TC_ByteCount(T);
	bool Sign = JB_TC_IsSigned(T);
	if (S == 4) {
		if (Sign and (!WasHex)) {
			return SC_int64_ValueTrap(Value, kJB__int_Min, kJB__int_Max);
		}
		return SC_int64_ValueTrap(Value, -1, 4294967295);
	}
	if (S == 2) {
		if (Sign and (!WasHex)) {
			return SC_int64_ValueTrap(Value, kJB__int16_min, kJB__int16_max);
		}
		return SC_int64_ValueTrap(Value, -1, 65535);
	}
	if (S == 1) {
		if (Sign and (!WasHex)) {
			return SC_int64_ValueTrap(Value, kJB__int8_min, kJB__int8_max);
		}
		return SC_int64_ValueTrap(Value, -1, 255);
	}
	return 0;
}

SCDecl* SC_Decl_Constructor(SCDecl* Self, SCClass* Type) {
	if (Self == nil) {
		Self = ((SCDecl*)JB_NewClass(&SCDeclData));
	}
	SC_SCObject_Constructor(Self);
	Self->PointerCount = 0;
	Self->NilReg = 0;
	Self->DepthOfBranch = 0;
	Self->DepthOfLoop = 0;
	Self->Suffers = false;
	Self->WasHex = false;
	Self->C_Array = 0;
	Self->HiderFunc = nil;
	Self->IsLookupOnly = nil;
	Self->Internal = nil;
	Self->LocalVarList = nil;
	Self->Contains = nil;
	Self->Default = nil;
	Self->mu = ((DeclAlterable){});
	JB_Incr2(Self->Type, Type);
	Self->NilDeclared = kSC__NilState_Either;
	Self->mu.Info = kSC__SCDeclInfo_Altered;
	Self->mu.DataType = 0;
	if (SC_Decl_Project(Self)->IsSTDLib) {
		(SC_Decl_SyntaxIsSet(Self, kSC__SCDeclInfo_Library, true));
	}
	SCModule* M = SC__Mod_Curr;
	if (M) {
		Self->mu.ModuleNum = M->ModuleNum;
	}
	return Self;
}

SCDecl* SC_Decl_Containedfix(SCDecl* Self) {
	SCDecl* Rz = nil;
	SCClass* T = Self->Type;
	Rz = ((SCDecl*)JB_Ternary(T->TypeNormal == Self, SC_Decl_CopyDecl(Self, false), Self));
	JB_SetRef(Rz->Contains, T->SelfDecl->Contains);
	return Rz;
}

SCDecl* SC_Decl_ContainedReplace(SCDecl* Self, SCDecl* Contains, bool NeedsName) {
	if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_UpgradeableContained)) {
		if (((!NeedsName) or (!JB_Str_Exists(Self->Name))) and SC_Decl_SameForReplace(Self, Contains)) {
			return Contains;
		}
		bool SameType = Contains->Type == Self->Type;
		if (SameType) {
			if (SC_Decl_SameForReplace(Self, Contains)) {
				return Self;
			}
		}
		SCDecl* C = SC_Decl_CopyDecl(Self, false);
		((SC_Decl_SyntaxIsSet(C, kSC__SCDeclInfo_UpgradeableContained, (!SameType))));
		return SC_Decl_ActualReplace(C, Contains);
	}
	SCDecl* Inside = Self->Contains;
	if (Inside and ((Inside != Contains) and SC_Decl_SyntaxIs(Inside, kSC__SCDeclInfo_UpgradeableContained))) {
		Self = SC_Decl_CopyDecl(Self, false);
		JB_SetRef(Self->Contains, Contains);
	}
	return Self;
}

bool SC_Decl_ContainsMatch(SCDecl* Self, SCDecl* O, int TypeCast) {
	if (TypeCast & kJB_kTypeCastIgnoreContained) {
		return true;
	}
	SCDecl* Oc = SC_Decl_ReallyContains(O);
	SCDecl* Sc = SC_Decl_ReallyContains(Self);
	if ((Oc == Sc) or ((!(Sc and Oc)) or (!O->Contains))) {
		return true;
	}
	return SC_int_IsNormalMatch(SC_Decl_TypeMatch(Sc, Oc, 0, nil));
}

SCDecl* SC_Decl_CopyDecl(SCDecl* Self, bool ForNewVariable) {
	SCDecl* Dcl = SC_Decl_Constructor(nil, Self->Type);
	SC_Decl_CopyTypeInfoTo(Self, Dcl);
	(SC_Decl_NameSet(Dcl, Self->Name));
	JB_SetRef(Dcl->Default, Self->Default);
	((SC_Decl_SyntaxIsSet(Dcl, kSC__SCDeclInfo_Borrowed, (!ForNewVariable) and (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Borrowed)))));
	return Dcl;
}

SCDecl* SC_Decl_CopyDeclForVar(SCDecl* Self) {
	SCDecl* Rz = nil;
	Rz = SC_Decl_CopyDecl(Self, false);
	Rz->mu.Info = (Rz->mu.Info | (Self->mu.Info & (kSC__SCDeclInfo_VarType | kSC__SCDeclInfo_Reference)));
	return Rz;
}

SCDecl* SC_Decl_CopyDeclsStructFixer(SCDecl* Self, Message* Src, DeclMode Mode, Message* Type) {
	if (SC_DeclMode_SyntaxIs(Mode, kSC__DeclMode_FuncParam)) {
		if ((SC_Decl_IsCArray(Self))) {
			JB_Msg_Fail(Src, JB_LUB[1468]);
		}
		if (SC_Decl_IsBareStruct(Self)) {
			return SC_Decl_GetAddress(Self, kSC__DeclMode_Always);
		}
	}
	 else if (JB_Msg_EqualsSyx(Type, kJB_SyxEmb)) {
		if (SC_Decl_IsBareStruct(Self)) {
			Message* V = ((Message*)JB_Ring_Last(((Message*)JB_Ring_Last(Src))));
			SCDecl* Ty2 = SC_Decl_GetAddress(Self, kSC__DeclMode_Always);
			SC_Msg_GetAddressOf(V, Ty2, false);
			return Ty2;
		}
	}
	if (JB_RefCount(Self) == 1) {
		return Self;
	}
	return SC_Decl_CopyDecl(Self, false);
}

void SC_Decl_CopyTypeInfoTo(SCDecl* Self, SCDecl* Dcl) {
	JB_SetRef(Dcl->Type, Self->Type);
	Dcl->PointerCount = Self->PointerCount;
	JB_SetRef(Dcl->Contains, Self->Contains);
	JB_SetRef(Dcl->Internal, Self->Internal);
	SCDeclInfo Cpyflags = kSC__SCDeclInfo_DclCopied;
	Dcl->mu.Info = (Dcl->mu.Info & (~Cpyflags));
	Dcl->mu.Info = (Dcl->mu.Info | (Self->mu.Info & Cpyflags));
	Dcl->C_Array = Self->C_Array;
	Dcl->NilDeclared = Self->NilDeclared;
}

bool SC_Decl_CouldUpgradeToReal(SCDecl* Self) {
	return SC_Decl_TypeSuffers(Self) and (!SC_Decl_NilStated(Self));
}

Message* SC_Decl_CreateDefault(SCDecl* Self, Message* Errs, bool Isfunc) {
	if (SC_Decl_CantBeNilInCpp(Self)) {
		if (Isfunc) {
			return SC_Decl_CreateStructNil(Self, Errs);
		}
		return nil;
	}
	if (Self->PointerCount) {
		if (Isfunc) {
			return SC_Msg_CreateNil(Errs);
		}
		return nil;
	}
	Message* D = Self->Type->Defawlt;
	JB_Incr(D);
	if (D) {
		Message* _tmPf0 = JB_Msg_Copy(D, Errs);
		JB_Incr(_tmPf0);
		JB_EarlyDecr(D);
		JB_SafeDecr(_tmPf0);
		return _tmPf0;
	}
	JB_EarlyDecr(D);
	return nil;
}

Message* SC_Decl_CreateSimpleTypeCast(SCDecl* Self, Message* Exp) {
	Message* Rz = nil;
	JB_Incr(Rz);
	Message* Curr = Exp;
	JB_Incr(Curr);
	while ((JB_Msg_EqualsSyx(Curr, kJB_SyxBra))) {
		JB_SetRef(Curr->Obj, Self);
		JB_SetRef(Curr, ((Message*)JB_Ring_First(Curr)));
	};
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Curr, (&_usingf0));
	JB_SetRef(Rz, JB_Syx_Msg(kJB_SyxType, JB_LUB[629]));
	(JB_Ring_PrevSibSet(Exp, Rz));
	JB_Tree_SyntaxAppend(Rz, Exp);
	Message* _tmPf1 = SC_Decl_WriteType(Self, 0, true);
	JB_Incr(_tmPf1);
	JB_Tree_SyntaxAppend(Rz, _tmPf1);
	JB_Decr(_tmPf1);
	JB_SetRef(Rz->Obj, Self);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Curr);
	JB_Decr(Curr);
	JB_MsgPos_Destructor((&_usingf0));
	JB_SafeDecr(Rz);
	return Rz;
}

Message* SC_Decl_CreateStructNil(SCDecl* Self, Message* Where) {
	Message* Rz = nil;
	JB_Incr(Rz);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Where, (&_usingf0));
	JB_SetRef(Rz, SC_Decl_CreateStructNilSub(Self));
	JB_SetRef(Rz->Obj, Self);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Where);
	JB_MsgPos_Destructor((&_usingf0));
	JB_SafeDecr(Rz);
	return Rz;
}

Message* SC_Decl_CreateStructNilSub(SCDecl* Self) {
	Message* Rz = nil;
	JB_Incr(Rz);
	if (SC_Decl_IsCArray(Self)) {
		JB_EarlyDecr(Rz);
		return JB_Syx_Msg(kJB_SyxArg, JB_LUB[0]);
	}
	JB_SetRef(Rz, JB_Syx_OperatorPlus(kJB_SyxType, JB_LUB[629]));
	Message* Arg = JB_Msg_Msg(Rz, kJB_SyxArg, JB_LUB[0]);
	JB_Incr(Arg);
	Message* _tmPf0 = SC_Decl_WriteType(Self, 0, true);
	JB_Incr(_tmPf0);
	JB_Tree_SyntaxAppend(Rz, _tmPf0);
	JB_Decr(_tmPf0);
	JB_SetRef(Arg->Obj, Self);
	JB_Decr(Arg);
	JB_SetRef(Rz->Obj, Self);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* SC_Decl_DeclToAddr(SCDecl* Self, SCDecl* P0) {
	Message* Rz = nil;
	Rz = JB_Syx_OperatorPlus(kJB_SyxBRel, JB_LUB[32]);
	JB_Tree_SyntaxAppend(Rz, SC_Decl_DeclToDot(Self, P0));
	JB_SetRef(Rz->Obj, SC_Decl_GetAddress(Self, kSC__DeclMode_Always));
	return Rz;
}

Message* SC_Decl_DeclToDot(SCDecl* Self, SCDecl* P0) {
	Message* Rz = nil;
	Rz = JB_Syx_OperatorPlus(kJB_SyxDot, Self->Name);
	Message* Thg = JB_Msg_Msg(Rz, kJB_SyxThg, JB_LUB[401]);
	JB_SetRef(Thg->Obj, P0);
	JB_Msg_AppendSyx(Rz, kJB_SyxEmb, JB_LUB[0]);
	JB_SetRef(Rz->Obj, Self);
	return Rz;
}

void SC_Decl_Destructor(SCDecl* Self) {
	//cpp_part;
	JB_Clear(Self->Type);
	JB_Clear(Self->IsLookupOnly);
	JB_Clear(Self->Internal);
	JB_Clear(Self->LocalVarList);
	JB_Clear(Self->Contains);
	JB_Clear(Self->Default);
	SC_SCObject_Destructor(Self);
}

SCDecl* SC_Decl_DownGrade(SCDecl* Self) {
	if (!SC_Decl_IsNormalObject(Self)) {
		return Self;
	}
	SCClass* Y = Self->Type->DowngradeTo;
	if (Y) {
		return Y->TypeNormal;
	}
	return Self;
}

int SC_Decl_DumpCls(SCDecl* Self) {
	SCClass* T = Self->Type;
	if (SC_Class_IsObject(T) or SC_Class_IsStruct(T)) {
		return (T->TableID << 1) + SC_Class_IsObject(T);
	}
	return 0;
}

void SC_Decl_DumpDecl(SCDecl* Self, FastString* Dd, int Pos) {
	int Mark = Dd->Length;
	JB_FS_AppendByte2(Dd, '\x00');
	JB_FS_AppendHInt(Dd, Pos);
	JB_FS_AppendHInt(Dd, SC_Decl_Reg(Self) * (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Local)));
	SC_Decl_MiniName(Self, Dd);
	JB_FS_AppendByte2(Dd, '\x00');
	JB_FS_AppendHInt(Dd, SC_Decl_DumpCls(Self));
	uint T = SC_Decl_TypeInfo(SC_Decl_Inner(Self)) & kJB__TC_PossibleBits;
	if (SC_NilState_SyntaxIs(Self->NilDeclared, kSC__NilState_Nilish)) {
		T = (T | (kJB__TC_PossibleBits + 1));
	}
	JB_FS_AppendHInt(Dd, T);
	SC_Decl_DumpWierdness(Self, Dd);
	(JB_FS_ByteSet(Dd, Mark, Dd->Length - (Mark + 1)));
}

void SC_Decl_DumpWierdness(SCDecl* Self, FastString* J) {
	int Count = 0;
	while (true) {
		int W = SC_Decl_Wierdness(Self);
		if ((!W)) {
			break;
		}
		if ((++Count) >= 5) {
			JB_Msg_Fail(Self->Source, JB_LUB[948]);
			return;
		}
		JB_FS_AppendHInt(J, W);
		Self = Self->Internal;
		if (!Self) {
			return;
		}
	};
}

void SC_Decl_ExpectFail(SCDecl* Self, SCDecl* O, Message* Errnode, Message* Backup) {
	JB_Incr(Errnode);
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, JB_LUB[949]);
	JB_FreeIfDead(SC_Decl_RenderTypeName(Self, Fs));
	JB_FS_AppendString(Fs, JB_LUB[950]);
	JB_FreeIfDead(SC_Decl_RenderTypeNameNicer(O, Fs));
	JB_FS_AppendString(Fs, JB_LUB[951]);
	if (!Errnode) {
		JB_SetRef(Errnode, Backup);
	}
	if (true) {
		JB_String* _tmPf0 = JB_FS_SyntaxCast(Fs);
		JB_Incr(_tmPf0);
		JB_Msg_Fail(Errnode, _tmPf0);
		JB_Decr(_tmPf0);
	}
	JB_Decr(Fs);
	JB_Decr(Errnode);
}

Message* SC_Decl_ExpectMatch(SCDecl* Self, SCDecl* O, int TypeCast, Message* Exp, Message* ErrNode) {
	Message* Rz = nil;
	Rz = SC_Decl_ExpectMatchSub(Self, O, TypeCast, Exp, ErrNode);
	if (!Rz) {
		Rz = Exp;
	}
	return Rz;
}

Message* SC_Decl_ExpectMatchForDecl(SCDecl* Self, SCDecl* O, Message* Exp) {
	Message* Rz = nil;
	Rz = SC_Decl_ExpectMatchSub(Self, O, kJB_kTypeCastTrue | kJB_kTypeCastForSetRel, Exp, nil);
	if (!Rz) {
		Rz = Exp;
	}
	return Rz;
}

Message* SC_Decl_ExpectMatchSub(SCDecl* Self, SCDecl* O, int TypeCast, Message* Exp, Message* ErrNode) {
	TypeCast = (TypeCast | SC_Msg_IntSmallness(Exp, O));
	int Matched = SC_Decl_TypeMatch(Self, O, TypeCast, Exp);
	if ((Matched == kJB_kCastedMatch) or (Matched == kJB_kLossyCastedMatch)) {
		return SC_Msg_CastedParent(Exp);
	}
	if (Matched == kJB_kNoMatch) {
		SC_Decl_ExpectFail(Self, O, ErrNode, Exp);
		SC_Decl_TypeMatch(Self, O, TypeCast, Exp);
	}
	return nil;
}

bool SC_Decl_ExpectRelMatch(SCDecl* Self, SCDecl* O, Message* Exp, Message* Side, Message* ErrNode) {
	bool Rz = false;
	int Cast = kJB_kTypeCastTrue;
	if (!Side) {
		Cast = (Cast | kJB_kTypeCastBothWays);
	}
	 else {
		Cast = (Cast | kJB_kTypeCastForRelSet);
		if ((!SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Local)) or (!SC_Decl_SyntaxIs(O, kSC__SCDeclInfo_Local))) {
			Cast = (Cast | kJB_kTypeCastSetToMemory);
		}
	}
	Rz = ((bool)SC_Decl_ExpectMatchSub(Self, O, Cast, Exp, ErrNode));
	if (Side) {
		SC_Decl_MarkAsAltered(Self);
		if ((SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Self)) and (SC_Func_SyntaxIs(SC_Func__CurrFunc(), kSC__FunctionType_Destructor))) {
			if (true) {
				JB_Msg_Fail(Exp, JB_LUB[1938]);
			}
		}
	}
	return Rz;
}

int64 SC_Decl_ExportPosition(SCDecl* Self) {
	return Self->mu.ExportPosition;
}

void SC_Decl_ExportPositionSet(SCDecl* Self, int64 Value) {
	Self->mu.ExportPosition = Value;
}

SCDecl* SC_Decl_ExtractAmount(SCDecl* Self, Message* Amount, SCNode* Name_space) {
	SCDecl* Rz = nil;
	Message* Num = ((Message*)JB_Ring_First(Amount));
	if (JB_Msg_EqualsSyx(Num, kJB_SyxUnit)) {
		JB_FreeIfDead(SC_TypeOfUnit(Num, nil, nil));
	}
	if (((JB_Msg_EqualsSyx(Num, kJB_SyxThg))) and Name_space) {
		SCObject* R = SC_Base_LookUpVar(Name_space, Num->Name, Amount, nil);
		if (JB_Object_FastIsa(R, &SCDeclData)) {
			if ((SC_Decl_SyntaxIs(((SCDecl*)R), kSC__SCDeclInfo_Const)) and SC_Decl_IsInteger(((SCDecl*)R))) {
				Num->Func = kJB_SyxNum;
				JB_SetRef(Num->Name, JB_int64_Render(SC_Decl_ExportPosition(((SCDecl*)R)), nil));
			}
		}
	}
	if (!(((JB_Msg_EqualsSyx(Num, kJB_SyxNum))) and JB_Tree_IsLast(Num))) {
		JB_Msg_Fail(Amount, JB_LUB[1853]);
		return nil;
	}
	Rz = SC_Decl_CopyDecl(Self, false);
	SC_Decl_IsCarray(Rz, JB_Msg_Int(Num, 0), Self);
	JB_SetRef(Rz->Default, JB_Syx_Msg(kJB_SyxArg, JB_LUB[0]));
	return Rz;
}

bool SC_Decl_FastMatch(SCDecl* Self, SCDecl* O) {
	if (O->Type != Self->Type) {
		return nil;
	}
	if (O->PointerCount != Self->PointerCount) {
		return nil;
	}
	return O->C_Array == Self->C_Array;
}

int SC_Decl_FloatCast(SCDecl* Self, SCDecl* Orig, Message* Exp) {
	if (SC_Decl_IsNormal(Self)) {
		return SC_Msg_CastToClass(Exp, Self->Type, nil);
	}
	SC_Decl_ExpectFail(Self, Orig, Exp, nil);
	return 0;
}

SCDecl* SC_Decl_ForContained(SCDecl* Self) {
	SCDecl* Rz = nil;
	JB_Incr(Rz);
	bool Strong = ((!SC_NilState_SyntaxIs(Self->NilDeclared, kSC__NilState_Nilish))) and SC_Decl_TypeSuffers(Self);
	if (((!SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Global))) and ((!JB_Str_Exists(Self->Name)) and (!Strong))) {
		JB_EarlyDecr(Rz);
		return Self;
	}
	JB_SetRef(Rz, SC_Decl_CopyDecl(Self, false));
	(SC_Decl_NameSet(Rz, JB_LUB[0]));
	Rz->NilDeclared = (Rz->NilDeclared | kSC__NilState_Nilish);
	(SC_Decl_SyntaxIsSet(Rz, kSC__SCDeclInfo_Global, (!true)));
	JB_SafeDecr(Rz);
	return Rz;
}

bool SC_Decl_Found(SCDecl* Self) {
	if (Self) {
		if (Self->Type != SC_TypeVoid_) {
			return true;
		}
		if (Self->PointerCount) {
			return true;
		}
	}
	return false;
}

DataTypeCode SC_Decl_GameType(SCDecl* Self) {
	if ((Self->PointerCount)) {
		JB_Msg_Fail(Self->Source, JB_LUB[952]);
		return 0;
	}
	SCClass* T = Self->Type;
	JB_Incr(T);
	uint Ti = T->TypeInfo;
	if (!JB_TC_SyntaxIs(Ti, kJB__TC_Numeric)) {
		JB_String* _tmPf1 = JB_Str_Append4(JB_LUB[953], T->Name, JB_LUB[951], nil);
		JB_Incr(_tmPf1);
		JB_Msg_Fail(Self->Source, _tmPf1);
		JB_Decr(_tmPf1);
	}
	JB_EarlyDecr(T);
	return Ti;
}

SCDecl* SC_Decl_GetAddress(SCDecl* Self, DeclMode Purpose) {
	SCDecl* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, SC_Decl_Constructor(nil, Self->Type));
	SC_Decl_CopyTypeInfoTo(Self, Rz);
	JB_SetRef(Rz->Internal, Self);
	(++Rz->PointerCount);
	Rz->C_Array = 0;
	uint Ns = kSC__NilState_Realish;
	if (Purpose == kSC__DeclMode_Globals) {
		Ns = kSC__NilState_Optional;
	}
	 else if (!SC_DeclMode_SyntaxIs(Purpose, kSC__DeclMode_FuncParam)) {
		Ns = (Ns | kSC__NilState_Stated);
	}
	Rz->NilDeclared = Ns;
	if (Rz->PointerCount > 4) {
		JB_Msg_Fail(Self->Source, JB_LUB[1385]);
	}
	JB_SafeDecr(Rz);
	return Rz;
}

SCDecl* SC_Decl_GetCArray(SCDecl* Self, int Amount) {
	SCDecl* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, SC_Decl_Constructor(nil, Self->Type));
	SC_Decl_CopyTypeInfoTo(Self, Rz);
	SC_Decl_IsCarray(Rz, Amount, Self);
	JB_SafeDecr(Rz);
	return Rz;
}

SCIterator* SC_Decl_GetIteratorAny(SCDecl* Self, JB_String* Name, Message* Node) {
	if (SC_Decl_IsCArray(Self)) {
		return SC__Iter_carray;
	}
	if (Self->PointerCount) {
		SCDecl* I = Self->Internal;
		if (SC_Decl_IsCArray(I)) {
			return SC__Iter_carray;
		}
	}
	return SC_Class_GetIteratorAny(Self->Type, Name, Node);
}

bool SC_Decl_HasStruct(SCDecl* Self) {
	return (!Self->PointerCount) and SC_Class_IsStruct(Self->Type);
}

SCFunction* SC_Decl_HasStructDestructor(SCDecl* Self) {
	if (SC_Decl_HasStruct(Self)) {
		return Self->Type->DestructorFunc;
	}
	return nil;
}

SCDecl* SC_Decl_HighestArrayContainMatch(SCDecl* Self, SCDecl* Other) {
	SCDecl* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, SC_Decl_HighestMatch(Self, Other));
	if (!Rz) {
		JB_SetRef(Rz, Self);
	}
	JB_SafeDecr(Rz);
	return Rz;
}

SCDecl* SC_Decl_HighestMatch(SCDecl* Self, SCDecl* Other) {
	if (!Other) {
		return nil;
	}
	SCClass* M = Self->Type;
	SCClass* O = Other->Type;
	if ((O == M)) {
		return nil;
	}
	if (O->Depth > M->Depth) {
		O = SC_Class_GoUpTo(O, M->Depth);
	}
	 else if (O->Depth < M->Depth) {
		M = SC_Class_GoUpTo(M, O->Depth);
	}
	while (O != M) {
		SCClass* O2 = O->Super;
		if (!O2) {
			break;
		}
		O = O2;
		M = M->Super;
		if (!M) {
			return nil;
		}
	};
	return O->TypeNormal;
}

SCDecl* SC_Decl_Inner(SCDecl* Self) {
	SCDecl* Rz = nil;
	//visible;
	Rz = Self;
	while (true) {
		Self = Self->Internal;
		if (!Self) {
			break;
		}
	};
	return Rz;
}

bool SC_Decl_IntsOnly(SCDecl* Self, Message* Exp) {
	uint T = Self->Type->TypeInfo;
	if (SC_Decl_IsNormalNumber(Self) and JB_TC_IsInt(T)) {
		return true;
	}
	if (!(JB_TC_SyntaxIs(T, kJB__TC_Numeric) or JB_TC_SyntaxIs(T, kJB__TC_bool))) {
		JB_Msg_Fail(Exp, JB_LUB[954]);
		return nil;
	}
	if ((JB_TC_IsFloat(T))) {
		JB_Msg_Fail(Exp, JB_LUB[955]);
		return nil;
	}
	return true;
}

bool SC_Decl_IsBareStruct(SCDecl* Self) {
	return SC_Class_IsStruct(Self->Type) and ((!Self->PointerCount) and (!SC_Decl_IsCArray(Self)));
}

bool SC_Decl_IsBool(SCDecl* Self) {
	if (Self and SC_Decl_IsNormal(Self)) {
		return Self->Type == SC_TypeBool;
	}
	return false;
}

bool SC_Decl_IsCArray(SCDecl* Self) {
	return Self->C_Array > 0;
}

void SC_Decl_IsCarray(SCDecl* Self, int Size, SCDecl* Of) {
	Self->PointerCount = 0;
	Self->C_Array = Size;
	Self->NilDeclared = kSC__NilState_Real;
	JB_SetRef(Self->Internal, Of);
	Self->NilDeclared = kSC__NilState_Realish;
}

bool SC_Decl_IsConstOf(SCDecl* Self, SCDecl* B) {
	if (!SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Const)) {
		return nil;
	}
	if (Self == B) {
		return true;
	}
	Message* _tmPf0 = Self->Default;
	if (!_tmPf0) {
		return nil;
	}
	return _tmPf0->Obj == B;
}

bool SC_Decl_IsDataTypeOnly(SCDecl* Self) {
	return SC_Class_IsDataTypeOnly(Self->Type) and ((!Self->PointerCount) and (!SC_Decl_IsCArray(Self)));
}

bool SC_Decl_IsFloat(SCDecl* Self) {
	return JB_TC_IsFloat(Self->Type->TypeInfo);
}

bool SC_Decl_IsInt(SCDecl* Self) {
	return JB_TC_IsInt(Self->Type->TypeInfo);
}

bool SC_Decl_IsInteger(SCDecl* Self) {
	return SC_Decl_IsNormal(Self) and JB_TC_IsInt(Self->Type->TypeInfo);
}

bool SC_Decl_IsMemoryOnly(SCDecl* Self) {
	if (Self->PointerCount) {
		return false;
	}
	return SC_Decl_IsCArray(Self) or SC_Class_IsStruct(Self->Type);
}

bool SC_Decl_IsMostlyNormal(SCDecl* Self) {
	if (!((!SC_Decl_IsNil(Self)) and (!SC_Decl_IsCArray(Self)))) {
		return nil;
	}
	if (!Self->PointerCount) {
		return true;
	}
	if (SC_Class_IsStruct(Self->Type)) {
		return Self->PointerCount == 1;
	}
	return false;
}

bool SC_Decl_IsNearlyNormalNumber(SCDecl* Self) {
	if (!(((!SC_Decl_IsCArray(Self))) and ((!Self->PointerCount)))) {
		return nil;
	}
	return SC_Class_NumericCount(Self->Type) > 0;
}

bool SC_Decl_IsNil(SCDecl* Self) {
	return Self == SC_TypeNil;
}

bool SC_Decl_IsNormal(SCDecl* Self) {
	return (!Self->PointerCount) and ((!SC_Decl_IsNil(Self)) and ((!SC_Decl_IsCArray(Self)) and (!SC_Class_IsStruct(Self->Type))));
}

bool SC_Decl_IsNormalBool(SCDecl* Self) {
	return ((!SC_Decl_IsCArray(Self))) and (((!Self->PointerCount)) and (Self->Type == SC_TypeBool));
}

bool SC_Decl_IsNormalNumber(SCDecl* Self) {
	if (!(((!SC_Decl_IsCArray(Self))) and ((!Self->PointerCount)))) {
		return nil;
	}
	if (SC_Class_NumericCount(Self->Type) == 1) {
		return true;
	}
	if (SC__Base_ConstantsLoadingOverride) {
		SCClass* T = SC_Class_HigherNumber(Self->Type);
		if (T) {
			if (JB_TC_VecCount(T->TypeInfo) == 1) {
				return true;
			}
		}
	}
	return false;
}

bool SC_Decl_IsNormalObject(SCDecl* Self) {
	return ((!Self->PointerCount)) and (((!SC_Decl_IsNil(Self))) and SC_Decl_IsObject(Self));
}

int SC_Decl_IsNumeric(SCDecl* Self) {
	if (((!SC_Decl_IsCArray(Self))) and ((!Self->PointerCount))) {
		return SC_Class_NumericCount(Self->Type);
	}
	return 0;
}

bool SC_Decl_IsObject(SCDecl* Self) {
	return SC_Class_IsObject(Self->Type) and (!SC_Decl_IsCArray(Self));
}

bool SC_Decl_IsReallyNumeric(SCDecl* Self) {
	if (SC_Decl_IsNormal(Self)) {
		return ((bool)JB_FreeIfDead(SC_Class_HigherNumber(Self->Type)));
	}
	return false;
}

bool SC_Decl_IsReffable(SCDecl* Self, bool SetOnly) {
	if (!((!Self->PointerCount) and (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Altered) or SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Body)))) {
		return nil;
	}
	if ((SetOnly and (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Borrowed)))) {
		return nil;
	}
	return SC_Class_IsObject(Self->Type);
}

bool SC_Decl_IsReg(SCDecl* Self) {
	if (SC_Decl_IsCArray(Self)) {
		return nil;
	}
	if (Self->PointerCount) {
		return true;
	}
	return (!SC_Class_IsStruct(Self->Type));
}

bool SC_Decl_IsRegister(SCDecl* Self) {
	return (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Local)) and (!(SC_Decl_IsBareStruct(Self) or SC_Decl_IsCArray(Self)));
}

void SC_Decl_IsTypeImproveSet(SCDecl* Self, bool Value) {
	Self->mu.Info = SC_SCDeclInfo_Set(Self->mu.Info, kSC__SCDeclInfo_TypeImprove, Value);
}

bool SC_Decl_IsUintLike(SCDecl* Self) {
	uint T = Self->Type->TypeInfo;
	if (SC_Decl_IsNormal(Self) and JB_TC_IsInt(T)) {
		return (!JB_TC_IsSigned(T));
	}
	return false;
}

bool SC_Decl_IsUnknownParam(SCDecl* Self) {
	return ((!SC_Decl_NilStated(Self))) and (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Param));
}

bool SC_Decl_IsVoidPtr(SCDecl* Self) {
	return ((Self->PointerCount == 1) and (Self->Type == SC_TypeVoid_));
}

bool SC_Decl_IsZero(SCDecl* Self) {
	return (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_DirectNumber)) and (!SC_Decl_ExportPosition(Self));
}

bool SC_Decl_LoadContained(SCDecl* Self, Message* Contained, Message* Wrap, SCNode* Name_Space, DeclMode Purpose) {
	SCDecl* Cont = SC_ExtractDecl(Contained, Name_Space, Purpose, 0);
	JB_Incr(Cont);
	if (Cont) {
		bool _tmPf0 = SC_Decl_LoadContainedSub(Self, Cont, Wrap, Name_Space, Purpose);
		JB_EarlyDecr(Cont);
		return _tmPf0;
	}
	JB_EarlyDecr(Cont);
	return false;
}

bool SC_Decl_LoadContainedSub(SCDecl* Self, SCDecl* Cont, Message* Wrap, SCNode* Name_Space, DeclMode Purpose) {
	SCDecl* R = SC_ExtractDecl(Wrap, Name_Space, Purpose, 0);
	JB_Incr(R);
	if (!R) {
		JB_EarlyDecr(R);
		return nil;
	}
	SC_Decl_CopyTypeInfoTo(R, Self);
	JB_SetRef(Self->Contains, SC_Decl_MakeContainedOptional(Cont));
	if (SC_int_IsNormalMatch(SC_Decl_TypeMatch(SC_TypeWrapper->TypeNormal, R, kJB_kTypeCastFalse, nil))) {
		if ((SC_Decl_IsNormalObject(Cont))) {
			JB_Msg_Fail(Wrap, JB_LUB[1952]);
		}
	}
	 else {
		SCDecl* RCont = R->Type->Contained;
		JB_Incr(RCont);
		if (!RCont) {
			JB_Msg_Fail(Wrap, JB_LUB[1953]);
			JB_EarlyDecr(RCont);
			JB_EarlyDecr(R);
			return nil;
		}
		if ((RCont->Type != SC_TypeObject) and SC_Decl_IsNormalObject(RCont)) {
			JB_FreeIfDead(SC_Decl_ExpectMatch(RCont, Cont, 0, nil, Wrap));
		}
		JB_Decr(RCont);
	}
	JB_EarlyDecr(R);
	return true;
}

bool SC_Decl_LocalIsUsed(SCDecl* Self) {
	if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_CompilerCreated)) {
		return true;
	}
	if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_ReadFrom)) {
		return true;
	}
	if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Reference) and SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_SetTo)) {
		return true;
	}
	return false;
}

Message* SC_Decl_MakeAccess0(SCDecl* Self) {
	Message* L = JB_Syx_OperatorPlus(kJB_SyxThg, Self->Name);
	return SC_Msg_MakeAccess0(L);
}

SCDecl* SC_Decl_MakeAsObject(SCDecl* Self, SCDecl* Container, Message* ErrPlace) {
	SCDecl* NormalContained = Container->Type->Contained;
	JB_Incr(NormalContained);
	if (!NormalContained) {
		JB_EarlyDecr(NormalContained);
		return nil;
	}
	if (SC_Decl_IsNormalObject(Self)) {
		if (!SC_Decl_IsNormalObject(NormalContained)) {
			JB_Msg_Fail(ErrPlace, JB_LUB[1576]);
		}
		JB_EarlyDecr(NormalContained);
		return Self;
	}
	 else if (!SC_Decl_IsNormalObject(NormalContained)) {
		JB_EarlyDecr(NormalContained);
		return Self;
	}
	JB_Decr(NormalContained);
	if (!SC_Decl_CanWrap(Self)) {
		JB_Msg_Fail(ErrPlace, JB_LUB[1577]);
	}
	return SC_Decl_NewWrapper(Self, Self);
}

SCDecl* SC_Decl_MakeBorrowed(SCDecl* Self, bool StayBorrowed) {
	SCDecl* Rz = nil;
	JB_Incr(Rz);
	if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Borrowed)) {
		JB_EarlyDecr(Rz);
		return Self;
	}
	JB_SetRef(Rz, SC_Decl_CopyDecl(Self, false));
	(SC_Decl_SyntaxIsSet(Rz, kSC__SCDeclInfo_Borrowed, true));
	if (StayBorrowed) {
		(SC_Decl_SyntaxIsSet(Rz, kSC__SCDeclInfo_StayBorrowed, true));
	}
	JB_SafeDecr(Rz);
	return Rz;
}

void SC_Decl_MakeContainedObject(SCDecl* Self, Message* ErrPlace) {
	SCDecl* C = Self->Contains;
	if (C) {
		JB_SetRef(Self->Contains, SC_Decl_MakeAsObject(C, Self, ErrPlace));
	}
}

SCDecl* SC_Decl_MakeContainedOptional(SCDecl* Self) {
	if (SC_Decl_NilStated(Self)) {
		return Self;
	}
	return SC_Decl_MakeExistance(Self, kSC__NilState_Optional, Self->Type->TypeOptional);
}

SCDecl* SC_Decl_MakeDataObject(SCDecl* Self, SCNode* Name_Space, DeclMode Purpose) {
	SCDecl* Rz = nil;
	JB_Incr(Rz);
	Message* Wrapp = JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[1813]);
	JB_Incr(Wrapp);
	JB_SetRef(Rz, SC_Decl_Constructor(nil, Self->Type));
	SC_Decl_LoadContainedSub(Rz, Self, Wrapp, Name_Space, Purpose);
	JB_EarlyDecr(Wrapp);
	JB_SafeDecr(Rz);
	return Rz;
}

SCDecl* SC_Decl_MakeExistance(SCDecl* Self, uint /*NilState*/ Type, SCDecl* Default) {
	SCDecl* Rz = nil;
	if (Self->NilDeclared == Type) {
		return Self;
	}
	if (Default and (Self == Self->Type->TypeNormal)) {
		return Default;
	}
	Rz = SC_Decl_CopyDeclForVar(Self);
	Rz->NilDeclared = Type;
	return Rz;
}

void SC_Decl_MakeGameFlying(SCDecl* Self, SCClass* Oof, Message* M) {
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, JB_LUB[1109]);
	SC_FS_CArrayAdd(Fs, Oof->Name);
	Message* _tmPf3 = SC_Msg_ModelType(M);
	JB_Incr(_tmPf3);
	SC_FS_CArrayAddB(Fs, JB_Str_First(_tmPf3->Name));
	JB_Decr(_tmPf3);
	SC_FS_CArrayAddB0(Fs, 8);
	SC_FS_CArrayAddB0(Fs, SC_Msg_ModelMode(M));
	{
		Array* _LoopSrcf2 = Oof->Properties;
		JB_Incr(_LoopSrcf2);
		int _if0 = 0;
		while (true) {
			SCDecl* P = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			JB_Incr(P);
			if (P == nil) {
				JB_EarlyDecr(P);
				break;
			}
			SC_FS_CArrayAddB(Fs, ((byte)SC_Decl_GameType(P)));
			JB_String* _tmPf4 = JB_Str_OperatorPlus(JB_LUB[385], P->Name);
			JB_Incr(_tmPf4);
			JB_Decr(P);
			SC_FS_CArrayAdd(Fs, _tmPf4);
			JB_Decr(_tmPf4);
			(++_if0);
		};
		JB_Decr(_LoopSrcf2);
	}
	;
	JB_FS_AppendString(Fs, JB_LUB[1110]);
	JB_FS_AppendString(Fs, JB_LUB[1111]);
	JB_Decr(Fs);
}

SCDecl* SC_Decl_MakeNewNil(SCDecl* Self) {
	if (Self->PointerCount) {
		Self->NilDeclared = kSC__NilState_ActuallyNil;
		return Self;
	}
	return SC_Decl_MakeExistance(Self, kSC__NilState_ActuallyNil, nil);
}

SCDecl* SC_Decl_MakeNewOptional(SCDecl* Self) {
	return SC_Decl_MakeExistance(Self, kSC__NilState_Optional, Self->Type->TypeOptional);
}

SCDecl* SC_Decl_MakeNewReal(SCDecl* Self) {
	if (Self->PointerCount) {
		Self->NilDeclared = kSC__NilState_Real;
		return Self;
	}
	return SC_Decl_MakeReal(Self);
}

SCDecl* SC_Decl_MakeReal(SCDecl* Self) {
	return SC_Decl_MakeExistance(Self, kSC__NilState_Real, Self->Type->TypeReal);
}

SCDecl* SC_Decl_MakeReference(SCDecl* Self) {
	SCDecl* Ref = SC_Decl_CopyDecl(Self, false);
	SC_Decl_BecomeReal(Ref);
	(SC_Decl_SyntaxIsSet(Ref, kSC__SCDeclInfo_Reference, true));
	return Ref;
}

void SC_Decl_MarkAsAltered(SCDecl* Self) {
	(SC_Decl_SyntaxIsSet(Self, kSC__SCDeclInfo_SetTo, true));
	if (!SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Local)) {
		return;
	}
	(SC_Decl_SyntaxIsSet(Self, kSC__SCDeclInfo_Altered, true));
	if (SC__Func_InBranch > Self->DepthOfBranch) {
		(SC_Decl_SyntaxIsSet(Self, kSC__SCDeclInfo_AlteredInBranch, true));
	}
	if (SC__Func_InLoop > Self->DepthOfLoop) {
		(SC_Decl_SyntaxIsSet(Self, kSC__SCDeclInfo_AlteredInLoop, true));
	}
	if (SC_Decl_IsNormalObject(Self) and SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Param)) {
		(SC_Decl_SyntaxIsSet(Self, kSC__SCDeclInfo_AlteredParamObject, true));
	}
	if (!SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_TypeImprove)) {
		return;
	}
	JB_Object* Orig = Self->IsLookupOnly;
	if (JB_Object_FastIsa(Orig, &SCDeclData)) {
		(SC_Decl_SyntaxIsSet(((SCDecl*)Orig), kSC__SCDeclInfo_SetTo, true));
		((SCDecl*)Orig)->mu.Info = (((SCDecl*)Orig)->mu.Info | (Self->mu.Info & kSC__SCDeclInfo_AlteredCopy));
	}
}

void SC_Decl_MarkAsUsed(SCDecl* Self, Message* Side, Message* Exp) {
	if (Exp and ((SC_FunctionType_SyntaxIs(SC__Func__Info, kSC__FunctionType_ConOrDes)) and (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Property)))) {
		if (Exp->Func == kJB_SyxDot) {
			Message* F = ((Message*)JB_Ring_First(Exp));
			if (SC_Msg_OperatorIsThing(F, JB_LUB[401])) {
				return;
			}
		}
	}
	if (Side) {
		(SC_Decl_SyntaxIsSet(Self, kSC__SCDeclInfo_SetTo, true));
	}
	 else {
		(SC_Decl_SyntaxIsSet(Self, kSC__SCDeclInfo_ReadFrom, true));
	}
}

bool SC_Decl_MatchC(SCDecl* Self, SCDecl* O) {
	return ((bool)SC_Decl_TypeMatch(Self, O, kJB_kTypeCastTrue, nil));
}

SCDecl* SC_Decl_MemAccess(SCDecl* Self, Message* Access, Message* Side) {
	SCDecl* C = SC_Decl_MemAccessSub(Self, Access, Side);
	if (C) {
		return C;
	}
	if (true) {
		JB_Msg_Fail(((Message*)JB_Ring_First(Access)), JB_LUB[1954]);
	}
	return nil;
}

SCDecl* SC_Decl_MemAccessNonStorable(SCDecl* Self, Message* Exp, Message* Side) {
	if (SC_Decl_TypeSuffers(Self)) {
		return SC_Decl_MakeNewOptional(Self);
	}
	if (SC_Decl_IsMemoryOnly(Self)) {
		if (SC_Decl_IsBareStruct(Self)) {
			return Self;
		}
		Message* P = SC_Msg_NiceParent(Exp);
		if (SC_Msg_IsAddr(P)) {
			return Self;
		}
		bool IsAcc = (JB_Msg_EqualsSyx(P, kJB_SyxAcc));
		if (IsAcc and SC_Decl_IsCArray(Self)) {
			return Self;
		}
		//using;
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Exp, (&_usingf0));
		Message* NewExp = SC_Msg_GetAddrButNicer(Exp);
		SCDecl* I = SC_Decl_GetAddress(Self, kSC__DeclMode_Always);
		JB_SetRef(NewExp->Obj, I);
		if (Side) {
			I = SC_Decl_AccessToMemCpy(Self, NewExp, Side, I);
		}
		 else {
			if (IsAcc) {
				JB_FreeIfDead(SC_Func__TypedTempMoveOut(NewExp, JB_LUB[0], I));
			}
		}
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Exp);
		JB_MsgPos_Destructor((&_usingf0));
		return I;
	}
	return Self;
}

SCDecl* SC_Decl_MemAccessSub(SCDecl* Self, Message* Exp, Message* Side) {
	;
	SCDecl* I = Self->Internal;
	if (!I) {
		return nil;
	}
	if (SC_Decl_IsCArray(Self) or SC_Decl_IsBareStruct(I)) {
		return SC_Decl_MemAccessNonStorable(I, Exp, Side);
	}
	if (Self->PointerCount <= 0) {
		return nil;
	}
	if (!SC_Decl_IsCArray(I)) {
		return I;
	}
	return SC_Decl_MemAccessNonStorable(I, Exp, Side);
}

bool SC_Decl_MiniMatch(SCDecl* Self, SCDecl* O, int TypeCast) {
	if (Self) {
		return ((bool)SC_Decl_TypeMatch(Self, O, TypeCast, nil));
	}
	return false;
}

void SC_Decl_MiniName(SCDecl* Self, FastString* Fs) {
	SC_Str_MiniName(Self->Name, Fs, SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_ClassObj));
}

void SC_Decl_NameSet(SCDecl* Self, JB_String* Value) {
	JB_SetRef(Self->ExportName, Value);
	JB_SetRef(Self->Name, Value);
}

bool SC_Decl_NeedsContainedfix(SCDecl* Self) {
	if ((!Self->AllocSource) and (!Self->Contains)) {
		return ((bool)SC_Decl_ReallyContains(Self));
	}
	return false;
}

bool SC_Decl_NeedsCppCarrayFix(SCDecl* Self) {
	return Self->PointerCount and SC_Decl_IsCArray(Self->Internal);
}

SCDecl* SC_Decl_NewWrapper(SCDecl* Self, SCDecl* CastTo) {
	bool IsNormal = SC_Decl_IsNormal(CastTo);
	if (IsNormal) {
		SCDecl* It = Self->Type->DataObject;
		if (It) {
			return SC_Decl_ForContained(It);
		}
	}
	SCDecl* Dcl = SC_Decl_Constructor(nil, SC_TypeWrapper);
	JB_SetRef(Dcl->Contains, SC_Decl_ForContained(CastTo));
	if (IsNormal) {
		JB_SetRef(Self->Type->DataObject, Dcl);
	}
	return Dcl;
}

SCDecl* SC_Decl_NilConstructor(SCDecl* Self, uint /*NilState*/ Type) {
	SCDecl* Rz = nil;
	if (Type == 0) {
		return Self;
	}
	Rz = SC_Decl_CopyDecl(Self, false);
	Rz->NilDeclared = Type;
	return Rz;
}

NilState SC_Decl_NilCurr(SCDecl* Self) {
	if (!SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Local)) {
		return Self->NilDeclared & kSC__NilState_Either;
	}
	return SC_NRD_SyntaxAccess((SC_nil__Value()), Self->NilReg);
}

void SC_Decl_NilPrmFail(SCDecl* Self, SCFunction* F) {
	if (true) {
		JB_String* _tmPf0 = SC_Decl_PrmStateMsg(Self, JB_LUB[0]);
		JB_Incr(_tmPf0);
		JB_Msg_Fail(F->Source, _tmPf0);
		JB_Decr(_tmPf0);
	}
}

bool SC_Decl_NilStated(SCDecl* Self) {
	return SC_NilState_SyntaxIs(Self->NilDeclared, kSC__NilState_Stated);
}

void SC_Decl_NoBlindCasts(SCDecl* Self, SCDecl* Old, Message* Exp) {
	SCFunction* Fn = SC_Func__CurrFunc();
	if (Fn and (((!SC_Func_SyntaxIs(Fn, kSC__FunctionType_Constructor))) and Fn->BlindCasts)) {
		if (SC_Decl_IsNormalObject(Old) and SC_Decl_IsNormalObject(Self)) {
			if (!SC_Class_Real_Isa2(Old->Type, Self->Type)) {
				JB_Rec_AppendErr(((JB_ErrorReceiver*)nil), JB_Err_Constructor(nil, Exp, JB_LUB[687], Fn->BlindCasts, JB_LUB[0]));
			}
		}
	}
}

bool SC_Decl_NoStructOrCArrayCasts(SCDecl* Self, Message* Side) {
	if (!((SC_Class_IsStruct(Self->Type) or SC_Decl_IsCArray(Self)) and ((!Self->PointerCount)))) {
		return nil;
	}
	if (!Side) {
		return true;
	}
	Message* _tmPf0 = SC_Msg_Unwrap(Side);
	JB_Incr(_tmPf0);
	bool _tmPf1 = (!JB_Msg_EqualsSyx(_tmPf0, kJB_SyxArg));
	JB_EarlyDecr(_tmPf0);
	return _tmPf1;
}

SCDecl* SC_Decl_NotLocal(SCDecl* Self) {
	SCDecl* Rz = nil;
	JB_Incr(Rz);
	if (((!SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Local))) and (!JB_Str_Exists(Self->Name))) {
		JB_EarlyDecr(Rz);
		return Self;
	}
	JB_SetRef(Rz, SC_Decl_CopyDecl(Self, false));
	(SC_Decl_NameSet(Rz, JB_LUB[0]));
	(SC_Decl_SyntaxIsSet(Rz, kSC__SCDeclInfo_Local, (!true)));
	JB_SafeDecr(Rz);
	return Rz;
}

void SC_Decl_NumberConstSet(SCDecl* Self, uint64 V) {
	(SC_Decl_ExportPositionSet(Self, V));
	(SC_Decl_SyntaxIsSet(Self, kSC__SCDeclInfo_NumberConst, true));
}

int SC_Decl_NumericCountWithBools(SCDecl* Self) {
	if (Self->PointerCount) {
		return 1;
	}
	if (SC_Decl_IsCArray(Self)) {
		return SC_Decl_NumericCountWithBools(Self->Internal);
	}
	if (Self->mu.DataType & kJB__TC_bool) {
		return 1;
	}
	return JB_TC_VecCount(Self->Type->TypeInfo);
}

bool SC_Decl_OperatorExact_isa(SCDecl* Self, SCClass* V) {
	return SC_Decl_IsNormal(Self) and (Self->Type == V);
}

bool SC_Decl_MatchesDecl(SCDecl* Self, SCDecl* O) {
	//cpp_part;
	return SC_Decl_MatchC(Self, O);
}

bool SC_Decl_OperatorMatches(SCDecl* Self, SCClass* O) {
	if (O and Self) {
		return SC_Decl_MatchesDecl(Self, O->TypeNormal);
	}
	return false;
}

void SC_Decl_Paramfix(SCDecl* Self) {
	(SC_Decl_SyntaxIsSet(Self, kSC__SCDeclInfo_Param, true));
	(SC_Decl_SyntaxIsSet(Self, kSC__SCDeclInfo_Body, (!true)));
}

int SC_Decl_PointerIncrement(SCDecl* Self) {
	int Rz = 0;
	if (Self->PointerCount > 1) {
		Rz = JB_Platform__PointerBytes();
	}
	 else {
		Rz = Self->Type->ClsSize;
	}
	if (SC_Decl_IsCArray(Self)) {
		Rz = (Rz * SC_Decl_CArrayTotal(Self));
	}
	return Rz;
}

bool SC_Decl_PointeryMatch(SCDecl* Self, SCDecl* O) {
	uint OP = O->PointerCount;
	if (OP == Self->PointerCount) {
		return (SC_Decl_IsCArray(O) == SC_Decl_IsCArray(Self));
	}
	if (SC_Decl_IsCArray(Self)) {
		SCDecl* C = SC_Decl_CArrayInner(Self);
		if (OP == (C->PointerCount + 1)) {
			return true;
		}
	}
	return false;
}

int SC_Decl_PointeryMatchSub(SCDecl* Self, SCDecl* O, int TypeCast) {
	SCClass* OType = O->Type;
	SCClass* T = Self->Type;
	uint Tica = T->IsRole;
	if (Tica == OType->IsRole) {
	}
	 else if (Tica) {
		while (T->IsRole) {
			T = T->Super;
			if (!T) {
				return 0;
			}
		};
	}
	 else {
		while (OType->IsRole) {
			OType = OType->Super;
			if (!OType) {
				return 0;
			}
		};
	}
	int Dist = 0;
	{
		SCClass* CurrSuper = OType;
		while (CurrSuper) {
			if (T == CurrSuper) {
				if (O->AllocSource or SC_Decl_ContainsMatch(Self, O, TypeCast)) {
					if (!Dist) {
						return kJB_kSimpleMatch;
					}
					if (TypeCast & kJB_kTypeCastWantSuperDistance) {
						return kJB_kSuperClassMatch | Dist;
					}
					return kJB_kSuperClassMatch;
				}
			}
			(++Dist);
			CurrSuper = CurrSuper->Super;
		};
	}
	;
	return 0;
}

void SC_Decl_PrefixedName(SCDecl* Self, FastString* Fs, SCModule* M) {
	if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Const)) {
		JB_FS_AppendByte(Fs, 'k');
	}
	JB_FS_AppendString(Fs, SC_Decl_Project(Self)->Mod->ExportName);
	JB_FS_AppendByte(Fs, '_');
	if (JB_Str_Exists(M->CppPart)) {
		JB_FS_AppendByte(Fs, '_');
		JB_FS_AppendString(Fs, M->CppPart);
		JB_FS_AppendByte(Fs, '_');
	}
	JB_FreeIfDead(SC_Str_UnicodeSafeName(Self->Name, Fs));
	JB_SetRef(Self->ExportName, JB_FS_SyntaxCast(Fs));
}

JB_String* SC_Decl_PrmStateMsg(SCDecl* Self, JB_String* Needed) {
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, JB_LUB[402]);
	if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Self)) {
		JB_FS_AppendString(Fs, JB_LUB[401]);
	}
	 else {
		JB_FS_AppendString(Fs, JB_LUB[403]);
		JB_FS_AppendString(Fs, Self->Name);
	}
	JB_FS_AppendString(Fs, JB_LUB[404]);
	JB_FS_AppendString(Fs, Needed);
	JB_String* _tmPf0 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

SCDecl* SC_Decl_ProcessAs(SCDecl* Self, Message* Msg) {
	Message* P = SC_Msg_UnBra(((Message*)JB_Ring_Parent(Msg)));
	if (SC_Msg_OperatorIsBRel(P, JB_LUB[32])) {
		return Self;
	}
	SCDecl* T = Self->Type->ProcessAs->TypeNormal;
	JB_FreeIfDead(SC_Decl_CreateSimpleTypeCast(T, Msg));
	Message* L = ((Message*)JB_Ring_Last(Msg));
	if (L) {
		JB_SetRef(L->Obj, Self);
	}
	 else {
		if (true) {
			JB_Msg_Fail(Msg, nil);
		}
	}
	return T;
}

SCImport* SC_Decl_Project(SCDecl* Self) {
	return (((SCImport*)JB_Object_FastAs(JB_ObjLayer(Self)->Obj, &SCImportData)));
}

void SC_Decl_Reach(SCDecl* Self) {
	SC_Class_Reach(Self->Type, SC__Comp_VisibleFuncs, nil);
}

SCDecl* SC_Decl_ReallyContains(SCDecl* Self) {
	SCDecl* C = Self->Contains;
	if (!C) {
		C = Self->Type->Contained;
	}
	if (C and (C->Type != Self->Type)) {
		return C;
	}
	return nil;
}

JB_String* SC_Decl_RealName(SCDecl* Self) {
	JB_Object* L = Self->IsLookupOnly;
	if ((JB_Object_Isa(L, &SCObjectData)) and (!(JB_Object_Isa(L, &SCDeclData)))) {
		return JB_LUB[0];
	}
	Message* S = Self->Source;
	if ((JB_Msg_EqualsSyx(S, kJB_SyxThg)) and JB_Msg_OperatorIn(S, kJB_SyxRel)) {
		S = ((Message*)JB_Ring_Parent(S));
	}
	if ((JB_Msg_EqualsSyx(S, kJB_SyxRel)) or (JB_Msg_EqualsSyx(S, kJB_SyxDecl))) {
		return JB_Msg_Name(SC_Msg_DeclName(S));
	}
	return Self->Name;
}

Message* SC_Decl_RefDestructor(SCDecl* Self) {
	Message* M = SC_Decl_DeclToDot(Self, SC_Func_Self(SC_Func__CurrFunc()));
	if (SC_Decl_IsCArray(Self)) {
		return SC_Refs__DecrMulti(Self, M, false);
	}
	return SC_Refs__RefClearMsg(M);
}

SCDecl* SC_Decl_RefineDecl(SCDecl* Self, Message* List) {
	SCDecl* Rz = nil;
	Rz = SC_Decl_CopyDecl(Self, false);
	{
		Message* P = ((Message*)JB_Ring_First(List));
		while (P) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(P));
			if (JB_Msg_Expect(P, kJB_SyxThg, nil)) {
				JB_String* N = P->Name;
				if ((JB_Str_Equals(N, JB_LUB[1469], true))) {
					((SC_Decl_SyntaxIsSet(Rz, kSC__SCDeclInfo_Borrowed, SC__Options_ProjectIsLibrary)));
				}
				 else if ((JB_Str_Equals(N, JB_LUB[1134], true))) {
					(SC_Decl_SyntaxIsSet(Rz, kSC__SCDeclInfo_API, true));
				}
				 else if ((JB_Str_Equals(N, JB_LUB[1470], true))) {
					(SC_Decl_SyntaxIsSet(Rz, kSC__SCDeclInfo_Const, true));
					JB_PrintLine(JB_LUB[1471]);
				}
				 else {
					if (true) {
						JB_Msg_Fail(P, nil);
					}
				}
			}
			P = _Nf1;
		};
		;
	}
	;
	return Rz;
}

int SC_Decl_Reg(SCDecl* Self) {
	return SC_Reg_Reg(((ASMReg)Self->mu.DataType));
}

JB_String* SC_Decl_Render(SCDecl* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	if (Self) {
		JB_FS_AppendByte(Fs, '|');
		JB_FreeIfDead(SC_Decl_RenderTypeName(Self, Fs));
		JB_FS_AppendByte(Fs, '|');
		JB_FS_AppendByte(Fs, ' ');
		JB_FS_AppendString(Fs, Self->Name);
	}
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

JB_String* SC_Decl_RenderTypeAndName(SCDecl* Self, int Minimal, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	Message* _tmPf0 = SC_Decl_WriteDeclTypeAndName(Self, JB_LUB[0], Minimal);
	JB_Incr(_tmPf0);
	JB_FreeIfDead(JB_Msg_Render(_tmPf0, Fs));
	JB_EarlyDecr(_tmPf0);
	JB_String* _tmPf1 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

JB_String* SC_Decl_RenderTypeName(SCDecl* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	if (!Self) {
		JB_FS_AppendString(Fs, JB_LUB[405]);
	}
	 else {
		if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Reference)) {
			JB_FS_AppendByte(Fs, '$');
		}
		SCDecl* C = Self->Contains;
		JB_Incr(C);
		if (C) {
			if (SC_Decl_MiniMatch(C, Self->Type->Contained, 0)) {
				JB_SetRef(C, nil);
			}
			 else {
				JB_FS_AppendByte(Fs, '(');
			}
		}
		if (SC_Decl_IsNil(Self)) {
			JB_FS_AppendString(Fs, JB_LUB[100]);
		}
		 else if (SC_Decl_IsCArray(Self)) {
			JB_FreeIfDead(SC_Decl_RenderTypeName(Self->Internal, Fs));
			JB_FS_AppendByte2(Fs, '[');
			JB_FS_AppendInt32(Fs, Self->C_Array);
			JB_FS_AppendByte2(Fs, ']');
		}
		 else {
			JB_FS_AppendMultiByte(Fs, '&', Self->PointerCount);
			if (Self->PointerCount) {
				SCDecl* I = Self->Internal;
				if (I->Internal) {
					JB_FS_AppendByte2(Fs, '(');
				}
				JB_FreeIfDead(SC_Decl_RenderTypeName(I, Fs));
				if (I->Internal) {
					JB_FS_AppendByte2(Fs, ')');
				}
			}
			 else {
				JB_FS_AppendString(Fs, Self->Type->Name);
			}
		}
		if (C) {
			JB_FS_AppendString(Fs, JB_LUB[406]);
			JB_FS_AppendString(Fs, C->Type->Name);
			JB_FS_AppendByte(Fs, ')');
		}
		JB_Decr(C);
		if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Borrowed)) {
			JB_FS_AppendString(Fs, JB_LUB[407]);
		}
		if (SC_Decl_TypeSuffers(Self) and SC_Decl_NilStated(Self)) {
			if (SC_Decl_StatedOptional(Self)) {
				JB_FS_AppendByte(Fs, '?');
			}
			 else if (SC_Decl_StatedReal(Self)) {
				JB_FS_AppendByte(Fs, '!');
			}
		}
	}
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

JB_String* SC_Decl_RenderTypeNameNicer(SCDecl* Self, FastString* Fs_in) {
	return SC_Decl_RenderTypeName(SC_Decl_DownGrade(Self), Fs_in);
}

bool SC_Decl_SafelyWrappable(SCDecl* Self) {
	int N = SC_Decl_IsNumeric(Self);
	if ((N <= 1) or (SC_Decl_IsBool(Self))) {
		return true;
	}
	SCFunction* Fns = ((SCFunction*)SC_Base_SyntaxAccessWithStr(SC_TypeWrapper->Modul, JB_LUB[688]));
	if (!JB_Object_Isa(Fns, &SCFunctionData)) {
		return nil;
	}
	{
		SCFunction* F = Fns;
		while (F) {
			Array* P = F->Args;
			if ((JB_Array_Size(P) == 1) and SC_Decl_TypeMatch(((SCDecl*)JB_Array_Value(P, 0)), Self, 0, nil)) {
				return true;
			}
			F = F->NextFunc;
		};
	}
	;
	return false;
}

bool SC_Decl_SameForReplace(SCDecl* Self, SCDecl* C) {
	if ((SC_Decl_SyntaxIs(C, kSC__SCDeclInfo_Borrowed)) != (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Borrowed))) {
		return nil;
	}
	if (C->PointerCount != Self->PointerCount) {
		return nil;
	}
	if (Self->NilDeclared != C->NilDeclared) {
		return false;
	}
	return C->C_Array == Self->C_Array;
}

void SC_Decl_Sanity(SCDecl* Self) {
}

int SC_Decl_SizeOfQuery(SCDecl* Self) {
	return SC_Decl_CArraySize(Self, 1);
}

int SC_Decl_SortScore(SCDecl* Self) {
	if (Self->PointerCount) {
		return ((int)kSC__SCNodeType_Pointer);
	}
	return 1 + ((int)Self->Type->BaseType);
}

bool SC_Decl_SpecialReg(SCDecl* Self) {
	if (Self and (!SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Reference))) {
		return JB_TC_SpecialReg(Self->mu.DataType);
	}
	return false;
}

NilState SC_Decl_StatedOptional(SCDecl* Self) {
	if ((Self->NilDeclared & kSC__NilState_Optional) == kSC__NilState_Optional) {
		return kSC__NilState_Optional;
	}
	return 0;
}

NilState SC_Decl_StatedReal(SCDecl* Self) {
	return SC_NilState_StatedReal(Self->NilDeclared);
}

void SC_Decl_StoreExport(SCDecl* Self) {
	(JB_Dict_ValueSet(SC__Comp_ExportGlobs, Self->ExportName, Self));
}

void SC_Decl_SyntaxAppend(SCDecl* Self, SCDeclInfo D) {
	Self->mu.Info = (Self->mu.Info | D);
}

bool SC_Decl_SyntaxIs(SCDecl* Self, SCDeclInfo D) {
	if (Self) {
		return ((bool)(Self->mu.Info & D));
	}
	return false;
}

void SC_Decl_SyntaxIsSet(SCDecl* Self, SCDeclInfo D, bool Value) {
	Self->mu.Info = SC_SCDeclInfo_Set(Self->mu.Info, D, Value);
}

byte SC_Decl_Trin(SCDecl* Self) {
	uint Rz = 0;
	uint Ty = SC_Decl_TypeInfo(Self);
	bool ReturnVec = JB_TC_NumericCount(Ty) > 1;
	Rz = ((byte)JB_Ternary(ReturnVec, 'v', 'f'));
	if (JB_TC_SyntaxIs(Ty, kJB__TC_bool)) {
		Rz = 'u';
	}
	return Rz;
}

int SC_Decl_TryTypeCast(SCDecl* Self, SCDecl* O, Message* OExp, int TypeCast) {
	SCClass* T = Self->Type;
	SCClass* Ot = O->Type;
	if (Self->PointerCount == (O->PointerCount + 1)) {
		int Found = SC_Decl_TryTypeCastPointer(Self, O, OExp, TypeCast, false);
		if (Found) {
			return Found;
		}
	}
	if ((SC_Decl_IsCArray(O)) and (Self->PointerCount == 1)) {
		int Found = SC_Decl_TryTypeCastCarray(Self, O, OExp);
		if (Found) {
			return Found;
		}
	}
	if (!(TypeCast & kJB_kNoBoolTypeCast)) {
		if ((T == SC_TypeBool) and ((SC_Decl_IsNormal(Self)) and (O->PointerCount))) {
			return SC_Msg_CastToBool(OExp, nil);
		}
	}
	if ((Self->PointerCount + 1) == O->PointerCount) {
		int Found = SC_Decl_TryTypeCastDeref(Self, O, OExp, TypeCast);
		if (Found) {
			return Found;
		}
	}
	if (TypeCast & (kJB_kTypeCastMost | kJB_kTypeCastNumbers)) {
		SCDecl* CounterPart = T->Signed;
		if (CounterPart) {
			if ((CounterPart->Type == Ot) and (SC_int_IsNormalMatch(SC_Decl_TypeMatch(CounterPart, O, TypeCast, OExp)))) {
				return kJB_kSimpleMatch;
			}
		}
	}
	bool NoBools = (TypeCast & kJB_kTypeCastBothWays) or (TypeCast & kJB_kNoBoolTypeCast);
	if (TypeCast & kJB_kTypeCastMost) {
		{
			SCClass* B = Ot;
			while (B) {
				{
					Array* _LoopSrcf3 = B->Casts;
					int _if1 = JB_Array_Size(_LoopSrcf3) - 1;
					while (true) {
						SCFunction* C = ((SCFunction*)JB_Array_Value(_LoopSrcf3, _if1));
						if (C == nil) {
							break;
						}
						if (!(NoBools and (SC_Decl_IsBool(C->ReturnType)))) {
							int Loss = SC_Decl_TypeMatch(Self, C->ReturnType, kJB_kTypeCastNumbers, nil);
							if (SC_int_IsNormalMatch(Loss)) {
								if ((Loss == kJB_kSimpleMatch) or (!SC_Class_IsDataTypeOnly(Self->Type))) {
									// sigh;
									// If theres one that doesnt need numeric cast... that should be considered a stronger match;
									// C.CreateTypeCast should return the result, bitored with needscast.;
									return SC_Func_CreateTypeCast(C, O, OExp, Loss);
								}
							}
						}
						(--_if1);
					};
				}
				;
				B = B->Super;
			};
		}
		;
		bool IsaBool = (T == SC_TypeBool) and (SC_Decl_IsNormal(Self));
		if (((!NoBools)) and IsaBool) {
			return SC_Msg_CastToBool(OExp, nil);
		}
		if (((!IsaBool) or (!NoBools)) and SC_Decl_CanWrap(O)) {
			if (SC_int_IsNormalMatch(SC_Decl_TypeMatch(SC_TypeWrapper->TypeNormal, Self, 0, nil))) {
				SCDecl* It = Self->Contains;
				if (It) {
					if (!SC_Decl_TypeMatch(It, O, kJB_kTypeCastNumbers, nil)) {
						return 0;
					}
					return SC_Msg_WrapExpr(OExp, O);
				}
			}
			if (SC_int_IsNormalMatch(SC_Decl_TypeMatch(Self, SC_TypeWrapper->TypeNormal, 0, nil)) and SC_Decl_SafelyWrappable(O)) {
				return SC_Msg_WrapExpr(OExp, O);
			}
		}
	}
	if (TypeCast & kJB_kTypeCastNumbers) {
		bool OIsNum = SC_Decl_IsNormalNumber(O);
		bool SIsNum = SC_Decl_IsNormalNumber(Self);
		if (SIsNum and (SC_Decl_IsNil(O) or (TypeCast & kJB_kTypeCastFromZero))) {
			return kJB_kNumericMatch;
		}
		if (OIsNum and SIsNum) {
			int Ff = SC_Decl_IsFloat(O) + SC_Decl_IsFloat(Self);
			if (Ff == 0) {
				return kJB_kNumericMatch;
			}
			if (Ff == 2) {
				uint L = SC_Decl_TypeInfo(Self);
				uint R = SC_Decl_TypeInfo(O);
				if (JB_TC_ByteCount(L) == JB_TC_ByteCount(R)) {
					return kJB_kNumericMatch;
				}
				if (TypeCast & kJB_kTypeCastSetToMemory) {
					return SC_Decl_FloatCast(Self, O, OExp);
				}
				if ((SC_Decl_SyntaxIs(O, kSC__SCDeclInfo_Const)) and (TypeCast & kJB_kTypeCastForSetRel)) {
					return SC_Msg_CastToClass(OExp, Self->Type, nil);
				}
				if ((SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Const)) or (SC_Decl_SyntaxIs(O, kSC__SCDeclInfo_Const))) {
					if (TypeCast & kJB_kTypeCastForSetRel) {
						return SC_Msg_CastToClass(OExp, Self->Type, nil);
					}
					return kJB_kNumericMatch;
				}
			}
			 else if (TypeCast & kJB_kTypeCastFromSmallInt) {
				return SC_Msg_CastToClass(OExp, Self->Type, nil);
			}
		}
		if (TypeCast & kJB_kTypeCastBothWays) {
			if (OIsNum and SC_Decl_IsNormalBool(Self)) {
				return kJB_kNumericMatch;
			}
			if (SIsNum and SC_Decl_IsNormalBool(O)) {
				return kJB_kNumericMatch;
			}
		}
	}
	if (SC_Func_EqualOrMoreSpecific(Ot->FuncProto, T->FuncProto) and SC_Decl_PointeryMatch(Self, O)) {
		return SC_Msg_CastToClass(OExp, T, nil);
	}
	return 0;
}

int SC_Decl_TryTypeCastCarray(SCDecl* Self, SCDecl* O, Message* Exp) {
	SCDecl* Si = Self->Internal;
	SCDecl* Oi = O->Internal;
	if (SC_Decl_MiniMatch(Si, Oi, 0)) {
		if (!Exp) {
			return kJB_kNeedsTypeCast;
		}
		return kJB_kCastedMatch;
	}
	return 0;
}

int SC_Decl_TryTypeCastDeref(SCDecl* Self, SCDecl* O, Message* Exp, int TypeCast) {
	SCDecl* I = O->Internal;
	if (!SC_Decl_MiniMatch(Self, I, TypeCast)) {
		return 0;
	}
	if (!Exp) {
		return kJB_kNeedsAddressOf;
	}
	Message* Addr = JB_Syx_Msg(kJB_SyxAcc, JB_LUB[0]);
	(JB_Ring_NextSibSet(Exp, Addr));
	JB_Tree_SyntaxAppend(Addr, Exp);
	Message* Num = JB_Msg_Msg(JB_Msg_Msg(Addr, kJB_SyxArr, JB_LUB[0]), kJB_SyxNum, JB_LUB[478]);
	JB_SetRef(Num->Obj, SC_TypeNil);
	JB_SetRef(Addr->Obj, I);
	return kJB_kAddressOfMatch;
}

int SC_Decl_TryTypeCastPointer(SCDecl* Self, SCDecl* O, Message* Exp, int TypeCast, bool CArray) {
	int Rz = 0;
	if (SC_Decl_SyntaxIs(O, kSC__SCDeclInfo_Reference)) {
		if (Exp) {
			if (true) {
				JB_Msg_Fail(Exp, JB_LUB[1472]);
			}
		}
		return 0;
	}
	if (SC_Decl_MiniMatch(Self->Internal, O, 0)) {
		SCDecl* OAddr = SC_Decl_GetAddress(O, kSC__DeclMode_Always);
		if (CArray) {
			OAddr->C_Array = 0;
		}
		if (SC_Decl_MiniMatch(Self, OAddr, TypeCast) and ((!Exp) or SC_Msg_CanGetAddress(Exp, nil))) {
			Rz = SC_Msg_GetAddressOf(Exp, OAddr, CArray);
		}
	}
	return Rz;
}

DataTypeCode SC_Decl_TypeInfo(SCDecl* Self) {
	if (Self->PointerCount) {
		return kJB__TC__voidptr;
	}
	if (SC_Decl_IsCArray(Self)) {
		return SC_Decl_TypeInfo(Self->Internal);
	}
	return Self->Type->TypeInfo;
}

bool SC_Decl_TypeIsReached(SCDecl* Self) {
	return ((bool)Self->Type->MyReacher);
}

int SC_Decl_TypeMatch(SCDecl* Self, SCDecl* O, int TypeCast, Message* Exp) {
	if (O == nil) {
		if (!Self->Default) {
			return 0;
		}
		return kJB_kUseDefaultParams;
	}
	if (O == Self) {
		return kJB_kSimpleMatch;
	}
	if ((SC_Decl_SyntaxIs(O, kSC__SCDeclInfo_Const)) and ((SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Reference)) and (TypeCast & kJB_kTypeCastForParams))) {
		return 0;
	}
	if (SC_Decl_IsNil(O) and (TypeCast & kJB_kTypeCastTrue)) {
		if (SC_Decl_CantBeNilInCpp(Self)) {
			if (!Exp) {
				return kJB_kNeedsTypeCast;
			}
			Message* NilStruct = SC_Decl_CreateStructNil(Self, Exp);
			JB_Incr(NilStruct);
			JB_FreeIfDead(SC_Msg_ReplaceWith(Exp, NilStruct));
			JB_EarlyDecr(NilStruct);
			return kJB_kCastedMatch;
		}
		return kJB_kSimpleMatch;
	}
	if (SC_Decl_PointeryMatch(O, Self)) {
		int Ooop = SC_Decl_PointeryMatchSub(Self, O, TypeCast);
		if ((!Ooop) and ((TypeCast & kJB_kTypeCastBothWays) and (SC_Decl_IsNormalObject(O) and SC_Decl_IsNormalObject(Self)))) {
			Ooop = SC_Decl_PointeryMatchSub(O, Self, TypeCast);
		}
		if (Ooop) {
			return Ooop;
		}
	}
	if ((TypeCast & kJB_kTypeCastTrue) and ((SC_Decl_IsVoidPtr(Self)) and (O->PointerCount or O->Type->FuncProto))) {
		if ((!Exp)) {
			return kJB_kNeedsTypeCast | kJB_kVoidPtrMatch;
		}
		if (O->Type->FuncProto) {
			return SC_Msg_CastFPToVoidPtr(Exp);
		}
		return kJB_kCastedMatch;
	}
	if (TypeCast & kJB_kActualTypecasts) {
		return SC_Decl_TryTypeCast(Self, O, Exp, TypeCast);
	}
	return 0;
}

DataTypeCode SC_Decl_TypeOnly(SCDecl* Self) {
	return Self->mu.DataType & kJB__TC_PossibleBits;
}

void SC_Decl_TypeReach(SCDecl* Self, SCNode* From, Message* Src) {
	//;
	if (Self) {
		return SC_Class_Reach(Self->Type, From, Src);
	}
}

bool SC_Decl_TypeSuffers(SCDecl* Self) {
	if (SC_Decl_IsCArray(Self)) {
		return false;
	}
	if (Self->PointerCount) {
		return true;
	}
	SCNodeType D = Self->Type->BaseType;
	return (D == kSC__SCNodeType_ProtoType) or (D == kSC__SCNodeType_Object);
}

void SC_Decl_WholeTypeSet(SCDecl* Self, ASMReg Value) {
	SC_Reg_TmpCheck(Value);
	Self->mu.DataType = ((DataTypeCode)Value);
}

ASMReg SC_Decl_WholeType(SCDecl* Self) {
	return ((ASMReg)Self->mu.DataType);
}

int SC_Decl_Wierdness(SCDecl* Self) {
	int Rz = 0;
	Rz = ((SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Reference)) << 1);
	Rz = (Rz | (Self->PointerCount > 0));
	Rz = (Rz | (Self->C_Array << 2));
	return Rz;
}

Message* SC_Decl_WriteDeclFull(SCDecl* Self, JB_String* DeclName, int Minimal) {
	JB_Incr(DeclName);
	Message* Rz = nil;
	JB_Incr(Rz);
	if (!JB_Str_Exists(DeclName)) {
		JB_SetRef(DeclName, Self->Name);
	}
	if (!(JB_Str_Exists(DeclName) or (!Self->Default))) {
		JB_Object_Fail(nil);
		JB_EarlyDecr(DeclName);
		JB_EarlyDecr(Rz);
		return nil;
	}
	if (JB_Str_Exists(DeclName)) {
		Message* _tmPf1 = SC_Decl_WriteDeclSub(Self, DeclName, Minimal);
		JB_Incr(_tmPf1);
		JB_EarlyDecr(DeclName);
		JB_EarlyDecr(Rz);
		JB_SafeDecr(_tmPf1);
		return _tmPf1;
	}
	JB_Decr(DeclName);
	//----;
	JB_SetRef(Rz, JB_Syx_Msg(kJB_SyxDecl, JB_LUB[0]));
	Message* _tmPf0 = SC_Decl_WriteType(Self, Minimal, true);
	JB_Incr(_tmPf0);
	JB_Tree_SyntaxAppend(Rz, _tmPf0);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* SC_Decl_WriteDeclSub(SCDecl* Self, JB_String* Name, int Minimal) {
	Message* Dcl = JB_Syx_Msg(kJB_SyxDecl, JB_LUB[0]);
	JB_Incr(Dcl);
	Message* _tmPf0 = SC_Decl_WriteType(Self, Minimal, true);
	JB_Incr(_tmPf0);
	JB_Tree_SyntaxAppend(Dcl, _tmPf0);
	JB_Decr(_tmPf0);
	Message* Def = Self->Default;
	JB_Incr(Def);
	if ((!Def) and (Minimal >= 2)) {
		JB_FreeIfDead(JB_Msg_Msg(Dcl, kJB_SyxThg, Name));
		JB_EarlyDecr(Def);
		JB_SafeDecr(Dcl);
		return Dcl;
	}
	if (!Def) {
		JB_SetRef(Def, Self->Type->Defawlt);
	}
	if ((!Def) or (Self->PointerCount and (Minimal < 2))) {
		JB_SetRef(Def, JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[100]));
	}
	 else {
		JB_SetRef(Def, JB_Msg_Copy(Def, Self->Source));
	}
	SCDecl* C = Self->Contains;
	JB_Incr(C);
	if (C) {
		JB_SetRef(Def, SC_Msg_WrapWith(Def, kJB_SyxType, JB_LUB[629]));
		Message* _tmPf2 = JB_Syx_OperatorPlus(kJB_SyxThg, Self->Type->Name);
		JB_Incr(_tmPf2);
		Message* _tmPf3 = JB_Syx_OperatorPlus(kJB_SyxThg, C->Type->Name);
		JB_Incr(_tmPf3);
		Message* _tmPf1 = SC_NewRel(_tmPf2, _tmPf3, JB_LUB[1259]);
		JB_Incr(_tmPf1);
		JB_Decr(_tmPf2);
		JB_Decr(_tmPf3);
		JB_Tree_SyntaxAppend(Def, _tmPf1);
		JB_Decr(_tmPf1);
	}
	JB_Decr(C);
	Message* _tmPf5 = JB_Syx_OperatorPlus(kJB_SyxThg, Name);
	JB_Incr(_tmPf5);
	Message* _tmPf4 = SC_NewEqRelWithMsgMsg(_tmPf5, Def);
	JB_Incr(_tmPf4);
	JB_Decr(Def);
	JB_Decr(_tmPf5);
	JB_Tree_SyntaxAppend(Dcl, _tmPf4);
	JB_EarlyDecr(_tmPf4);
	JB_SafeDecr(Dcl);
	return Dcl;
}

Message* SC_Decl_WriteDeclTypeAndName(SCDecl* Self, JB_String* Name, int Minimal) {
	JB_Incr(Name);
	Message* Rz = nil;
	JB_Incr(Rz);
	if (!JB_Str_Exists(Name)) {
		JB_SetRef(Name, Self->Name);
	}
	JB_SetRef(Rz, JB_Syx_Msg(kJB_SyxDecl, JB_LUB[0]));
	Message* _tmPf0 = SC_Decl_WriteType(Self, Minimal, true);
	JB_Incr(_tmPf0);
	JB_Tree_SyntaxAppend(Rz, _tmPf0);
	JB_Decr(_tmPf0);
	JB_Msg_AppendSyx(Rz, kJB_SyxThg, Name);
	JB_EarlyDecr(Name);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* SC_Decl_WriteNilDecl(SCDecl* Self) {
	Message* L = SC_Decl_WriteNilRel(Self);
	Message* Dcl = JB_Syx_Msg(kJB_SyxDecl, JB_LUB[0]);
	JB_Tree_SyntaxAppend(Dcl, SC_Decl_WriteType(Self, 0, true));
	JB_Tree_SyntaxAppend(Dcl, L);
	JB_SetRef(Dcl->Obj, Self);
	JB_SetRef(L->Obj, Self);
	JB_SetRef(((Message*)JB_Ring_First(L))->Obj, Self);
	return Dcl;
}

Message* SC_Decl_WriteNilRel(SCDecl* Self) {
	return SC_NewEqRelWithStrStr(Self->Name, JB_LUB[100]);
}

Message* SC_Decl_WriteSimpleType(SCDecl* Self, bool Optionals) {
	Message* Rz = nil;
	Rz = SC_Decl_WriteVerySimpleType(Self);
	if (SC_Decl_SyntaxIs(Self, kSC__SCDeclInfo_Borrowed)) {
		Rz = SC_Msg_WrapWith(Rz, kJB_SyxARel, JB_LUB[407]);
	}
	if (!Optionals) {
		Rz = SC_Msg_WrapWith(Rz, kJB_SyxBRel, JB_LUB[96]);
	}
	 else if (SC_Decl_TypeSuffers(Self) and SC_Decl_NilStated(Self)) {
		if (SC_Decl_StatedOptional(Self)) {
			Rz = SC_Msg_WrapWith(Rz, kJB_SyxBRel, JB_LUB[689]);
		}
		 else if (SC_Decl_StatedReal(Self)) {
			Rz = SC_Msg_WrapWith(Rz, kJB_SyxBRel, JB_LUB[96]);
		}
	}
	return Rz;
}

Message* SC_Decl_WriteType(SCDecl* Self, int Minimal, bool Optionals) {
	Message* Rz = nil;
	Message* Simple = SC_Decl_WriteSimpleType(Self, Optionals);
	SCDecl* C = Self->Contains;
	if ((!C) or (Minimal and SC_Decl_AlreadyContains(Self))) {
		return Simple;
	}
	Rz = JB_Syx_Msg(kJB_SyxRel, JB_LUB[0]);
	JB_Tree_SyntaxAppend(Rz, Simple);
	JB_Msg_AppendSyx(Rz, kJB_SyxOpp, JB_LUB[1259]);
	JB_Tree_SyntaxAppend(Rz, SC_Decl_WriteType(C, Minimal, Optionals));
	return Rz;
}

Message* SC_Decl_WriteTypeCast(SCDecl* Self, Message* Msg) {
	Message* TheType = JB_Syx_OperatorPlus(kJB_SyxType, JB_LUB[629]);
	JB_Incr(TheType);
	JB_Tree_SyntaxAppend(TheType, Msg);
	Message* _tmPf0 = SC_Decl_WriteType(Self, 0, true);
	JB_Incr(_tmPf0);
	JB_Tree_SyntaxAppend(TheType, _tmPf0);
	JB_Decr(_tmPf0);
	JB_SetRef(TheType->Obj, Self);
	JB_SafeDecr(TheType);
	return TheType;
}

Message* SC_Decl_WriteVerySimpleType(SCDecl* Self) {
	Message* Rz = nil;
	Rz = JB_Syx_OperatorPlus(kJB_SyxThg, Self->Type->Name);
	{
		int _LoopSrcf1 = ((int)Self->PointerCount);
		int _Valuef2 = 0;
		while (_Valuef2 < _LoopSrcf1) {
			Rz = SC_Msg_WrapWith(Rz, kJB_SyxBRel, JB_LUB[32]);
			(++_Valuef2);
		};
	}
	;
	if (SC_Decl_IsCArray(Self)) {
		Rz = SC_Msg_WrapWith(Rz, kJB_SyxAcc, JB_LUB[0]);
		JB_Msg_AppendNum(JB_Msg_Msg(Rz, kJB_SyxArr, JB_LUB[0]), Self->C_Array);
	}
	return Rz;
}

SortComparison SC_Decl__Sorter(SCDecl* Self, SCDecl* B) {
	SortComparison Rz = ((SortComparison)0);
	Rz = ((SortComparison)(SC_Decl_CArraySize(B, 1) - SC_Decl_CArraySize(Self, 1)));
	if (!Rz) {
		Rz = ((SortComparison)((SC_Decl_SortScore(B)) - (SC_Decl_SortScore(Self))));
	}
	if (!Rz) {
		Rz = ((SortComparison)(B->mu.ModuleNum - Self->mu.ModuleNum));
	}
	if (!Rz) {
		Rz = ((SortComparison)JB_Str_Compare(B->Name, Self->Name, true));
	}
	return Rz;
}


void SC_Iter_Check(SCIterator* Self, SCClass* Cls) {
	//using;
	Message* __varf1 = Self->Source;
	JB_Incr(__varf1);
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(__varf1, (&_usingf0));
	JB_String* Dot = ((JB_String*)JB_Ternary(JB_Str_Exists(Self->Name), JB_Str_OperatorPlus(JB_LUB[57], Self->Name), JB_LUB[0]));
	JB_Incr(Dot);
	JB_String* _tmPf3 = JB_Str_Append4(JB_LUB[2215], Dot, JB_LUB[2216], nil);
	JB_Incr(_tmPf3);
	JB_Decr(Dot);
	Message* Msg = SC_Str_ParseClean(_tmPf3);
	JB_Incr(Msg);
	JB_Decr(_tmPf3);
	SCFunction* Fnc = ((SCFunction*)SC_Func__NewFunc(Msg, Cls, Self->Source));
	JB_Incr(Fnc);
	JB_Decr(Msg);
	if (Fnc) {
		SC_Func_FuncParamsLoad(Fnc);
		SC_Func_BeforeTransform(Fnc);
		SC_Func_Transform(Fnc);
	}
	JB_Decr(Fnc);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), __varf1);
	JB_Decr(__varf1);
	JB_MsgPos_Destructor((&_usingf0));
}

SCIterator* SC_Iter_Constructor(SCIterator* Self, Message* Msg) {
	if (Self == nil) {
		Self = ((SCIterator*)JB_NewClass(&SCIteratorData));
	}
	SC_SCObject_Constructor(Self);
	Self->ValueRenamer = nil;
	Message* Thg = ((Message*)JB_Ring_First(Msg));
	JB_Incr(Thg);
	JB_String* X = JB_Msg_Name(Thg);
	JB_Incr(X);
	JB_Decr(Thg);
	if (!JB_Str_Exists(X)) {
		JB_SetRef(X, JB_LUB[1075]);
	}
	JB_Incr2(Self->Name, X);
	JB_Decr(X);
	ErrorMarker M = JB_Rec_Mark(JB_StdErr);
	Message* Src = JB_Msg_Last(Msg, kJB_SyxArg);
	JB_Incr(Src);
	if (!Src) {
		JB_Msg_Fail(Msg, nil);
	}
	JB_Incr2(Self->Source, Src);
	Message* _tmPf0 = JB_Msg_FindSyxName(Self->Source, kJB_SyxTmp, JB_LUB[398], false);
	JB_Incr(_tmPf0);
	if (!_tmPf0) {
		JB_Msg_Fail(Msg, JB_LUB[1339]);
	}
	JB_Incr2(Self->WhileLoop, _tmPf0);
	JB_Decr(_tmPf0);
	Message* WhileArg = JB_Msg_FindSyx(Self->WhileLoop, kJB_SyxArg);
	JB_Incr(WhileArg);
	if (!WhileArg) {
		JB_Msg_Fail(Self->WhileLoop, JB_LUB[1340]);
	}
	Message* _tmPf1 = ((Message*)JB_Ring_NextSib(WhileArg));
	JB_Incr(_tmPf1);
	JB_Incr2(Self->LoopEndCond, ((Message*)JB_Ring_First(_tmPf1)));
	JB_Decr(_tmPf1);
	Message* Cond = ((Message*)JB_Ring_First(Self->WhileLoop));
	JB_Incr(Cond);
	if (Cond == WhileArg) {
		JB_SetRef(Cond, JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[6]));
	}
	JB_Decr(Cond);
	Message* W = nil;
	JB_Incr(W);
	if (WhileArg) {
		JB_SetRef(W, JB_Msg_FindNested(WhileArg, kJB_SyxTmp, JB_LUB[1341], false));
		if (!W) {
			JB_Msg_Fail(WhileArg, JB_LUB[1342]);
		}
	}
	JB_Decr(WhileArg);
	JB_Incr2(Self->Yield, W);
	JB_Decr(W);
	Message* V = ((Message*)JB_Ring_First(Self->Yield));
	JB_Incr(V);
	if (!V) {
		JB_Msg_Fail(Self->Yield, JB_LUB[1343]);
	}
	if (V) {
		JB_SetRef(V, SC_Msg_UnBra(V));
	}
	JB_Incr2(Self->Value, V);
	JB_Decr(V);
	Message* I = ((Message*)JB_Tree_Second(Self->Yield));
	JB_Incr(I);
	if (I) {
		JB_Msg_Expect(I, kJB_SyxBra, nil);
		JB_SetRef(I, SC_Msg_UnBra(I));
	}
	JB_Incr2(Self->Index, I);
	JB_Decr(I);
	SCNodeRenamer* Sn = SC_NR_Constructor(nil);
	JB_Incr(Sn);
	JB_Incr2(Self->selfs, Sn);
	if (Src) {
		SC_NR_CollectSelfs(Sn, Src);
	}
	JB_Decr(Sn);
	JB_Incr2(Self->Names, SC_Iter_Uniqueify(Self, Src));
	JB_Decr(Src);
	Self->OK = JB_ErrorMarker_SyntaxCast(M);
	return Self;
}

void SC_Iter_Destructor(SCIterator* Self) {
	//cpp_part;
	JB_Clear(Self->Yield);
	JB_Clear(Self->WhileLoop);
	JB_Clear(Self->Value);
	JB_Clear(Self->LoopEndCond);
	JB_Clear(Self->Index);
	JB_Clear(Self->ValueRenamer);
	JB_Clear(Self->selfs);
	JB_Clear(Self->Names);
	SC_SCObject_Destructor(Self);
}

Message* SC_Iter_MakeWhile(SCIterator* Self, Message* Arg, Message* Postcond) {
	Message* Result = JB_Msg_Copy(Self->WhileLoop, Arg);
	JB_Incr(Result);
	Message* Loop = SC_Msg_Deepest(Result, kJB_SyxTmp, JB_LUB[398]);
	JB_Incr(Loop);
	if (!Loop) {
		JB_EarlyDecr(Loop);
		JB_EarlyDecr(Result);
		return nil;
	}
	Message* Larg = JB_Msg_FindSyx(Loop, kJB_SyxArg);
	JB_Incr(Larg);
	if (!Larg) {
		JB_EarlyDecr(Larg);
		JB_EarlyDecr(Loop);
		JB_EarlyDecr(Result);
		return nil;
	}
	Message* It = ((Message*)JB_Ring_NextSib(Larg));
	JB_Incr(It);
	if (It) {
		JB_Tree_Remove(It);
	}
	JB_Decr(It);
	JB_FreeIfDead(SC_Msg_ReplaceWith(Larg, Arg));
	JB_Decr(Larg);
	JB_Tree_SyntaxAppend(Loop, Postcond);
	JB_EarlyDecr(Loop);
	JB_SafeDecr(Result);
	return Result;
}

void SC_Iter_RenameSelf(SCIterator* Self, Message* Name) {
	SC_NR_Rename(Self->selfs, Name);
}

void SC_Iter_RenameValue(SCIterator* Self, Message* S) {
	SCNodeRenamer* V = Self->ValueRenamer;
	JB_Incr(V);
	if (!V) {
		JB_SetRef(V, SC_NR_Constructor(nil));
		JB_SetRef(Self->ValueRenamer, V);
		Message* _tmPf0 = ((Message*)JB_Ring_FlatAfter(Self->Source));
		JB_Incr(_tmPf0);
		SC_NR_Collect(V, Self->Source, Self->Value->Name, _tmPf0);
		JB_Decr(_tmPf0);
	}
	SC_NR_Rename(V, S);
	JB_Decr(V);
}

void SC_Iter_Renuqify(SCIterator* Self, SCNode* P) {
	{
		Array* _LoopSrcf2 = Self->Names;
		int _if0 = 0;
		while (true) {
			SCNodeRenamer* N = ((SCNodeRenamer*)JB_Array_Value(_LoopSrcf2, _if0));
			if (N == nil) {
				break;
			}
			SC_NR_Uniqueify(N, P);
			(++_if0);
		};
	};
}

Array* SC_Iter_Uniqueify(SCIterator* Self, Message* Msg) {
	Array* Rz = ((Array*)JB_Array_Constructor0(nil));
	{
		Message* Dcl = Msg;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Msg));
		while ((Dcl) and (Dcl != _afterf1)) {
			Message* _N_f2 = ((Message*)JB_Ring_FlatNext0(Dcl));
			if (JB_Msg_EqualsSyx(Dcl, kJB_SyxDecl)) {
				Message* CurrName = SC_Msg_GetDclName(Dcl, false);
				if (CurrName) {
					SCNodeRenamer* Ren = SC_NR_Constructor(nil);
					SC_NR_CollectDclThg(Ren, CurrName);
					JB_Array_SyntaxAppend(Rz, Ren);
				}
			}
			Dcl = _N_f2;
		};
		;
	}
	;
	return Rz;
}

int SC_Iter__Init_() {
	{
	}
	;
	return 0;
}

int SC_Iter__InitCode_() {
	{
	}
	;
	JB_SetRef(SC__Iter_carray, SC_Iter__SimpleIter(JB_LUB[2001]));
	return 0;
}

SCNode* SC_Iter__NeuIter(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	if (JB_Object_MustBe(Name_space, &SCClassData, Node)) {
		SCIterator* It = SC_Iter_Constructor(nil, Node);
		JB_Incr(It);
		if (It->OK) {
			SC_Base_TryAdd(((SCClass*)Name_space), Node, It, It->Name);
			JB_EarlyDecr(It);
			return SC__Comp_Program;
		}
		JB_Decr(It);
	}
	return nil;
}

SCIterator* SC_Iter__SimpleIter(JB_String* Src) {
	SCIterator* Rz = nil;
	JB_Incr(Rz);
	Message* _tmPf0 = JB_Str_Parse(Src, kJB_SyxNil, true);
	JB_Incr(_tmPf0);
	Message* S = ((Message*)JB_Ring_First(_tmPf0));
	JB_Incr(S);
	SCIterator* It = SC_Iter_Constructor(nil, S);
	JB_Incr(It);
	JB_Decr(S);
	if (It->OK) {
		JB_SetRef(Rz, It);
	}
	JB_EarlyDecr(It);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(Rz);
	return Rz;
}


void SC_Base_ActualAdd(SCNode* Self, JB_String* Name, SCObject* IncObj) {
	if (SC_SCObject_SyntaxIs(Self, kSC__SCNodeInfo_AllowLinkedLists) and JB_Object_FastIsa(IncObj, &SCDeclData)) {
		JB_SetRef(((SCDecl*)IncObj)->LocalVarList, Self->LocalVarList);
		JB_SetRef(Self->LocalVarList, IncObj);
		return;
	}
	Dictionary* M = ({
		Dictionary* _X = Self->Access;
		if (_X == nil) {
			_X = JB_Dict_Constructor(nil);
			JB_SetRef(Self->Access, _X);
		}
		 _X;
	});
	(JB_Dict_ValueLowerSet(M, Name, IncObj));
}

SCDecl* SC_Base_AddNumericConst(SCNode* Self, JB_String* Name, int64 Value, Message* Where) {
	SCDecl* SyxConst = SC_Decl_Constructor(nil, SC_TypeSyntax);
	SC_Comp__NewConst(SyxConst);
	JB_FreeIfDead(SC_NewDeclNumConst(SyxConst, Value, Name, false));
	SC_Base_TryAdd(Self, Where, SyxConst, SyxConst->Name);
	return SyxConst;
}

uint64 SC_Base_CalculateConst(SCNode* Self, Message* Value) {
	uint Ty = 0;
	return SC_Base_CalculateConstSub(Self, Value, Ty);
}

uint64 SC_Base_CalculateConstRel(SCNode* Self, Message* Value, uint /*DataTypeCode*/& Ty) {
	Message* A = ((Message*)JB_Ring_First(Value));
	uint64 L = SC_Base_CalculateConstSub(Self, A, Ty);
	if (Ty == kJB__TC_Failed) {
		return 0;
	}
	Message* B = ((Message*)JB_Ring_NextSib(A));
	Message* C = ((Message*)JB_Ring_NextSib(B));
	if (JB_Msg_EqualsSyx(Value, kJB_SyxBRel)) {
		if (Ty != kJB__TC_Int) {
			JB_Msg_Fail(Value, JB_LUB[1065]);
			return 0;
		}
		return (~L);
	}
	SCOperator* Op = SC_Opp__Lookup(B);
	uint64 R = SC_Base_CalculateConstSub(Self, C, Ty);
	if (!((bool)SC_Opp_SyntaxIs(Op, kSC__OpMode_MathLike))) {
		JB_Msg_Fail(B, nil);
		return 0;
	}
	uint N = JB_Str_First(B->Name);
	int Lg = JB_Str_Length(B->Name);
	bool Ints = JB_TC_IsInt((Ty));
	if (N == '+') {
		if (Ints) {
			return L + R;
		}
		 else {
			return JB_dbl_AsInt((JB_int64_AsFloat(((int64)L)) + JB_int64_AsFloat(((int64)R))));
		}
	}
	if (N == '-') {
		if (Ints) {
			return L - R;
		}
		 else {
			return JB_dbl_AsInt((JB_int64_AsFloat(((int64)L)) - JB_int64_AsFloat(((int64)R))));
		}
	}
	if (N == '/') {
		if (Ints) {
			return L / R;
		}
		 else {
			return JB_dbl_AsInt((JB_int64_AsFloat(((int64)L)) / JB_int64_AsFloat(((int64)R))));
		}
	}
	if (N == 'm') {
		if (Ints) {
			return L % R;
		}
		 else {
			return JB_f_AsInt((fmod(JB_int64_AsFloat(((int64)L)), JB_int64_AsFloat(((int64)R)))));
		}
	}
	if (N == '*') {
		if (Ints) {
			return L * R;
		}
		 else {
			return JB_dbl_AsInt((JB_int64_AsFloat(((int64)L)) * JB_int64_AsFloat(((int64)R))));
		}
	}
	if ((!Ints)) {
		JB_Msg_Fail(Value, JB_LUB[1065]);
		return 0;
	}
	if (N == '&') {
		return L & R;
	}
	if ((N == '|') or (N == '(')) {
		return L | R;
	}
	if (Lg == 2) {
		if (N == '<') {
			uint64 T = L << R;
			if ((T >> R) != L) {
				JB_Msg_Fail(Value, JB_LUB[1066]);
				return 0;
			}
			return T;
		}
		if (N == '>') {
			uint64 T = L >> R;
			if ((T << R) != L) {
				JB_Msg_Fail(Value, JB_LUB[1066]);
				return 0;
			}
			return T;
		}
	}
	if (true) {
		JB_Msg_Fail(Value, nil);
	}
	return 0;
}

uint64 SC_Base_CalculateConstSub(SCNode* Self, Message* Value, uint /*DataTypeCode*/& Ty) {
	Syntax F = Value->Func;
	if (F == kJB_SyxNum) {
		if (JB_Str_ContainsByte(Value->Name, '.')) {
			SC_Msg_TypeExpect(Value, Ty, kJB__TC_Float);
			return JB_dbl_AsInt(JB_Msg_Float(Value));
		}
		SC_Msg_TypeExpect(Value, Ty, kJB__TC_Int);
		return JB_Msg_Int(Value, 0);
	}
	if (F == kJB_SyxBra) {
		return SC_Base_CalculateConstSub(Self, ((Message*)JB_Ring_First(Value)), Ty);
	}
	if (F == kJB_SyxThg) {
		if (JB_Msg_SyntaxEquals(Value, JB_LUB[6], true)) {
			SC_Msg_TypeExpect(Value, Ty, kJB__TC_bool);
			return 1;
		}
		if (JB_Msg_SyntaxEquals(Value, JB_LUB[7], true)) {
			SC_Msg_TypeExpect(Value, Ty, kJB__TC_bool);
			return 0;
		}
		SCObject* D = SC_Base_SyntaxAccessWithMsg(Self, Value);
		if (JB_Object_FastIsa(D, &SCDeclData)) {
			return SC_Decl_AsConst(((SCDecl*)D), Value, Ty);
		}
		if (true) {
			JB_Msg_Fail(Value, nil);
		}
		return 0;
	}
	if (F == kJB_SyxRel) {
		return SC_Base_CalculateConstRel(Self, Value, Ty);
	}
	if (F == kJB_SyxChar) {
		JB_String* N = Value->Name;
		if ((JB_Str_EqualsInt(N, 1))) {
			return JB_Str_First(N);
		}
		Codepoint _tmPf0 = JB_Str_UTF8Value(N, true);
		if (!JB_CP_Bool(_tmPf0)) {
			JB_Msg_Fail(Value, JB_LUB[1176]);
			return 0;
		}
		return _tmPf0;
	}
	if (SC_Msg_OperatorIsBRel(Value, JB_LUB[75])) {
		return SC_Base_CalculateConstRel(Self, Value, Ty);
	}
	if (true) {
		JB_Msg_Fail(Value, nil);
	}
	return 0;
}

void SC_Base_CollectConstantsSub(SCNode* Self, Message* Ch) {
	Message* FuncName = ((Message*)JB_Ring_First(Ch));
	if (!FuncName) {
		return;
	}
	Message* Arg = ((Message*)JB_Tree_Get(Ch, -1));
	Message* Vs = FuncName;
	if (JB_Msg_EqualsSyx(FuncName, kJB_SyxThg)) {
		Vs = ((Message*)JB_Ring_NextSib(FuncName));
	}
	 else {
		FuncName = nil;
	}
	if (!((Arg == Vs) and ((JB_Msg_EqualsSyx(Arg, kJB_SyxArg)) or (JB_Msg_EqualsSyx(Arg, kJB_SyxList))))) {
		JB_Msg_Fail(Vs, nil);
		return;
	}
	uint64 NextNum = 0 + ((JB_Msg_SyntaxEquals(Ch, JB_LUB[1182], false)));
	uint64 StartNum = NextNum;
	uint64 LastFlag = 0;
	Array* FixLater = JB_Array_Constructor0(nil);
	Array* NameList = JB_Array_Constructor0(nil);
	SCDecl* CurrType = nil;
	{
		Message* Line1 = ((Message*)JB_Ring_First(Arg));
		while (Line1) {
			Message* _Nf2 = ((Message*)JB_Ring_NextSib(Line1));
			Syntax LF = JB_Msg_Func(((Message*)JB_Ring_First(Line1)));
			Syntax LL = JB_Msg_Func(((Message*)JB_Ring_Last(Line1)));
			if ((((JB_Msg_EqualsSyx(Line1, kJB_SyxRel))) and (LF == kJB_SyxArr)) or (LL == kJB_SyxArr)) {
				SC_Base_ConstantExpand(Self, Line1);
			}
			 else if ((JB_Msg_EqualsSyx(Line1, kJB_SyxTmp))) {
				if (JB_Ring_HasChildren(Line1)) {
					JB_Msg_Fail(Line1, nil);
					return;
				}
				Line1->Func = kJB_SyxThg;
			}
			Line1 = _Nf2;
		};
		;
	}
	;
	{
		Message* Line = ((Message*)JB_Ring_First(Arg));
		while (Line) {
			Message* _Nf4 = ((Message*)JB_Ring_NextSib(Line));
			if ((JB_Msg_EqualsSyx(Line, kJB_SyxDecl))) {
				CurrType = SC_ExtractDecl(((Message*)JB_Ring_First(Line)), Self, kSC__DeclMode_Globals, 0);
				if (!CurrType) {
					JB_Msg_Fail(Line, nil);
					return;
				}
				JB_Tree_Remove(Line);
				Line = _Nf4;
				continue;
			}
			if ((JB_Msg_SyntaxEquals(Line, JB_LUB[59], false))) {
				NextNum = StartNum;
				Line = _Nf4;
				continue;
			}
			SCDecl* NewItem = nil;
			if ((JB_Msg_EqualsSyx(Line, kJB_SyxThg))) {
				//using;
				MessagePosition _usingf0 = ((MessagePosition){});
				JB_Msg_SyntaxUsing(Line, (&_usingf0));
				NewItem = SC_Decl_Constructor(nil, SC_TypeInt);
				Message* NewNum = SC_NewDeclNumConst(NewItem, NextNum, Line->Name, true);
				JB_SetRef(NewItem->Source, Line);
				if ((JB_Msg_SyntaxEquals(Ch, JB_LUB[1182], false))) {
					(++LastFlag);
					NextNum = (NextNum << 1);
				}
				 else {
					(++NextNum);
				}
				if (CurrType) {
					SC_Decl_CopyTypeInfoTo(CurrType, NewItem);
					SC_Decl_AssignabilityCheck(NewItem, nil, NewNum, NewItem, false);
				}
				JB_MsgPos_SyntaxUsingComplete((&_usingf0), Line);
				JB_MsgPos_Destructor((&_usingf0));
			}
			 else if (JB_Msg_EqualsSyx(Line, kJB_SyxBra)) {
				NextNum = SC_Base_CalculateConst(Self, ((Message*)JB_Ring_First(Line)));
			}
			 else {
				Message* ValueNode = ((Message*)JB_Ring_Last(Line));
				Message* Thg = JB_Msg_NeedSyx(Line, kJB_SyxThg);
				if (!(JB_Msg_Expect(Line, kJB_SyxRel, nil) and (JB_Msg_Expect(JB_Msg_NeedSyxInt(Line, kJB_SyxOpp, 1), kJB_SyxOpp, JB_LUB[455]) and (ValueNode and Thg)))) {
					return;
				}
				SCDecl* OMGType = SC_TypeOfExpr(ValueNode, Self, nil);
				if (!OMGType) {
					return;
				}
				SCDecl* NewType = ((SCDecl*)JB_Ternary(CurrType, CurrType, OMGType));
				NewItem = SC_Decl_Constructor(nil, NewType->Type);
				if ((JB_Msg_EqualsSyx(ValueNode, kJB_SyxStr)) or (JB_Msg_EqualsSyx(ValueNode, kJB_SyxSStr))) {
					SC_Func__ObjectifyString(ValueNode);
					JB_SetRef(ValueNode->Obj, SC_TypeString->TypeNormal);
				}
				 else if ((SC_Msg_IsInt(ValueNode)) or ((JB_Msg_EqualsSyx(ValueNode, kJB_SyxUnit)))) {
					bool WasHex = JB_Str_MidEquals(ValueNode->Name, 0, JB_LUB[210], false) or JB_Str_MidEquals(ValueNode->Name, 0, JB_LUB[2226], false);
					NewItem->WasHex = WasHex;
					SC_Decl_AssignabilityCheck(NewType, nil, ValueNode, OMGType, WasHex);
					NextNum = JB_Msg_Int(ValueNode, 0);
					if (WasHex and (((NextNum >= 2147483648) and (NextNum <= 4294967295)) and (!CurrType))) {
						if (true) {
							JB_Msg_Fail(ValueNode, JB_LUB[2227]);
						}
					}
					(SC_Decl_NumberConstSet(NewItem, NextNum));
					(++NextNum);
				}
				 else {
					(SC_Decl_NumberConstSet(NewItem, SC_Base_CalculateConst(Self, ValueNode)));
				}
				JB_Array_SyntaxAppend(FixLater, NewItem);
				SC_Decl_CopyTypeInfoTo(NewType, NewItem);
				(SC_Decl_NameSet(NewItem, Thg->Name));
				JB_SetRef(NewItem->Default, ValueNode);
				JB_SetRef(NewItem->Source, Thg);
			}
			if (NewItem) {
				SC_Comp__NewConst(NewItem);
				JB_Array_SyntaxAppend(NameList, NewItem->Source);
				SC_Base_TryAdd(Self, Line, NewItem, NewItem->Name);
			}
			Line = _Nf4;
		};
		;
	}
	;
	{
		int _if5 = 0;
		while (true) {
			SCDecl* D = ((SCDecl*)JB_Array_Value(FixLater, _if5));
			if (D == nil) {
				break;
			}
			SC_Base_Tran_Const(Self, D, Self);
			(++_if5);
		};
	}
	;
	if (FuncName) {
		SC_Base_CreateNameDict(Self, FuncName, NameList);
		(SC_Func__CurrFuncSet(nil));
	}
}

void SC_Base_CollectFromNode(SCNode* Self, Message* AST, bool Visible, Message* Dest) {
	if (!Self->Source) {
		JB_SetRef(Self->Source, AST);
	}
	Array* R = SC_Msg_ListAll(AST);
	JB_Incr(R);
	bool Old = SC__Base_CurrVisibility;
	SC__Base_CurrVisibility = Visible;
	{
		int _if0 = 0;
		while (true) {
			Message* C = ((Message*)JB_Array_Value(R, _if0));
			JB_Incr(C);
			if (C == nil) {
				JB_EarlyDecr(C);
				break;
			}
			Visible = SC_Base_CollectOne(Self, C, Visible);
			JB_Decr(C);
			(++_if0);
		};
	}
	;
	SC__Base_CurrVisibility = Old;
	if (!Dest) {
		JB_EarlyDecr(R);
		return;
	}
	{
		int _if2 = 0;
		while (true) {
			Message* C = ((Message*)JB_Array_Value(R, _if2));
			JB_Incr(C);
			if (C == nil) {
				JB_EarlyDecr(C);
				break;
			}
			if (JB_Tree_OperatorIn(C, AST)) {
				JB_Tree_SyntaxAppend(Dest, C);
			}
			JB_Decr(C);
			(++_if2);
		};
	}
	;
	JB_Decr(R);
}

bool SC_Base_CollectOne(SCNode* Self, Message* C, bool Visible) {
	if (SC_Msg_OperatorIsTmp(C, JB_LUB[1130])) {
		Visible = SC_Base_LoadVisibility(Self, C);
		JB_Tree_Remove(C);
		return Visible;
	}
	(SC_Msg_visibleSet(C, Visible));
	if ((!JB_FreeIfDead(SC_Base_CollectSub(Self, C))) and (JB_Object_FastIsa(Self, &SCModuleData))) {
		SC_Mod_MoveToInitFunc(((SCModule*)Self), C);
	}
	return Visible;
}

void SC_Base_CollectOneConstants(SCNode* Self, Message* Ch) {
	SC__Base_ConstantsLoadingOverride = true;
	SC_Imp_Use(Self->Project);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Ch, (&_usingf0));
	SC_Base_CollectConstantsSub(Self, Ch);
	SC__Base_ConstantsLoadingOverride = false;
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Ch);
	JB_MsgPos_Destructor((&_usingf0));
}

Message* SC_Base_CollectStr(SCNode* Self, JB_String* S) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, SC_Str_ParseClean(S));
	SC_Base_CollectFromNode(Self, Rz, false, nil);
	JB_SafeDecr(Rz);
	return Rz;
}

SCNode* SC_Base_CollectSub(SCNode* Self, Message* C) {
	Dictionary* T = SC_ClsCollectTable;
	JB_Incr(T);
	if ((Self == SC__Comp_Program) or JB_Object_Isa(Self, &SCModuleData)) {
		JB_SetRef(T, SC_RootCollectTable);
	}
	if (!JB_Msg_EqualsSyx(C, kJB_SyxTmp)) {
		if (JB_Object_FastIsa(Self, &SCClassData)) {
			JB_Msg_Expect(C, kJB_SyxDecl, nil);
		}
		JB_EarlyDecr(T);
		return nil;
	}
	DTWrap* FnObj = ((DTWrap*)JB_Dict_Value0(T, C->Name));
	JB_Incr(FnObj);
	JB_Decr(T);
	if (!FnObj) {
		JB_Msg_Fail(C, nil);
		JB_EarlyDecr(FnObj);
		return nil;
	}
	SCNode* Base = (((FP_CollectFunc)JB_Wrap_SyntaxAccess(FnObj)))(C, Self, C);
	JB_Incr(Base);
	JB_Decr(FnObj);
	if (!Base) {
		JB_EarlyDecr(Base);
		return nil;
	}
	if (Base != SC__Comp_Program) {
		SC_Base_TryAdd(Self, C, Base, Base->Name);
	}
	JB_SafeDecr(Base);
	return Base;
}

void SC_Base_ConstantExpand(SCNode* Self, Message* Ch) {
	Message* L = ((Message*)JB_Ring_First(Ch));
	Message* Op = ((Message*)JB_Ring_NextSib(L));
	Message* R = ((Message*)JB_Ring_NextSib(Op));
	if (!(((JB_Msg_SyntaxEquals(Op, JB_LUB[455], false))) and ((JB_Msg_EqualsSyx(L, kJB_SyxThg))))) {
		JB_Msg_Fail(Op, JB_LUB[908]);
		return;
	}
	Message* Rel = JB_Syx_Msg(kJB_SyxRel, JB_LUB[0]);
	JB_Tree_SyntaxAppend(Rel, L);
	JB_Msg_AppendSyx(Rel, kJB_SyxOpp, JB_LUB[455]);
	JB_Tree_SyntaxAppend(Rel, SC_Msg_ConstantExpandSub(R));
	(JB_Ring_NextSibSet(Ch, Rel));
	SC_Msg_MoveAllAfter(R, Ch);
	JB_Tree_Remove(Ch);
}

SCNode* SC_Base_Constructor0(SCNode* Self) {
	if (Self == nil) {
		Self = ((SCNode*)JB_NewClass(&SCNodeData));
	}
	SC_SCObject_Constructor(Self);
	Self->Access = nil;
	Self->LocalVarList = nil;
	Self->Parent = nil;
	Self->MyReacher = nil;
	//cpp_part;
	Self->Project = SC__Imp_Curr;
	(SC_SCObject_IsVisibleSet(Self, SC__Base_CurrVisibility));
	return Self;
}

SCNode* SC_Base_ConstructorStr(SCNode* Self, JB_String* Name) {
	if (Self == nil) {
		Self = ((SCNode*)JB_NewClass(&SCNodeData));
	}
	SC_SCObject_Constructor(Self);
	Self->Access = nil;
	Self->LocalVarList = nil;
	Self->Parent = nil;
	Self->MyReacher = nil;
	//cpp_part;
	Self->Project = SC__Imp_Curr;
	JB_Incr2(Self->Name, Name);
	return Self;
}

SCNode* SC_Base_ConstructorMsg(SCNode* Self, Message* Node) {
	if (Self == nil) {
		Self = ((SCNode*)JB_NewClass(&SCNodeData));
	}
	SC_SCObject_Constructor(Self);
	Self->Access = nil;
	Self->LocalVarList = nil;
	Self->Parent = nil;
	Self->MyReacher = nil;
	//cpp_part;
	Self->Project = SC__Imp_Curr;
	JB_Incr2(Self->Source, Node);
	(SC_SCObject_IsVisibleSet(Self, SC_Msg_visible(Node)));
	return Self;
}

void SC_Base_CreateNameDict(SCNode* Self, Message* FuncName, Array* NameList) {
	if ((!JB_Msg_EqualsSyx(FuncName, kJB_SyxThg))) {
		JB_Msg_Fail(FuncName, JB_LUB[2195]);
		return;
	}
	JB_String* AllSameType = JB_LUB[0];
	JB_Incr(AllSameType);
	{
		int _if2 = 0;
		while (true) {
			Message* N = ((Message*)JB_Array_Value(NameList, _if2));
			JB_Incr(N);
			if (N == nil) {
				JB_EarlyDecr(N);
				break;
			}
			SCDecl* Type = SC_TypeOfExpr(N, Self, nil);
			JB_Incr(Type);
			if (!Type) {
				JB_EarlyDecr(Type);
				JB_EarlyDecr(N);
				JB_EarlyDecr(AllSameType);
				return;
			}
			if (!SC_Decl_IsNormal(Type)) {
				JB_Msg_Fail(N, JB_LUB[2196]);
				JB_EarlyDecr(Type);
				JB_EarlyDecr(N);
				JB_EarlyDecr(AllSameType);
				return;
			}
			JB_Decr(N);
			JB_String* NewType = Type->Type->Name;
			JB_Incr(NewType);
			JB_Decr(Type);
			if ((JB_Str_Equals(AllSameType, NewType, false)) or (JB_Str_Equals(AllSameType, JB_LUB[0], false))) {
				JB_SetRef(AllSameType, NewType);
			}
			 else {
				JB_SetRef(AllSameType, JB_LUB[572]);
			}
			JB_Decr(NewType);
			(++_if2);
		};
	}
	;
	if (!JB_Str_Exists(AllSameType)) {
		JB_SetRef(AllSameType, JB_LUB[572]);
	}
	JB_String* Name = FuncName->Name;
	JB_Incr(Name);
	JB_String* DclSrc = JB_Str_Append6(JB_LUB[2197], AllSameType, JB_LUB[2198], Name, JB_LUB[2199], nil);
	JB_Incr(DclSrc);
	Message* DclMsg = SC_Str_ParseClean(DclSrc);
	JB_Incr(DclMsg);
	JB_Decr(DclSrc);
	if (DclMsg) {
		SCModule* _tmPf6 = SC_Base_Module(Self);
		JB_Incr(_tmPf6);
		SC_Msg_CollectAGlobalDecl(DclMsg, _tmPf6);
		JB_Decr(_tmPf6);
	}
	JB_Decr(DclMsg);
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	//;
	JB_FS_AppendString(Fs, JB_LUB[2200]);
	JB_FS_AppendString(Fs, Name);
	JB_FS_AppendString(Fs, JB_LUB[2201]);
	JB_FS_AppendString(Fs, AllSameType);
	JB_Decr(AllSameType);
	JB_FS_AppendString(Fs, JB_LUB[2202]);
	JB_FS_AppendString(Fs, Name);
	JB_FS_AppendString(Fs, JB_LUB[2203]);
	JB_FS_AppendString(Fs, Name);
	JB_Decr(Name);
	JB_FS_AppendString(Fs, JB_LUB[2204]);
	//;
	{
		int _if4 = 0;
		while (true) {
			Message* S = ((Message*)JB_Array_Value(NameList, _if4));
			JB_Incr(S);
			if (S == nil) {
				JB_EarlyDecr(S);
				break;
			}
			JB_FS_AppendString(Fs, JB_LUB[2205]);
			JB_FS_AppendLower(Fs, S->Name);
			JB_FS_AppendString(Fs, JB_LUB[1440]);
			JB_FS_SyntaxAppend(Fs, S);
			JB_Decr(S);
			JB_FS_AppendString(Fs, JB_LUB[566]);
			(++_if4);
		};
	}
	;
	JB_FS_AppendString(Fs, JB_LUB[2206]);
	JB_String* FuncSrc = JB_FS_GetResult(Fs);
	JB_Incr(FuncSrc);
	JB_Decr(Fs);
	Message* _tmPf7 = SC_Str_ParseClean(FuncSrc);
	JB_Incr(_tmPf7);
	JB_Decr(FuncSrc);
	Message* Msg = ((Message*)JB_Tree_Get(_tmPf7, 0));
	JB_Incr(Msg);
	JB_Decr(_tmPf7);
	if (Msg) {
		JB_FreeIfDead(SC_Base_CollectSub(Self, Msg));
	}
	JB_Decr(Msg);
}

void SC_Base_Destructor(SCNode* Self) {
	//cpp_part;
	JB_Clear(Self->Access);
	JB_Clear(Self->LocalVarList);
	SC_SCObject_Destructor(Self);
}

Message* SC_Base_DiissplayObj(SCNode* Self, Message* M) {
	JB_String* _tmPf1 = SC_SCObject_AutoCompleteKind(Self);
	JB_Incr(_tmPf1);
	JB_String* _tmPf2 = JB_Str_OperatorPlus(JB_LUB[60], Self->Name);
	JB_Incr(_tmPf2);
	JB_String* _tmPf0 = JB_Str_OperatorPlus(_tmPf1, _tmPf2);
	JB_Incr(_tmPf0);
	JB_Decr(_tmPf1);
	JB_Decr(_tmPf2);
	JB_Msg_AppendSyx(M, kJB_SyxEmb, _tmPf0);
	JB_EarlyDecr(_tmPf0);
	return M;
}

bool SC_Base_ExpectModule(SCNode* Self, Message* Errplace) {
	if (!JB_Object_Isa(Self, &SCModuleData)) {
		JB_Msg_Fail(Errplace, JB_LUB[909]);
		return nil;
	}
	return true;
}

SCClass* SC_Base_FindClass(SCNode* Self, JB_String* Name, Message* Where, SCNodeFindMode Mode) {
	SCModule* Mod = SC_Base_FindModule(Self, Name, Where, Mode | kSC__SCNodeFindMode_ForClass);
	if (Mod) {
		if (Mod->Cls) {
			return Mod->Cls;
		}
		if (!SC_SCNodeFindMode_SyntaxIs(Mode, kSC__SCNodeFindMode_NoErrors)) {
			if (true) {
				JB_Msg_Fail(Where, JB_LUB[1067]);
			}
		}
		return nil;
	}
	if (!SC_SCNodeFindMode_SyntaxIs(Mode, kSC__SCNodeFindMode_NoErrors)) {
		if (true) {
			JB_Msg_Fail(Where, JB_Str_OperatorPlus(JB_LUB[1068], Name));
		}
	}
	return nil;
}

SCClass* SC_Base_FindClassMsg(SCNode* Self, Message* Where, SCNodeFindMode Mode) {
	SCModule* Mod = SC_Base_FindModuleMsg(Self, Where, Mode | kSC__SCNodeFindMode_ForClass);
	if (Mod) {
		SCClass* C = Mod->Cls;
		if (C) {
			return C;
		}
		if (!SC_SCNodeFindMode_SyntaxIs(Mode, kSC__SCNodeFindMode_NoErrors)) {
			if (true) {
				JB_Msg_Fail(Where, JB_LUB[1067]);
			}
		}
	}
	return nil;
}

Message* SC_Base_FindCppWrapper(SCNode* Self, Message* Place, bool Isclass) {
	if (JB_Object_FastIsa(Self, &SCFunctionData)) {
		Message* Pl = SC_Func_FindCppWrapperFunc(((SCFunction*)Self), Place);
		JB_Incr(Pl);
		if (Pl) {
			Message* _tmPf0 = SC_Msg_FindAndRemove2(Place, Pl, true, false);
			JB_Incr(_tmPf0);
			JB_EarlyDecr(Pl);
			JB_SafeDecr(_tmPf0);
			return _tmPf0;
		}
		JB_Decr(Pl);
	}
	return SC_Msg_FindAndRemoveSub(Place, JB_LUB[1177], true, Isclass);
}

SCFunction* SC_Base_FindFunction(SCNode* Self, JB_String* Name, Message* Where) {
	SCObject* O = SC_Base_SyntaxAccessWithStr(Self, Name);
	if (JB_Object_FastIsa(O, &SCFunctionData)) {
		SC_Func_Reach(((SCFunction*)O));
		return ((SCFunction*)O);
	}
	if (true) {
		JB_Msg_Fail(Where, JB_Str_OperatorPlus(JB_LUB[1369], Name));
	}
	return nil;
}

SCModule* SC_Base_FindModule(SCNode* Self, JB_String* Name, Message* Where, SCNodeFindMode Mode) {
	SCNode* Upon = Self;
	while (Upon) {
		if (JB_Str_Equals(Name, Upon->Name, true)) {
			if (JB_Object_FastIsa(Upon, &SCModuleData)) {
				return ((SCModule*)Upon);
			}
		}
		SCObject* Obj = SC_Base_SyntaxAccessWithStr(Upon, Name);
		if (JB_Object_FastIsa(Obj, &SCModuleData)) {
			return ((SCModule*)Obj);
		}
		if (SC_SCNodeFindMode_SyntaxIs(Mode, kSC__SCNodeFindMode_DontGoUp)) {
			break;
		}
		Upon = SC_Base_FindModuleParent(Upon, Mode);
	};
	if (Where and ((!SC_SCNodeFindMode_SyntaxIs(Mode, kSC__SCNodeFindMode_NoErrors)))) {
		JB_String* Err = ((JB_StringC*)JB_Ternary(SC_SCNodeFindMode_SyntaxIs(Mode, kSC__SCNodeFindMode_ForClass), JB_LUB[910], JB_LUB[911]));
		if (true) {
			JB_Msg_Fail(Where, JB_Str_OperatorPlus(Err, Name));
		}
	}
	return nil;
}

SCModule* SC_Base_FindModuleMsg(SCNode* Self, Message* Where, SCNodeFindMode Mode) {
	Syntax Fn = Where->Func;
	if (Fn == kJB_SyxDot) {
		Message* F = ((Message*)JB_Ring_First(Where));
		JB_Msg_Expect(((Message*)JB_Ring_NextSib(F)), kJB_SyxEmb, nil);
		Self = SC_Base_FindModuleMsg(Self, F, Mode);
		if (!Self) {
			return nil;
		}
	}
	 else {
		if (!((Fn == kJB_SyxThg) or (Fn == kJB_SyxName))) {
			JB_Msg_Fail(Where, nil);
			return nil;
		}
	}
	return SC_Base_FindModule(Self, Where->Name, Where, Mode);
}

SCNode* SC_Base_FindModuleParent(SCNode* Self, SCNodeFindMode Mode) {
	if (SC_SCNodeFindMode_SyntaxIs(Mode, kSC__SCNodeFindMode_WantAType)) {
		SCClass* Cls = ((SCModule*)Self)->Cls;
		if (Cls) {
			SCClass* P = ((SCClass*)Cls->Parent);
			if (P) {
				SCModule* Mod = P->Modul;
				if (Mod->Parent != Self) {
					return Mod;
				}
			}
		}
	}
	return Self->Parent;
}

bool SC_Base_FindVis(SCNode* Self, Message* C) {
	if (!C) {
		return true;
	}
	if (JB_Msg_EqualsSyx(C, kJB_SyxThg)) {
		return SC_Msg_TrueOrFalse(C);
	}
	if (JB_Msg_EqualsSyx(C, kJB_SyxAdj)) {
		Message* First = JB_Msg_NeedSyxName(C, kJB_SyxThg, JB_LUB[446]);
		JB_String* Name = JB_Msg_Name(JB_Msg_NeedSyxInt(C, kJB_SyxThg, 1));
		SCClass* Cls = SC_Comp__SoftClass(Name);
		return Cls and (!SC_Class_SyntaxIs(Cls, kSC__ClassInfo_Banned));
	}
	if (true) {
		JB_Msg_Fail(C, nil);
	}
	return false;
}

Message* SC_Base_FuncSrc(SCNode* Self) {
	SCFunction* _tmPf0 = SC_Base_OwningFunc(Self);
	if (!_tmPf0) {
		return nil;
	}
	return _tmPf0->Source;
}

void SC_Base_ImportFile(SCNode* Self, SCFile* File) {
	Message* AST = SC_File_AST(File);
	if (!AST) {
		return;
	}
	if ((SC_Msg_IsCake(AST))) {
		JB_File_Fail(File, JB_Str_OperatorPlus(JB_Str_Name(File), JB_LUB[2258]));
		return;
	}
	SC_File_Use(File);
	JB_SetRef(SC__Comp_Project, File->Proj);
	bool V = File->Proj->IsSTDLib and SC__Options_MakeExec;
	SC_Base_CollectFromNode(SC__Comp_Program, AST, V, nil);
	SC_File_Stop(File);
}

bool SC_Base_IsLibrary(SCNode* Self) {
	SCImport* P = Self->Project;
	if (P) {
		return P->IsSTDLib;
	}
	return false;
}

bool SC_Base_IsModuleFunc(SCNode* Self) {
	if (JB_Object_FastIsa(Self, &SCArgData)) {
		return (!((SCArg*)Self)->IsClassArg);
	}
	return (JB_Object_Isa(Self, &SCModuleData));
}

SCClass* SC_Base_IsNormalObject(SCNode* Self) {
	if (JB_Object_FastIsa(Self, &SCClassData)) {
		if (SC_Class_IsObject(((SCClass*)Self))) {
			return ((SCClass*)Self);
		}
	}
	return nil;
}

JB_String* SC_Base_LateAddTemporary(SCNode* Self, JB_String* Type, JB_String* Name1, Message* Value, Message* Err) {
	JB_String* Name = SC_UniqueTmpVar(SC__Comp_Program, Name1);
	JB_Incr(Name);
	JB_FreeIfDead(SC_TypeOfExpr(Value, Self, nil));
	Message* Msg = SC_MakeDecl(Type, Name, Value, kSC__SCDeclInfo_Temp);
	JB_Incr(Msg);
	SCDecl* D = SC_TypeOfExpr(Msg, Self, nil);
	JB_Incr(D);
	if (!D) {
		JB_EarlyDecr(D);
		JB_EarlyDecr(Msg);
		JB_EarlyDecr(Name);
		return JB_LUB[0];
	}
	((SC_Decl_SyntaxIsSet(D, kSC__SCDeclInfo_NumberConst, false)));
	JB_Tree_SyntaxAppend(Self->Source, Msg);
	JB_Decr(Msg);
	SC_Base_TryAdd(Self, Err, D, Name);
	JB_EarlyDecr(D);
	JB_SafeDecr(Name);
	return Name;
}

Message* SC_Base_LinkagePlace(SCNode* Self) {
	Message* Place = SC_Base_SourceArg(Self);
	Message* Link = JB_Msg_FindSyxName(Place, kJB_SyxTmp, JB_LUB[451], false);
	Message* _tmP0 = JB_Msg_NeedSyx(Link, kJB_SyxArg);
	if (!_tmP0) {
		_tmP0 = Place;
	}
	return _tmP0;
}

Array* SC_Base_ListFunctions(SCNode* Self) {
	Array* Rz = ((Array*)JB_Array_Constructor0(nil));
	JB_Incr(Rz);
	if (!Self->Access) {
		Array* _tmPf0 = (JB_Array_Constructor0(nil));
		JB_Incr(_tmPf0);
		JB_EarlyDecr(Rz);
		JB_SafeDecr(_tmPf0);
		return _tmPf0;
	}
	{
		Dictionary* _LoopSrcf3 = Self->Access;
		JB_Incr(_LoopSrcf3);
		DictionaryReader* _navf1 = JB_Dict_Navigate(_LoopSrcf3);
		JB_Incr(_navf1);
		JB_Decr(_LoopSrcf3);
		while (true) {
			SCObject* O = ((SCObject*)JB_DictionaryReader_NextValue(_navf1));
			JB_Incr(O);
			if (O == nil) {
				JB_EarlyDecr(O);
				break;
			}
			SC_ListFunctionsSub(O, Rz);
			JB_Decr(O);
		};
		JB_Decr(_navf1);
	}
	;
	JB_SafeDecr(Rz);
	return Rz;
}

bool SC_Base_LoadVisibility(SCNode* Self, Message* P) {
	bool Rz = false;
	Rz = SC_Base_FindVis(Self, ((Message*)JB_Ring_First(P)));
	(SC_SCObject_IsVisibleSet(Self, Rz));
	SC__Base_CurrVisibility = Rz;
	SC_Msg_MakeComment(P);
	return Rz;
}

JB_Object* SC_Base_LookUpDot(SCNode* Self, JB_String* Name, Message* Exp, SCNode* Arg_space, SCDecl* Contains, Message* Side) {
	return SC_Base_LookUpSub(Self, Name, Exp, Arg_space, Contains, Side, kSC__Base_kPurposeDot);
}

SCObject* SC_Base_LookUpFunc(SCNode* Self, JB_String* Name, Message* Exp) {
	return SC_Base_LookUpSub(Self, Name, Exp, Self, nil, nil, kSC__Base_kPurposeFunc);
}

SCObject* SC_Base_LookUpSub(SCNode* Self, JB_String* OrigName, Message* Exp, SCNode* Arg_Space, SCDecl* Contains, Message* Side, int Purpose) {
	SCParamArray* ParamsArray = SC_PA_Constructor(nil, Exp, OrigName);
	JB_Incr(ParamsArray);
	SCNode* Curr = SC_PA_DetectDotSuper(ParamsArray, Self, Arg_Space);
	Message* Paramshere = ((Message*)JB_Ring_Last(Exp));
	SC_PA_PreReadTypes(ParamsArray, Arg_Space, Paramshere, Side);
	bool CanFunction = (Paramshere) and ((!ParamsArray->IsAddress));
	SCFunction* Missing = nil;
	SCFunction* F = nil;
	SCClass* Owning_Cls = nil;
	bool AllowSelfToConstructor = false;
	SCFunction* CurrFunc = SC_Func__CurrFunc();
	if (CurrFunc) {
		Owning_Cls = CurrFunc->Cls;
		if (Owning_Cls) {
			AllowSelfToConstructor = SC_PA_IsSelfCon(ParamsArray);
		}
	}
	{
		SCNode* B = Curr;
		while (B) {
			SCObject* O = SC_Base_SyntaxAccessWithStr(B, ParamsArray->LookupName);
			if ((!O)) {
				B = B->Parent;
				continue;
			}
			if ((ParamsArray->IsDot) and ((SC_PA_IsModule(ParamsArray)) and ((B == SC__Comp_Program) and (B != Self)))) {
				break;
			}
			if (JB_Object_FastIsa(O, &SCDeclData)) {
				if (((Owning_Cls != Curr) or SC_Msg_IsFuncDot(Exp)) and SC_Func_HiderMatch(((SCDecl*)O)->HiderFunc, ParamsArray->HasSide)) {
					O = ((SCDecl*)((SCDecl*)O)->HiderFunc);
				}
				 else {
					if (((SCDecl*)O)->Type->FuncProto) {
						if (!((ParamsArray->IsDot or (!Paramshere)) and ((!SC_PA_SyntaxCast(ParamsArray))))) {
							JB_Msg_Fail(Exp, JB_LUB[2148]);
							JB_EarlyDecr(ParamsArray);
							return nil;
						}
						JB_EarlyDecr(ParamsArray);
						return ((SCDecl*)O);
					}
					if ((!Side) and (ParamsArray->IsDot and ((SCDecl*)O)->Type->ProcessAs)) {
						if ((!Exp)) {
							JB_Object_Fail(nil);
							JB_EarlyDecr(ParamsArray);
							return nil;
						}
						JB_EarlyDecr(ParamsArray);
						return SC_Decl_ProcessAs(((SCDecl*)O), Exp);
					}
				}
			}
			ParamsArray->AllowSelfToConstructor = AllowSelfToConstructor;
			if ((Paramshere and (Paramshere->Func == kJB_SyxPrm)) and (JB_Object_FastIsa(O, &SCModuleData))) {
				O = ((SCModule*)SC_Mod_GetTheNewer(((SCModule*)O)));
				ParamsArray->AllowSelfToConstructor = false;
			}
			if (CanFunction and (JB_Object_FastIsa(O, &SCFunctionData))) {
				F = ((SCFunction*)O);
				O = SC_Func_ArgsMatch(F, Contains, Arg_Space, ParamsArray, 0);
				if (!((SCFunction*)O)) {
					0;
				}
				 else if (((SCFunction*)O)->IsMacro) {
					if (((SCFunction*)O)->IsMacro) {
						Missing = ((SCFunction*)O);
					}
					O = nil;
				}
				 else {
					if (SC_Func_SyntaxIs(((SCFunction*)O), kSC__FunctionType_Disabled) and (!SC_Func_SyntaxIs(CurrFunc, kSC__FunctionType_Disabled))) {
						if (true) {
							JB_Msg_Fail(Exp, ((SCFunction*)O)->Description);
						}
						if (true) {
							JB_Msg_Fail(((SCFunction*)O)->Source, JB_LUB[2149]);
						}
					}
					if (Paramshere) {
						JB_SetRef(Paramshere->Obj, O);
						if ((!ParamsArray->AllowSelfToConstructor) and (SC_Func_SyntaxIs(((SCFunction*)O), kSC__FunctionType_Constructor))) {
							if (SC_Func_ReturnsObject(((SCFunction*)O))) {
								SC_Msg_ConstructorAddNil(Paramshere, ParamsArray->IsDot and (!(JB_Object_Isa(Self, &SCModuleData))));
							}
						}
					}
					JB_EarlyDecr(ParamsArray);
					return ((SCFunction*)O);
				}
			}
			if (O) {
				ParamsArray->Found = true;
				if (!SC_PA_SyntaxCast(ParamsArray)) {
					if ((Purpose == kSC__Base_kPurposeDot) and ((!ParamsArray->IsAddress) and (JB_Object_FastIsa(O, &SCDeclData)))) {
						JB_EarlyDecr(ParamsArray);
						return ((SCDecl*)O);
					}
					if (!JB_Object_Isa(O, &SCFunctionData)) {
						if (Exp and ((!ParamsArray->IsDot) and (CurrFunc and (!CurrFunc->Cls)))) {
							if (JB_Object_FastIsa(O, &SCDeclData)) {
								if (((!SC_Decl_SyntaxIs(((SCDecl*)O), kSC__SCDeclInfo_Const))) and ((B != SC__Comp_Program) and (JB_Object_FastIsa(B, &SCModuleData)))) {
									if (true) {
										JB_Msg_Fail(Exp, JB_LUB[2150]);
									}
								}
							}
						}
						JB_EarlyDecr(ParamsArray);
						return O;
					}
					if (!JB_Msg_OperatorIn(Exp, kJB_SyxDot)) {
						JB_String* Err = JB_LUB[2151];
						if (Side and (!SC_PA_MacroSize(ParamsArray))) {
							Err = JB_LUB[1210];
						}
						if (!((SCFunction*)O)->HasProto) {
							JB_Msg_Fail(Exp, Err);
						}
						JB_EarlyDecr(ParamsArray);
						return ((SCFunction*)O)->HasProto;
					}
				}
			}
			B = B->Parent;
		};
	}
	;
	if (Missing) {
		SCDecl* _tmPf6 = SC_Func_MacroFix(Missing, Contains, Arg_Space, ParamsArray);
		JB_Incr(_tmPf6);
		JB_EarlyDecr(ParamsArray);
		JB_SafeDecr(_tmPf6);
		return _tmPf6;
	}
	if ((!Exp)) {
		JB_EarlyDecr(ParamsArray);
		return nil;
	}
	if (F) {
		if (SC_Func_SyntaxIs(F, kSC__FunctionType_Disabled)) {
			if (true) {
				JB_Msg_Fail(Exp, F->Description);
			}
		}
		 else if (!SC_PA_MadeError(ParamsArray)) {
			JB_FreeIfDead(SC_Func_ArgsMatch(F, Contains, Arg_Space, ParamsArray, kJB_kTypeCastDescribeErrors));
		}
		if (Paramshere) {
			JB_SetRef(Paramshere->Obj, F);
		}
		JB_EarlyDecr(ParamsArray);
		return F;
	}
	JB_String* ErrMsg = JB_LUB[0];
	JB_Incr(ErrMsg);
	if (ParamsArray->Found) {
		JB_SetRef(ErrMsg, JB_LUB[2152]);
	}
	 else if ((!Paramshere)) {
		JB_SetRef(ErrMsg, JB_Str_Append4(JB_LUB[2153], OrigName, JB_LUB[2154], nil));
	}
	 else if (ParamsArray->IsDot) {
		FastString* _fsf1 = JB_FS_Constructor(nil);
		JB_FS_AppendString(_fsf1, JB_LUB[2155]);
		JB_FS_AppendString(_fsf1, OrigName);
		JB_FS_AppendString(_fsf1, JB_LUB[2156]);
		JB_String* _tmPf4 = SC_PA_RenderKind(ParamsArray);
		JB_Incr(_tmPf4);
		JB_FS_AppendString(_fsf1, _tmPf4);
		JB_Decr(_tmPf4);
		JB_FS_AppendString(_fsf1, JB_LUB[536]);
		JB_String* _tmPf5 = SC_PA_ModuleName(ParamsArray);
		JB_Incr(_tmPf5);
		JB_FS_AppendString(_fsf1, _tmPf5);
		JB_Decr(_tmPf5);
		JB_FS_AppendString(_fsf1, JB_LUB[2154]);
		JB_SetRef(ErrMsg, JB_FS_GetResult(_fsf1));
		if (JB_Object_FastIsa(Self, &SCModuleData)) {
			SCClass* Cls = ((SCModule*)Self)->Cls;
			JB_Incr(Cls);
			if (Cls) {
				SCObject* Found = SC_Base_UpCheck(Cls, OrigName, true);
				JB_Incr(Found);
				if (Found) {
					JB_SetRef(ErrMsg, JB_Str_OperatorPlus(ErrMsg, JB_LUB[2157]));
				}
				JB_Decr(Found);
			}
			JB_Decr(Cls);
		}
	}
	 else {
		JB_SetRef(ErrMsg, JB_Str_Append4(JB_LUB[2158], OrigName, JB_LUB[2154], nil));
	}
	JB_Decr(ParamsArray);
	if (true) {
		JB_Msg_Fail(Exp, ErrMsg);
	}
	JB_EarlyDecr(ErrMsg);
	return nil;
}

SCObject* SC_Base_LookUpVar(SCNode* Self, JB_String* Name, Message* Exp, Message* Side) {
	if (JB_Str_Equals(Name, JB_LUB[1236], true)) {
		Name = JB_LUB[401];
	}
	return SC_Base_LookUpSub(Self, Name, Exp, Self, nil, Side, kSC__Base_kPurposeVar);
}

SCDecl* SC_Base_LookUpVarDecl(SCNode* Self, JB_String* Name) {
	SCObject* Result = SC_Base_LookUpSub(Self, Name, nil, Self, nil, nil, kSC__Base_kPurposeVarDecl);
	JB_Incr(Result);
	if (JB_Object_FastIsa(Result, &SCDeclData)) {
		JB_SafeDecr(Result);
		return ((SCDecl*)Result);
	}
	JB_EarlyDecr(Result);
	return nil;
}

SCObject* SC_Base_LookUpVarRootDecl(SCNode* Self, JB_String* Name, Message* Exp) {
	return SC_Base_LookUpSub(Self, Name, Exp, Self, nil, nil, kSC__Base_kPurposeVarDecl);
}

SCModule* SC_Base_Module(SCNode* Self) {
	if (JB_Object_FastIsa(Self, &SCModuleData)) {
		return ((SCModule*)Self);
	}
	if (JB_Object_FastIsa(Self, &SCClassData)) {
		return ((SCClass*)Self)->Modul;
	}
	JB_DoAt(1);
	return SC__Comp_Program;
}

SCFunction* SC_Base_OwningFunc(SCNode* Self) {
	if (JB_Object_FastIsa(Self, &SCFunctionData)) {
		return ((SCFunction*)Self);
	}
	if (JB_Object_FastIsa(Self, &SCArgData)) {
		return ((SCArg*)Self)->ParentFunc;
	}
	return nil;
}

SCNode* SC_Base_ProcessLinkage(SCNode* Self, Message* Node, Dictionary* Table, bool Strict) {
	SCFunction* Fn = SC_Base_OwningFunc(Self);
	{
		Message* Ch = ((Message*)JB_Ring_First(Node));
		while (Ch) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Ch));
			if (JB_Msg_EqualsSyx(Ch, kJB_SyxTmp)) {
				DTWrap* Linker = ((DTWrap*)JB_Dict_Value0(Table, Ch->Name));
				if (Linker) {
					if ((((FP_TranFunc)JB_Wrap_SyntaxAccess(Linker)))(Fn, Ch, Self)) {
						JB_Tree_Remove(Ch);
					}
				}
				 else if (Strict) {
					if (true) {
						JB_Msg_Fail(Ch, nil);
					}
				}
			}
			 else if (Strict) {
				if (!JB_Msg_EqualsSyx(Ch, kJB_SyxSheb)) {
					JB_Msg_Expect(Ch, kJB_SyxTmp, nil);
				}
			}
			 else {
				return nil;
			}
			Ch = _Nf1;
		};
		;
	}
	;
	return SC__Comp_Program;
}

SCNode* SC_Base_ProjectFix(SCNode* Self) {
	if (Self == SC__Comp_Program) {
		SCImport* C = SC__Imp_Curr;
		if (C) {
			return C->Mod;
		}
	}
	return Self;
}

JB_String* SC_Base_ReachedName(SCNode* Self) {
	JB_String* Rz = JB_LUB[0];
	JB_Incr(Rz);
	SCNode* C = Self->MyReacher;
	JB_Incr(C);
	JB_SetRef(Rz, JB_Str_OperatorPlus(JB_LUB[64], Self->Name));
	if (JB_ObjClass(C) == &SCNodeData) {
		JB_SetRef(Rz, JB_Str_OperatorPlus(Rz, JB_LUB[65]));
	}
	JB_EarlyDecr(C);
	JB_SafeDecr(Rz);
	return Rz;
}

SCDecl* SC_Base_RequireContained(SCNode* Self, Message* Errplace) {
	SCClass* Cls = nil;
	if (JB_Object_FastIsa(Self, &SCFunctionData)) {
		Cls = ((SCFunction*)Self)->Cls;
		if (!Cls) {
			Cls = ((SCFunction*)Self)->ProtoType;
			if (!Cls) {
				SCModule* P = ((SCModule*)JB_Object_FastAs(((SCFunction*)Self)->Parent, &SCModuleData));
				if (P) {
					Cls = P->Cls;
				}
			}
		}
	}
	 else if (JB_Object_FastIsa(Self, &SCClassData)) {
		Cls = ((SCClass*)Self);
	}
	 else if (JB_Object_FastIsa(Self, &SCModuleData)) {
		Cls = ((SCModule*)Self)->Cls;
	}
	 else if (JB_Object_FastIsa(Self, &SCArgData)) {
		SCFunction* F = ((SCArg*)Self)->ParentFunc;
		if (F) {
			Cls = F->Cls;
		}
	}
	if (!(Cls and Cls->Contained)) {
		JB_Msg_Fail(Errplace, JB_LUB[1178]);
		return nil;
	}
	return Cls->Contained;
}

Message* SC_Base_Route(SCNode* Self, JB_String* Name) {
	Message* Rz = nil;
	Rz = JB_Syx_Msg(kJB_SyxDot, Name);
	Message* Curr = Rz;
	while (Self) {
		SCModule* Next = ((SCModule*)Self->Parent);
		if ((!Next) or ((Next == SC__Comp_Program) or Next->IsImport)) {
			JB_Msg_AppendSyx(Curr, kJB_SyxThg, Self->Name);
			break;
		}
		Curr = JB_Msg_Msg(Curr, kJB_SyxDot, Self->Name);
		Self = Next;
	};
	return Rz;
}

void SC_Base_SetInternal(SCNode* Self, Message* Node, ClassInfo Info) {
	SCModule* M = nil;
	if (JB_Object_FastIsa(Self, &SCClassData)) {
		M = ((SCClass*)Self)->Modul;
	}
	 else if (JB_Object_FastIsa(Self, &SCModuleData)) {
		M = ((SCModule*)Self);
	}
	 else {
		if (true) {
			JB_Msg_Fail(Node, nil);
		}
		return;
	}
	if (((M->NodeInfo & Info))) {
		JB_Msg_Fail(Node, JB_LUB[912]);
		return;
	}
	M->NodeInfo = (M->NodeInfo | Info);
}

SCClass* SC_Base_ShouldBeClass(SCNode* Self, Message* Errplace) {
	SCClass* _tmPf0 = SC_Base_IsNormalObject(Self);
	JB_Incr(_tmPf0);
	if (!_tmPf0) {
		JB_Msg_Fail(Errplace, JB_LUB[913]);
		JB_EarlyDecr(_tmPf0);
		return nil;
	}
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

Message* SC_Base_SourceArg(SCNode* Self) {
	Message* P = Self->Source;
	if (P) {
		if (JB_Msg_EqualsSyx(P, kJB_SyxArg)) {
			return P;
		}
		return JB_Msg_FindSyx(P, kJB_SyxArg);
	}
	return nil;
}

SCModule* SC_Base_SpaceModule(SCNode* Self, Message* Errplace) {
	if (JB_Object_FastIsa(Self, &SCModuleData)) {
		return ((SCModule*)Self);
	}
	if (JB_Object_FastIsa(Self, &SCClassData)) {
		return ((SCClass*)Self)->Modul;
	}
	if (true) {
		JB_Msg_Fail(Errplace, JB_LUB[914]);
	}
	return nil;
}

JB_String* SC_Base_SubProjName(SCNode* Self) {
	return SC__Comp_Program->ExportName;
}

SCObject* SC_Base_SyntaxAccessWithMsg(SCNode* Self, Message* S) {
	SCObject* Rz = nil;
	Rz = SC_Base_SyntaxAccessWithStr(Self, S->Name);
	if (!Rz) {
		JB_Msg_Fail(S, JB_Str_OperatorPlus(JB_LUB[915], S->Name));
		return nil;
	}
	return Rz;
}

SCObject* SC_Base_SyntaxAccessWithStr(SCNode* Self, JB_String* S) {
	if (SC_SCObject_SyntaxIs(Self, kSC__SCNodeInfo_AllowLinkedLists)) {
		SCDecl* V = Self->LocalVarList;
		while (V) {
			if (JB_Str_Equals(V->Name, S, true)) {
				return V;
			}
			V = V->LocalVarList;
		};
	}
	return ((SCObject*)JB_Dict_ValueLower(Self->Access, S));
}

JB_String* SC_Base_TestExportName(SCNode* Self, JB_String* S, bool Explicit) {
	SCObject* O = ((SCObject*)JB_Dict_Value0(SC__Comp_ExportNames, S));
	JB_Incr(O);
	if (!O) {
		JB_EarlyDecr(O);
		return S;
	}
	if (!Explicit) {
		if ((!SC_SCObject_SyntaxIs(O, kSC__SCNodeInfo_ExplicitExport))) {
			SC_SCObject_RehomeExport(O);
		}
		//AAAA;
		JB_String* It = SC_SCObject_UniquifyExport(Self, S);
		JB_Incr(It);
		if (JB_Str_Exists(It)) {
			JB_EarlyDecr(O);
			JB_SafeDecr(It);
			return It;
		}
		JB_Decr(It);
		//BBBB;
	}
	 else if (!SC_SCObject_SyntaxIs(O, kSC__SCNodeInfo_ExplicitExport)) {
		if (SC_SCObject_RehomeExport(O)) {
			JB_EarlyDecr(O);
			return S;
		}
	}
	//CCCC;
	JB_String* Err = JB_Str_OperatorPlus(JB_LUB[1069], S);
	JB_Incr(Err);
	if (true) {
		JB_Msg_Fail(O->Source, Err);
	}
	JB_Decr(O);
	if (true) {
		JB_Msg_Fail(Self->Source, Err);
	}
	JB_EarlyDecr(Err);
	return JB_LUB[0];
}

void SC_Base_Tran_Const(SCNode* Self, SCDecl* D, SCNode* Base) {
	Message* Root = D->Default;
	JB_Incr(Root);
	MessagePosition Using = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Root, (&Using));
	{
		Message* Curr = Root;
		JB_Incr(Curr);
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Root));
		JB_Incr(_afterf1);
		while ((Curr) and (Curr != _afterf1)) {
			Message* _N_f2 = ((Message*)JB_Ring_FlatNext0(Curr));
			JB_Incr(_N_f2);
			if (JB_Msg_EqualsSyx(Curr, kJB_SyxThg)) {
				if (!JB_FreeIfDead(SC_TypeOfExpr(Curr, Base, nil))) {
					JB_EarlyDecr(_N_f2);
					JB_EarlyDecr(_afterf1);
					JB_EarlyDecr(Curr);
					JB_MsgPos_Destructor((&Using));
					JB_EarlyDecr(Root);
					return;
				}
				SCObject* Actual = SC_Base_SyntaxAccessWithStr(Base, Curr->Name);
				JB_Incr(Actual);
				if (JB_Object_FastIsa(Actual, &SCDeclData)) {
					Message* BetterVersion = JB_Msg_Copy(((SCDecl*)Actual)->Default, Curr);
					JB_Incr(BetterVersion);
					JB_FreeIfDead(SC_Msg_ReplaceWith(Curr, BetterVersion));
					JB_Decr(BetterVersion);
				}
				 else {
					if (!((Curr->Obj == SC_TypeString->TypeNormal) or (((JB_Msg_SyntaxEquals(Curr, JB_LUB[6], true))) or ((JB_Msg_SyntaxEquals(Curr, JB_LUB[7], true)))))) {
						JB_Msg_Fail(Curr, JB_LUB[1370]);
						JB_EarlyDecr(Actual);
						JB_EarlyDecr(_N_f2);
						JB_EarlyDecr(_afterf1);
						JB_EarlyDecr(Curr);
						JB_MsgPos_Destructor((&Using));
						JB_EarlyDecr(Root);
						return;
					}
				}
				JB_Decr(Actual);
			}
			 else if (JB_Msg_EqualsSyx(Curr, kJB_SyxUnit)) {
				if (!JB_FreeIfDead(SC_TypeOfExpr(Curr, Base, nil))) {
					JB_EarlyDecr(_N_f2);
					JB_EarlyDecr(_afterf1);
					JB_EarlyDecr(Curr);
					JB_MsgPos_Destructor((&Using));
					JB_EarlyDecr(Root);
					return;
				}
			}
			 else if (((JB_Msg_EqualsSyx(Curr, kJB_SyxStr))) or (((JB_Msg_EqualsSyx(Curr, kJB_SyxNum))) and (!(JB_Msg_OperatorIn(Curr, kJB_SyxUnit))))) {
				if (!JB_FreeIfDead(SC_TypeOfExpr(Curr, Base, nil))) {
					JB_EarlyDecr(_N_f2);
					JB_EarlyDecr(_afterf1);
					JB_EarlyDecr(Curr);
					JB_MsgPos_Destructor((&Using));
					JB_EarlyDecr(Root);
					return;
				}
			}
			JB_SetRef(Curr, _N_f2);
			JB_Decr(_N_f2);
		};
		JB_Decr(Curr);
		JB_Decr(_afterf1);
		;
	}
	;
	JB_Decr(Root);
	JB_MsgPos_Destructor((&Using));
}

void SC_Base_TryAdd(SCNode* Self, Message* ErrPlace, SCObject* IncObj, JB_String* Name) {
	if (!JB_int_OperatorInRange(JB_Str_Length(Name), 64)) {
		JB_Msg_Fail(ErrPlace, JB_LUB[1070]);
		return;
	}
	if (JB_Object_FastIsa(Self, &SCClassData)) {
		JB_Class* Scls = JB_ObjClass(IncObj);
		if ((Scls == &SCClassData) or (Scls == &SCModuleData)) {
			Self = ((SCClass*)((SCClass*)Self)->Modul);
		}
	}
	SCObject* Old = SC_Base_UpCheck(Self, Name, (!(JB_Object_Isa(IncObj, &SCFunctionData))));
	if ((!Old)) {
		return SC_Base_ActualAdd(Self, Name, IncObj);
	}
	if (Old == IncObj) {
		return;
	}
	if (JB_Object_FastIsa(Old, &SCFunctionData)) {
		if (JB_Object_FastIsa(IncObj, &SCFunctionData)) {
			if ((((SCFunction*)Old)->Cls == ((SCFunction*)IncObj)->Cls) or SC_Func_IsConstructorOnModule(((SCFunction*)IncObj), ((SCFunction*)Old))) {
				JB_SetRef(SC_Func_Last(((SCFunction*)Old))->NextFunc, IncObj);
				return;
			}
		}
		 else if (JB_Object_FastIsa(IncObj, &SCDeclData)) {
			if (SC_Func_SyntaxIs(((SCFunction*)Old), kSC__FunctionType_HidesProperties)) {
				if ((((SCDecl*)IncObj)->HiderFunc)) {
					JB_Msg_Fail(ErrPlace, JB_LUB[1071]);
					return;
				}
				((SCDecl*)IncObj)->HiderFunc = ((SCFunction*)Old);
				return SC_Base_ActualAdd(Self, Name, ((SCDecl*)IncObj));
			}
		}
	}
	if (((JB_Str_Equals(Name, JB_LUB[401], false))) and SC_Func__InType(kSC__SCNodeType_Object)) {
		if (true) {
			JB_Msg_Fail(ErrPlace, JB_LUB[1072]);
		}
	}
	 else {
		SC_SCObject_NameConflict(IncObj, Old, Name);
	}
}

void SC_Base_TryAddBase(SCNode* Self, Message* C, SCNode* Neu) {
	SC_Base_TryAdd(Self, C, Neu, Neu->Name);
}

bool SC_Base_UnReached(SCNode* Self, SCNode* From) {
	SCNode* MR = Self->MyReacher;
	if (!MR) {
		return true;
	}
	if ((MR == SC__Comp_VisibleFuncs) or (SC_Base_IsLibrary(MR) and (!SC_Base_IsLibrary(From)))) {
		Self->MyReacher = From;
	}
	return false;
}

SCObject* SC_Base_UpCheck(SCNode* Self, JB_String* Name, bool LookUp) {
	if (LookUp and (JB_Object_FastIsa(Self, &SCClassData))) {
		{
			SCClass* C = ((SCClass*)Self);
			while (C) {
				SCObject* It = SC_Base_SyntaxAccessWithStr(C, Name);
				if (It) {
					return It;
				}
				C = C->Super;
			};
		};
	}
	if (!JB_Object_Isa(Self, &SCArgData)) {
		return SC_Base_SyntaxAccessWithStr(Self, Name);
	}
	SCNode* Curr = Self;
	while (JB_Object_FastIsa(Curr, &SCArgData)) {
		SCObject* Found = SC_Base_SyntaxAccessWithStr(Curr, Name);
		if (Found) {
			return Found;
		}
		if (!LookUp) {
			return nil;
		}
		Curr = ((SCArg*)Curr->Parent);
	};
	return nil;
}

SCNode* SC_Base_UpClass(SCNode* Self, Message* F) {
	SCNode* Rz = nil;
	Rz = Self->Parent;
	if ((JB_Msg_EqualsSyx(F, kJB_SyxDot)) and JB_Object_FastIsa(Rz, &SCModuleData)) {
		if (((SCModule*)Rz)->IsImport) {
			return nil;
		}
	}
	return Rz;
}

void SC_Base_Use(SCNode* Self) {
	Message* S = Self->Source;
	if (S) {
		JB_Mem_Use(JB_ObjLayer(S));
	}
	SC_Imp_Use(Self->Project);
}

int SC_Base__Init_() {
	{
		SC__Base_CurrVisibility = true;
	}
	;
	return 0;
}

SCNode* SC_Base__LoadCppPart(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	if (!((JB_Object_Isa(Name_space, &SCClassData)) or (JB_Object_Isa(Name_space, &SCModuleData)))) {
		return nil;
	}
	if (Name_space == SC__Comp_Program) {
		SCFile* File = SC_Msg_File(Node);
		if (File) {
			Message* _tmPf0 = JB_Msg_NeedSyx(Node, kJB_SyxThg);
			if (!_tmPf0) {
				return nil;
			}
			JB_SetRef(File->ExportName, _tmPf0->Name);
		}
		JB_Tree_Remove(Node);
	}
	return SC__Comp_Program;
}


bool JB_Proc_CommsOpen(SpdProcess* Self) {
	if (Self) {
		return PicoError(Self->Pico) == 0;
	}
	return false;
}

SpdProcess* JB_Proc_Constructor(SpdProcess* Self, JB_String* Path, SpdProcess_Thread Fn, PicoComms* Pico, Array* Params, uint /*ProcessMode*/ Mode) {
	if (Self == nil) {
		Self = ((SpdProcess*)JB_NewClass(&SpdProcessData));
	}
	Mode = (Mode | kJB__PIDM_MsgPassing);
	JB_Sh_Constructor(Self, Path, Mode, Params, Pico);
	Self->AlreadyWarnedDied = false;
	Self->DeathLimit = 12;
	Self->SubProcess = Fn;
	JB_Incr2(Self->Writer, JB_FS_Constructor(nil));
	return Self;
}

void JB_Proc_Destructor(SpdProcess* Self) {
	PicoDestroy(Self->Pico, JB_Str_SyntaxCast(JB_LUB[56]));
	JB_Clear(Self->Writer);
	JB_Sh_Destructor(Self);
}

void JB_Proc_Disconnect(SpdProcess* Self, JB_String* Why) {
	JB_StringC* _tmPf0 = JB_Str_MakeC(Why);
	JB_Incr(_tmPf0);
	PicoClose(Self->Pico, JB_Str_SyntaxCast(_tmPf0));
	JB_Decr(_tmPf0);
}

Message* JB_Proc_Get(SpdProcess* Self, float T) {
	Message* Rz = nil;
	if (Self) {
		if (JB_ExitCode_NotStarted(JB_Sh_Status(Self))) {
			JB_Sh_StartProcess(Self);
		}
		JB_String* Str = JB_Pico_Get(Self->Pico, T);
		if (JB_Str_Exists(Str)) {
			Rz = JB_Str_Parse(Str, kJB_SyxNil, true);
		}
	}
	return Rz;
}

bool JB_Proc_IsOpen(SpdProcess* Self) {
	return JB_Proc_CommsOpen(Self) and JB_ExitCode_IsRunning(JB_Sh_Status(Self));
}

bool JB_Proc_Send(SpdProcess* Self, Message* Msg) {
	bool Rz = false;
	//cpp_part;
	if (JB_ExitCode_NotStarted(JB_Sh_Status(Self))) {
		JB_Sh_StartProcess(Self);
	}
	if (PicoError(Self->Pico) == 0) {
		Self->Writer->Length = 0;
		JB_FreeIfDead(JB_Msg_RenderJbin(Msg, JB_LUB[0], Self->Writer));
		Rz = JB_Pico_SendString(Self->Pico, ((JB_String*)Self->Writer), false);
		Self->Writer->Length = 0;
	}
	return Rz;
}

int JB_Proc__Init_() {
	{
	}
	;
	return 0;
}





JB_Task* JB_Task_Constructor(JB_Task* Self, uint Obj, void* Func) {
	if (Self == nil) {
		Self = ((JB_Task*)JB_NewClass(&JB_TaskData));
	}
	JB_Ring_Constructor0(Self);
	Self->_State = 0;
	Self->_Object = Obj;
	Self->_func = Func;
	return Self;
}

void JB_Task_Destructor(JB_Task* Self) {
	//visible;
	JB_Object** Curr = ((JB_Object**)Self);
	int O = Self->_Object;
	while (O) {
		int I = JB_int_LowestBit(O);
		O = (O & (~I));
		I = JB_Int_Log2(I);
		JB_Decr(Curr[I]);
	};
	JB_Ring_Destructor(Self);
}




JB_Error* JB_Err_Constructor(JB_Error* Self, Message* Node, JB_String* Desc, uint /*ErrorSeverity*/ Level, JB_String* Path) {
	if (Self == nil) {
		Self = ((JB_Error*)JB_NewClass(&JB_ErrorData));
	}
	//visible;
	JB_Msg_ConstructorEmpty(Self);
	Self->ErrorFlags = 0;
	JB_Incr2(Self->StackTrace, JB_LUB[0]);
	JB_Incr2(Self->OriginalData, JB_LUB[0]);
	Self->Position = -1;
	JB_Incr2(Self->Node, Node);
	Self->Severity = Level;
	JB_Incr2(Self->Name, Desc);
	JB_Incr2(Self->Path, Path);
	Self->When = JB_Date__Now();
	Self->Func = kJB_SyxSStr;
	JB_Err_UpgradeWithNode(Self);
	return Self;
}

JB_Error* JB_Err_ConstructorNothing(JB_Error* Self) {
	if (Self == nil) {
		Self = ((JB_Error*)JB_NewClass(&JB_ErrorData));
	}
	//cpp_part;
	JB_Msg_ConstructorEmpty(Self);
	Self->ErrorFlags = 0;
	JB_Incr2(Self->StackTrace, JB_LUB[0]);
	Self->Node = nil;
	JB_Incr2(Self->Path, JB_LUB[0]);
	JB_Incr2(Self->OriginalData, JB_LUB[0]);
	Self->Position = -1;
	Self->Severity = kJB__ErrorSeverity_OK;
	Self->When = JB_Date__Now();
	Self->Func = kJB_SyxArg;
	return Self;
}

void JB_Err_Destructor(JB_Error* Self) {
	//cpp_part;
	JB_Clear(Self->StackTrace);
	JB_Clear(Self->Node);
	JB_Clear(Self->Path);
	JB_Clear(Self->OriginalData);
	JB_Msg_Destructor(Self);
}

void JB_Err_Fill(JB_Error* Self, JB_String* Path, JB_String* Desc) {
	//visible;
	JB_SetRef(Self->Path, Path);
	((JB_Err_SyntaxIsSet(Self, kJB__ErrorFlags_PreferNoRenderPath, JB_Str_ContainsString(Desc, Path))));
	JB_SetRef(Self->Name, Desc);
}

bool SC_Err_FromSamePlace(JB_Error* Self, Message* S) {
	if (Self) {
		if (S->Position == Self->Position) {
			if (JB_Str_Equals(Self->Path, ((JB_String*)SC_Msg_File(S)), false)) {
				return true;
			}
		}
	}
	return false;
}

void JB_Err_GrabLine(JB_Error* Self, FastString* Fs, bool Usecolor) {
	if (Usecolor) {
		JB_FS_AppendString(Fs, kJB__TerminalColor_Normal);
	}
	JB_String* D = Self->OriginalData;
	JB_Incr(D);
	if (!(JB_Str_Exists(D) and JB_Err_HasPosition(Self))) {
		JB_EarlyDecr(D);
		return;
	}
	JB_FS_AppendByte(Fs, '\n');
	Ind Start = JB_Str_FindCharset(D, kJB__CharSet_Line, Self->Position, 0) + 1;
	Ind Finish = JB_Str_FindCharset(D, kJB__CharSet_Line, (Self->Position), kJB__int_Max);
	if (Finish == -1) {
		Finish = (JB_Str_Length(D) + 1);
	}
	JB_String* _tmPf1 = JB_Str_Range(D, Start, Finish, false);
	JB_Incr(_tmPf1);
	JB_Decr(D);
	JB_String* _tmPf0 = JB_Str_ReplaceAll(_tmPf1, JB_LUB[22], JB_LUB[60], false, nil);
	JB_Incr(_tmPf0);
	JB_Decr(_tmPf1);
	JB_FS_AppendString(Fs, _tmPf0);
	JB_Decr(_tmPf0);
	Ind Spaces = (Self->Position - Start);
	if (Spaces > 200) {
		Spaces = 0;
	}
	JB_FS_AppendByte2(Fs, '\n');
	if (Usecolor) {
		JB_FS_AppendString(Fs, kJB__TerminalColor_Underline);
	}
	JB_FS_AppendMultiByte(Fs, ' ', Spaces);
	JB_FS_AppendByte2(Fs, '^');
}

bool JB_Err_HasPosition(JB_Error* Self) {
	return Self->Position >= 0;
}

void SC_Err_Improve(JB_Error* Self) {
	Message* Node = SC_FindBytePos(Self->Node);
	if (!Node) {
		return;
	}
	if (!JB_Err_HasPosition(Self)) {
		Self->Position = Node->Position;
	}
	if (!JB_Str_Exists(Self->Path)) {
		SCFile* SC = SC_Msg_File(Node);
		if (!SC) {
			return;
		}
		if (!JB_File_SyntaxEquals(SC, SC_Msg_File(Self->Node), false)) {
			JB_SetRef(Self->Node, Node);
		}
		if (JB_File_FileExistance(SC)) {
			JB_SetRef(Self->Path, JB_File_Path(SC));
		}
	}
}

bool JB_Err_IsBad(JB_Error* Self) {
	return (Self->Severity >= kJB__ErrorSeverity_Problem);
}

bool JB_Err_IsError(JB_Error* Self) {
	return (Self->Severity >= kJB__ErrorSeverity_Error);
}

bool JB_Err_IsWarning(JB_Error* Self) {
	return (Self->Severity <= kJB__ErrorSeverity_Warning);
}

bool JB_Err_LineIdentifiers(JB_Error* Self, FastString* Fs, JB_String* Path) {
	if (!JB_Err_HasPosition(Self)) {
		return nil;
	}
	JB_String* D = Self->OriginalData;
	JB_Incr(D);
	if (!JB_Str_Exists(D)) {
		JB_EarlyDecr(D);
		return nil;
	}
	if (!JB_Str_Exists(Path)) {
		JB_FS_AppendString(Fs, JB_LUB[523]);
	}
	JB_FS_AppendInt32(Fs, JB_Err_LinePos(Self, D));
	JB_FS_AppendByte2(Fs, ':');
	Ind Start = JB_Str_FindCharset(D, kJB__CharSet_Line, Self->Position, 0);
	JB_Decr(D);
	JB_FS_AppendInt32(Fs, Self->Position - Start);
	JB_FS_AppendByte2(Fs, ':');
	return true;
}

int JB_Err_LinePos(JB_Error* Self, JB_String* Data) {
	if (JB_Err_HasPosition(Self)) {
		JB_String* _tmPf0 = JB_Str_Range(Data, 0, Self->Position, false);
		JB_Incr(_tmPf0);
		int _tmPf1 = JB_Str_LineCount(_tmPf0);
		JB_EarlyDecr(_tmPf0);
		return _tmPf1;
	}
	return 0;
}

JB_String* JB_Err_Render(JB_Error* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, JB_LUB[462]);
	(++Fs->Indent);
	JB_FS_AppendInfo(Fs, JB_LUB[0], Self->Name);
	if (Self->Position >= 0) {
		JB_FS_AppendInfoNum(Fs, JB_LUB[599], Self->Position);
	}
	JB_FS_AppendInfo(Fs, JB_LUB[600], Self->Path);
	JB_FS_AppendInfoNum(Fs, JB_LUB[601], Self->Severity);
	if (JB_Str_Exists(Self->StackTrace)) {
		JB_FS_AppendInfo(Fs, JB_LUB[602], JB_LUB[0]);
		(++Fs->Indent);
		{
			JB_String* _LoopSrcf2 = Self->StackTrace;
			JB_Incr(_LoopSrcf2);
			int _Prevf0 = 0;
			while (((JB_String*)JB_Str_Exists((_LoopSrcf2)))) {
				Ind _Curr_f1 = JB_Str_FindCharset(_LoopSrcf2, kJB__CharSet_Line, _Prevf0, kJB__int_Max);
				JB_String* Fn = JB_Str_Range(_LoopSrcf2, _Prevf0, _Curr_f1, false);
				JB_Incr(Fn);
				JB_FS_AppendInfo(Fs, JB_LUB[603], Fn);
				JB_Decr(Fn);
				_Prevf0 = (_Curr_f1 + 1);
				if (!JB_Ind_SyntaxCast(_Curr_f1)) {
					break;
				}
			};
			JB_Decr(_LoopSrcf2);
		}
		;
		(--Fs->Indent);
	}
	JB_FS_AppendByte(Fs, '\n');
	(--Fs->Indent);
	JB_String* _tmPf4 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf4);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf4);
	return _tmPf4;
}

JB_String* SC_Err_Render_Unix(JB_Error* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	if (SC_Options__Color()) {
		JB_FS_AppendString(Fs, kJB__TerminalColor_Bold);
	}
	Message* Node = Self->Node;
	JB_Incr(Node);
	JB_String* Data = SC_Err_SCOriginalData(Self);
	JB_Incr(Data);
	if (JB_Str_Exists(Data)) {
		JB_String* P = SC_Err_SCOriginalPath(Self);
		JB_Incr(P);
		if (!JB_Str_Exists(P)) {
			JB_SetRef(P, JB_LUB[812]);
		}
		JB_FS_AppendString(Fs, P);
		JB_Decr(P);
		JB_FS_AppendByte2(Fs, ':');
		SC_Err_SCLineIdentifiers(Self, Fs, Data);
	}
	 else if (Node) {
		JB_FreeIfDead(JB_Msg_Render(Node, Fs));
		SCFunction* Fn = SC_Msg_MsgOwningFunc(Node);
		JB_Incr(Fn);
		if (Fn) {
			JB_FS_AppendString(Fs, JB_LUB[813]);
			JB_FreeIfDead(SC_Func_Render(Fn, Fs));
		}
		JB_Decr(Fn);
	}
	JB_Decr(Node);
	JB_Decr(Data);
	JB_FS_AppendByte2(Fs, ' ');
	if (SC_Options__Color()) {
		if (JB_Err_IsWarning(Self)) {
			JB_FS_AppendString(Fs, kJB__TerminalColor_Warn);
		}
		 else {
			JB_FS_AppendString(Fs, kJB__TerminalColor_Error);
		}
	}
	if (JB_ErrorSeverity_SyntaxIs(Self->Severity, kJB__ErrorSeverity_Problem)) {
		JB_FS_AppendString(Fs, JB_LUB[814]);
	}
	 else {
		JB_FreeIfDead(JB_ErrorSeverity_Render(Self->Severity, Fs));
	}
	JB_FS_AppendString(Fs, JB_LUB[121]);
	if (SC_Options__Color()) {
		JB_FS_AppendString(Fs, kJB__TerminalColor_Bold);
	}
	JB_FS_AppendString(Fs, Self->Name);
	JB_FS_AppendByte2(Fs, '\n');
	SC_Err_SCGrabLine(Self, Fs, SC_Options__Color());
	JB_FS_AppendByte2(Fs, '\n');
	if (SC_Options__Color()) {
		JB_FS_AppendString(Fs, kJB__TerminalColor_Normal);
	}
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

JB_String* JB_Err_RenderUnix(JB_Error* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	int M = JB_FS_Mark(Fs);
	JB_String* P = Self->Path;
	JB_Incr(P);
	if (JB_Str_Exists(P)) {
		if (!JB_Err_SyntaxIs(Self, kJB__ErrorFlags_PreferNoRenderPath)) {
			JB_FS_AppendString(Fs, Self->Path);
			JB_FS_AppendByte(Fs, ':');
		}
	}
	if ((!JB_Err_LineIdentifiers(Self, Fs, P)) and Self->Node) {
		JB_FreeIfDead(JB_Msg_Render(Self->Node, Fs));
	}
	JB_Decr(P);
	if (JB_FS_Mark(Fs) > M) {
		JB_FS_AppendByte(Fs, ' ');
	}
	JB_FreeIfDead(JB_ErrorSeverity_Render(Self->Severity, Fs));
	JB_FS_AppendString(Fs, JB_LUB[121]);
	JB_FS_AppendString(Fs, Self->Name);
	JB_Err_GrabLine(Self, Fs, false);
	if (JB_Str_Exists(Self->StackTrace)) {
		JB_FS_AppendByte(Fs, '\n');
		JB_FS_AppendString(Fs, Self->StackTrace);
	}
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

void SC_Err_SCGrabLine(JB_Error* Self, FastString* Fs, bool Usecolor) {
	if (Usecolor) {
		JB_FS_AppendString(Fs, kJB__TerminalColor_Normal);
	}
	JB_String* D = SC_Err_SCOriginalData(Self);
	JB_Incr(D);
	if (!JB_Str_Exists(D)) {
		JB_EarlyDecr(D);
		return;
	}
	if (!JB_Err_HasPosition(Self)) {
		JB_EarlyDecr(D);
		return;
	}
	Ind Start = JB_Str_FindCharset(D, kJB__CharSet_Line, Self->Position, 0) + 1;
	Ind Finish = JB_Str_FindCharset(D, kJB__CharSet_Line, (Self->Position), kJB__int_Max);
	if (Finish == -1) {
		Finish = (JB_Str_Length(D) + 1);
	}
	Finish = JB_int_OperatorMin(Finish, Start + 84);
	JB_String* _tmPf0 = JB_Str_Range(D, Start, Finish, false);
	JB_Incr(_tmPf0);
	JB_Decr(D);
	JB_String* Line = JB_Str_UnicodeSync(_tmPf0);
	JB_Incr(Line);
	JB_Decr(_tmPf0);
	JB_FreeIfDead(JB_Str_ReplaceAll(Line, JB_LUB[22], JB_LUB[60], false, Fs));
	JB_Decr(Line);
	Ind Spaces = (Self->Position - Start);
	JB_FS_AppendByte2(Fs, '\n');
	if (Usecolor) {
		JB_FS_AppendString(Fs, kJB__TerminalColor_Underline);
	}
	JB_FS_AppendMultiByte(Fs, ' ', JB_int_OperatorMin(Spaces, 100));
	JB_FS_AppendByte2(Fs, '^');
}

int SC_Err_SCLineCount(JB_Error* Self) {
	int Rz = 0;
	JB_String* F = SC_Err_SCOriginalData(Self);
	JB_Incr(F);
	if (JB_Str_Exists(F)) {
		Rz = JB_Err_LinePos(Self, F);
	}
	JB_EarlyDecr(F);
	return Rz;
}

void SC_Err_SCLineIdentifiers(JB_Error* Self, FastString* Fs, JB_String* Data) {
	if ((!JB_Err_HasPosition(Self))) {
		SCFunction* Fn = SC_Msg_MsgOwningFunc(Self->Node);
		JB_Incr(Fn);
		if (!Fn) {
			JB_EarlyDecr(Fn);
			return;
		}
		JB_FS_AppendString(Fs, Fn->ExportName);
		JB_Decr(Fn);
	}
	 else {
		int _tmPf0 = SC_Err_SCLineCount(Self);
		if (!_tmPf0) {
			return;
		}
		JB_FS_AppendInt32(Fs, (_tmPf0));
		JB_FS_AppendByte(Fs, ':');
		Ind Start = JB_Str_FindCharset(Data, kJB__CharSet_Line, Self->Position, 0);
		JB_FS_AppendInt32(Fs, Self->Position - Start);
		JB_FS_AppendByte(Fs, ':');
	}
}

JB_String* SC_Err_SCOriginalData(JB_Error* Self) {
	JB_String* P = SC_Err_SCOriginalPath(Self);
	JB_Incr(P);
	if (JB_Str_Exists(P)) {
		JB_File* F = JB_Str_AsFile(P);
		JB_Incr(F);
		if (JB_File_FileExistance(F) and (!JB_File_IsDir(F))) {
			JB_String* _tmPf0 = JB_File_ReadAll(F, 134217728, true);
			JB_Incr(_tmPf0);
			JB_EarlyDecr(F);
			JB_EarlyDecr(P);
			JB_SafeDecr(_tmPf0);
			return _tmPf0;
		}
		JB_Decr(F);
	}
	JB_EarlyDecr(P);
	return Self->OriginalData;
}

JB_String* SC_Err_SCOriginalPath(JB_Error* Self) {
	JB_String* Str = SC_Msg_File(Self->Node);
	JB_Incr(Str);
	if (!JB_Str_Exists(Str)) {
		JB_SetRef(Str, Self->Path);
	}
	JB_SafeDecr(Str);
	return Str;
}

JB_String* SC_Err_SCRender(JB_Error* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	if (!JB_Str_Exists(Self->Path)) {
		JB_SetRef(Self->Path, SC_Err_SCOriginalPath(Self));
	}
	if (!JB_Str_Exists(Self->Path)) {
		JB_SetRef(Self->Path, JB_LUB[812]);
	}
	if (SC__Options_PerryOutput) {
		JB_FreeIfDead(JB_Err_Render(Self, Fs));
	}
	 else {
		JB_FreeIfDead(SC_Err_Render_Unix(Self, Fs));
	}
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

void JB_Err_ShiftPosition(JB_Error* Self, int I) {
	Self->Position = (Self->Position + I);
	Message* Node = Self->Node;
	if (Node) {
		Node->Position = (Node->Position + I);
	}
}

bool JB_Err_SyntaxIs(JB_Error* Self, uint /*ErrorFlags*/ F) {
	return Self and (Self->ErrorFlags & F);
}

void JB_Err_SyntaxIsSet(JB_Error* Self, uint /*ErrorFlags*/ F, bool Value) {
	if (Value) {
		Self->ErrorFlags = (Self->ErrorFlags | F);
	}
	 else {
		Self->ErrorFlags = (Self->ErrorFlags & (~F));
	}
}

void JB_Err_UpgradeWithNode(JB_Error* Self) {
	Message* Node = Self->Node;
	if (!Node) {
		Node = JB__Err_BackupErrorSource;
		if (!Node) {
			return;
		}
	}
	Self->Position = Node->Position;
	if (!JB_Str_Exists(Self->Path)) {
		JB_SetRef(Self->Path, JB_Msg_OriginalFilePath(Node));
	}
	JB_SetRef(Self->OriginalData, JB_Msg_OriginalParseData(Node));
}

void JB_Err__CantParseNum(Message* Where, JB_String* Num, int Pos, bool Overflow) {
	//visible;
	JB_String* Str = JB_LUB[679];
	JB_Incr(Str);
	if (!Overflow) {
		JB_String* _tmPf1 = JB_byte_Render(JB_Str_ByteValue(Num, Pos), nil);
		JB_Incr(_tmPf1);
		JB_String* _tmPf3 = JB_Str_Preview(Num, 32);
		JB_Incr(_tmPf3);
		JB_String* _tmPf2 = JB_Str_OperatorPlus(JB_LUB[681], _tmPf3);
		JB_Incr(_tmPf2);
		JB_Decr(_tmPf3);
		JB_String* _tmPf0 = JB_Str_OperatorPlus(_tmPf1, _tmPf2);
		JB_Incr(_tmPf0);
		JB_Decr(_tmPf1);
		JB_Decr(_tmPf2);
		JB_SetRef(Str, JB_Str_OperatorPlus(JB_LUB[680], _tmPf0));
		JB_Decr(_tmPf0);
	}
	JB_Error* _tmPf4 = JB_Err_Constructor(nil, Where, Str, kJB__ErrorSeverity_Error, JB_LUB[0]);
	JB_Incr(_tmPf4);
	JB_Decr(Str);
	JB_Rec_AppendErr(((JB_ErrorReceiver*)nil), _tmPf4);
	JB_Decr(_tmPf4);
}

int JB_Err__Init_() {
	{
	}
	;
	return 0;
}



Message* SC_Macro_clean(Message* Self) {
	if (!JB_Macro_Cleaned(Self)) {
		(JB_Macro_CleanedSet(Self, true));
		Message* S = JB_Macro_Source(Self);
		JB_Incr(S);
		if (S) {
			SC_Msg_Clean(S, false);
		}
		JB_Decr(S);
	}
	return Self;
}

Message* JB_Macro_CallFast(Message* Self, Message* Prm1, Message* Prm2) {
	Message* Rz = nil;
	JB_Incr(Rz);
	//cpp_part;
	JB_SetRef(Rz, JB_Msg_ConstructorEmpty(nil));
	JB_Array_SyntaxAppend(JB__Macro_TmpPrms_, Prm1);
	JB_Array_SyntaxAppend(JB__Macro_TmpPrms_, Prm2);
	JB_Msg_BecomeMacro(Rz, Self, JB__Macro_TmpPrms_);
	JB_Array_Clear(JB__Macro_TmpPrms_);
	JB_SafeDecr(Rz);
	return Rz;
}

Message* JB_Macro_Source(Message* Self) {
	Message* Rz = nil;
	Rz = ((Message*)JB_Ring_First(Self));
	if (!Rz) {
		Rz = JB_Str_Parse(Self->Name, kJB_SyxNil, true);
		if (Rz) {
			{
				Message* V = Rz;
				Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Rz));
				while ((V) and (V != _afterf1)) {
					Message* _N_f2 = ((Message*)JB_Ring_FlatNext0(V));
					V->Position = -1;
					V = _N_f2;
				};
				;
			}
			;
			(JB_Ring_FirstSet(Self, Rz));
		}
	}
	return Rz;
}

Message* JB_Macro__Build(Message* S) {
	Message* Rz = ((Message*)nil);
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Msg_ConstructorEmpty(nil));
	JB_Tree_SyntaxAppend(Rz, S);
	JB_SafeDecr(Rz);
	return Rz;
}

int JB_Macro__Init_() {
	{
		JB_SetRef(JB__Macro_TmpPrms_, JB_Array_Constructor0(nil));
	}
	;
	return 0;
}


MessageID* JB_ID_Constructor(MessageID* Self, JB_String* Name, Syntax Fn, uint64 ID) {
	if (Self == nil) {
		Self = ((MessageID*)JB_NewClass(&MessageIDData));
	}
	JB_Str_Clone(Self, Name);
	Self->Position = 0;
	Self->Frequency = 0;
	Self->Func = Fn;
	Self->Obj = nil;
	Self->ID = ID;
	return Self;
}

void JB_ID_Destructor(MessageID* Self) {
	//cpp_part;
	JB_Clear(Self->Obj);
}

JB_String* JB_ID_Render(MessageID* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	JB_String* _tmPf0 = JB_Syx_Name(Self->Func);
	JB_Incr(_tmPf0);
	JB_FS_AppendString(Fs, _tmPf0);
	JB_Decr(_tmPf0);
	JB_FS_AppendByte(Fs, '@');
	JB_FS_AppendQuotedEscape(Fs, Self, '"');
	JB_String* _tmPf1 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

SortComparison JB_ID__ByID(MessageID* Self, MessageID* B) {
	return B->ID - Self->ID;
}



SCArg* SC_Arg_Constructor(SCArg* Self, Message* Node) {
	if (Self == nil) {
		Self = ((SCArg*)JB_NewClass(&SCArgData));
	}
	SC_Base_ConstructorMsg(Self, Node);
	Self->TmpMovedOutFor = nil;
	Self->IsClassArg = false;
	Self->IsStatementExpr = false;
	Self->ParentFunc = nil;
	(SC_SCObject_SyntaxIsSet(Self, kSC__SCNodeInfo_AllowLinkedLists, true));
	return Self;
}

void SC_Arg_Destructor(SCArg* Self) {
	//cpp_part;
	JB_Clear(Self->TmpMovedOutFor);
	JB_Clear(Self->ParentFunc);
	SC_Base_Destructor(Self);
}

JB_String* SC_Arg_Render(SCArg* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, JB_LUB[565]);
	JB_FS_SyntaxAppend(Fs, Self->Source);
	JB_FS_AppendString(Fs, JB_LUB[566]);
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}


void SC_Beh_Add(SCBehaviour* Self, SCNode* Fn) {
	if (Fn) {
		SC_Base_TryAdd(Self, Fn->Source, Fn, Fn->Name);
	}
}

SCClass* SC_Beh_Cls(SCBehaviour* Self) {
	return ((SCClass*)Self->Parent);
}

SCBehaviour* SC_Beh_Constructor(SCBehaviour* Self, SCClass* Parent) {
	if (Self == nil) {
		Self = ((SCBehaviour*)JB_NewClass(&SCBehaviourData));
	}
	SC_Base_Constructor0(Self);
	Self->FuncTable = nil;
	JB_Incr2(Self->WrapperFuncs, JB_Array_Constructor0(nil));
	Self->Project = Parent->Project;
	Self->Parent = Parent;
	JB_Incr2(Self->Interfaces, JB_Dict_Constructor(nil));
	return Self;
}

void SC_Beh_CreateFuncTable(SCBehaviour* Self, Message* ErrPlace) {
	if (Self->FuncTable) {
		JB_Object_Fail(nil);
		return;
	}
	SCClass* _tmPf1 = SC_Beh_Cls(Self);
	JB_Incr(_tmPf1);
	JB_String* Name = SC_Class_BehaviourName(_tmPf1);
	JB_Incr(Name);
	JB_Decr(_tmPf1);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(ErrPlace, (&_usingf0));
	Message* Msg = JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[449]);
	JB_Incr(Msg);
	JB_Msg_AppendSyx(Msg, kJB_SyxThg, Name);
	JB_Decr(Name);
	JB_Msg_AppendSyx(Msg, kJB_SyxArg, JB_LUB[0]);
	SC_Imp_Use(Self->Project);
	SCModule* F = ((SCModule*)SC_Class__NewStruct(Msg, SC__Comp_Program, ErrPlace));
	JB_Incr(F);
	JB_Decr(Msg);
	if (F) {
		F->Cls->Behaviourness = kSC__Beh_kBehaviourTable;
		SCClass* _tmPf2 = SC_Beh_Cls(Self);
		JB_Incr(_tmPf2);
		F->Cls->IsRole = _tmPf2->IsRole;
		JB_Decr(_tmPf2);
		SC_Base_TryAddBase(SC__Comp_Program, ErrPlace, F);
		JB_SetRef(Self->FuncTable, F);
		SC_Imp__NoProj();
	}
	JB_Decr(F);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), ErrPlace);
	JB_MsgPos_Destructor((&_usingf0));
}

void SC_Beh_Destructor(SCBehaviour* Self) {
	//cpp_part;
	JB_Clear(Self->FuncTable);
	JB_Clear(Self->Interfaces);
	JB_Clear(Self->WrapperFuncs);
	SC_Base_Destructor(Self);
}

SCBehaviour* SC_Beh_Upwards(SCBehaviour* Self) {
	SCClass* Curr = SC_Beh_Cls(Self);
	while (Curr) {
		Curr = Curr->Super;
		if (!Curr) {
			return nil;
		}
		SCBehaviour* B = Curr->Behaviour;
		if (B) {
			return B;
		}
	};
	return nil;
}

SCFunction* SC_Beh__MakeVirtualCaller(SCModule* Mod, SCClass* Cls, Message* ErrPlace) {
	SCFunction* Rz = nil;
	JB_Incr(Rz);
	JB_String* InterName = Mod->Name;
	JB_Incr(InterName);
	JB_String* Type = SC_Class_BehaviourName(Cls);
	JB_Incr(Type);
	JB_String* FuncName = SC_Str_InterfaceToBehaviour(InterName);
	JB_Incr(FuncName);
	FastString* _fsf1 = JB_FS_Constructor(nil);
	JB_FS_AppendString(_fsf1, JB_LUB[2200]);
	JB_FS_AppendString(_fsf1, InterName);
	JB_FS_AppendString(_fsf1, JB_LUB[2207]);
	JB_FS_AppendString(_fsf1, InterName);
	JB_Decr(InterName);
	JB_FS_AppendString(_fsf1, JB_LUB[2208]);
	JB_FS_AppendString(_fsf1, Type);
	JB_Decr(Type);
	JB_FS_AppendString(_fsf1, JB_LUB[2209]);
	JB_FS_AppendString(_fsf1, FuncName);
	JB_Decr(FuncName);
	JB_FS_AppendString(_fsf1, JB_LUB[2210]);
	JB_String* FNStr = JB_FS_GetResult(_fsf1);
	JB_Incr(FNStr);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(ErrPlace, (&_usingf0));
	Message* FNSrc = SC_Str_ParseClean(FNStr);
	JB_Incr(FNSrc);
	JB_Decr(FNStr);
	if (FNSrc) {
		Message* _tmPf2 = ((Message*)JB_Ring_First(FNSrc));
		JB_Incr(_tmPf2);
		JB_SetRef(Rz, ((SCFunction*)SC_Func__NewFunc(_tmPf2, Cls, ErrPlace)));
		JB_Decr(_tmPf2);
		if (Rz) {
			(SC_Func_SyntaxIsSet(Rz, kSC__FunctionType_Behaviour, true));
			(SC_Func_SyntaxIsSet(Rz, kSC__FunctionType_ExpectsRealVars, true));
			JB_Array_SyntaxAppend(Cls->Behaviour->WrapperFuncs, Rz);
		}
	}
	JB_Decr(FNSrc);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), ErrPlace);
	JB_MsgPos_Destructor((&_usingf0));
	JB_SafeDecr(Rz);
	return Rz;
}

SCNode* SC_Beh__NewActual(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	SCClass* Cls = SC_Base_ShouldBeClass(Name_space, ErrPlace);
	JB_Incr(Cls);
	if (Cls and SC_Beh__Tran_Behaviour(Node, Cls)) {
		SCFunction* Fn = ((SCFunction*)SC_Func__NewFunc(Node, Cls, Node));
		JB_Incr(Fn);
		if (Fn) {
			SC_Class_AddBehaviourOrInterface(Cls, Fn);
			(SC_Func_SyntaxIsSet(Fn, kSC__FunctionType_Behaviour, true));
			(SC_Func_SyntaxIsSet(Fn, kSC__FunctionType_ExpectsRealVars, true));
			JB_EarlyDecr(Cls);
			JB_SafeDecr(Fn);
			return Fn;
		}
		JB_Decr(Fn);
	}
	JB_EarlyDecr(Cls);
	return nil;
}

SCNode* SC_Beh__NewVirtual(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	if (!ErrPlace) {
		return nil;
	}
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(ErrPlace, (&_usingf0));
	SCClass* Cls = SC_Base_ShouldBeClass(Name_space, ErrPlace);
	JB_Incr(Cls);
	if (Cls) {
		Message* Arg = JB_Msg_FindSyx(Node, kJB_SyxArg);
		JB_Incr(Arg);
		if (Arg) {
			Message* Beh = JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[97]);
			JB_Incr(Beh);
			Message* _tmPf2 = ((Message*)JB_Ring_First(Node));
			JB_Incr(_tmPf2);
			Message* _tmPf1 = JB_Msg_Copy(_tmPf2, nil);
			JB_Incr(_tmPf1);
			JB_Decr(_tmPf2);
			JB_Tree_SyntaxAppend(Beh, _tmPf1);
			JB_Decr(_tmPf1);
			JB_Tree_SyntaxAppend(Beh, Arg);
			(JB_Ring_NextSibSet(Node, Beh));
			SC_Base_CollectOne(Name_space, Beh, true);
			JB_Decr(Beh);
		}
		JB_Decr(Arg);
		SCModule* Mod = SC_Beh__NewVirtualSub(Node, Cls, ErrPlace);
		JB_Incr(Mod);
		if (Mod) {
			SCFunction* _tmPf3 = SC_Beh__MakeVirtualCaller(Mod, Cls, ErrPlace);
			JB_Incr(_tmPf3);
			JB_EarlyDecr(Mod);
			JB_EarlyDecr(Cls);
			JB_SafeDecr(_tmPf3);
			JB_MsgPos_Destructor((&_usingf0));
			return _tmPf3;
		}
		JB_Decr(Mod);
	}
	JB_Decr(Cls);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), ErrPlace);
	JB_MsgPos_Destructor((&_usingf0));
	return nil;
}

SCModule* SC_Beh__NewVirtualSub(Message* Node, SCClass* Cls, Message* ErrPlace) {
	Message* Thg = ((Message*)JB_Ring_First(Node));
	JB_Incr(Thg);
	bool Required = (SC_Msg_OperatorIsARel(Thg, JB_LUB[1582]));
	if (Required) {
		Message* _tmPf0 = ((Message*)JB_Ring_First(Thg));
		JB_Incr(_tmPf0);
		JB_SetRef(Thg, SC_Msg_ReplaceWith(Thg, _tmPf0));
		JB_Decr(_tmPf0);
	}
	if ((!JB_Msg_EqualsSyx(Thg, kJB_SyxThg))) {
		JB_Msg_Fail(Node, JB_LUB[2159]);
		JB_EarlyDecr(Thg);
		return nil;
	}
	JB_String* S = Thg->Name;
	JB_Incr(S);
	if ((SC_Str_UnderScoreAtAnyEnd(S))) {
		JB_Msg_Fail(Thg, JB_LUB[2160]);
		JB_EarlyDecr(S);
		JB_EarlyDecr(Thg);
		return nil;
	}
	if (!(!JB_Str_Equals(S, JB_LUB[56], true))) {
		JB_Msg_Fail(Thg, JB_LUB[2161]);
		JB_EarlyDecr(S);
		JB_EarlyDecr(Thg);
		return nil;
	}
	JB_SetRef(Thg->Name, JB_Str_Moat(S));
	JB_Decr(Thg);
	SCModule* Mod = SC_Func__NewProtoTypeSub(Node, Cls, ErrPlace, S);
	JB_Incr(Mod);
	JB_Decr(S);
	if (!Mod) {
		JB_EarlyDecr(Mod);
		return nil;
	}
	Mod->IsRequiredInterface = Required;
	SC_Class_AddBehaviourOrInterface(Cls, Mod);
	SCClass* Mcls = Mod->Cls;
	JB_Incr(Mcls);
	if (Mcls) {
		Mcls->Behaviourness = kSC__Beh_kBehaviourProto;
		if (Required) {
			Mcls->Behaviourness = kSC__Beh_kBehaviourProtoRequired;
		}
	}
	JB_EarlyDecr(Mcls);
	JB_SafeDecr(Mod);
	return Mod;
}

bool SC_Beh__Tran_Behaviour(Message* Node, SCClass* Cls) {
	if (!Node) {
		return nil;
	}
	if (Cls->IsRole) {
		JB_Msg_Fail(Node, JB_LUB[1073]);
		return nil;
	}
	Message* Name = JB_Msg_NeedSyx(Node, kJB_SyxThg);
	JB_Incr(Name);
	if (!Name) {
		JB_EarlyDecr(Name);
		return nil;
	}
	Message* Lst = ((Message*)JB_Ring_NextSib(Name));
	JB_Incr(Lst);
	if (Lst) {
		if (!((!JB_Msg_EqualsSyx(Lst, kJB_SyxBra)) and ((!JB_Msg_EqualsSyx(Lst, kJB_SyxPrm)) and (!JB_Msg_EqualsSyx(Lst, kJB_SyxList))))) {
			JB_Msg_Fail(Lst, JB_LUB[1074]);
			JB_EarlyDecr(Lst);
			JB_EarlyDecr(Name);
			return nil;
		}
	}
	JB_Decr(Lst);
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Node, (&_usingf0));
		Message* It = ((Message*)JB_Ring_NextSib(Name));
		JB_Incr(It);
		if (It) {
			JB_Msg_Expect(It, kJB_SyxArg, nil);
		}
		 else {
			Message* _tmPf1 = JB_Syx_Msg(kJB_SyxArg, JB_LUB[0]);
			JB_Incr(_tmPf1);
			JB_Tree_SyntaxAppend(Node, _tmPf1);
			JB_Decr(_tmPf1);
		}
		JB_Decr(It);
		Message* P = JB_Syx_Msg(kJB_SyxPrm, JB_LUB[0]);
		JB_Incr(P);
		JB_String* _tmPf2 = JB_Str_Moat(Name->Name);
		JB_Incr(_tmPf2);
		JB_Msg_AppendSyx(P, kJB_SyxThg, _tmPf2);
		JB_Decr(_tmPf2);
		(JB_Ring_NextSibSet(Name, P));
		JB_Decr(P);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Node);
		JB_MsgPos_Destructor((&_usingf0));
	}
	JB_EarlyDecr(Name);
	return true;
}


SCBetterNode* SC_SCBetterNode_ConstructorWith0(SCBetterNode* Self) {
	if (Self == nil) {
		Self = ((SCBetterNode*)JB_NewClass(&SCBetterNodeData));
	}
	SC_Base_Constructor0(Self);
	JB_Incr2(Self->Description, JB_LUB[0]);
	return Self;
}

SCBetterNode* SC_SCBetterNode_ConstructorWithMsg(SCBetterNode* Self, Message* Msg) {
	if (Self == nil) {
		Self = ((SCBetterNode*)JB_NewClass(&SCBetterNodeData));
	}
	SC_Base_ConstructorMsg(Self, Msg);
	JB_Incr2(Self->Description, JB_LUB[0]);
	return Self;
}

void SC_SCBetterNode_Destructor(SCBetterNode* Self) {
	//cpp_part;
	JB_Clear(Self->Description);
	SC_Base_Destructor(Self);
}

void SC_SCBetterNode_LoadExportName(SCBetterNode* Self) {
	if (((JB_String*)JB_Str_Exists(Self->ExportName))) {
		return;
	}
	Message* Place = SC_Base_LinkagePlace(Self);
	JB_Incr(Place);
	bool IsClass = (JB_Object_Isa(Self, &SCClassData));
	Message* CW = SC_Base_FindCppWrapper(Self, Place, IsClass);
	JB_Incr(CW);
	JB_String* CppName = SC_Msg_FindAndRemove(Place, JB_LUB[1900], false, IsClass);
	JB_Incr(CppName);
	JB_String* CppPart = SC_Msg_FindAndRemove(Place, JB_LUB[1243], false, IsClass);
	JB_Incr(CppPart);
	if (JB_Object_FastIsa(Self, &SCFunctionData)) {
		Syntax Fn = JB_Msg_Func(CW);
		if (!((SCFunction*)Self)->IsCppInBuilt) {
			(SC_Func_IsCppInBuiltSet(((SCFunction*)Self), ((int)((Fn == kJB_SyxList) or (Fn == kJB_SyxBra)))));
		}
		((SC_Func_SyntaxIsSet(((SCFunction*)Self), kSC__FunctionType_Cpp, ((bool)CW))));
		JB_String* CppWrapper = SC_Msg_WrapperCpp(CW);
		JB_Incr(CppWrapper);
		if (JB_Str_Exists(CppWrapper)) {
			SC_Func_MakeParamsReal(((SCFunction*)Self));
		}
		if (!((!SC_Func_UseExportWrapper(((SCFunction*)Self), CppWrapper)) and ((!SC_Func_UseCppName(((SCFunction*)Self), CppName)) and ((!SC_Func_SyntaxIs(((SCFunction*)Self), kSC__FunctionType_Disabled)))))) {
			JB_EarlyDecr(CppWrapper);
			JB_EarlyDecr(CppPart);
			JB_EarlyDecr(CppName);
			JB_EarlyDecr(CW);
			JB_EarlyDecr(Place);
			return;
		}
		JB_Decr(CppWrapper);
		JB_SetRef(CppName, SC_Func_ExportNameBuilder(((SCFunction*)Self), CppPart));
		((SC_Func_SyntaxIsSet(((SCFunction*)Self), kSC__FunctionType_Wrapper, CW != nil)));
	}
	 else {
		if (!JB_Str_Exists(CppPart)) {
			JB_SetRef(CppPart, Self->Name);
		}
		if (!JB_Str_Exists(CppName)) {
			JB_SetRef(CppName, CppPart);
		}
		if (JB_Object_FastIsa(Self, &SCClassData)) {
			JB_SetRef(((SCClass*)Self)->Modul->CppPart, CppPart);
			JB_String* E = SC_Msg_FindAndRemove(Place, JB_LUB[1901], false, true);
			JB_Incr(E);
			if (JB_Str_Exists(E)) {
				JB_SetRef(((SCClass*)Self)->CppClass, SC_Str_UnicodeSafeName(E, nil));
			}
			JB_Decr(E);
			JB_String* _tmPf0 = JB_Str_OperatorPlus(CppPart, JB_LUB[385]);
			JB_Incr(_tmPf0);
			SC_SCBetterNode_SetExportName(((SCClass*)Self)->Modul, _tmPf0, false);
			JB_Decr(_tmPf0);
		}
		 else {
			JB_SetRef(((SCModule*)Self)->CppPart, CppPart);
		}
	}
	JB_Decr(Place);
	JB_Decr(CW);
	JB_Decr(CppPart);
	SC_SCBetterNode_SetExportName(Self, CppName, false);
	JB_Decr(CppName);
}

void SC_SCBetterNode_ReadDescription(SCBetterNode* Self, Message* Msg) {
	Message* Str = JB_Msg_NeedSyx(Msg, kJB_SyxStr);
	JB_Incr(Str);
	if (Str) {
		if (((JB_String*)JB_Str_Exists(Self->Description))) {
			JB_Msg_Fail(Msg, JB_LUB[1165]);
		}
		JB_SetRef(Self->Description, Str->Name);
	}
	JB_Decr(Str);
}

void SC_SCBetterNode_SetExportName(SCBetterNode* Self, JB_String* Name, bool Explicit) {
	bool IsFunc = false;
	if (JB_Object_FastIsa(Self, &SCFunctionData)) {
		if (((SCFunction*)Self)->IsMacro) {
			return;
		}
		IsFunc = true;
	}
	JB_String* S = SC_Str_UnicodeSafeName(Name, nil);
	JB_Incr(S);
	if (IsFunc) {
		JB_SetRef(S, SC_Base_TestExportName(Self, S, Explicit));
		if (!JB_Str_Exists(S)) {
			JB_EarlyDecr(S);
			return;
		}
		(JB_Dict_ValueSet(SC__Comp_ExportNames, S, Self));
	}
	((SC_SCObject_SyntaxIsSet(Self, kSC__SCNodeInfo_ExplicitExport, Explicit)));
	JB_SetRef(Self->ExportName, S);
	JB_Decr(S);
}


Message* SC_File_AST(SCFile* Self) {
	return ({
		Message* _X = Self->LiveAST;
		if (_X == nil) {
			_X = SC_File_ASTSub(Self, false);
			JB_SetRef(Self->LiveAST, _X);
		}
		 _X;
	});
}

Message* SC_File_ASTSub(SCFile* Self, bool Orig) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_Flow__Input(Self, JB_LUB[2213]);
	JB_Flow__DisabledIncr(1);
	JB_String* _tmPf0 = JB_File_ReadAll(Self, 134217728, true);
	JB_Incr(_tmPf0);
	JB_String* Str = JB_Str_Decompress(_tmPf0, nil, 268435456, nil);
	JB_Incr(Str);
	JB_Decr(_tmPf0);
	JB_Flow__DisabledIncr(-1);
	if (JB_Safe_SyntaxCast(Str)) {
		SC__File_Curr = Self;
		JB_FreeIfDead(JB_ClassData_CreateLayerAndUse((&MessageData), Self, Str));
		JB_SetRef(Self->FData, Str);
		JB_SetRef(JB_StdErr->Source, JB_File_Path(Self));
		JB__Tk__DotInsertAllow = true;
		uint Oldimp = SC__Imp_CurrIsManuallyImported;
		SC__Imp_CurrIsManuallyImported = Self->Proj->Depth;
		JB__Tk_Using.Tag = (Self->FileNum << 5);
		if (!Orig) {
			JB_SetRef(Rz, SC_Str_ParseClean(Self->FData));
		}
		 else {
			JB_SetRef(Rz, JB_Str_Parse(Self->FData, kJB_SyxNil, true));
		}
		SC__Imp_CurrIsManuallyImported = Oldimp;
		SC_File_DetectInsecureWords(Self);
		JB__Tk_Using.Tag = 0;
		JB__Tk__DotInsertAllow = false;
		JB_SetRef(JB_StdErr->Source, JB_LUB[0]);
	}
	JB_Decr(Str);
	JB_ClassData_Restore((&MessageData));
	JB_SafeDecr(Rz);
	return Rz;
}

void SC_File_CollectGlobals(SCFile* Self, SCModule* P) {
	SC_CollectDeclsGlobals(Self->LiveAST, P);
}

SCFile* SC_File_Constructor(SCFile* Self, JB_File* F, SCImport* P) {
	if (Self == nil) {
		Self = ((SCFile*)JB_NewClass(&SCFileData));
	}
	//;
	JB_Flow__DisabledIncr(1);
	JB_String* X = ((JB_String*)JB_Ternary(F != nil, JB_File_Path(F), JB_Str__Error()));
	JB_File_Constructor(Self, X);
	Self->Unfinished = false;
	Self->UsedByASM = false;
	Self->OrigAST = nil;
	JB_Incr2(Self->ExportName, JB_LUB[0]);
	JB_Incr2(Self->FData, JB_LUB[0]);
	JB_Incr2(Self->Proj, P);
	Self->Types = nil;
	Self->FileNum = JB_Array_Size(SC__Imp_AllFiles);
	Self->IsInternal = (F == nil);
	JB_Incr2(Self->LiveAST, SC_File_Start_AST(Self));
	SC__Comp_stTotalFileCount = (SC__Comp_stTotalFileCount + Self->IsInternal);
	(SC__Imp_Recent = JB_int64_OperatorMax(SC__Imp_Recent, JB_File_Modified(F)));
	JB_Flow__DisabledIncr(-1);
	if (Self->FileNum >= 2048) {
		if (!SC__File_TooManyFiles) {
			SC__File_TooManyFiles = true;
			(JB_File_SyntaxProblem(F, JB_LUB[972]));
		}
	}
	return Self;
}

void SC_File_Destructor(SCFile* Self) {
	//cpp_part;
	JB_Clear(Self->OrigAST);
	JB_Clear(Self->LiveAST);
	JB_Clear(Self->ExportName);
	JB_Clear(Self->Proj);
	JB_Clear(Self->FData);
	JB_Clear(Self->Types);
	JB_File_Destructor(Self);
}

void SC_File_DetectInsecureWords(SCFile* Self) {
	if (!SC__Options_PerryOutput) {
		return;
	}
	Dictionary* Words = SC__Comp_InsecureWords;
	if (!Words) {
		return;
	}
	ivec2 Where = ivec2{0, 0};
	JB_Object* Found = JB_Dict_FindStr(Words, Self->FData, &Where);
	if (Found) {
		Message* Place = JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[0]);
		(JB_Msg_RangeSet(Place, ((IntRange)Where)));
		JB_Rec__Latchkum(Place, JB_LUB[866], JB_File_Path(Self));
	}
}

Message* SC_File_GetMsg(SCFile* Self, int Pos) {
	{
		Message* _LoopSrcf3 = SC_File_Orig(Self);
		Message* F = _LoopSrcf3;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(_LoopSrcf3));
		while ((F) and (F != _afterf1)) {
			Message* _N_f2 = ((Message*)JB_Ring_FlatNext0(F));
			if (JB_Str_Exists(F->Name) and JB_Rg_Contains1(JB_Msg_Range(F), Pos)) {
				return F;
			}
			F = _N_f2;
		};
		;
	}
	;
	return nil;
}

Message* SC_File_Orig(SCFile* Self) {
	if (!Self->OrigAST) {
		JB_SetRef(Self->OrigAST, SC_File_ASTSub(Self, true));
	}
	return Self->OrigAST;
}

Message* SC_File_Start_AST(SCFile* Self) {
	Message* Rz = nil;
	JB_Incr(Rz);
	if (Self->IsInternal) {
		JB_MemoryLayer* _tmPf0 = JB_Mem_Constructor(nil, &MessageData, Self);
		JB_Incr(_tmPf0);
		JB_Mem_Use(_tmPf0);
		JB_Decr(_tmPf0);
		JB_SetRef(Rz, JB_Msg_Constructor(nil, nil, kJB_SyxArg, JB_LUB[0]));
		JB_ClassData_Restore((&MessageData));
	}
	JB_SafeDecr(Rz);
	return Rz;
}

void SC_File_Stop(SCFile* Self) {
	if (JB_File_SyntaxEquals(SC__File_Curr, Self, false)) {
		SC__File_Curr = nil;
	}
	SC__Imp_Curr = nil;
	SC__Imp_CurrIsManuallyImported = 0;
}

void SC_File_SyntaxAppend(SCFile* Self, SCClass* C) {
	if (Self) {
		JB_Array_SyntaxAppend((({
			Array* _X = Self->Types;
			if (_X == nil) {
				_X = (JB_Array_Constructor0(nil));
				JB_SetRef(Self->Types, _X);
			}
			 _X;
		})), C);
	}
}

void SC_File_Use(SCFile* Self) {
	SC__File_Curr = Self;
	SC__Imp_Curr = Self->Proj;
	SC__Imp_CurrIsManuallyImported = Self->Proj->Depth;
	Message* L = Self->LiveAST;
	if (L) {
		JB_Mem_Use(JB_ObjLayer(L));
	}
}

int SC_File__Init_() {
	{
	}
	;
	return 0;
}

SortComparison SC_File__Sorter(SCFile* Self, SCFile* B) {
	int Lib = Self->Proj->IsSTDLib - B->Proj->IsSTDLib;
	if (Lib) {
		return ((SortComparison)Lib);
	}
	int Asm = Self->UsedByASM - B->UsedByASM;
	if (Asm) {
		return ((SortComparison)Asm);
	}
	return ((SortComparison)(JB_Str_Compare(Self, B, false) <= -1));
}


Message* JB_config_ConfFirst(Message* Self) {
	Message* L = JB_Msg_ConfArg(Self);
	if (L) {
		return ((Message*)JB_Ring_First(((Message*)L)));
	}
	return nil;
}

JB_File* JB_config_Path(Message* Self) {
	return ((JB_File*)JB_Object_As(Self->Obj, &JB_FileData));
}

bool JB_config_Save(Message* Self) {
	bool Rz = false;
	JB_File* F = JB_config_Path(Self);
	if (F) {
		JB_String* R = JB_Msg_Render(Self, nil);
		JB_Incr(R);
		Message* P = JB_Str_Parse(R, kJB_SyxNil, true);
		JB_Incr(P);
		if (P) {
			Rz = JB_File_SmartDataSet(F, R);
		}
		JB_Decr(R);
		JB_Decr(P);
	}
	return Rz;
}

Message* JB_config__Create(JB_String* Path) {
	return JB_File_Config(JB_Str_AsFile(JB_Str_ResolvePath(Path, true)), 1048576);
}


void JB_SS_ParserCallBack_interface_SyntaxCall(JB_Task* Self, Message* Msg) {
	return ((InputStream_ParserCallBack_interface_prototype)Self->_func)(Self, Msg);
}


void JB_SS_ParserCallBack_run(ParserCallBack* Self, Message* Msg) {
}


void SC_Class_AddBehaviourOrInterface(SCClass* Self, SCNode* M) {
	SCBehaviour* B = Self->Behaviour;
	JB_Incr(B);
	if ((!B)) {
		JB_SetRef(B, SC_Beh_Constructor(nil, Self));
		JB_SetRef(Self->Behaviour, B);
	}
	if (JB_Object_FastIsa(M, &SCModuleData)) {
		(JB_Dict_ValueLowerSet(B->Interfaces, ((SCModule*)M)->Name, ((SCModule*)M)));
	}
	 else {
		SC_Beh_Add(B, M);
	}
	JB_Decr(B);
}

void SC_Class_AfterAfterFuncs(SCClass* Self) {
	SCClass* S = Self->Super;
	JB_Incr(S);
	if (S) {
		if (S->TheCompareFunc and (!Self->TheCompareFunc)) {
			JB_SetRef(Self->TheCompareFunc, S->TheCompareFunc);
		}
		if (SC_Class_SyntaxIs(S, kSC__ClassInfo_HasEqualsFunc)) {
			(SC_Class_SyntaxIsSet(Self, kSC__ClassInfo_HasEqualsFunc, true));
		}
	}
	JB_Decr(S);
	Message* Def = Self->Defawlt;
	JB_Incr(Def);
	if (Def) {
		SCDecl* D = SC_TypeOfExpr(Def, Self->Modul, nil);
		JB_Incr(D);
		if (D) {
			if (SC_Class_SyntaxIs(Self, kSC__ClassInfo_DefaultsToReal)) {
				if (!SC_Decl_StatedReal(D)) {
					JB_Msg_Fail(Def, JB_LUB[1371]);
				}
			}
		}
		JB_Decr(D);
	}
	JB_Decr(Def);
	SC_Class_DeclModel(Self);
}

void SC_Class_AfterFuncsDecled(SCClass* Self) {
	SC_Class_OverrideSyntax(Self);
	SCFunction* C = Self->ConstructorFunc;
	JB_Incr(C);
	if (C) {
		SC_Class_CheckAllocVsWrapper(Self, C, true);
	}
	JB_Decr(C);
	SCFunction* D = Self->DestructorFunc;
	JB_Incr(D);
	if (D) {
		if ((D->NextFunc)) {
			JB_Msg_Fail(D->Source, JB_LUB[1972]);
		}
		if ((!JB_Array_SyntaxEquals(D->Args, 1))) {
			JB_Msg_Fail(D->Source, JB_LUB[1973]);
		}
		if ((D->ReturnType)) {
			JB_Msg_Fail(D->Source, JB_LUB[1974]);
		}
		SC_Class_CheckAllocVsWrapper(Self, D, false);
	}
	JB_Decr(D);
	SCDecl* Cls = Self->ClassType;
	JB_Incr(Cls);
	if (Cls) {
		JB_String* _tmPf1 = SC_Class_CStructName(Self);
		JB_Incr(_tmPf1);
		JB_String* _tmPf0 = JB_Str_OperatorPlus(_tmPf1, JB_LUB[1975]);
		JB_Incr(_tmPf0);
		JB_Decr(_tmPf1);
		(SC_Decl_NameSet(Cls, _tmPf0));
		JB_Decr(_tmPf0);
	}
	JB_Decr(Cls);
}

void SC_Class_AlignProperties(SCClass* Self) {
	if (!((SC_Class_SyntaxIs(Self, kSC__ClassInfo_SortsProperties)) and (((!Self->IsWrapper)) and (!Self->IsRole)))) {
		return;
	}
	JB_Array_Sort(Self->Properties, ((FP_SorterComparer)(SC_SmallestAlignedFirst)));
	int ParentSize = 4;
	SCClass* Sp = Self->Super;
	if (Sp) {
		if (Sp != SC_TypeObject) {
			ParentSize = Sp->ClsSizeRaw;
		}
	}
	 else if (SC_Class_IsStruct(Self)) {
		ParentSize = 0;
	}
	int LargeSize = SC_Array_CArraySize(Self->Properties, ParentSize);
	if (LargeSize > 128) {
		Self->ClsSizeRaw = LargeSize;
		return;
	}
	Self->ClsSizeRaw = ParentSize;
	Array* Sorted = JB_Array_Constructor0(nil);
	SC_Class_AlignTo(Self, Sorted, 3);
	SC_Class_AlignTo(Self, Sorted, 4);
	{
		Array* _LoopSrcf2 = Self->Properties;
		int _if0 = 0;
		while (true) {
			SCDecl* S = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (S == nil) {
				break;
			}
			if (!SC_Decl_SyntaxIs(S, kSC__SCDeclInfo_Grabbed)) {
				SC_Class_AlignSub(Self, Sorted, S);
			}
			(++_if0);
		};
	}
	;
	JB_SetRef(Self->Properties, Sorted);
}

bool SC_Class_AlignSub(SCClass* Self, Array* Dest, SCDecl* D) {
	JB_Array_SyntaxAppend(Dest, D);
	int Al = SC_Decl_Alignment(D, false);
	int Size = JB_int_OperatorAlign(((int)Self->ClsSizeRaw), Al);
	Size = (Size + SC_Decl_CArraySize(D, 1));
	Self->ClsSizeRaw = Size;
	return true;
}

void SC_Class_AlignTo(SCClass* Self, Array* Dest, int Bits) {
	int AlignBits = (1 << Bits) - 1;
	if (!(Self->ClsSizeRaw & AlignBits)) {
		return;
	}
	while (Bits-- > 0) {
		while (Self->ClsSizeRaw & AlignBits) {
			SCDecl* D = SC_Class_FindPropAlignedTo(Self, 1 << Bits);
			if (D) {
				SC_Class_AlignSub(Self, Dest, D);
			}
			 else {
				break;
			}
		};
	};
}

JB_String* SC_Class_APIStructName(SCClass* Self) {
	if (SC_Class_IsObject(Self) or Self->Super) {
		Message* _tmPf1 = SC_Base_SourceArg(Self);
		JB_Incr(_tmPf1);
		JB_String* _tmPf0 = SC_Msg_APICppProject(_tmPf1);
		JB_Incr(_tmPf0);
		JB_Decr(_tmPf1);
		JB_String* _tmPf2 = JB_Str_LowerCase(Self->Name);
		JB_Incr(_tmPf2);
		JB_String* _tmPf3 = JB_Str_OperatorPlus(_tmPf0, _tmPf2);
		JB_Incr(_tmPf3);
		JB_Decr(_tmPf0);
		JB_EarlyDecr(_tmPf2);
		JB_SafeDecr(_tmPf3);
		return _tmPf3;
	}
	return SC_Class_CStructName(Self);
}

void SC_Class_BannedCheck(SCClass* Self, Message* Src) {
	if (!SC_Class_TestBanned(Self)) {
		return;
	}
	if (true) {
		SC_SCObject_Fail(Self, JB_Str_OperatorPlus(JB_LUB[916], Self->Name));
	}
	SCNode* Curr = Self->MyReacher;
	{
		int _Valuef1 = 0;
		while (_Valuef1 < 16) {
			if ((!Curr) or (JB_ObjClass(Curr) == &SCNodeData)) {
				break;
			}
			if (Src) {
				if (true) {
					JB_Msg_Fail(Src, SC_Base_ReachedName(Curr));
				}
				Src = nil;
			}
			 else {
				if (true) {
					SC_SCObject_Fail(Curr, SC_Base_ReachedName(Curr));
				}
			}
			Curr = Curr->MyReacher;
			(++_Valuef1);
		};
	};
}

JB_String* SC_Class_BehaviourName(SCClass* Self) {
	return JB_Str_OperatorPlus(Self->Name, JB_LUB[66]);
}

SCFunction* SC_Class_BestBehaviourFor(SCClass* Self, JB_String* Name) {
	SCBehaviour* B = Self->Behaviour;
	while (B) {
		SCObject* Fn = SC_Base_SyntaxAccessWithStr(B, Name);
		if (JB_Object_FastIsa(Fn, &SCFunctionData)) {
			return ((SCFunction*)Fn);
		}
		B = SC_Beh_Upwards(B);
	};
	return nil;
}

int SC_Class_CalculateSize(SCClass* Self, int Depth) {
	int Rz = 0;
	if (SC_Class_IsFunc(Self)) {
		return SC_Class_mini_size(Self, JB_Platform__PointerBytes());
	}
	if (SC_Class_IsDataTypeOnly(Self)) {
		return SC_Class_mini_size(Self, JB_TC_ByteCount(Self->TypeInfo));
	}
	if (Depth >= 16) {
		JB_Msg_Fail(SC_Base_SourceArg(Self), JB_LUB[920]);
		return 0;
	}
	int AlignTo = 1;
	if (Self == SC_TypeObject) {
		AlignTo = 4;
		Rz = 4;
	}
	SCClass* S = Self->Super;
	if (S) {
		Rz = S->ClsSize;
		if (!Rz) {
			JB_Object_Fail(Self);
			return 0;
		}
		AlignTo = JB_int_OperatorMax(AlignTo, S->Alignment);
	}
	int Bits = 0;
	{
		Array* _LoopSrcf2 = Self->Properties;
		int _if0 = 0;
		while (true) {
			SCDecl* P = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (P == nil) {
				break;
			}
			if ((SC_Decl_SyntaxIs(P, kSC__SCDeclInfo_Task)) and SC_Decl_IsObject(P)) {
				Bits = JB_int_SyntaxAccessSet(Bits, (Rz + (JB_Platform__PointerBytes() - 1)) >> 3, true);
			}
			int Curr = SC_Decl_CalculateDeclSize(P, Depth);
			int Pal = SC_Decl_Alignment(P, false);
			AlignTo = JB_int_OperatorMax(AlignTo, Pal);
			Rz = JB_int_OperatorAlign(Rz, Pal);
			(SC_Decl_ExportPositionSet(P, Rz));
			SC_Decl_Sanity(P);
			int Mul = P->C_Array;
			if (!Mul) {
				Mul = 1;
			}
			Rz = (Rz + (Curr * Mul));
			(++_if0);
		};
	}
	;
	Self->Alignment = AlignTo;
	uint CppSize = Self->ClsSize;
	if (CppSize) {
		Self->ClsSizeRaw = CppSize;
		return CppSize;
	}
	Self->ClsSizeRaw = Rz;
	Rz = JB_int_OperatorAlign(Rz, AlignTo);
	Self->ClsSize = Rz;
	if (SC_Class_IsTask(Self)) {
		Self->TaskObjectCount = (Self->Super->TaskObjectCount | Bits);
		if (Rz > 128) {
			JB_Msg_Fail(Self->Source, JB_LUB[1186]);
		}
	}
	return Rz;
}

bool SC_Class_CanCompareSub(SCClass* Self, JB_String* S, SCDecl* Against) {
	{
		SCClass* B = Self;
		while (B) {
			SCObject* O = ((SCObject*)JB_Dict_Value0(B->Access, S));
			if (JB_Object_FastIsa(O, &SCFunctionData)) {
				if (SC_Func_CanCompareAgainst(((SCFunction*)O), Against)) {
					return true;
				}
			}
			B = B->Super;
		};
	}
	;
	return false;
}

bool SC_Class_CanHaveEmptyConstructor(SCClass* Self) {
	{
		Array* _LoopSrcf2 = Self->Properties;
		int _if0 = 0;
		while (true) {
			SCDecl* P = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (P == nil) {
				break;
			}
			if (SC_Decl_TypeSuffers(P) and SC_Decl_StatedReal(P)) {
				if (!SC_Class_SyntaxIs(P->Type, kSC__ClassInfo_DefaultsToReal)) {
					return nil;
				}
			}
			(++_if0);
		};
	}
	;
	return true;
}

void SC_Class_CheckAllocVsWrapper(SCClass* Self, SCFunction* F, bool IsConstructor) {
	if (!(Self->IsWrapper and (SC_Class_IsObject(Self) and Self->Super))) {
		return;
	}
	if ((!F) != IsConstructor) {
		return;
	}
	if (!IsConstructor) {
		if (!JB_FreeIfDead(SC_Class_FirstDestructor(Self))) {
			return;
		}
	}
	if ((!SC_Func_SyntaxIs(F, kSC__FunctionType_Wrapper))) {
		if (true) {
			JB_Msg_Fail(Self->Source, JB_LUB[917]);
		}
	}
}

void SC_Class_CheckIterator(SCClass* Self) {
	{
		Dictionary* _LoopSrcf2 = Self->Access;
		DictionaryReader* _navf0 = JB_Dict_Navigate(_LoopSrcf2);
		while (true) {
			SCObject* I = ((SCObject*)JB_DictionaryReader_NextValue(_navf0));
			if (I == nil) {
				break;
			}
			if (JB_Object_FastIsa(I, &SCIteratorData)) {
				SC_Iter_Check(((SCIterator*)I), Self);
			}
		};
	};
}

void SC_Class_CheckStateful(SCClass* Self, Message* Node) {
	if (!((!SC_Class_SyntaxIs(Self, kSC__ClassInfo_Stateful)) or (!SC_Class_SyntaxIs(Self, kSC__ClassInfo_Stateless)))) {
		JB_Msg_Fail(Node, JB_LUB[918]);
		return;
	}
}

void SC_Class_CheckUnusedClass(SCClass* Self, Message* Feedback) {
	if (SC_Base_IsLibrary(Self)) {
		return;
	}
	if (SC_Class_IsObject(Self)) {
		if (!SC_Class_ConstructorUsed(Self)) {
			SC_SCObject_MarkUnused(Self, Feedback, 'C', JB_LUB[0]);
		}
	}
	 else {
		if (Self->MyReacher == nil) {
			SC_SCObject_MarkUnused(Self, Feedback, 'S', JB_LUB[0]);
		}
	}
	{
		Array* _LoopSrcf2 = Self->Properties;
		int _if0 = 0;
		while (true) {
			SCDecl* P = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (P == nil) {
				break;
			}
			SC_Decl_CheckUnusedDecl(P, Feedback, 'P');
			(++_if0);
		};
	};
}

void SC_Class_ClassCollect(SCClass* Self) {
	Message* _tmPf0 = SC_Base_SourceArg(Self);
	JB_Incr(_tmPf0);
	SC_Base_CollectFromNode(Self, _tmPf0, SC_SCObject_IsVisible(Self), nil);
	JB_Decr(_tmPf0);
}

void SC_Class_CollectBehaviours(SCClass* Self, FastString* J, SCBehaviour* B) {
	SCBehaviour* Up = SC_Beh_Upwards(B);
	if (Up) {
		SC_Class_CollectBehaviours(Self, J, Up);
	}
	SCModule* Ft = B->FuncTable;
	if (!Ft) {
		return;
	}
	SCClass* Ftc = Ft->Cls;
	{
		Array* _LoopSrcf2 = Ftc->Properties;
		int _if0 = 0;
		while (true) {
			SCDecl* M = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (M == nil) {
				break;
			}
			SCFunction* Fn = SC_Class_BestBehaviourFor(Self, M->Name);
			if (Fn) {
				SCClass* BaseClass = SC_Class_InterfaceForBehaviour(Self, Fn);
				if (BaseClass) {
					SC_bin_Cakeify(J, Fn);
					(++_if0);
					continue;
				}
			}
			SC_Class_MissingVirtual(Self, M->Name);
			(++_if0);
		};
	};
}

bool SC_Class_CollectProp(SCClass* Self, Message* Msg) {
	SCDecl* Dcl = SC_Msg_CollectDecl(Msg, Self->Modul, Self, kSC__DeclMode_Properties, Self, nil);
	if (Dcl) {
		JB_Array_SyntaxAppend(Self->Properties, Dcl);
		(SC_Decl_SyntaxIsSet(Dcl, kSC__SCDeclInfo_Property, true));
		((SC_Decl_SyntaxIsSet(Dcl, kSC__SCDeclInfo_Library, SC_Base_IsLibrary(Self))));
		SC_Decl_BecomeReal(Dcl);
		return true;
	}
	return false;
}

void SC_Class_CollectProperties(SCClass* Self) {
	if (SC_Class_IsBehaviourTable(Self)) {
		return;
	}
	SC__Mod_Curr = Self->Modul;
	{
		Message* _LoopSrcf2 = SC_Base_SourceArg(Self);
		Message* Item = ((Message*)JB_Ring_First(_LoopSrcf2));
		while (Item) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Item));
			if (JB_Msg_EqualsSyx(Item, kJB_SyxDecl)) {
				SC_Class_CollectProp(Self, Item);
			}
			Item = _Nf1;
		};
		;
	}
	;
	if (SC_Class_IsTask(Self)) {
		SC_Class_TaskProperties(Self);
	}
	 else {
		SCDecl* It = ((SCDecl*)JB_Array_First(Self->Properties));
		if (It) {
			SC_Class_AlignProperties(Self);
			if ((Self->IsRole)) {
				JB_Msg_Fail(It->Source, JB_LUB[2045]);
			}
		}
	}
	if (Self->IsModel) {
		SC_Class_ModelDecls(Self);
	}
}

SCFunction* SC_Class_ConOrDesForCall(SCClass* Self, bool IsConstructor, int Task) {
	if (!IsConstructor) {
		return SC_Class_FirstDestructor(Self);
	}
	if (Task <= 1) {
		return SC_Func_ParamlessConstructor(Self->ConstructorFunc);
	}
	return Self->ConstructorFunc;
}

SCClass* SC_Class_Constructor(SCClass* Self, Message* Node, bool HasPtrs, SCModule* M) {
	if (Self == nil) {
		Self = ((SCClass*)JB_NewClass(&SCClassData));
	}
	SC_SCBetterNode_ConstructorWith0(Self);
	Self->Depth = 0;
	Self->Alignment = 0;
	Self->MinOpt = 0;
	Self->Behaviourness = 0;
	Self->IsWrapper = 0;
	Self->IsRole = 0;
	Self->BaseType = nil;
	Self->TypeInfo = 0;
	Self->ASMTypeInfo = 0;
	Self->TableID = 0;
	Self->ClsSizeRaw = 0;
	Self->ClsSize = 0;
	Self->TaskObjectCount = 0;
	Self->Flags = 0;
	Self->DataObject = nil;
	Self->DowngradeTo = nil;
	Self->ProcessAs = nil;
	Self->Behaviour = nil;
	Self->IsModel = nil;
	Self->ClassType = nil;
	Self->DestructorFunc = nil;
	Self->ConstructorFunc = nil;
	Self->TheBoolFunc = nil;
	Self->TheCompareFunc = nil;
	Self->TheIsFunc = nil;
	Self->FuncProto = nil;
	JB_Incr2(Self->Casts, JB_Array_Constructor0(nil));
	JB_Incr2(Self->Children, JB_Array_Constructor0(nil));
	Self->Contained = nil;
	Self->Signed = nil;
	Self->_NotConst = nil;
	Self->Super = nil;
	Self->Defawlt = nil;
	Self->False = nil;
	JB_Incr2(Self->Properties, JB_Array_Constructor0(nil));
	JB_SetRef(Node->Obj, Self);
	SC_File_SyntaxAppend(SC__File_Curr, Self);
	JB_Incr2(Self->Name, SC_Class__LoadClassName(Node));
	Self->CppClass = nil;
	JB_Incr2(Self->Source, Node);
	JB_Incr2(Self->Modul, M);
	(SC_SCObject_IsVisibleSet(Self, SC__Base_CurrVisibility));
	((SC_Class_SyntaxIsSet(Self, kSC__ClassInfo_Banned, SC_Class_TestBanned(Self))));
	SCDecl* T = SC_Decl_Constructor(nil, Self);
	JB_Incr(T);
	T->NilDeclared = (kSC__NilState_Real >> HasPtrs);
	JB_Incr2(Self->TypeNormal, T);
	JB_Incr2(Self->TypeOptional, SC_Decl_NilConstructor(T, kSC__NilState_Optional * HasPtrs));
	JB_Incr2(Self->TypeReal, SC_Decl_NilConstructor(T, kSC__NilState_Real * HasPtrs));
	if (JB_Msg_SyntaxEquals(Node, JB_LUB[449], false)) {
		JB_SetRef(T, SC_Decl_GetAddress(T, kSC__DeclMode_FuncParam));
	}
	 else {
		JB_SetRef(T, SC_Decl_CopyDecl(T, false));
	}
	JB_Incr2(Self->SelfDecl, T);
	(SC_Decl_NameSet(T, JB_LUB[401]));
	(SC_Decl_SyntaxIsSet(T, kSC__SCDeclInfo_SelfImplicit, true));
	(SC_Decl_SyntaxIsSet(T, kSC__SCDeclInfo_Altered, (!true)));
	JB_EarlyDecr(T);
	return Self;
}

bool SC_Class_ConstructorUsed(SCClass* Self) {
	SCFunction* C = Self->ConstructorFunc;
	while (C) {
		if (JB_Array_Size(C->LinkFrom)) {
			return true;
		}
		C = C->NextFunc;
	};
	return false;
}

void SC_Class_ContainedTypeLoad(SCClass* Self) {
	SC_Base_Use(Self);
	SCClass* Sup = Self->Super;
	JB_Incr(Sup);
	if (Sup) {
		JB_SetRef(Self->Contained, Sup->Contained);
		JB_SetRef(Self->SelfDecl->Contains, Sup->SelfDecl->Contains);
		if (SC_Class_NumericReduction(Self) == SC_Class_NumericReduction(Sup)) {
			SC_Class_NeedsDefaultValue(Self, Sup->Defawlt, (&Self->Defawlt), JB_LUB[1430]);
			SC_Class_NeedsDefaultValue(Self, Sup->False, (&Self->False), JB_LUB[7]);
		}
		if (SC_Class_SyntaxIs(Sup, kSC__ClassInfo_IgnoreContainedSelf)) {
			(SC_Class_SyntaxIsSet(Self, kSC__ClassInfo_IgnoreContainedSelf, true));
		}
		((SC_Class_SyntaxIsSet(Self, kSC__ClassInfo_ContainsParentClass, (SC_Class_SyntaxIs(Sup, kSC__ClassInfo_ContainsParentClass)))));
	}
	JB_Decr(Sup);
	if (!Self->Defawlt) {
		JB_SetRef(Self->Defawlt, JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[100]));
	}
	if (Self->False) {
	}
	 else if (SC_Class_NumericCount(Self) == 1) {
		JB_SetRef(Self->False, JB_Syx_OperatorPlus(kJB_SyxNum, JB_LUB[478]));
	}
	 else {
		JB_SetRef(Self->False, JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[100]));
	}
	SCClass* Cls = SC_Class_FindContainedClass(Self);
	JB_Incr(Cls);
	if (!Cls) {
		JB_EarlyDecr(Cls);
		return;
	}
	SCDecl* TN = Cls->TypeOptional;
	JB_Incr(TN);
	SCDecl* Cont = SC_Decl_CopyDecl(TN, false);
	JB_Incr(Cont);
	(SC_Decl_SyntaxIsSet(Cont, kSC__SCDeclInfo_UpgradeableContained, true));
	JB_SetRef(Self->Contained, Cont);
	JB_Decr(Cont);
	if (SC_Class_IsDataTypeOrFP(Cls)) {
		(SC_Class_SyntaxIsSet(Self, kSC__ClassInfo_IgnoreContainedSelf, true));
	}
	JB_Decr(Cls);
	JB_SetRef(Self->SelfDecl->Contains, TN);
	JB_Decr(TN);
}

SCFunction* SC_Class_CreateAutoConstructor(SCClass* Self) {
	SCFunction* Rz = nil;
	Rz = SC_Class_CreateEmptyFunc(Self, JB_LUB[698], JB_LUB[2228]);
	if (!Rz) {
		return nil;
	}
	Message* Node = Rz->Source;
	Message* Prms = ((Message*)JB_Tree_Second(Node));
	Message* Arg = ((Message*)JB_Ring_NextSib(Prms));
	{
		Message* _LoopSrcf2 = SC_Base_SourceArg(Self);
		Message* Prop = ((Message*)JB_Ring_First(_LoopSrcf2));
		while (Prop) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Prop));
			if (JB_Msg_EqualsSyx(Prop, kJB_SyxDecl)) {
				JB_String* Name = JB_Msg_Name(SC_Msg_DeclName(Prop));
				if ((JB_Str_Equals(Name, JB_LUB[2229], false))) {
					JB_Msg_Fail(Prop, JB_LUB[2230]);
				}
				JB_Tree_SyntaxAppend(Prms, JB_Msg_Copy(Prop, nil));
				Message* Rel = JB_Msg_Msg(Arg, kJB_SyxRel, JB_LUB[0]);
				JB_Msg_AppendSyx(Rel, kJB_SyxSDot, Name);
				JB_Msg_AppendSyx(Rel, kJB_SyxOpp, JB_LUB[455]);
				JB_Msg_AppendSyx(Rel, kJB_SyxThg, Name);
			}
			Prop = _Nf1;
		};
		;
	}
	;
	return Rz;
}

void SC_Class_CreateBehaviour(SCClass* Self) {
	if (!(SC_Class_IsObject(Self) and (!Self->IsRole))) {
		return;
	}
	if (!Self->Behaviour) {
		JB_SetRef(Self->Behaviour, SC_Beh_Constructor(nil, Self));
	}
	Message* _tmPf0 = SC_Base_SourceArg(Self);
	JB_Incr(_tmPf0);
	SC_Beh_CreateFuncTable(Self->Behaviour, _tmPf0);
	JB_Decr(_tmPf0);
}

void SC_Class_CreateConstructors(SCClass* Self) {
	if (SC_Class_IsObject(Self) or (SC_Class_IsStruct(Self) and ((!Self->Behaviourness) and (!Self->IsModel)))) {
		SCFunction* Con = SC_Class_FindAllocFunc(Self, JB_LUB[698], true);
		JB_Incr(Con);
		if (Self->IsRole) {
			SCClass* S = Self->Super;
			JB_Incr(S);
			if (!((!Con) or S->ConstructorFunc)) {
				JB_Msg_Fail(Con->Source, JB_LUB[2271]);
			}
			if (!Con) {
				JB_SetRef(Con, S->ConstructorFunc);
			}
			JB_SetRef(Self->DestructorFunc, S->DestructorFunc);
			JB_Decr(S);
			if (!Con) {
				JB_EarlyDecr(Con);
				return;
			}
		}
		//using;
		Message* __varf1 = Self->Source;
		JB_Incr(__varf1);
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(__varf1, (&_usingf0));
		if ((!Con) and (!Self->IsWrapper)) {
			JB_SetRef(Con, SC_Class_CreateEmptyConstructors(Self));
		}
		JB_SetRef(Self->ConstructorFunc, Con);
		if (Con) {
			SC_Base_TryAdd(Self->Modul, Con->Source, Con, JB_LUB[688]);
			SC_Class_FillRoleConstructor(Self, Con);
		}
		JB_Decr(Con);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), __varf1);
		JB_Decr(__varf1);
		JB_MsgPos_Destructor((&_usingf0));
	}
	if (!Self->IsRole) {
		bool NeedsDestructor = SC_Class_IsObject(Self) or (SC_Class_IsStruct(Self) and SC_Class_HasObjectProperties(Self));
		JB_SetRef(Self->DestructorFunc, SC_Class_FindAllocFunc(Self, JB_LUB[2126], (!NeedsDestructor)));
	}
	 else if (Self->IsRole == 3) {
		if (Self->Super->IsRole != 2) {
			SC_SCObject_Fail(Self, JB_LUB[2272]);
		}
	}
}

SCFunction* SC_Class_CreateEmptyConstructors(SCClass* Self) {
	SCFunction* Rz = nil;
	JB_Incr(Rz);
	if (SC_Class_CanHaveEmptyConstructor(Self)) {
		JB_SetRef(Rz, SC_Class_CreateEmptyFunc(Self, JB_LUB[698], JB_LUB[0]));
		if (!Rz) {
			JB_EarlyDecr(Rz);
			return nil;
		}
		(SC_Func_SyntaxIsSet(Rz, kSC__FunctionType_EmptyConstructor, true));
	}
	int Pc = SC_Class_PassableCount(Self);
	SCClass* S = Self->Super;
	JB_Incr(S);
	if (S and (Rz and (S != SC_TypeObject))) {
		SCFunction* Con2 = S->ConstructorFunc;
		JB_Incr(Con2);
		if (Con2) {
			Message* L = SC_Func_Prms(Con2);
			JB_Incr(L);
			if (JB_Ring_HasChildren(L)) {
				SC_Func_CopyParams(Rz, L);
				Pc = 0;
			}
			JB_Decr(L);
		}
		JB_Decr(Con2);
	}
	JB_Decr(S);
	if (SC_Class_IsObject(Self)) {
		if ((Pc >= 1) and (Pc <= 7)) {
			SCFunction* F2 = SC_Class_CreateAutoConstructor(Self);
			JB_Incr(F2);
			if (!Rz) {
				JB_SetRef(Rz, F2);
			}
			JB_Decr(F2);
		}
	}
	JB_SafeDecr(Rz);
	return Rz;
}

SCFunction* SC_Class_CreateEmptyFunc(SCClass* Self, JB_String* Fname, JB_String* Cpp_name) {
	JB_Incr(Cpp_name);
	SCFunction* Rz = nil;
	JB_Incr(Rz);
	SC__Base_CurrVisibility = SC_SCObject_IsVisible(Self);
	if (!JB_Str_Exists(Cpp_name)) {
		JB_SetRef(Cpp_name, Fname);
	}
	JB_String* E = JB_Str_Append6(JB_LUB[583], Fname, JB_LUB[2211], Cpp_name, JB_LUB[2212], nil);
	JB_Incr(E);
	JB_Decr(Cpp_name);
	Message* Msg = SC_Str_ParseClean(E);
	JB_Incr(Msg);
	JB_Decr(E);
	JB_SetRef(Rz, ((SCFunction*)SC_Func__NewFunc(Msg, Self, Self->Source)));
	if (Rz) {
		SC_Base_TryAdd(Self, Msg, Rz, Fname);
		(SC_SCObject_IsVisibleSet(Rz, false));
	}
	JB_EarlyDecr(Msg);
	JB_SafeDecr(Rz);
	return Rz;
}

JB_String* SC_Class_CStructName(SCClass* Self) {
	if (!Self) {
		return JB_LUB[0];
	}
	if (Self->IsRole == 1) {
		return SC_Class_CStructNameSub(SC_Class_RealClass(Self));
	}
	return SC_Class_CStructNameSub(Self);
}

JB_String* SC_Class_CStructNameSub(SCClass* Self) {
	return ({
		JB_String* _X = Self->CppClass;
		if (_X == nil) {
			_X = SC_Str_UnicodeSafeName(Self->Name, nil);
			JB_SetRef(Self->CppClass, _X);
		}
		 _X;
	});
}

JB_String* SC_Class_CSuperStructName(SCClass* Self) {
	SCClass* Sup = SC_Class_RealSuper(Self);
	JB_Incr(Sup);
	if ((!Sup)) {
		JB_EarlyDecr(Sup);
		return JB_LUB[478];
	}
	JB_String* _tmPf1 = SC_Class_CStructName(Sup);
	JB_Incr(_tmPf1);
	JB_Decr(Sup);
	JB_String* _tmPf2 = JB_Str_Append4(JB_LUB[655], _tmPf1, JB_LUB[656], nil);
	JB_Incr(_tmPf2);
	JB_EarlyDecr(_tmPf1);
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

void SC_Class_DataTypePostLoad(SCClass* Self) {
	if (!SC_Class_IsDataTypeOnly(Self)) {
		return;
	}
	if (SC_Class_EqualsName(Self, JB_LUB[1431])) {
		Self->TypeInfo = 0;
		return;
	}
	Message* Node = Self->Source;
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Node, (&_usingf0));
	SCClass* Sup = Self->Super;
	if (Sup) {
		Self->ClsSize = Sup->ClsSize;
		Self->TypeInfo = Sup->TypeInfo;
		Self->ASMTypeInfo = Self->TypeInfo;
		ClassInfo Nr = SC_Class_NumericReduction(Self);
		if (Nr) {
			if (Nr & kSC__ClassInfo_Symbol) {
				Self->TypeInfo = (Self->TypeInfo & (~kJB__TC_Numeric));
			}
		}
		 else {
			if (!Self->Defawlt) {
				JB_SetRef(Self->Defawlt, Sup->Defawlt);
			}
		}
	}
	JB_String* N = JB_Str_LowerCase(Self->Name);
	DTWrap* Td = ((DTWrap*)JB_Dict_Value0(JB_TC__Types(), N));
	if (Td) {
		uint T = ((DataTypeCode)JB_Wrap_SyntaxAccess(Td));
		Self->ClsSize = JB_TC_ByteCount(T);
		if ((T == kJB__TC_Vec3) or (T == kJB__TC_iVec3)) {
			Self->ClsSize = 16;
		}
		Self->TypeInfo = T;
		Self->ASMTypeInfo = T;
		(SC_Class_SyntaxIsSet(Self, kSC__ClassInfo_Builtin, true));
		Self->TypeNormal->mu.DataType = T;
		if (!(JB_TC_IsInt(T) and (!Self->Signed))) {
			JB_MsgPos_Destructor((&_usingf0));
			return;
		}
		SCClass* S2 = SC_TC_SignedStuffClass(T);
		if (S2) {
			JB_SetRef(Self->Signed, S2->TypeNormal);
			JB_SetRef(S2->Signed, Self->TypeNormal);
		}
	}
	 else {
		if ((!Sup)) {
			JB_Msg_Fail(Node, JB_LUB[1432]);
		}
	}
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Node);
	JB_MsgPos_Destructor((&_usingf0));
}

void SC_Class_DeclModel(SCClass* Self) {
	Message* M = Self->IsModel;
	if (!M) {
		return;
	}
	if (!JB_Array_SyntaxCast(Self->Properties)) {
		JB_Msg_Fail(Self->Source, JB_LUB[1187]);
		return;
	}
	SCObject* Dcl = SC_Base_SyntaxAccessWithStr(Self->Modul, JB_LUB[1188]);
	if (JB_Object_FastIsa(Dcl, &SCDeclData)) {
		SC_Decl_MakeGameFlying(((SCDecl*)Dcl), Self, M);
	}
	 else {
	}
}

void SC_Class_DescribeInPack(SCClass* Self, FastString* J) {
	SCBehaviour* B = Self->Behaviour;
	if (!B) {
		JB_Msg_Fail(Self->Source, JB_LUB[1433]);
		return;
	}
	uint Sz = Self->ClsSize;
	JB_String* _tmPf0 = JB_Str_LowerCase(Self->Name);
	JB_Incr(_tmPf0);
	JB_bin_Enter(J, kJB_SyxTmp, _tmPf0);
	JB_Decr(_tmPf0);
	JB_bin_Enter(J, kJB_SyxList, JB_LUB[0]);
	JB_bin_AddInt(J, SC_Decl_ExportPosition(Self->ClassType));
	if (!SC_Base_IsLibrary(Self)) {
		JB_String* _tmPf1 = JB_Str_LowerCase(Self->Super->Name);
		JB_Incr(_tmPf1);
		JB_bin_Add(J, kJB_SyxThg, _tmPf1, false);
		JB_Decr(_tmPf1);
		JB_bin_AddInt(J, Sz);
	}
	JB_bin_Exit(J, 1);
	if (!SC_Base_IsLibrary(Self)) {
		JB_bin_Enter(J, kJB_SyxList, JB_LUB[0]);
		SC_bin_Cakeify(J, Self->DestructorFunc);
		SC_Class_CollectBehaviours(Self, J, B);
		JB_bin_Exit(J, 1);
	}
	JB_bin_Exit(J, 1);
}

void SC_Class_Destructor(SCClass* Self) {
	//cpp_part;
	JB_Clear(Self->DataObject);
	JB_Clear(Self->DowngradeTo);
	JB_Clear(Self->ProcessAs);
	JB_Clear(Self->Behaviour);
	JB_Clear(Self->IsModel);
	JB_Clear(Self->SelfDecl);
	JB_Clear(Self->ClassType);
	JB_Clear(Self->CppClass);
	JB_Clear(Self->DestructorFunc);
	JB_Clear(Self->ConstructorFunc);
	JB_Clear(Self->TheBoolFunc);
	JB_Clear(Self->TheCompareFunc);
	JB_Clear(Self->TheIsFunc);
	JB_Clear(Self->FuncProto);
	JB_Clear(Self->TypeReal);
	JB_Clear(Self->Casts);
	JB_Clear(Self->Children);
	JB_Clear(Self->Contained);
	JB_Clear(Self->Signed);
	JB_Clear(Self->_NotConst);
	JB_Clear(Self->Super);
	JB_Clear(Self->Defawlt);
	JB_Clear(Self->False);
	JB_Clear(Self->Modul);
	JB_Clear(Self->Properties);
	JB_Clear(Self->TypeNormal);
	JB_Clear(Self->TypeOptional);
	SC_SCBetterNode_Destructor(Self);
}

Message* SC_Class_Falsify(SCClass* Self, Message* Ques) {
	Message* F = Self->False;
	if (!F) {
		return nil;
	}
	if (JB_Ring_HasChildren(F)) {
		return JB_Msg_Copy(F, nil);
	}
	Ques->Func = F->Func;
	if (SC_Msg_OperatorIsThing(F, JB_LUB[100])) {
		JB_SetRef(Ques->Obj, SC_TypeNil);
	}
	 else {
		JB_SetRef(Ques->Name, F->Name);
	}
	return nil;
}

void SC_Class_FillInterFaceIn(SCClass* Self, SCFunction* Fn, bool Late) {
	SCClass* Interface = SC_Class_InterfaceForBehaviour(Self, Fn);
	JB_Incr(Interface);
	if (!Interface) {
		JB_EarlyDecr(Interface);
		return;
	}
	Message* Prm = JB_Msg_FindSyx(Fn->Source, kJB_SyxPrm);
	JB_Incr(Prm);
	if (!Prm) {
		JB_Msg_Fail(Fn->Source, JB_LUB[2018]);
		JB_EarlyDecr(Prm);
		JB_EarlyDecr(Interface);
		return;
	}
	Message* F = ((Message*)JB_Ring_First(Prm));
	JB_Incr(F);
	JB_Decr(Prm);
	if (F) {
		SC_Func_DeclsPrototypeInterface(Fn, F, Interface, Late);
	}
	JB_Decr(Interface);
	JB_Decr(F);
}

void SC_Class_FillInterFaceWrapper(SCClass* Self, SCFunction* Fn) {
	SCClass* Interface = SC_Class_InterfaceForBehaviour(Self, Fn);
	JB_Incr(Interface);
	if (!Interface) {
		JB_EarlyDecr(Interface);
		return;
	}
	Message* Prm = JB_Msg_FindSyx(Fn->Source, kJB_SyxPrm);
	JB_Incr(Prm);
	if (!Prm) {
		JB_Msg_Fail(Fn->Source, JB_LUB[2018]);
		JB_EarlyDecr(Prm);
		JB_EarlyDecr(Interface);
		return;
	}
	Message* F = ((Message*)JB_Ring_First(Prm));
	JB_Incr(F);
	JB_Decr(Prm);
	if (!F) {
		JB_EarlyDecr(F);
		JB_EarlyDecr(Interface);
		return;
	}
	SC_Func_DeclsProtoCleanup(Fn, Interface, F, true, false, nil);
	JB_Decr(Interface);
	JB_Decr(F);
	if (!JB_Rec_OK(JB_StdErr)) {
		return;
	}
	Message* Prms = JB_Msg_FindNested(Fn->Source, kJB_SyxSThg, JB_LUB[59], false);
	JB_Incr(Prms);
	if (!Prms) {
		JB_Object_Fail(nil);
		JB_EarlyDecr(Prms);
		return;
	}
	Message* WriteTo = ((Message*)JB_Ring_Parent(Prms));
	JB_Incr(WriteTo);
	WriteTo->Func = kJB_SyxPrm;
	JB_Tree_Remove(Prms);
	JB_Decr(Prms);
	MessagePosition Using = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Fn->Source, (&Using));
	Message* CopyFrom = ((Message*)JB_Tree_Second(Fn->Source));
	JB_Incr(CopyFrom);
	JB_Msg_AppendSyx(WriteTo, kJB_SyxThg, JB_LUB[401]);
	{
		Message* C = ((Message*)JB_Ring_First(CopyFrom));
		JB_Incr(C);
		while (C) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(C));
			JB_Incr(_Nf1);
			if (JB_Msg_EqualsSyx(C, kJB_SyxDecl)) {
				Message* It = SC_Msg_DeclName(C);
				JB_Incr(It);
				if (It) {
					JB_Msg_AppendSyx(WriteTo, kJB_SyxThg, It->Name);
				}
				JB_Decr(It);
			}
			JB_SetRef(C, _Nf1);
			JB_Decr(_Nf1);
		};
		JB_Decr(C);
		;
	}
	;
	JB_Decr(WriteTo);
	JB_Decr(CopyFrom);
	JB_MsgPos_Destructor((&Using));
}

void SC_Class_FillRoleConstructor(SCClass* Self, SCFunction* Con) {
	{
		SCFunction* F = Con;
		while (F) {
			SC_Func_MakeConstructor(F);
			if (SC_Class_IsTask(Self)) {
				SC_Class_FillTaskConstructor(Self, F);
			}
			F = F->NextFunc;
		};
	};
}

void SC_Class_FillTaskConstructor(SCClass* Self, SCFunction* Con) {
	Message* Src = Con->Source;
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Src, (&_usingf0));
	SC_Class_FillTaskConstructorSub(Self, Src, SC_Msg_TaskConBefore(((Message*)JB_Ring_Last(Src))), 0);
	SCModule* P = ((SCModule*)JB_Object_FastAs(Self->Modul->Parent, &SCModuleData));
	if (P) {
		SCClass* C = P->Cls;
		if (C) {
			SC_Base_TryAdd(C, Src, Con, Self->Name);
		}
	}
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Src);
	JB_MsgPos_Destructor((&_usingf0));
}

void SC_Class_FillTaskConstructorSub(SCClass* Self, Message* Con, Message* Before, int Depth) {
	if (Depth > 16) {
		JB_Object_Fail(nil);
		return;
	}
	SCClass* Pr = Self->Super;
	if (SC_Class_IsTask(Pr)) {
		SC_Class_FillTaskConstructorSub(Pr, Con, Before, Depth + 1);
	}
	{
		Array* _LoopSrcf2 = Self->Properties;
		int _if0 = 0;
		while (true) {
			SCDecl* P = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (P == nil) {
				break;
			}
			Message* S = P->Source;
			if (S) {
				if (S->RangeLength == kSC__SCTasks_AlreadyDone) {
					SC_Msg_MakeTaskVar(S, Con, Before, Depth == 0);
				}
			}
			(++_if0);
		};
	};
}

SCFunction* SC_Class_FindAllocFunc(SCClass* Self, JB_String* Fname, bool DontCreate) {
	SCFunction* It = SC_Class_FindSpecialFunc(Self, Fname, false);
	if (It) {
		return It;
	}
	if ((!DontCreate) and (!Self->IsWrapper)) {
		return SC_Class_CreateEmptyFunc(Self, Fname, JB_LUB[0]);
	}
	return nil;
}

SCClass* SC_Class_FindContainedClass(SCClass* Self) {
	Message* C = JB_Msg_NeedSyx(JB_Msg_FindSyxName(SC_Base_SourceArg(Self), kJB_SyxTmp, JB_LUB[1276], false), kJB_SyxNil);
	if (!C) {
		if (SC_Class_SyntaxIs(Self, kSC__ClassInfo_ContainsParentClass)) {
			SCNode* P = Self->Modul->Parent;
			if (JB_Object_FastIsa(P, &SCModuleData)) {
				return ((SCModule*)P)->Cls;
			}
		}
		return nil;
	}
	SCModule* M = Self->Modul;
	if (JB_Msg_EqualsSyx(C, kJB_SyxQues)) {
		if ((!JB_Msg_SyntaxEquals(C, JB_LUB[1277], false))) {
			JB_Msg_Fail(C, nil);
			return nil;
		}
		SCModule* P = ((SCModule*)M->Parent);
		if (!(P and P->Cls)) {
			JB_Msg_Fail(C, JB_LUB[1278]);
			return nil;
		}
		(SC_Class_SyntaxIsSet(Self, kSC__ClassInfo_ContainsParentClass, true));
		return P->Cls;
	}
	SCClass* Cls = SC_Base_FindClassMsg(M, C, kSC__SCNodeFindMode_WantAType);
	if (Cls) {
		(SC_Class_SyntaxIsSet(Self, kSC__ClassInfo_ContainsParentClass, (!true)));
		return Cls;
	}
	return nil;
}

SCFunction* SC_Class_FindFunc(SCClass* Self, JB_String* Keyword, bool CheckParents, bool DoError) {
	{
		SCClass* B = Self;
		while (B) {
			SCFunction* Fn = SC_Class_GetFunc(B, Keyword, DoError);
			if (Fn) {
				return Fn;
			}
			if (!CheckParents) {
				break;
			}
			B = B->Super;
		};
	}
	;
	return nil;
}

void SC_Class_FindNilChecker(SCClass* Self) {
	SCFunction* Cast = SC_Class_FindSpecialFunc(Self, JB_LUB[1947], false);
	JB_Incr(Cast);
	if (!SC_Class_IsStruct(Self)) {
		(SC_Class_SyntaxIsSet(Self, kSC__ClassInfo_HasNilChecker, true));
	}
	SCClass* S = Self->Super;
	JB_Incr(S);
	if (S) {
		((SC_Class_SyntaxIsSet(Self, kSC__ClassInfo_HasNilChecker, (SC_Class_SyntaxIs(S, kSC__ClassInfo_HasNilChecker)))));
		JB_SetRef(Self->TheBoolFunc, S->TheBoolFunc);
		JB_SetRef(Self->Casts, JB_Array_Copy(S->Casts));
	}
	 else {
		JB_SetRef(Self->Casts, JB_Array_Constructor0(nil));
	}
	{
		SCFunction* F = Cast;
		JB_Incr(F);
		while (F) {
			(SC_Func_SyntaxIsSet(F, kSC__FunctionType_OptInline, true));
			if ((!JB_Array_SyntaxEquals(F->Args, 1))) {
				JB_Msg_Fail(F->Source, JB_LUB[1948]);
			}
			SC_Func_DontWantSameReturnType(F->NextFunc, F);
			JB_Array_SyntaxAppend(Self->Casts, F);
			SCDecl* Ret = F->ReturnType;
			JB_Incr(Ret);
			if (!Ret) {
				if (true) {
					JB_Msg_Fail(F->Source, JB_LUB[1949]);
				}
			}
			 else if (SC_Decl_IsNormalBool(Ret)) {
				bool OK = ((!SC_Func_SyntaxIs(F, kSC__FunctionType_Disabled)));
				if (OK) {
					SCDecl* _tmPf1 = ((SCDecl*)JB_Array_First(F->Args));
					JB_Incr(_tmPf1);
					_tmPf1->NilDeclared = kSC__NilState_Optional;
					JB_Decr(_tmPf1);
				}
				Message* _tmPf2 = SC_Func_SourceArg(F);
				JB_Incr(_tmPf2);
				int Mode = SC_Msg_NilCheckMode(_tmPf2, OK);
				JB_Decr(_tmPf2);
				F->IsNilChecker = Mode;
				(SC_Class_SyntaxIsSet(Self, kSC__ClassInfo_HasNilChecker, true));
				JB_SetRef(Self->TheBoolFunc, F);
			}
			JB_Decr(Ret);
			JB_SetRef(F, F->NextFunc);
		};
		JB_Decr(F);
		JB_Decr(S);
	}
	;
	JB_Decr(Cast);
}

SCDecl* SC_Class_FindPropAlignedTo(SCClass* Self, int Align) {
	{
		Array* _LoopSrcf2 = Self->Properties;
		int _if0 = 0;
		while (true) {
			SCDecl* S = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (S == nil) {
				break;
			}
			if (((!SC_Decl_SyntaxIs(S, kSC__SCDeclInfo_Grabbed))) and (Align == SC_Decl_Alignment(S, false))) {
				(SC_Decl_SyntaxIsSet(S, kSC__SCDeclInfo_Grabbed, true));
				return S;
			}
			(++_if0);
		};
	}
	;
	return nil;
}

SCFunction* SC_Class_FindSpecialFunc(SCClass* Self, JB_String* Keyword, bool CheckParents) {
	JB_String* _tmPf0 = JB_Str_LowerCase(Keyword);
	JB_Incr(_tmPf0);
	SCFunction* _tmPf1 = SC_Class_FindFunc(Self, _tmPf0, CheckParents, true);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

SCFunction* SC_Class_FirstDestructor(SCClass* Self) {
	{
		SCClass* P = Self;
		while (P) {
			SCFunction* Fn = P->DestructorFunc;
			if (Fn) {
				if (P->IsWrapper and P->Super) {
					return Fn;
				}
				 else if (SC_Class_HasStuffToHandleInDestructor(P) or JB_Ring_HasChildren(SC_Func_SourceArg(Fn))) {
					return Fn;
				}
			}
			P = P->Super;
		};
	}
	;
	return nil;
}

int SC_Class_GetDepth(SCClass* Self) {
	int Rz = 0;
	uint D = Self->Depth;
	if (D) {
		if (D == 255) {
			SC_SCObject_Fail(Self, JB_LUB[919]);
			return 0;
		}
		return D;
	}
	Self->Depth = 255;
	Rz = 1;
	SCClass* S = Self->Super;
	if (S) {
		(Rz = JB_int_OperatorMax(Rz, (SC_Class_GetDepth(S) + 1)));
	}
	{
		Array* _LoopSrcf2 = Self->Properties;
		int _if0 = 0;
		while (true) {
			SCDecl* P = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (P == nil) {
				break;
			}
			SCDecl* T = SC_Decl_CArrayInner(P);
			if ((SC_Class_IsStruct(T->Type)) and (T->PointerCount == 0)) {
				(Rz = JB_int_OperatorMax(Rz, (SC_Class_GetDepth(T->Type) + 1)));
			}
			(++_if0);
		};
	}
	;
	if (Rz >= 64) {
		SC_SCObject_Fail(Self, JB_LUB[920]);
	}
	Self->Depth = Rz;
	Message* Msg = Self->Defawlt;
	if (Msg) {
		if (SC_Class_IsObject(Self) and (!(SC_Msg_OperatorIsThing(Msg, JB_LUB[100])))) {
			(SC_Class_SyntaxIsSet(Self, kSC__ClassInfo_DefaultsToReal, true));
			Self->TypeNormal->NilDeclared = kSC__NilState_Real;
		}
	}
	return Rz;
}

SCClass* SC_Class_GetFlyingMemClass(SCClass* Self) {
	return SC_Comp__FindClassName(JB_LUB[1279], 0);
}

SCDecl* SC_Class_GetFlyingMemory(SCClass* Self, Message* Exp) {
	SCObject* Decl = SC_Base_SyntaxAccessWithStr(Self->Modul, JB_LUB[1188]);
	JB_Incr(Decl);
	if (JB_Object_FastIsa(Decl, &SCDeclData)) {
		if ((!JB_Msg_EqualsSyx(Exp, kJB_SyxThg))) {
			JB_Object_Fail(nil);
			JB_EarlyDecr(Decl);
			return nil;
		}
		Message* Thg = JB_Syx_OperatorPlus(kJB_SyxThg, Exp->Name);
		JB_Incr(Thg);
		JB_SetRef(Thg->Obj, Decl);
		JB_Tree_SyntaxAppend(Exp, Thg);
		JB_Decr(Thg);
		JB_Msg_BecomeStr(Exp, kJB_SyxBRel, JB_LUB[32]);
		if (!((SCDecl*)Decl)->PointerCount) {
			JB_SetRef(Decl, SC_Decl_GetAddress(((SCDecl*)Decl), kSC__DeclMode_Always));
		}
		JB_SafeDecr(Decl);
		return ((SCDecl*)Decl);
	}
	JB_EarlyDecr(Decl);
	return nil;
}

SCFunction* SC_Class_GetFunc(SCClass* Self, JB_String* Keyword, bool DoError) {
	SCObject* O = ((SCObject*)JB_Dict_Value0(Self->Access, Keyword));
	if (O) {
		if (JB_Object_FastIsa(O, &SCFunctionData)) {
			return ((SCFunction*)O);
		}
		if (!((!SC_Class_IsObject(Self)) or (!DoError))) {
			JB_Msg_Fail(Self->Source, JB_Str_OperatorPlus(Keyword, JB_LUB[921]));
		}
	}
	return nil;
}

SCIterator* SC_Class_GetIteratorAny(SCClass* Self, JB_String* Name, Message* Node) {
	if (!JB_Str_Exists(Name)) {
		Name = JB_LUB[1075];
	}
	{
		SCClass* C = Self;
		while (C) {
			SCObject* R = SC_Base_SyntaxAccessWithStr(C, Name);
			if (JB_Object_FastIsa(R, &SCIteratorData)) {
				return ((SCIterator*)R);
			}
			C = C->Super;
		};
	}
	;
	SC_Class_Iterfailed(Self, Name, Node);
	return nil;
}

SCClass* SC_Class_GoUpTo(SCClass* Self, int D) {
	while (Self and (Self->Depth > D)) {
		Self = Self->Super;
	};
	return Self;
}

bool SC_Class_HasObjectProperties(SCClass* Self) {
	{
		Array* _LoopSrcf2 = Self->Properties;
		int _if0 = 0;
		while (true) {
			SCDecl* P = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (P == nil) {
				break;
			}
			if (SC_Decl_IsNormalObject(P) and ((!SC_Decl_SyntaxIs(P, kSC__SCDeclInfo_Borrowed)))) {
				return true;
			}
			(++_if0);
		};
	}
	;
	return false;
}

bool SC_Class_HasOperator(SCClass* Self, JB_String* Op) {
	SCObject* Obj = SC_Base_SyntaxAccessWithStr(Self, Op);
	if (JB_Object_FastIsa(Obj, &SCFunctionData)) {
		return true;
	}
	return false;
}

bool SC_Class_HasStuffToHandleInDestructor(SCClass* Self) {
	{
		SCClass* P = Self;
		while (P) {
			{
				Array* _LoopSrcf3 = P->Properties;
				int _if1 = 0;
				while (true) {
					SCDecl* D = ((SCDecl*)JB_Array_Value(_LoopSrcf3, _if1));
					if (D == nil) {
						break;
					}
					if (SC_Decl_HasStructDestructor(D)) {
						return true;
					}
					if (SC_Decl_IsReffable(D, true)) {
						return true;
					}
					(++_if1);
				};
			}
			;
			P = P->Super;
		};
	}
	;
	return false;
}

SCClass* SC_Class_HigherNumber(SCClass* Self) {
	while (Self) {
		if (SC_Class_IsDataTypeOnly(Self)) {
			return Self;
		}
		Self = Self->Super;
	};
	return nil;
}

SCClass* SC_Class_InterfaceFor(SCClass* Self, JB_String* Name, Message* Errplace) {
	SCModule* Result = nil;
	{
		SCClass* C = Self;
		while (C) {
			SCBehaviour* B = C->Behaviour;
			if (B) {
				SCModule* I = ((SCModule*)JB_Dict_Value0(B->Interfaces, Name));
				if (I) {
					Result = SC_Mod_OneOrOther(Result, I, Name);
				}
			}
			C = C->Super;
		};
	}
	;
	if (!Result) {
		JB_Msg_Fail(Errplace, JB_LUB[1189]);
		return nil;
	}
	return Result->Cls;
}

SCClass* SC_Class_InterfaceForBehaviour(SCClass* Self, SCFunction* Fn) {
	JB_String* Name = JB_Str_LowerCase(Fn->Name);
	JB_Incr(Name);
	if (SC_Str_UnderScoreAtAnyEnd(Name)) {
		JB_SetRef(Name, SC_Str_InterfaceToBehaviour(Name));
	}
	if (JB_Str_Last(Name, 0) == '0') {
		JB_SetRef(Name, JB_Str_Range(Name, 0, JB_Str_Length(Name) - 1, false));
	}
	if ((!SC_Str_UnderScoreAtAnyEnd(Name))) {
		JB_SetRef(Name, JB_Str_Moat(Name));
	}
	SCClass* _tmPf0 = SC_Class_InterfaceFor(Self, Name, Fn->Source);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Name);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

bool SC_Class_IsA(SCClass* Self, SCClass* S) {
	{
		SCClass* P = Self;
		while (P) {
			if (P == S) {
				return true;
			}
			P = P->Super;
		};
	}
	;
	return false;
}

bool SC_Class_IsBehaviourTable(SCClass* Self) {
	if (!Self) {
		return nil;
	}
	return Self->Behaviourness == kSC__Beh_kBehaviourTable;
}

bool SC_Class_IsDataTypeOnly(SCClass* Self) {
	return SC_SCNodeType_SyntaxIs(Self->BaseType, kSC__SCNodeType_DataType);
}

bool SC_Class_IsDataTypeOrFP(SCClass* Self) {
	return SC_SCNodeType_SyntaxIs(Self->BaseType, kSC__SCNodeType_DataType) or SC_SCNodeType_SyntaxIs(Self->BaseType, kSC__SCNodeType_ProtoType);
}

bool SC_Class_IsFunc(SCClass* Self) {
	return ((bool)Self->FuncProto);
}

bool SC_Class_IsInterface(SCClass* Self) {
	if (Self) {
		return ((bool)(Self->Behaviourness & kSC__Beh_kBehaviourProto));
	}
	return false;
}

bool SC_Class_IsMArray(SCClass* Self, Message* Arr) {
	if ((!Arr) or JB_Tree_HasOneChild(Arr)) {
		return SC_Class_IsDataTypeOrFP(Self) or SC_Class_IsStruct(Self);
	}
	return false;
}

bool SC_Class_IsObject(SCClass* Self) {
	return SC_SCNodeType_SyntaxIs(Self->BaseType, kSC__SCNodeType_Object);
}

bool SC_Class_IsStruct(SCClass* Self) {
	return SC_SCNodeType_SyntaxIs(Self->BaseType, kSC__SCNodeType_Struct);
}

bool SC_Class_IsTask(SCClass* Self) {
	return Self and (Self->IsRole & 2);
}

void SC_Class_Iterfailed(SCClass* Self, JB_String* Name, Message* Node) {
	if (true) {
		JB_String* _tmPf1 = JB_Str_Append4(JB_LUB[922], Name, JB_LUB[923], Self->Name);
		JB_Incr(_tmPf1);
		JB_Msg_Fail(Node, _tmPf1);
		JB_Decr(_tmPf1);
	}
}

void SC_Class_ListLayout(SCClass* Self, FastString* J) {
	SCClass* S = Self->Super;
	uint Sid = ((uint)JB_Ternary(S, S->TableID << 1, ((uint)0)));
	JB_bin_AddInt(J, Sid + SC_Class_IsObject(Self));
	SC_bin_PropertyLayout(J, Self->Properties);
}

void SC_Class_LoadClassType(SCClass* Self) {
	if (SC_Class_IsObject(Self)) {
		JB_SetRef(Self->ClassType, SC_Class_MakeClassType(Self, Self->TypeNormal));
	}
}

void SC_Class_LoadConstructors(SCClass* Self) {
	SC_Base_Use(Self);
	SC_Class_CreateConstructors(Self);
	SCClass* S = Self->Super;
	JB_Incr(S);
	if (S) {
		if (SC_Class_SyntaxIs(S, kSC__ClassInfo_NoEarlyFree)) {
			(SC_Class_SyntaxIsSet(Self, kSC__ClassInfo_NoEarlyFree, true));
		}
	}
	JB_Decr(S);
	JB_ClassData_Restore((&MessageData));
}

void SC_Class_LoadLinkage(SCClass* Self) {
	Message* Arg = SC_Base_LinkagePlace(Self);
	if (Arg) {
		Self->NoAutoComplete = SC_Msg_DeprecatedClassOption(Arg, JB_LUB[1190], JB_LUB[96]);
		((SC_Class_SyntaxIsSet(Self, kSC__ClassInfo_NoEarlyFree, ((bool)SC_Msg_DeprecatedClassOption(Arg, JB_LUB[1191], JB_LUB[1192])))));
		((SC_Class_SyntaxIsSet(Self, kSC__ClassInfo_TreatAsBaseType, ((bool)SC_Msg_DeprecatedClassOption(Arg, JB_LUB[1191], JB_LUB[1193])))));
		Self->MinOpt = SC_Msg_DeprecatedClassOption(Arg, JB_LUB[633], JB_LUB[1126]);
	}
}

void SC_Class_LoadModuleForCls(SCClass* Self, Message* Node, SCNode* P) {
	SCModule* M = Self->Modul;
	JB_Incr(M);
	M->Project = SC__Imp_Curr;
	M->Parent = P;
	JB_SetRef(M->Cls, Self);
	JB_SetRef(M->Name, Self->Name);
	if (Node) {
		SC_MoveFutureStaticsIn(Node);
		SC_Mod_LoadModule(M, Node);
	}
	 else {
		JB_SetRef(M->Source, Self->Source);
	}
	JB_Decr(M);
}

void SC_Class_LoadSuperBehaviours(SCClass* Self) {
	SCBehaviour* B = Self->Behaviour;
	if (B) {
		SCClass* S = Self->Super;
		while (S and (!S->Behaviour)) {
			S = S->Super;
		};
		if (S) {
			JB_SetRef(B->FuncTable->Cls->Super, S->Behaviour->FuncTable->Cls);
		}
	}
}

void SC_Class_LoadSuperClass(SCClass* Self) {
	SCNode* OldMod = Self->Modul->Parent;
	if (!OldMod) {
		Self->Modul->Parent = SC__Comp_Program;
	}
	Message* P = Self->Source;
	if (!P) {
		return;
	}
	Message* Supc = ((Message*)JB_Tree_Second(P));
	SCClass* S = nil;
	if ((!JB_Msg_EqualsSyx(Supc, kJB_SyxBra))) {
		if (Supc) {
			if ((!JB_Msg_EqualsSyx(Supc, kJB_SyxArg))) {
				JB_Msg_Fail(Supc, nil);
				return;
			}
		}
		if ((SC_Class_IsObject(Self)) and (Self != SC_TypeObject)) {
			S = SC_TypeObject;
		}
	}
	 else {
		Message* Thg = JB_Msg_NeedSyx(Supc, kJB_SyxNil);
		if (!Thg) {
			return;
		}
		if (JB_Msg_EqualsSyx(Thg, kJB_SyxSDot)) {
			Thg->Func = kJB_SyxThg;
			S = SC_Base_FindClassMsg(Self->Modul, Thg, 0);
		}
		 else if (OldMod) {
			S = SC_Base_FindClassMsg(OldMod, Thg, kSC__SCNodeFindMode_WantAType);
		}
		 else {
			S = SC_Comp__SyntaxAccess(Thg);
		}
		if (!S) {
			0;
		}
		 else if (Self->FuncProto) {
			if (true) {
				JB_Msg_Fail(Supc, JB_LUB[1372]);
			}
		}
		 else if (SC_Class_IsDataTypeOnly(Self)) {
			if (!SC_Class_IsDataTypeOnly(S)) {
				JB_Msg_Fail(Supc, JB_LUB[1373]);
			}
		}
		 else if (SC_Class_IsStruct(Self)) {
			if (!SC_Class_IsStruct(S)) {
				JB_Msg_Fail(Supc, JB_LUB[1374]);
			}
		}
		 else {
			if (!SC_Class_IsObject(S)) {
				JB_Msg_Fail(Supc, JB_LUB[1375]);
			}
		}
	}
	if (S) {
		JB_SetRef(Self->Super, S);
		if (SC__Options_MakeExec or (SC_Options__ModeCake() or SC__Comp_InPerry)) {
			JB_Array_SyntaxAppend(S->Children, Self);
		}
		if (!Self->IsRole) {
			(SC_Class_SyntaxIsSet(S, kSC__ClassInfo_HasSubClass, true));
		}
		 else if (!OldMod) {
			Self->Modul->Parent = S->Modul;
		}
		Self->Parent = S;
	}
}

SCDecl* SC_Class_MakeClassType(SCClass* Self, SCDecl* TypeNormal) {
	SCDecl* C = SC_Decl_Constructor(nil, SC_TypeJBClass);
	SCDecl* I = SC_Decl_Constructor(nil, SC_TypeJBClass);
	JB_String* Name = JB_Str_LowerCase(Self->Name);
	JB_SetRef(C->Internal, I);
	(SC_Decl_NameSet(I, Name));
	JB_SetRef(I->Source, Self->Source);
	((SC_Decl_SyntaxIsSet(I, kSC__SCDeclInfo_Library, false)));
	I->NilDeclared = kSC__NilState_Real;
	(SC_Decl_NameSet(C, Name));
	JB_SetRef(C->Source, Self->Source);
	C->PointerCount = 1;
	C->NilDeclared = kSC__NilState_Real;
	JB_SetRef(C->Contains, TypeNormal);
	(SC_Decl_SyntaxIsSet(C, kSC__SCDeclInfo_ClassObj, true));
	(SC_Decl_SyntaxIsSet(C, kSC__SCDeclInfo_Global, true));
	((SC_Decl_SyntaxIsSet(C, kSC__SCDeclInfo_Library, false)));
	if (!Self->IsRole) {
		SC_Decl_AddToGlobs(C);
	}
	return C;
}

int SC_Class_mini_size(SCClass* Self, int B) {
	Self->ClsSize = B;
	Self->ClsSizeRaw = B;
	Self->Alignment = B;
	return B;
}

void SC_Class_MissingVirtual(SCClass* Self, JB_String* S) {
	if (true) {
		JB_String* _tmPf0 = JB_Str_OperatorPlus(JB_LUB[924], S);
		JB_Incr(_tmPf0);
		JB_Msg_Fail(Self->Source, _tmPf0);
		JB_Decr(_tmPf0);
	}
}

void SC_Class_ModelDecls(SCClass* Self) {
	SCClass* M = SC_Class_GetFlyingMemClass(Self);
	JB_Incr(M);
	if (M) {
		SC_Class_NewDeclInClassModule(Self, JB_LUB[1188], M);
	}
	JB_Decr(M);
}

void SC_Class_NeedsDefaultValue(SCClass* Self, Message* Def, Message** Place, JB_String* Name) {
	if (Place[0]) {
		return;
	}
	if (SC_Class_IsObject(Self) and (!Self->IsRole)) {
		if (Def and (!(SC_Msg_OperatorIsThing(Def, JB_LUB[100])))) {
			if (true) {
				JB_String* _tmPf2 = JB_Str_OperatorPlus(JB_LUB[925], Self->Name);
				JB_Incr(_tmPf2);
				JB_String* _tmPf1 = JB_Str_OperatorPlus(Name, _tmPf2);
				JB_Incr(_tmPf1);
				JB_Decr(_tmPf2);
				JB_String* _tmPf0 = JB_Str_OperatorPlus(JB_LUB[830], _tmPf1);
				JB_Incr(_tmPf0);
				JB_Decr(_tmPf1);
				SC_SCObject_Fail(Self, _tmPf0);
				JB_Decr(_tmPf0);
			}
		}
	}
	JB_SetRef(Place[0], Def);
}

bool SC_Class_NeedsExport(SCClass* Self) {
	return Self->MyReacher or SC_Class_IsBehaviourTable(Self);
}

bool SC_Class_NeedsPackExport(SCClass* Self) {
	if (!(SC_Class_IsObject(Self) and (!Self->IsRole))) {
		return nil;
	}
	SCNode* R = Self->MyReacher;
	if (!(R and (!SC_Base_IsLibrary(R)))) {
		return nil;
	}
	if (SC_Base_IsLibrary(Self)) {
		if (SC_SCObject_SyntaxIs(((SCNode*)Self), kSC__SCNodeInfo_EmbeddedOnly)) {
			return nil;
		}
		if (!SC_Decl_SyntaxIs(Self->ClassType, kSC__SCDeclInfo_ASMReached)) {
			return nil;
		}
		if (SC_SCObject_SyntaxIs(((SCNode*)Self), kSC__SCNodeInfo_LibOnly)) {
		}
	}
	return true;
}

void SC_Class_NewDeclInClassModule(SCClass* Self, JB_String* S, SCClass* T) {
	SCDecl* Dcl = SC_Decl_Constructor(nil, T);
	JB_Incr(Dcl);
	(SC_Decl_NameSet(Dcl, S));
	SC_Base_TryAdd(Self->Modul, Self->IsModel, Dcl, S);
	JB_Decr(Dcl);
}

SCDecl* SC_Class_NotConst(SCClass* Self) {
	if (!Self) {
		return nil;
	}
	SCDecl* D = Self->_NotConst;
	if (D) {
		return D;
	}
	D = Self->TypeNormal;
	if (SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_NumberConst)) {
		D = SC_Decl_CopyDecl(D, false);
		(SC_Decl_SyntaxIsSet(D, kSC__SCDeclInfo_NumberConst, (!true)));
	}
	JB_SetRef(Self->_NotConst, D);
	return D;
}

int SC_Class_NumericCount(SCClass* Self) {
	if (Self) {
		return JB_TC_NumericCount(Self->TypeInfo);
	}
	return 0;
}

ClassInfo SC_Class_NumericReduction(SCClass* Self) {
	return Self->Flags & kSC__ClassInfo_NumericReduction;
}

void SC_Class_OverrideSyntax(SCClass* Self) {
	if (!JB_Rec_OK(JB_StdErr)) {
		return;
	}
	SC_Class_FindNilChecker(Self);
	JB_SetRef(Self->TheCompareFunc, SC_Class_FindSpecialFunc(Self, JB_LUB[1940], true));
	((SC_Class_SyntaxIsSet(Self, kSC__ClassInfo_HasEqualsFunc, JB_FreeIfDead(SC_Class_FindSpecialFunc(Self, JB_LUB[1939], true)) != nil)));
	JB_SetRef(Self->TheIsFunc, SC_Class_FindSpecialFunc(Self, JB_LUB[1967], true));
}

int SC_Class_PassableCount(SCClass* Self) {
	int Rz = 0;
	{
		Array* _LoopSrcf2 = Self->Properties;
		int _if0 = 0;
		while (true) {
			SCDecl* P = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (P == nil) {
				break;
			}
			Rz = (Rz + (!SC_Decl_IsCArray(P)));
			(++_if0);
		};
	}
	;
	return Rz;
}

void SC_Class_ProcessBehaviours(SCClass* Self) {
	SC_Imp_Use(Self->Project);
	SC_Class_ProcessBehavioursSub(Self);
	SC__Imp_Curr = nil;
}

void SC_Class_ProcessBehavioursSub(SCClass* Self) {
	SCBehaviour* B = Self->Behaviour;
	JB_Incr(B);
	if (!B) {
		JB_EarlyDecr(B);
		return;
	}
	SCModule* Table = B->FuncTable;
	JB_Incr(Table);
	if (!Table) {
		JB_EarlyDecr(Table);
		JB_EarlyDecr(B);
		return;
	}
	SCClass* TableCls = Table->Cls;
	JB_Incr(TableCls);
	JB_Decr(Table);
	if (!TableCls) {
		JB_EarlyDecr(TableCls);
		JB_EarlyDecr(B);
		return;
	}
	{
		DictionaryReader* _FnListf0 = JB_Dict_Navigate(B->Access);
		JB_Incr(_FnListf0);
		while (true) {
			SCObject* _valuef1 = ((SCObject*)JB_DictionaryReader_NextValue(_FnListf0));
			JB_Incr(_valuef1);
			if ((!_valuef1)) {
				JB_EarlyDecr(_valuef1);
				break;
			}
			SCFunction* Fn = ((SCFunction*)_valuef1);
			JB_Incr(Fn);
			JB_Decr(_valuef1);
			SC_Class_FillInterFaceIn(Self, Fn, false);
			JB_Decr(Fn);
		};
		JB_Decr(_FnListf0);
	}
	;
	{
		Array* _LoopSrcf5 = B->WrapperFuncs;
		JB_Incr(_LoopSrcf5);
		int _if3 = 0;
		while (true) {
			SCFunction* W = ((SCFunction*)JB_Array_Value(_LoopSrcf5, _if3));
			JB_Incr(W);
			if (W == nil) {
				JB_EarlyDecr(W);
				break;
			}
			SC_Class_FillInterFaceWrapper(Self, W);
			JB_Decr(W);
			(++_if3);
		};
		JB_Decr(_LoopSrcf5);
	}
	;
	{
		Dictionary* _LoopSrcf8 = B->Interfaces;
		JB_Incr(_LoopSrcf8);
		DictionaryReader* _navf6 = JB_Dict_Navigate(_LoopSrcf8);
		JB_Incr(_navf6);
		JB_Decr(_LoopSrcf8);
		while (true) {
			SCModule* Interface = ((SCModule*)JB_DictionaryReader_NextValue(_navf6));
			JB_Incr(Interface);
			if (Interface == nil) {
				JB_EarlyDecr(Interface);
				break;
			}
			SC_Mod_AddInterfaceToTable(Interface, TableCls);
			JB_Decr(Interface);
		};
		JB_Decr(_navf6);
	}
	;
	JB_Decr(B);
	JB_Decr(TableCls);
}

void SC_Class_ProcessInterfaces(SCClass* Self) {
	if (!SC_Class_IsInterface(Self)) {
		return;
	}
	SCFunction* Fn = Self->FuncProto;
	JB_Incr(Fn);
	if (!Fn) {
		JB_EarlyDecr(Fn);
		return;
	}
	SCNode* L = Fn->Parent;
	JB_Incr(L);
	if (JB_Object_FastIsa(L, &SCModuleData)) {
		SCClass* Cls = ((SCModule*)L)->Cls;
		JB_Incr(Cls);
		if (Cls) {
			SC_Func_AddSelfPrm(Fn, Cls);
		}
		JB_Decr(Cls);
	}
	JB_Decr(Fn);
	JB_Decr(L);
}

void SC_Class_Reach(SCClass* Self, SCNode* From, Message* Src) {
	//;
	if (!SC_Base_UnReached(Self, From)) {
		return;
	}
	Self->MyReacher = From;
	(++SC__Comp_stReachedClass);
	if (!SC_Class_IsDataTypeOnly(Self)) {
		JB_Array_SyntaxAppend(SC__Comp_ReachedClassTable, Self);
	}
	if (SC__Options_BannedClasses) {
		SC_Class_BannedCheck(Self, Src);
	}
	SCClass* S = Self->Super;
	if (S) {
		SC_Class_Reach(S, Self, nil);
	}
	SCBehaviour* B = Self->Behaviour;
	if (B) {
		SC_Class_Reach(B->FuncTable->Cls, Self, nil);
	}
	SCFunction* Df = Self->DestructorFunc;
	if (Df) {
		SC_Func_ReachFunc(Df, Self);
	}
	{
		Array* _LoopSrcf2 = Self->Properties;
		int _if0 = 0;
		while (true) {
			SCDecl* D = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (D == nil) {
				break;
			}
			SC_Decl_TypeReach(D, Self, D->Source);
			SC_Decl_TypeReach(D->Contains, Self, D->Source);
			(++_if0);
		};
	}
	;
	SC_Class_ReachBehaviours(Self);
}

void SC_Class_ReachBehaviours(SCClass* Self) {
	//;
	{
		Dictionary* _LoopSrcf2 = Self->Access;
		JB_Incr(_LoopSrcf2);
		DictionaryReader* _navf0 = JB_Dict_Navigate(_LoopSrcf2);
		JB_Incr(_navf0);
		JB_Decr(_LoopSrcf2);
		while (true) {
			SCObject* F = ((SCObject*)JB_DictionaryReader_NextValue(_navf0));
			JB_Incr(F);
			if (F == nil) {
				JB_EarlyDecr(F);
				break;
			}
			if (JB_Object_FastIsa(F, &SCFunctionData)) {
				if (SC_Func_IsBehaviour(((SCFunction*)F))) {
					SC_Func_ReachFunc(((SCFunction*)F), Self);
				}
			}
			JB_Decr(F);
		};
		JB_Decr(_navf0);
	};
}

bool SC_Class_Real_Isa(SCClass* Self, SCClass* Cls) {
	return SC_Class_IsA(SC_Class_RealClass(Self), Cls);
}

bool SC_Class_Real_Isa2(SCClass* Self, SCClass* Cls) {
	return SC_Class_IsA(SC_Class_RealClass(Self), SC_Class_RealClass(Cls));
}

SCClass* SC_Class_RealClass(SCClass* Self) {
	SCClass* S = Self;
	while (S and S->IsRole) {
		S = S->Super;
	};
	return S;
}

SCClass* SC_Class_RealSuper(SCClass* Self) {
	SCClass* S = Self->Super;
	if (S) {
		return SC_Class_RealClass(S);
	}
	return nil;
}

void SC_Class_RenameInterfaces(SCClass* Self) {
	SCBehaviour* B = Self->Behaviour;
	JB_Incr(B);
	if (!B) {
		JB_EarlyDecr(B);
		return;
	}
	{
		Dictionary* _LoopSrcf2 = B->Interfaces;
		JB_Incr(_LoopSrcf2);
		DictionaryReader* _navf0 = JB_Dict_Navigate(_LoopSrcf2);
		JB_Incr(_navf0);
		JB_Decr(_LoopSrcf2);
		while (true) {
			SCModule* F = ((SCModule*)JB_DictionaryReader_NextValue(_navf0));
			JB_Incr(F);
			if (F == nil) {
				JB_EarlyDecr(F);
				break;
			}
			SCClass* It = F->Cls;
			JB_Incr(It);
			JB_Decr(F);
			if (It) {
				JB_SetRef(It->Name, JB_Str_OperatorPlus(It->CppClass, It->Name));
			}
			JB_Decr(It);
		};
		JB_Decr(_navf0);
	}
	;
	JB_Decr(B);
}

JB_String* SC_Class_Render(SCClass* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	JB_FreeIfDead(SC_SCObject_Render(Self, Fs));
	if (SC_Class_IsStruct(Self)) {
		JB_FS_AppendString(Fs, JB_LUB[567]);
	}
	if (SC_Class_NumericCount(Self)) {
		JB_FS_AppendString(Fs, JB_LUB[568]);
	}
	if (Self->FuncProto) {
		JB_FS_AppendString(Fs, JB_LUB[569]);
	}
	 else if (SC_Class_IsDataTypeOnly(Self)) {
		JB_FS_AppendString(Fs, JB_LUB[570]);
	}
	if (Self->IsModel) {
		JB_FS_AppendString(Fs, JB_LUB[571]);
	}
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

void SC_Class_SimplerDataTypes(SCClass* Self, FastString* Fs, SCDecl* D) {
	if (SC_Class_IsDataTypeOnly(Self)) {
		uint T = Self->TypeInfo;
		if ((JB_TC_VecCount(T) <= 1) and ((JB_TC_SyntaxIs(T, kJB__TC_Numeric)) and (JB_TC_ByteCount(T) < 4))) {
			if (JB_TC_IsFloat(T)) {
			}
			if (JB_TC_IsSigned(T)) {
				JB_FS_AppendString(Fs, JB_LUB[167]);
			}
			 else {
				JB_FS_AppendString(Fs, JB_LUB[193]);
			}
			if (SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_Param)) {
				JB_FS_AppendString(Fs, JB_LUB[657]);
				JB_String* _tmPf0 = SC_Class_CStructName(Self);
				JB_Incr(_tmPf0);
				JB_FS_AppendString(Fs, _tmPf0);
				JB_Decr(_tmPf0);
				JB_FS_AppendString(Fs, JB_LUB[658]);
			}
			return;
		}
	}
	JB_String* _tmPf1 = SC_Class_CStructName(Self);
	JB_Incr(_tmPf1);
	JB_FS_AppendString(Fs, _tmPf1);
	JB_Decr(_tmPf1);
}

JB_String* SC_Class_StructName(SCClass* Self) {
	if (SC_Class_IsDataTypeOrFP(Self)) {
		return Self->Name;
	}
	JB_String* _tmPf0 = SC_Base_SubProjName(Self);
	JB_Incr(_tmPf0);
	JB_String* _tmPf1 = JB_Str_OperatorPlus(JB_LUB[385], Self->Name);
	JB_Incr(_tmPf1);
	JB_String* _tmPf2 = JB_Str_OperatorPlus(_tmPf0, _tmPf1);
	JB_Incr(_tmPf2);
	JB_Decr(_tmPf0);
	JB_EarlyDecr(_tmPf1);
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

bool SC_Class_EqualsName(SCClass* Self, JB_String* Name) {
	//cpp_part;
	if (Self) {
		return (JB_Str_Equals(Self->Name, Name, true));
	}
	return false;
}

bool SC_Class_EqualsType(SCClass* Self, SCNodeType D) {
	//cpp_part;
	if (Self and (D > kSC__SCNodeType_Module)) {
		return Self->BaseType == D;
	}
	return false;
}

bool SC_Class_SyntaxIs(SCClass* Self, ClassInfo Cls) {
	return ((bool)(Self->Flags & Cls));
}

void SC_Class_SyntaxIsSet(SCClass* Self, ClassInfo Cls, bool Value) {
	if (Value) {
		Self->Flags = (Self->Flags | Cls);
	}
	 else {
		Self->Flags = (Self->Flags & (~Cls));
	}
}

void SC_Class_TaskProperties(SCClass* Self) {
	{
		Array* _LoopSrcf2 = Self->Properties;
		int _if0 = 0;
		while (true) {
			SCDecl* P = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (P == nil) {
				break;
			}
			(SC_Decl_SyntaxIsSet(P, kSC__SCDeclInfo_Task, true));
			(++_if0);
		};
	};
}

bool SC_Class_TestBanned(SCClass* Self) {
	return SC_Comp__Banned(Self->Name);
}

void SC_Class_TryAddToProject(SCClass* Self) {
	if (Self->FuncProto) {
		return;
	}
	Message* NameNode = ((Message*)JB_Ring_First(Self->Source));
	SCModule* Mod = SC__Comp_DisamClasses;
	if (JB_Msg_EqualsSyx(NameNode, kJB_SyxDot)) {
		Mod = SC_Comp__FindModuleMsg(((Message*)JB_Ring_First(NameNode)), 0);
		if (!Mod) {
			return;
		}
	}
	 else {
		if ((JB_Str_Equals(Self->Name, JB_LUB[1280], false)) and JB_Object_FastIsa(Self, &SCClassData)) {
			if (((SCClass*)Self)->IsRole == 1) {
				return;
			}
		}
	}
	SC_Base_TryAdd(Mod, SC_Base_SourceArg(Self), Self->Modul, Self->Name);
}

void SC_Class_WriteStructOrUnion(SCClass* Self, FastStringCpp* Fs) {
	if (Self->IsWrapper == 2) {
		JB_FS_AppendString(Fs, JB_LUB[67]);
	}
	 else {
		JB_FS_AppendString(Fs, JB_LUB[68]);
	}
}

SCModule* SC_Class__DataTypeSub(Message* Node, SCNode* Parent, Message* ErrPlace, JB_String* ForInterface, SCNodeType BaseType) {
	if (Node->Obj) {
		return SC__Comp_Program;
	}
	JB_FreeIfDead(JB_Msg_GiveArg(Node));
	SCClass* It = SC_Class__NeuClassSub(Node, Parent, ErrPlace, ForInterface, BaseType);
	JB_Incr(It);
	if (It) {
		SC_Class_ClassCollect(It);
		if ((((Array*)JB_Array_SyntaxCast(It->Properties)))) {
			JB_Msg_Fail(It->Source, JB_LUB[1927]);
			JB_EarlyDecr(It);
			return nil;
		}
		SCModule* M = It->Modul;
		JB_Incr(M);
		JB_SetRef(Node->Obj, M);
		JB_EarlyDecr(It);
		JB_SafeDecr(M);
		return M;
	}
	JB_EarlyDecr(It);
	return nil;
}

SCNode* SC_Class__ExtendOneFunc(Message* Node) {
	JB_Tree_SyntaxAppend(SC__Comp_ExtendList, Node);
	JB_SetRef(Node->Obj, SC__Imp_Curr);
	Message* Dot = ((Message*)JB_Ring_First(Node));
	JB_Incr(Dot);
	Message* Name = ((Message*)JB_Ring_First(Dot));
	JB_Incr(Name);
	JB_Decr(Dot);
	if (!((JB_Msg_EqualsSyx(Name, kJB_SyxThg)) or ((JB_Msg_EqualsSyx(Name, kJB_SyxName)) or (JB_Msg_EqualsSyx(Name, kJB_SyxBra))))) {
		JB_Msg_Fail(Name, nil);
	}
	Message* Emb = ((Message*)JB_Ring_NextSib(Name));
	JB_Incr(Emb);
	JB_Decr(Name);
	if (Emb) {
		if ((JB_Msg_EqualsSyx(Emb, kJB_SyxPrm))) {
			JB_Msg_Fail(Emb, JB_LUB[926]);
		}
		JB_Tree_Remove(Emb);
	}
	JB_EarlyDecr(Emb);
	return SC__Comp_Program;
}

SCNode* SC_Class__GetDefault(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	SCClass* Cls = ((SCClass*)JB_Object_FastAs(Name_space, &SCClassData));
	JB_Incr(Cls);
	if (Cls) {
		JB_SetRef(Cls->Defawlt, JB_Msg_NeedFirst(Node));
	}
	JB_EarlyDecr(Cls);
	return nil;
}

SCNode* SC_Class__GetFalse(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	if (JB_Object_FastIsa(Name_space, &SCClassData)) {
		JB_SetRef(((SCClass*)Name_space)->False, JB_Msg_NeedFirst(Node));
	}
	return nil;
}

JB_String* SC_Class__LoadClassName(Message* Node) {
	Message* S = ((Message*)JB_Ring_First(Node));
	if ((JB_Msg_EqualsSyx(S, kJB_SyxThg)) or (JB_Msg_EqualsSyx(S, kJB_SyxDot))) {
		return S->Name;
	}
	if (JB_Msg_EqualsSyx(S, kJB_SyxRel)) {
		if (true) {
			JB_Msg_Fail(Node, JB_LUB[927]);
		}
	}
	 else {
		if (true) {
			JB_Msg_Fail(Node, JB_LUB[928]);
		}
	}
	return JB_LUB[0];
}

SCNode* SC_Class__LoadSyntax(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	JB_String* Name = JB_Str_UpperFirst(Node->Name);
	JB_Incr(Name);
	Message* AlreadyName = JB_Msg_NeedSyx(Node, kJB_SyxThg);
	JB_Incr(AlreadyName);
	if (!AlreadyName) {
		JB_EarlyDecr(AlreadyName);
		JB_EarlyDecr(Name);
		return nil;
	}
	JB_SetRef(Node->Name, JB_LUB[632]);
	if (JB_Msg_SyntaxEquals(AlreadyName, JB_LUB[2119], true)) {
		SC_Msg_SortImprove(Node, Name_space);
	}
	JB_String* _tmPf0 = JB_Str_UpperFirst(AlreadyName->Name);
	JB_Incr(_tmPf0);
	JB_SetRef(AlreadyName->Name, JB_Str_OperatorPlus(Name, _tmPf0));
	JB_Decr(Name);
	JB_Decr(AlreadyName);
	JB_EarlyDecr(_tmPf0);
	return SC_Func__NewFunc(Node, Name_space, ErrPlace);
}

SCNode* SC_Class__NeuClass(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	SCNode* Rz = nil;
	JB_Incr(Rz);
	SCClass* Cls = SC_Class__NeuClassSub(Node, Name_space, ErrPlace, JB_LUB[0], kSC__SCNodeType_Object);
	JB_Incr(Cls);
	if (Cls) {
		SC_Class_ClassCollect(Cls);
		JB_SetRef(Rz, Cls->Modul);
	}
	JB_EarlyDecr(Cls);
	JB_SafeDecr(Rz);
	return Rz;
}

SCClass* SC_Class__NeuClassSub(Message* Node, SCNode* Parent, Message* ErrPlace, JB_String* ForInterface, SCNodeType Base) {
	if (!JB_Str_Exists(ForInterface)) {
		if (!SC_Base_ExpectModule(Parent, ErrPlace)) {
			return nil;
		}
	}
	Message* Arg = JB_Msg_GiveArg(Node);
	JB_Incr(Arg);
	SCModule* _tmPf1 = SC_Mod_Constructor(nil);
	JB_Incr(_tmPf1);
	SCClass* Cls = SC_Class_Constructor(nil, Node, SC_SCNodeType_HasPtrs(Base), _tmPf1);
	JB_Incr(Cls);
	JB_Decr(_tmPf1);
	Cls->BaseType = Base;
	if (SC_SCNodeType_SyntaxIs(Base, kSC__SCNodeType_Object)) {
		(SC_Class_SyntaxIsSet(Cls, kSC__ClassInfo_SortsProperties, true));
		Cls->TypeInfo = kJB__TC__voidptr;
	}
	 else if (SC_Class_IsDataTypeOrFP(Cls)) {
		(SC_Class_SyntaxIsSet(Cls, kSC__ClassInfo_Stateless, true));
		if (SC_SCNodeType_SyntaxIs(Base, kSC__SCNodeType_ProtoType)) {
			Cls->TypeInfo = kJB__TC__voidptr;
		}
	}
	Cls->ASMTypeInfo = Cls->TypeInfo;
	Cls->IsRole = ((int)((JB_Msg_SyntaxEquals(Node, JB_LUB[450], true))));
	Message* SA = SC_Base_SourceArg(Cls);
	JB_Incr(SA);
	JB_Decr(SA);
	SC_Class_LoadLinkage(Cls);
	JB_Array_SyntaxAppend(SC__Comp_ClassList, Cls);
	Message* Module = JB_Msg_FindSyxName(Arg, kJB_SyxTmp, JB_LUB[447], false);
	JB_Incr(Module);
	JB_Decr(Arg);
	SC_Class_LoadModuleForCls(Cls, Module, Parent);
	JB_Decr(Module);
	if (JB_Str_Exists(ForInterface) and JB_Object_FastIsa(Parent, &SCModuleData)) {
		JB_String* _tmPf2 = SC_Str_UnicodeSafeName(((SCModule*)Parent)->Cls->Name, nil);
		JB_Incr(_tmPf2);
		JB_String* _tmPf3 = SC_Str_UnicodeSafeName(ForInterface, nil);
		JB_Incr(_tmPf3);
		JB_SetRef(Cls->CppClass, JB_Str_Append6(JB_LUB[156], _tmPf2, JB_LUB[385], _tmPf3, JB_LUB[156], nil));
		JB_Decr(_tmPf2);
		JB_Decr(_tmPf3);
	}
	JB_SafeDecr(Cls);
	return Cls;
}

SCNode* SC_Class__NeuRole(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	SCModule* Mod = ((SCModule*)SC_Class__NeuClass(Node, Name_space, ErrPlace));
	JB_Incr(Mod);
	if (!Mod) {
		JB_EarlyDecr(Mod);
		return nil;
	}
	SCClass* Cls = Mod->Cls;
	JB_Incr(Cls);
	if (!Cls) {
		JB_EarlyDecr(Cls);
		JB_EarlyDecr(Mod);
		return nil;
	}
	Cls->IsRole = 1;
	if (!(((Array*)JB_Array_SyntaxCast(Cls->Properties)))) {
		JB_EarlyDecr(Cls);
		JB_SafeDecr(Mod);
		return Mod;
	}
	JB_Decr(Mod);
	JB_EarlyDecr(Cls);
	return nil;
}

SCNode* SC_Class__NewDataType(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	return SC_Class__DataTypeSub(Node, Name_space, ErrPlace, JB_LUB[0], kSC__SCNodeType_DataType);
}

SCNode* SC_Class__NewInnerClass(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	if (JB_Object_FastIsa(Name_space, &SCClassData)) {
		return SC_Class__NeuClass(Node, ((SCClass*)Name_space)->Modul, ErrPlace);
	}
	return nil;
}

SCNode* SC_Class__NewStruct(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	SCClass* It = SC_Class__NeuClassSub(Node, Name_space, ErrPlace, JB_LUB[0], kSC__SCNodeType_Struct);
	JB_Incr(It);
	if (It) {
		It->BaseType = kSC__SCNodeType_Struct;
		SC_Class_ClassCollect(It);
		SCModule* _tmPf0 = It->Modul;
		JB_Incr(_tmPf0);
		JB_EarlyDecr(It);
		JB_SafeDecr(_tmPf0);
		return _tmPf0;
	}
	JB_EarlyDecr(It);
	return nil;
}

SCNode* SC_Class__ProcessAs(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	Message* Name = JB_Msg_NeedSyx(Node, kJB_SyxThg);
	JB_Incr(Name);
	if (!Name) {
		JB_EarlyDecr(Name);
		return nil;
	}
	SCClass* Cls = SC_Comp__SyntaxAccess(Name);
	JB_Incr(Cls);
	JB_Decr(Name);
	if (!Cls) {
		JB_EarlyDecr(Cls);
		return nil;
	}
	if (JB_Object_MustBe(Name_space, &SCClassData, Node)) {
		JB_SetRef(((SCClass*)Name_space)->ProcessAs, Cls);
	}
	JB_EarlyDecr(Cls);
	return SC__Comp_Program;
}

SCFunction* SC_Class__ProcessExtend(Message* C, bool PreferClass, SCModule* M) {
	JB_Incr(M);
	if ((JB_Msg_EqualsSyx(C, kJB_SyxTmp)) and ((JB_Msg_SyntaxEquals(C, JB_LUB[452], false)) or (JB_Msg_SyntaxEquals(C, JB_LUB[2110], false)))) {
		SC_Class__ProcessExtendOld(C, PreferClass);
		JB_EarlyDecr(M);
		return nil;
	}
	Message* Dot = JB_Msg_NeedSyx(C, kJB_SyxDot);
	JB_Incr(Dot);
	if (!Dot) {
		JB_EarlyDecr(M);
		JB_EarlyDecr(Dot);
		return nil;
	}
	Message* Name = JB_Msg_NeedSyx(Dot, kJB_SyxNil);
	JB_Incr(Name);
	if (!Name) {
		JB_EarlyDecr(M);
		JB_EarlyDecr(Name);
		JB_EarlyDecr(Dot);
		return nil;
	}
	if (!((JB_Msg_EqualsSyx(Name, kJB_SyxThg)) or (JB_Msg_EqualsSyx(Name, kJB_SyxName)))) {
		JB_Msg_Fail(Name, nil);
		JB_EarlyDecr(M);
		JB_EarlyDecr(Name);
		JB_EarlyDecr(Dot);
		return nil;
	}
	if (!M) {
		JB_SetRef(M, SC_Comp__FindModuleMsg(Name, 0));
	}
	if (!M) {
		JB_EarlyDecr(M);
		JB_EarlyDecr(Name);
		JB_EarlyDecr(Dot);
		return nil;
	}
	JB_Tree_Clear(Dot);
	Dot->Func = kJB_SyxThg;
	JB_Decr(Dot);
	SCNode* B = M;
	JB_Incr(B);
	if (JB_Msg_EqualsSyx(Name, kJB_SyxName)) {
		PreferClass = false;
	}
	SCClass* Mcls = M->Cls;
	JB_Incr(Mcls);
	JB_Decr(M);
	if (PreferClass and Mcls) {
		JB_SetRef(B, Mcls);
	}
	JB_Decr(Mcls);
	Name->Func = kJB_SyxThg;
	JB_Decr(Name);
	SCImport* Imp = ((SCImport*)JB_Object_FastAs(C->Obj, &SCImportData));
	JB_Incr(Imp);
	if (Imp) {
		SC_Imp_Use(Imp);
	}
	 else {
		SC_Imp_Use(B->Project);
	}
	JB_Decr(Imp);
	SCFunction* Fn = SC_Func__NewFuncSub(C, B);
	JB_Incr(Fn);
	SC_Func_TryAdd(Fn, B);
	JB_Decr(B);
	JB_SafeDecr(Fn);
	return Fn;
}

void SC_Class__ProcessExtendOld(Message* C, bool PreferClass) {
	Message* Name = JB_Msg_NeedSyx(C, kJB_SyxThg);
	JB_Incr(Name);
	if (Name) {
		Message* Arg = JB_Msg_Last(C, kJB_SyxArg);
		JB_Incr(Arg);
		SCModule* M = SC_Comp__FindModuleMsg(Name, 0);
		JB_Incr(M);
		if (M and Arg) {
			SCNode* B = M;
			JB_Incr(B);
			SCClass* Cls = M->Cls;
			JB_Incr(Cls);
			if (PreferClass and Cls) {
				JB_SetRef(B, Cls);
			}
			JB_Decr(Cls);
			SCImport* Imp = ((SCImport*)JB_Object_FastAs(C->Obj, &SCImportData));
			JB_Incr(Imp);
			if (Imp) {
				SC_Imp_Use(Imp);
			}
			 else {
				SC_Imp_Use(B->Project);
			}
			JB_Decr(Imp);
			Message* _tmPf0 = SC_Base_SourceArg(M);
			JB_Incr(_tmPf0);
			SC_Base_CollectFromNode(B, Arg, SC_Msg_visible(C), _tmPf0);
			JB_Decr(B);
			JB_Decr(_tmPf0);
		}
		JB_Decr(Arg);
		JB_Decr(M);
	}
	JB_Decr(Name);
}

SCNode* SC_Class__SetSize(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	if (JB_Object_FastIsa(Name_space, &SCClassData)) {
		((SCClass*)Name_space)->ClsSize = JB_Msg_Int(((Message*)JB_Ring_First(Node)), 0);
	}
	return SC__Comp_Program;
}

SortComparison SC_Class__Sorter(SCClass* Self, SCClass* B) {
	return SC_Mod__Sorter(Self->Modul, B->Modul);
}

SCNode* SC_Class__StoreExtend(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	(SC_Msg_visibleSet(Node, SC__Base_CurrVisibility));
	JB_Tree_SyntaxAppend(SC__Comp_ExtendList, Node);
	JB_SetRef(Node->Obj, SC__Imp_Curr);
	return SC__Comp_Program;
}

SCNode* SC_Class__StoreExtendModule(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	JB_Array_SyntaxAppend(SC__Comp_ExtendModuleList, Node);
	JB_SetRef(Node->Obj, SC__Imp_Curr);
	return SC__Comp_Program;
}


void SC_Func_AddConstructorReturn(SCFunction* Self, Message* Prms) {
	SCClass* C = Self->Cls;
	if (!C) {
		return;
	}
	(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_NewNew, true));
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Prms, (&_usingf0));
	Message* Dcl = JB_Msg_Msg(Prms, kJB_SyxDecl, JB_LUB[0]);
	JB_Msg_AppendSyx(JB_Msg_Msg(Dcl, kJB_SyxARel, JB_LUB[96]), kJB_SyxThg, C->Name);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Prms);
	JB_MsgPos_Destructor((&_usingf0));
}

void SC_Func_AddConstructorReturn2(SCFunction* Self) {
	SCClass* C = Self->Cls;
	JB_Incr(C);
	if (!(C and ((!SC_Func_SyntaxIs(Self, kSC__FunctionType_Wrapper)) and SC_Func_SyntaxIs(Self, kSC__FunctionType_NewNew)))) {
		JB_EarlyDecr(C);
		return;
	}
	Message* Args = JB_Msg_NeedSyxInt(Self->Source, kJB_SyxArg, 2);
	JB_Incr(Args);
	if (!Args) {
		JB_EarlyDecr(Args);
		JB_EarlyDecr(C);
		return;
	}
	//using;
	Message* __varf1 = Self->Source;
	JB_Incr(__varf1);
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(__varf1, (&_usingf0));
	if (SC_Class_IsObject(C)) {
		Message* Type = JB_Msg_Constructor(nil, nil, kJB_SyxThg, C->Name);
		JB_Incr(Type);
		if (SC_Class_IsTask(C)) {
			Message* _tmPf2 = JB_Macro_CallFast(SC__Macros_ConstructorNewTask, Type, nil);
			JB_Incr(_tmPf2);
			(JB_Ring_FirstSet(Args, _tmPf2));
			JB_Decr(_tmPf2);
		}
		 else {
			Message* _tmPf3 = JB_Macro_CallFast(SC__Macros_ConstructorNew, Type, nil);
			JB_Incr(_tmPf3);
			(JB_Ring_FirstSet(Args, _tmPf3));
			JB_Decr(_tmPf3);
			Message* Prms = ((Message*)JB_Ring_Parent(Type));
			JB_Incr(Prms);
			(SC_Msg_ASMTypeSet(Prms, kSC__ASMType_kRefCount));
			JB_Decr(Prms);
		}
		JB_Decr(Type);
		Message* _tmPf4 = ((Message*)JB_Tree_FlatLast(Args));
		JB_Incr(_tmPf4);
		JB__Tk_Using.Position = _tmPf4->Position;
		JB_Decr(_tmPf4);
		Message* _tmPf5 = JB_Msg_Msg(Args, kJB_SyxTmp, JB_LUB[453]);
		JB_Incr(_tmPf5);
		JB_Msg_AppendSyx(_tmPf5, kJB_SyxThg, JB_LUB[401]);
		JB_Decr(_tmPf5);
	}
	 else {
		SCDecl* Ret = ((SCDecl*)JB_Array_First(Self->Args));
		JB_Incr(Ret);
		if (Ret) {
			Self->StructReturnPos = 1;
			(SC_Decl_SyntaxIsSet(Ret, kSC__SCDeclInfo_IntendedAsReturn, true));
		}
		JB_Decr(Ret);
	}
	JB_Decr(C);
	JB_Decr(Args);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), __varf1);
	JB_Decr(__varf1);
	JB_MsgPos_Destructor((&_usingf0));
}

void SC_Func_AddSelfPrm(SCFunction* Self, SCClass* Cls) {
	Message* Prms = JB_Msg_FindSyx(Self->Source, kJB_SyxPrm);
	JB_Incr(Prms);
	Message* Name = ((Message*)JB_Ring_First(Self->Source));
	JB_Incr(Name);
	if (!Name) {
		JB_Msg_Fail(Self->Source, JB_LUB[1514]);
		JB_EarlyDecr(Name);
		JB_EarlyDecr(Prms);
		return;
	}
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Name, (&_usingf0));
		if (!Prms) {
			JB_SetRef(Prms, JB_Syx_Msg(kJB_SyxPrm, JB_LUB[0]));
			(JB_Ring_NextSibSet(Name, Prms));
		}
		Message* _tmPf1 = SC_MakeDecl(Cls->Name, JB_LUB[401], nil, 0);
		JB_Incr(_tmPf1);
		(JB_Ring_FirstSet(Prms, _tmPf1));
		JB_Decr(_tmPf1);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Name);
		JB_MsgPos_Destructor((&_usingf0));
	}
	JB_Decr(Prms);
	JB_Decr(Name);
}

void SC_Func_AddSelfToFunc(SCFunction* Self, SCClass* Cls, SCNode* Space) {
	SCDecl* Sl = Cls->SelfDecl;
	Sl = SC_Decl_CopyDeclForVar(Sl);
	if (SC_Decl_TypeSuffers(Sl)) {
		if (SC_Func_SyntaxIs(Self, kSC__FunctionType_Destructor)) {
			Sl = SC_Decl_MakeNewReal(Sl);
		}
		 else if ((SC_Func_SyntaxIs(Self, kSC__FunctionType_Constructor)) and SC_Class_IsObject(Cls)) {
			Sl = SC_Decl_MakeNewOptional(Sl);
		}
	}
	(SC_Decl_SyntaxIsSet(Sl, kSC__SCDeclInfo_SelfImplicit, true));
	SC_Base_TryAdd(Space, SC_Base_FuncSrc(Space), Sl, JB_LUB[401]);
	JB_Array_SyntaxAppend(Self->Args, Sl);
}

void SC_Func_AddTrin(SCFunction* Self, Message* Msg) {
	Message* L = JB_Msg_NeedSyxOK(Msg, kJB_SyxBra, kJB_SyxList);
	if (L) {
		JB_Array_SyntaxAppend(SC__Intrinsics_Floats, L);
		JB_SetRef(L->Obj, Self);
		(JB_Ring_NextSibSet(Msg, JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[1130])));
	}
}

void SC_Func_AddTypeInfo(SCFunction* Self, SCDecl* Dcl) {
	uint T = SC_Decl_CalculateDataType(Dcl);
	if (!JB_TC_SpecialReg(T)) {
		(++Self->IntPrmCount);
	}
}

void SC_Func_AnalyseRefs(SCFunction* Self, Array* List) {
	Message* Root = SC_Func_SourceArg(Self);
	JB_Incr(Root);
	bool IsConstructor = SC_Func_SyntaxIs(Self, kSC__FunctionType_Constructor);
	{
		Message* Msg = Root;
		JB_Incr(Msg);
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Root));
		JB_Incr(_afterf1);
		while ((Msg) and (Msg != _afterf1)) {
			Message* _N_f2 = ((Message*)JB_Ring_FlatNext0(Msg));
			JB_Incr(_N_f2);
			int It = SC_Msg_RC_HasTemporary(Msg);
			if (It) {
				if (SC_Func_DoRefs(Self) or (It != kSC__Refs_kBasisObj)) {
					SC_Refs__RC_HandleDisappearing(Msg, It);
				}
			}
			JB_SetRef(Msg, _N_f2);
			JB_Decr(_N_f2);
		};
		JB_Decr(Msg);
		JB_Decr(_afterf1);
		;
	}
	;
	{
		Message* Msg = ((Message*)JB_Ring_First(Root));
		JB_Incr(Msg);
		Message* _After_f4 = ((Message*)JB_Ring_FlatAfter(Root));
		JB_Incr(_After_f4);
		while (Msg and (Msg != _After_f4)) {
			if (!(JB_Msg_OperatorIn(Msg, kJB_SyxArg))) {
				JB_SetRef(Msg, ((Message*)JB_Ring_FlatNext0(Msg)));
				continue;
			}
			JB_Array_SyntaxAppend(List, Msg);
			JB_SetRef(Msg, ((Message*)JB_Ring_FlatNext0(Msg)));
		};
		JB_Decr(Msg);
		JB_Decr(_After_f4);
	}
	;
	JB_Decr(Root);
	if (SC_Func_DoRefs(Self)) {
		{
			Array* _LoopSrcf7 = Self->Args;
			JB_Incr(_LoopSrcf7);
			int _if5 = 0;
			while (true) {
				SCDecl* Ar = ((SCDecl*)JB_Array_Value(_LoopSrcf7, _if5));
				JB_Incr(Ar);
				if (Ar == nil) {
					JB_EarlyDecr(Ar);
					break;
				}
				if ((SC_Decl_SyntaxIs(Ar, kSC__SCDeclInfo_Altered)) and (SC_Decl_IsNormalObject(Ar))) {
					SC_Refs__RC_DeclArg(Ar, Self);
				}
				JB_Decr(Ar);
				(++_if5);
			};
			JB_Decr(_LoopSrcf7);
		};
	}
	{
		int _if8 = JB_Array_Size(List) - 1;
		while (true) {
			Message* Msg = ((Message*)JB_Array_Value(List, _if8));
			JB_Incr(Msg);
			if (Msg == nil) {
				JB_EarlyDecr(Msg);
				break;
			}
			JB__Tk_Using.Position = -1;
			Syntax F = Msg->Func;
			if (F == kJB_SyxRel) {
				if (IsConstructor and SC_SettingSelfProperty(Msg)) {
					SC_Refs__RC_RelConstructor(Msg);
				}
				 else if (SC_Func_DoRefs(Self) or SC_SettingMemory(Msg)) {
					SC_Refs__RC_Rel(Msg);
				}
			}
			 else if (F == kJB_SyxDot) {
				SC_Refs__RC_IgnoreReturn(Msg);
			}
			 else if (F == kJB_SyxFunc) {
				if (!SC_Func_DoRefs(Self)) {
					SC_Refs__RC_CheckNoObjPms(Msg);
				}
				SC_Refs__RC_CheckFuncAllocOK(Self, Msg);
				SC_Refs__RC_IgnoreReturn(Msg);
			}
			 else if (SC_Msg_IsStatementExpr(Msg)) {
				SC_Refs__RC_IgnoreReturn(Msg);
			}
			 else if (F == kJB_SyxDecl) {
				SC_Refs__DeclInit(Msg, Self, false);
			}
			JB_Decr(Msg);
			(--_if8);
		};
	};
}

int SC_Func_ApparantArgCount(SCFunction* Self) {
	int A = JB_Array_Size(Self->Args);
	A = (A - ((bool)Self->Cls));
	A = (A - Self->IsAssigns);
	return A;
}

SCFunction* SC_Func_ArgsMatch(SCFunction* Self, SCDecl* Base, SCNode* Name_space, SCParamArray* Incoming, int Failed) {
	SCFunction* Rz = nil;
	Rz = SC_Func_ArgsMatch1(Self, Base, Name_space, Incoming, Failed);
	if (!Rz) {
		Rz = SC_Func_ArgsMatch1(Self, Base, Name_space, Incoming, kJB_kTypeCastAssigns | Failed);
	}
	if (Failed and (!SC_PA_MadeError(Incoming))) {
		if (true) {
			JB_Msg_Fail(Incoming->Exp, JB_Str_OperatorPlus(JB_LUB[2124], SC_Func_RenderTitle(Self, true, nil)));
		}
	}
	 else if (Rz) {
		return SC_Func_MatchImprove(Rz, Incoming);
	}
	return Rz;
}

SCFunction* SC_Func_ArgsMatch1(SCFunction* Self, SCDecl* Base, SCNode* Name_space, SCParamArray* Incoming, int Cast) {
	SCFunction* F = SC_Func_ArgsMatch2(Self, Base, kJB_kTypeCastFalse | Cast, Name_space, Incoming);
	SCFunction* Macro = F;
	if (!SC_Func_IsReal(F)) {
		F = SC_Func_ArgsMatch2(Self, Base, kJB_kTypeCastNumbers | Cast, Name_space, Incoming);
		if (F) {
			Macro = F;
		}
		if (!SC_Func_IsReal(F)) {
			F = SC_Func_ArgsMatch2(Self, Base, kJB_kTypeCastTrue | Cast, Name_space, Incoming);
		}
	}
	if (SC_Func_IsReal(F) and Incoming->HasSide) {
		SC_Msg_AssignsFix(Incoming->Exp, F);
	}
	if (F) {
		return F;
	}
	return Macro;
}

SCFunction* SC_Func_ArgsMatch2(SCFunction* Self, SCDecl* Base, int TypeCast, SCNode* Name_space, SCParamArray* Incoming) {
	SCFunction* Rz = nil;
	int BestMatch = 0;
	SCFunction* Missing = nil;
	{
		SCFunction* F = Self;
		while (F) {
			if (F->IsMacro) {
				Missing = F;
				F = F->NextFunc;
				continue;
			}
			int Match = SC_Func_ArgsMatch3(F, TypeCast, Base, false, Name_space, Incoming);
			if (Match) {
				SCFunction* Better = F;
				if (Rz) {
					Better = SC_Func_TryKeepBetter(Rz, BestMatch, F, Match);
					if (!Better) {
						return SC_PA_MultipleMatchingFunctions(Incoming, TypeCast, F, Rz);
					}
				}
				if (Rz != Better) {
					Rz = Better;
					BestMatch = Match;
				}
			}
			F = F->NextFunc;
		};
	}
	;
	if (!Rz) {
		return Missing;
	}
	if (BestMatch & (kJB_kNeeds | kJB_kUseDefaultParams)) {
		((Message*)JB_Ring_Last(Incoming->Exp))->Func = kJB_SyxPrm;
		SC_Func_ArgsMatch3(Rz, TypeCast, Base, true, Name_space, Incoming);
	}
	return Rz;
}

int SC_Func_ArgsMatch3(SCFunction* Self, int TypeCast, SCDecl* Base, bool ThisAlter, SCNode* Name_space, SCParamArray* Incoming) {
	if (Self->IsAssigns and Self->ReturnType) {
		SCDecl* A = ((SCDecl*)JB_Array_Value(Self->Args, 0));
		JB_Incr(A);
		Message* _tmPf0 = SC_PA_SyntaxAccess(Incoming, 0);
		JB_Incr(_tmPf0);
		SCDecl* I = SC_TypeOfExpr(_tmPf0, Name_space, nil);
		JB_Incr(I);
		JB_Decr(_tmPf0);
		if (!(I and A)) {
			JB_EarlyDecr(I);
			JB_EarlyDecr(A);
			return 0;
		}
		if (!((TypeCast & kJB_kTypeCastAssigns) or ((!A->PointerCount) and SC_Decl_SyntaxIs(I, kSC__SCDeclInfo_Local)))) {
			JB_EarlyDecr(I);
			JB_EarlyDecr(A);
			return 0;
		}
		JB_Decr(A);
		JB_Decr(I);
	}
	if ((Self->IsAssigns != 0) != Incoming->HasSide) {
		if (!((TypeCast & kJB_kTypeCastAssigns) and ((!Incoming->HasSide)))) {
			return 0;
		}
	}
	int Pos = 0;
	int Result = kJB_kSimpleMatch;
	int SelfCast = SC_PA_IgnoreSelfContain(Incoming);
	TypeCast = (TypeCast | (kJB_kNoBoolTypeCast | (kJB_kTypeCastWantSuperDistance | kJB_kTypeCastForParams)));
	if (SC_Func_SyntaxIs(Self, kSC__FunctionType_NumberCreator)) {
		TypeCast = (TypeCast | kJB_kTypeCastFromSmallInt);
	}
	int Fin = JB_Array_Size(Self->Args);
	int Fi = ((int)((SC_Func_SyntaxIs(Self, kSC__FunctionType_Constructor)) and (!Incoming->AllowSelfToConstructor)));
	Fi = (Fi + ((Fi + 1) == Self->StructReturnPos));
	while (Fi < Fin) {
		SCDecl* FuncArg = ((SCDecl*)JB_Array_Value(Self->Args, Fi++));
		JB_Incr(FuncArg);
		Message* PArg_Ch = SC_PA_SyntaxAccess(Incoming, Pos);
		JB_Incr(PArg_Ch);
		SCDecl* PArg_Type = SC_TypeOfExpr(PArg_Ch, Name_space, nil);
		JB_Incr(PArg_Type);
		if (SC_Decl_SyntaxIs(PArg_Type, kSC__SCDeclInfo_Local) and SC_Decl_SyntaxIs(FuncArg, kSC__SCDeclInfo_Reference)) {
			SC_Decl_MarkAsAltered(PArg_Type);
		}
		if (Base) {
			JB_SetRef(FuncArg, SC_Decl_ContainedReplace(FuncArg, Base, false));
		}
		Message* LArg_ch = ((Message*)JB_Ternary(ThisAlter, PArg_Ch, nil));
		JB_Incr(LArg_ch);
		int Cast = TypeCast | SelfCast;
		Cast = (Cast | SC_Msg_IntSmallness(PArg_Ch, PArg_Type));
		if ((Incoming->HasSide) and (Fi == Fin)) {
			Cast = (Cast & (~kJB_kNoBoolTypeCast));
		}
		int Matched = SC_Decl_TypeMatch(FuncArg, PArg_Type, Cast, LArg_ch);
		JB_Decr(PArg_Type);
		JB_Decr(LArg_ch);
		SelfCast = 0;
		if ((Matched != kJB_kNoMatch) and (!((Matched == kJB_kUseDefaultParams) and ThisAlter))) {
			if ((Result > kJB_kSimpleMatch) and ((Matched != kJB_kUseDefaultParams) and (Matched != kJB_kSimpleMatch))) {
				Result = (Result | kJB_kMultipleErrors);
				Matched = (Matched | kJB_kMultipleErrors);
			}
			if (Matched > Result) {
				Result = Matched;
			}
			(++Pos);
			Incoming->FailedAt = 0;
		}
		 else if ((!FuncArg->Default)) {
			if (TypeCast & kJB_kTypeCastDescribeErrors) {
				SC_Func_DescribeParamFail(Self, Incoming, Fi);
			}
			JB_EarlyDecr(PArg_Ch);
			JB_EarlyDecr(FuncArg);
			return kJB_kNoMatch;
		}
		 else if (ThisAlter) {
			Message* Prms = ((Message*)JB_Ring_Last(Incoming->Exp));
			JB_Incr(Prms);
			Message* Def = JB_Msg_Copy(FuncArg->Default, Prms);
			JB_Incr(Def);
			SC_Msg_DefaultPrmFix(Def, Base);
			SC_Msg_InsertBefore(Prms, Def, PArg_Ch);
			JB_Decr(Prms);
			SCDecl* Ty = SC_TypeOfExpr(Def, Name_space, nil);
			JB_Incr(Ty);
			if (Ty) {
				if (SC_Decl_IsBareStruct(Ty)) {
					Message* _tmPf2 = JB_Syx_OperatorPlus(kJB_SyxBRel, JB_LUB[32]);
					JB_Incr(_tmPf2);
					Message* _tmPf1 = ((Message*)JB_Tree_WrapWith(Def, _tmPf2));
					JB_Incr(_tmPf1);
					JB_Decr(_tmPf2);
					JB_FreeIfDead(SC_TypeOfExpr(_tmPf1, Name_space, nil));
					JB_Decr(_tmPf1);
				}
			}
			JB_Decr(Def);
			JB_Decr(Ty);
		}
		 else {
			if (!Incoming->FailedAt) {
				Incoming->FailedAt = Fi;
			}
			Result = kJB_kUseDefaultParams;
		}
		JB_Decr(FuncArg);
		JB_Decr(PArg_Ch);
		Fi = (Fi + ((Fi + 1) == Self->StructReturnPos));
	};
	if (Pos >= Incoming->Size) {
		return Result;
	}
	if ((TypeCast & kJB_kTypeCastDescribeErrors) and (!SC_PA_MadeError(Incoming))) {
		int First = Incoming->FailedAt;
		if (First) {
			SC_Func_DescribeParamFail(Self, Incoming, First);
		}
		 else {
			if (true) {
				JB_String* _tmPf4 = SC_Func_RenderTitle(Self, true, nil);
				JB_Incr(_tmPf4);
				JB_String* _tmPf3 = JB_Str_OperatorPlus(JB_LUB[2076], _tmPf4);
				JB_Incr(_tmPf3);
				JB_Decr(_tmPf4);
				JB_Msg_Fail(Incoming->Exp, _tmPf3);
				JB_Decr(_tmPf3);
			}
			(JB_Msg_SyntaxProblem(Self->Source, kJB_kUsingStr));
		}
	}
	return 0;
}

ASM* SC_Func_ASMBake(SCFunction* Self, ASM* Where, ASM* After, uint* Positions, uint ASMTotal) {
	ASM* Rz = nil;
	Rz = Where;
	SC__Pac_Sh.FuncStart_ = (SC_Func_FatFirst(Self) - 1);
	uint HasLabel = 0;
	{
		FatASM* _FirstInstf0 = SC_Func_FatFirst(Self);
		FatASM* Fat = _FirstInstf0;
		FatASM* _AfterInstf2 = Fat + Self->xC2xB5FATLength;
		while (Fat < _AfterInstf2) {
			HasLabel = (HasLabel | Fat->JumpPrm);
			if ((Rz - Where) > 64512) {
				if (true) {
					JB_Msg_Fail(Self->Source, JB_LUB[1398]);
				}
			}
			uint Break = Fat->ASMIndex;
			Fat->ASMIndex = (Rz - Where);
			SC_FAT_CheckHasOutput(Fat);
			ASM* Curr = Rz;
			Rz = SC_FAT_xC2xB5RenderInto(Fat, Rz, After);
			if (Positions) {
				uint Pos = Fat->FatMap;
				while (Curr++ < Rz) {
					Positions++[0] = Pos;
				};
				if (SC__Options_TargetDebug) {
					SC_FAT_BakeDebug(Fat, Pos, ASMTotal, Break);
				}
			}
			(++Fat);
		};
	}
	;
	if (HasLabel) {
		{
			FatASM* _FirstInstf3 = SC_Func_FatFirst(Self);
			FatASM* Fat = _FirstInstf3;
			FatASM* _AfterInstf5 = Fat + Self->xC2xB5FATLength;
			while (Fat < _AfterInstf5) {
				uint R = Fat->JumpPrm;
				if (R) {
					SC_FAT_FillLabelRequest(Fat, Where, Rz, R - 1);
				}
				(++Fat);
			};
		};
	}
	return Rz;
}

SCDecl* SC_Func_ASMReturnWith0(SCFunction* Self) {
	SCDecl* T = Self->ReturnType;
	if (!SC_Decl_SyntaxIs(T, kSC__SCDeclInfo_ReturnedStruct)) {
		return T;
	}
	return nil;
}

ASMReg SC_Func_ASMReturnWithReg(SCFunction* Self, ASMReg Dest) {
	Dest = SC_Reg_xC2xB5TypeSetWithTc(Dest, SC_Decl_ASMRegType(SC_Func_ASMReturnWith0(Self)));
	return Dest;
}

void SC_Func_BeforeTransform(SCFunction* Self) {
	SCDecl* P = Self->HasProto;
	if (P) {
		JB_SetRef(P->ExportName, Self->ExportName);
	}
	 else {
		SC_Func_AddConstructorReturn2(Self);
	}
}

bool SC_Func_Borked(SCFunction* Self) {
	return ((bool)(Self->Badness & 128));
}

void SC_Func_BuildConstructorDestructor(SCFunction* Self) {
	if (!Self) {
		return;
	}
	Message* TheCall = SC_Func_FindCallParents(Self);
	bool IsConstructor = SC_Func_SyntaxIs(Self, kSC__FunctionType_Constructor);
	Message* Root = SC_Func_SourceArg(Self);
	if (!Root) {
		return;
	}
	SC_Func_CheckConstructorAndDestructor(Self, Root, IsConstructor);
	if (IsConstructor) {
		if (!TheCall) {
			TheCall = SC_Msg_MakeAfter(Root);
		}
		SC_Func_FillInMissingConstructorDefaults(Self, TheCall);
	}
	if (!(JB_Rec_OK(JB_StdErr) and (!IsConstructor))) {
		return;
	}
	SCClass* C = Self->Cls;
	if (!C) {
		return;
	}
	if (!SC_Class_HasStuffToHandleInDestructor(C)) {
		if (!JB_Ring_HasChildren(Root)) {
			JB_SetRef(C->DestructorFunc, nil);
		}
	}
	 else if (!C->IsWrapper) {
		SC_Func_FillInDestructor(Self);
	}
}

void SC_Func_CallParents(SCFunction* Self) {
	if (!(SC_Func_SyntaxIs(Self, kSC__FunctionType_Constructor) or SC_Func_SyntaxIs(Self, kSC__FunctionType_Destructor))) {
		return;
	}
	if (!(SC_Func_IsARealSpdFunc(Self) and (!SC_Func_FindCallParents(Self)))) {
		return;
	}
	SCClass* C = Self->Cls;
	if (!C) {
		return;
	}
	SCClass* Parent = SC_Class_RealSuper(C);
	if (!(Parent and (Parent != SC_TypeObject))) {
		return;
	}
	uint T = C->IsRole;
	if (T == 2) {
		return;
	}
	SCFunction* Fn = SC_Func_ConOrDesForCall(Self, C, SC_Func_SyntaxIs(Self, kSC__FunctionType_Constructor), T);
	if (Fn) {
		SC_Func_CallSuperMem(Self, Fn);
	}
}

void SC_Func_CallSuperMem(SCFunction* Self, SCFunction* Fn) {
	Message* Root = SC_Func_SourceArg(Self);
	if (!Root) {
		return;
	}
	Array* Fnargs = Fn->Args;
	if (!(((JB_Array_SyntaxEquals(Fnargs, 1))) or SC_Class_IsTask(Self->Cls))) {
		JB_Msg_Fail(Root, JB_LUB[973]);
		return;
	}
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Root, (&_usingf0));
	Message* PCon = SC_NewFnc(Fn->ExportName);
	Message* Lst = ((Message*)JB_Ring_Last(PCon));
	JB_SetRef(Lst->Obj, Fn);
	{
		int _if1 = 0;
		while (true) {
			SCDecl* A = ((SCDecl*)JB_Array_Value(Fnargs, _if1));
			if (A == nil) {
				break;
			}
			int I = _if1;
			Message* Msg = JB_Msg_Msg(Lst, kJB_SyxThg, A->Name);
			JB_SetRef(Msg->Obj, ((SCDecl*)JB_Array_Value(Self->Args, I)));
			(++_if1);
		};
	}
	;
	if (SC_Func_SyntaxIs(Self, kSC__FunctionType_Constructor)) {
		JB_SetRef(PCon->Obj, Fn->ReturnType);
		Message* F = ((Message*)JB_Ring_First(Root));
		if (F) {
			(JB_Ring_NextSibSet(F, PCon));
		}
		 else {
			JB_Tree_SyntaxAppend(Root, PCon);
		}
	}
	 else {
		JB_SetRef(PCon->Obj, SC_TypeVoid);
		JB_Tree_SyntaxAppend(Root, PCon);
	}
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Root);
	JB_MsgPos_Destructor((&_usingf0));
}

bool SC_Func_CanBuildConstructor(SCFunction* Self) {
	return (SC_Func_SyntaxIs(Self, kSC__FunctionType_ConOrDes)) and SC_Func_IsARealSpdFunc(Self);
}

bool SC_Func_CanCompareAgainst(SCFunction* Self, SCDecl* Against) {
	{
		SCFunction* F = Self;
		while (F) {
			SCDecl* Arg = ((SCDecl*)JB_Array_Value(F->Args, 1));
			if (SC_Decl_TypeMatch(Arg, Against, kJB_kTypeCastNumbers, nil)) {
				return true;
			}
			F = F->NextFunc;
		};
	}
	;
	return false;
}

bool SC_Func_CanLibLoad(SCFunction* Self) {
	if ((!Self->IsMacro) and (((!SC_Func_SyntaxIs(Self, kSC__FunctionType_Disabled))) and (Self->IsCppInBuilt != 2))) {
		return true;
	}
	return false;
}

bool SC_Func_CanPrepareInline(SCFunction* Self) {
	if (!(((!SC_Func_SyntaxIs(Self, kSC__FunctionType_Cpp))) and SC_Func_HasProperSpeedieCode(Self))) {
		return nil;
	}
	int Allowed = 15 + ((SC_Func_SyntaxIs(Self, kSC__FunctionType_OptInline)) << 4);
	int Count = SC_Msg_InlineCount(SC_Func_SourceArg(Self), Allowed);
	if (Count <= Allowed) {
		return true;
	}
	return false;
}

void SC_Func_CheckConstructorAndDestructor(SCFunction* Self, Message* Root, bool IsConstructor) {
	if (Self->Badness) {
		return;
	}
	bool GotSuperConstructor = false;
	SCClass* _tmPf0 = Self->Cls;
	if (!_tmPf0) {
		return;
	}
	SCClass* Sooper = _tmPf0->Super;
	if (Sooper) {
		GotSuperConstructor = ((Sooper == SC_TypeObject) or ((SC_TypeTask == Sooper->Parent) or (SC_TypeTask == Sooper)));
	}
	JB_String* NoNesting = JB_LUB[1399];
	{
		Message* Dot = Root;
		Message* _afterf2 = ((Message*)JB_Ring_FlatAfter(Root));
		while ((Dot) and (Dot != _afterf2)) {
			Message* _N_f3 = ((Message*)JB_Ring_FlatNext0(Dot));
			if (JB_Msg_EqualsSyx(Dot, kJB_SyxFunc)) {
				Message* Prms = ((Message*)JB_Ring_Last(Dot));
				if (Prms) {
					SCFunction* Fn = ((SCFunction*)JB_Object_FastAs(Prms->Obj, &SCFunctionData));
					Message* Pf = ((Message*)JB_Ring_First(Prms));
					if (Pf) {
						SCDecl* Pfdecl = ((SCDecl*)JB_Object_FastAs(Pf->Obj, &SCDeclData));
						if (SC_Func_SyntaxIs(Fn, kSC__FunctionType_Constructor) and SC_Decl_SyntaxIs(Pfdecl, kSC__SCDeclInfo_Self)) {
							GotSuperConstructor = true;
							if (!JB_Tree_OperatorIn(Dot, Root)) {
								JB_Msg_Fail(Dot, NoNesting);
							}
						}
					}
				}
			}
			int UsedAtAll = SC_Msg_SelfUsedForProperty(Dot);
			if (UsedAtAll) {
				SCDecl* T = SC_TypeOfExpr(Dot, nil, nil);
				if (T) {
					bool IsSet = UsedAtAll == 1;
					if (!SC_Decl_IsNormalObject(T)) {
						if (!JB_Tree_OperatorIn(((Message*)JB_Ring_Parent(Dot)), Root)) {
							Dot = _N_f3;
							continue;
						}
					}
					 else if (IsConstructor) {
						if ((!GotSuperConstructor)) {
							JB_Msg_Fail(Dot, JB_LUB[1400]);
						}
						if (!(JB_Tree_IsFirst(Dot) and IsSet)) {
							if (!SC_Decl_SyntaxIs(T, kSC__SCDeclInfo_PropertyWasConstructed)) {
								JB_Msg_Fail(Dot, JB_LUB[1401]);
							}
						}
						if (IsSet) {
							SC_Msg_SelfUsedForProperty(Dot);
							if (SC_Decl_SyntaxIs(T, kSC__SCDeclInfo_PropertyWasConstructed)) {
								JB_Msg_Fail(Dot, JB_LUB[1402]);
							}
							if (!JB_Tree_OperatorIn(((Message*)JB_Ring_Parent(Dot)), Root)) {
								JB_Msg_Fail(Dot, NoNesting);
							}
						}
					}
					 else {
						if (!(JB_Tree_IsLast(Dot) or (!IsSet))) {
							JB_Msg_Fail(Dot, JB_LUB[1403]);
						}
					}
					if (IsConstructor) {
						(SC_Decl_SyntaxIsSet(T, kSC__SCDeclInfo_PropertyWasConstructed, true));
					}
				}
			}
			Dot = _N_f3;
		};
		;
	};
}

void SC_Func_CheckNotBadName(SCFunction* Self) {
	if ((!SC_Func_ApparantArgCount(Self)) and Self->Cls) {
		int W = SC_Class_NumericCount(Self->Cls);
		if ((W > 1) and SC_Str_IsSwizzle(Self->Name, W)) {
			if (true) {
				JB_Msg_Fail(Self->Source, JB_LUB[974]);
			}
		}
	}
}

void SC_Func_CheckReturnValue(SCFunction* Self, Message* Msg, SCNode* Name_space) {
	Message* C = ((Message*)JB_Ring_First(Msg));
	JB_Incr(C);
	if ((!C)) {
		SCDecl* T = Self->ReturnType;
		JB_Incr(T);
		if (T) {
			if (!SC_Decl_SyntaxIs(T, kSC__SCDeclInfo_ReturnedStruct)) {
				JB_Msg_Fail(Msg, JB_LUB[1955]);
			}
		}
		JB_EarlyDecr(T);
		JB_EarlyDecr(C);
		return;
	}
	if (!JB_Tree_IsOnlyChild(C)) {
		JB_Msg_Fail(Msg, JB_LUB[1956]);
		JB_EarlyDecr(C);
		return;
	}
	if ((!Self->ReturnType) and (((JB_Msg_SyntaxEquals(C, JB_LUB[100], false))) and ((JB_Msg_EqualsSyx(C, kJB_SyxThg)) or (JB_Msg_EqualsSyx(C, kJB_SyxQues))))) {
		JB_Tree_Remove(C);
		JB_EarlyDecr(C);
		return;
	}
	SCDecl* FoundReturnType = SC_TypeOfExpr(C, Name_space, nil);
	JB_Incr(FoundReturnType);
	if (FoundReturnType == SC_TypeVoid) {
		JB_SetRef(FoundReturnType, nil);
	}
	SCDecl* R = Self->ReturnType;
	JB_Incr(R);
	if (R) {
		if (!FoundReturnType) {
			JB_Msg_Fail(Msg, JB_LUB[1957]);
			JB_EarlyDecr(R);
			JB_EarlyDecr(FoundReturnType);
			JB_EarlyDecr(C);
			return;
		}
		if ((FoundReturnType == SC_TypeNil) and (SC_Decl_CantBeNilInCpp(R))) {
			Message* Def = SC_Decl_CreateDefault(R, C, true);
			JB_Incr(Def);
			if (Def) {
				JB_FreeIfDead(SC_Msg_ReplaceWith(C, Def));
			}
			 else {
				if (true) {
					JB_Msg_Fail(Msg, JB_LUB[1958]);
				}
			}
			JB_Decr(Def);
		}
		 else {
			JB_FreeIfDead(SC_Decl_ExpectMatch(R, FoundReturnType, kJB_kTypeCastTrue, C, nil));
		}
	}
	 else {
		if ((FoundReturnType)) {
			JB_Msg_Fail(Msg, JB_LUB[1959]);
		}
	}
	JB_Decr(C);
	JB_Decr(FoundReturnType);
	JB_Decr(R);
}

void SC_Func_CheckUnused(SCFunction* Self, Message* Feedback) {
	if (SC_Func_SyntaxIs(Self, kSC__FunctionType_Disabled)) {
		return;
	}
	if (SC_Func_SyntaxIs(Self, kSC__FunctionType_InitFunc)) {
		return;
	}
	if (SC_Func_IsUnused(Self)) {
		Message* Src = Self->Source;
		if (Src) {
			JB_String* Str = JB_LUB[1234];
			if (Self->LinkFrom != nil) {
				Str = JB_LUB[1235];
			}
			JB_Msg_AppendNum(JB_Msg_Msg(Feedback, kJB_SyxTmp, JB_Str_OperatorPlus(Self->Name, Str)), Src->Position);
		}
	}
	if (SC_Func_SyntaxIs(Self, kSC__FunctionType_Cpp)) {
		return;
	}
	if (!Self->HasProto) {
		SC_Func_CheckUnusedArgs(Self, Feedback);
	}
	{
		Message* _LoopSrcf3 = SC_Func_SourceArg(Self);
		Message* S = _LoopSrcf3;
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(_LoopSrcf3));
		while ((S) and (S != _afterf1)) {
			Message* _N_f2 = ((Message*)JB_Ring_FlatNext0(S));
			if (JB_Msg_EqualsSyx(S, kJB_SyxDecl)) {
				SCDecl* D = ((SCDecl*)JB_Object_FastAs(S->Obj, &SCDeclData));
				if (D) {
					if (!SC_Decl_LocalIsUsed(D)) {
						SC_SCObject_MarkUnused(D, Feedback, 'D', JB_LUB[0]);
					}
				}
			}
			S = _N_f2;
		};
		;
	};
}

void SC_Func_CheckUnusedArgs(SCFunction* Self, Message* Feedback) {
	FastString* AllVars = JB_FS_Constructor(nil);
	JB_Incr(AllVars);
	SCDecl* Fail = nil;
	{
		Array* _LoopSrcf2 = Self->Args;
		JB_Incr(_LoopSrcf2);
		int _if0 = 0;
		while (true) {
			SCDecl* Arg = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			JB_Incr(Arg);
			if (Arg == nil) {
				JB_EarlyDecr(Arg);
				break;
			}
			if (!SC_Decl_LocalIsUsed(Arg)) {
				Message* Src = Arg->Source;
				JB_Incr(Src);
				if (Src and (!JB_Msg_SyntaxIs(Src, kJB__MsgParseFlags_Inserted))) {
					Fail = Arg;
					if (AllVars->Length) {
						JB_FS_AppendString(AllVars, JB_LUB[47]);
					}
					JB_FS_AppendString(AllVars, Arg->Name);
				}
				JB_Decr(Src);
			}
			JB_Decr(Arg);
			(++_if0);
		};
		JB_Decr(_LoopSrcf2);
	}
	;
	if (Fail) {
		JB_String* _tmPf3 = JB_FS_SyntaxCast(AllVars);
		JB_Incr(_tmPf3);
		SC_SCObject_MarkUnused(Fail, Feedback, 'A', _tmPf3);
		JB_Decr(_tmPf3);
	}
	JB_Decr(AllVars);
}

void SC_Func_Cleanupfunc(SCFunction* Self, Message* S) {
	JB_String* N = S->Name;
	JB_Incr(N);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(S, (&_usingf0));
	SCClass* Cls = SC_Base_IsNormalObject(Self->Cls);
	JB_Incr(Cls);
	if ((JB_Msg_SyntaxEquals(S, JB_LUB[1137], true)) or (JB_Msg_SyntaxEquals(S, JB_LUB[56], true))) {
		JB_SetRef(S->Name, JB_LUB[632]);
		Message* _tmPf1 = JB_Syx_OperatorPlus(kJB_SyxThg, N);
		JB_Incr(_tmPf1);
		(JB_Ring_FirstSet(S, _tmPf1));
		JB_Decr(_tmPf1);
	}
	 else if (JB_Msg_SyntaxEquals(S, JB_LUB[1098], true)) {
		if (SC_Func__Tran_Render(S, Cls)) {
			JB_SetRef(S->Name, JB_LUB[97]);
		}
	}
	JB_Decr(N);
	if (SC_Msg_IsBehaviour(S) and Cls) {
		SC_Beh__Tran_Behaviour(S, Cls);
		SC_Class_FillInterFaceIn(Cls, Self, true);
	}
	JB_Decr(Cls);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), S);
	JB_MsgPos_Destructor((&_usingf0));
}

void SC_Func_CollectDeclsParams(SCFunction* Self, Message* Prms, SCNode* AddToSpace) {
	SC__Mod_Curr = ((SCModule*)Self->Parent);
	SCClass* Cls = Self->Cls;
	if (!Cls) {
		Cls = ((SCModule*)Self->Parent)->Cls;
	}
	 else if (!SC_Msg_HasSelfAsFirst(Prms)) {
		if ((!AddToSpace)) {
			JB_Msg_Fail(Prms, nil);
			return;
		}
		SC_Func_AddSelfToFunc(Self, Cls, AddToSpace);
	}
	{
		Message* Item = ((Message*)JB_Ring_First(Prms));
		while (Item) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Item));
			SC_Msg_CollectOneParam(Item, Self, AddToSpace, Cls);
			Item = _Nf1;
		};
		;
	}
	;
	uint Ns = Self->NilSelf;
	if (Ns) {
		SC_Func_WantAs(Self, Ns);
	}
	SCDecl* R = Self->ReturnType;
	if (R) {
		if (SC_Decl_IsBareStruct(R)) {
			(SC_Decl_SyntaxIsSet(R, kSC__SCDeclInfo_ReturnedStruct, true));
		}
		if (SC_Func_SyntaxIs(Self, kSC__FunctionType_HidesProperties)) {
			JB_SetRef(Self->ReturnType, SC_Decl_MakeReal(R));
		}
		if (SC_Decl_SyntaxIs(R, kSC__SCDeclInfo_Reference)) {
			JB_Msg_Fail(R->Source, JB_LUB[2003]);
		}
	}
}

void SC_Func_CollectLinks(SCFunction* Self, JB_Object* Obj) {
	if (JB_Object_Isa(Obj, &SCBetterNodeData)) {
		return SC_Func_DoLinkToNode(Self, ((SCBetterNode*)Obj));
	}
	if (JB_Object_FastIsa(Obj, &SCDeclData)) {
		SC_Func_DoLinkToDecl(Self, ((SCDecl*)Obj));
		Obj = ((SCDecl*)((SCDecl*)Obj)->IsLookupOnly);
		if (((SCDecl*)Obj)) {
			return SC_Func_CollectLinks(Self, ((SCDecl*)Obj));
		}
	}
}

bool SC_Func_CollectReturnAsReal(SCFunction* Self) {
	if (SC_Func_IsAllocOrNew(Self) and SC__Options_NilTestAllocNeverFails) {
		return true;
	}
	return false;
}

void SC_Func_CollectStats(SCFunction* Self) {
	(++SC__Func_FuncStats[JB_int_OperatorMin(JB_Array_Size(Self->Args), 11)]);
}

SCFunction* SC_Func_ConOrDesForCall(SCFunction* Self, SCClass* C, bool IsConstructor, int Task) {
	SCClass* Parent = C->Super;
	if (!Parent) {
		return nil;
	}
	SCFunction* Fn = SC_Class_ConOrDesForCall(Parent, IsConstructor, Task);
	if (Fn) {
		return Fn;
	}
	if (SC_Func_SyntaxIs(Self, kSC__FunctionType_Constructor)) {
		if (!((Self->Cls == SC_TypeObject) or (Self->Cls->Super == SC_TypeObject))) {
			SC_SCObject_Fail(Self, JB_LUB[1331]);
			return nil;
		}
	}
	return nil;
}

SCFunction* SC_Func_Constructor(SCFunction* Self, Message* Msg) {
	if (Self == nil) {
		Self = ((SCFunction*)JB_NewClass(&SCFunctionData));
	}
	SC_SCBetterNode_ConstructorWithMsg(Self, Msg);
	Self->NilSelf = 0;
	Self->ReturnedVars = 0;
	Self->FSOpt = 0;
	Self->MinOpt = 0;
	Self->MaxASM = 0;
	Self->IsAssigns = 0;
	Self->IsCppInBuilt = 0;
	Self->BlindCasts = 0;
	Self->IsNilChecker = 0;
	Self->Badness = 0;
	Self->IntPrmCount = 0;
	Self->StructReturnPos = 0;
	Self->LinkDepth = 0;
	Self->TmpCounter = 0;
	Self->LinkID = 0;
	Self->xC2xB5ASMLength = 0;
	Self->FuncInfo = 0;
	Self->xC2xB5Start = 0;
	Self->xC2xB5FATLength = 0;
	Self->HasProto = nil;
	Self->ProtoType = nil;
	Self->ReturnType = nil;
	Self->DepthFinder = nil;
	Self->IsMacro = nil;
	Self->LinkTo = nil;
	JB_Incr2(Self->Args, JB_Array_Constructor0(nil));
	Self->Cls = nil;
	Self->Refs = nil;
	Self->SavedError = nil;
	Self->Intrinsic = nil;
	Self->NextFunc = nil;
	return Self;
}

Message* SC_Func_ConstructorLinePlace(SCFunction* Self) {
	Message* S = Self->Source;
	if (S) {
		if (S->Position >= 0) {
			return S;
		}
	}
	SCClass* C = Self->Cls;
	if (C) {
		return C->Source;
	}
	return nil;
}

void SC_Func_CopyParams(SCFunction* Self, Message* List) {
	Message* P = SC_Func_Prms(Self);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(List, (&_usingf0));
	Message* A = JB_Msg_GiveArg(Self->Source);
	Message* Dot = JB_Syx_Msg(kJB_SyxDot, JB_LUB[698]);
	(JB_Ring_FirstSet(A, Dot));
	Message* Name = JB_Msg_Msg(Dot, kJB_SyxThg, JB_LUB[1236]);
	Message* SubPrms = JB_Msg_Msg(Dot, kJB_SyxPrm, JB_LUB[0]);
	{
		Message* S = ((Message*)JB_Ring_First(List));
		while (S) {
			Message* _Nf2 = ((Message*)JB_Ring_NextSib(S));
			JB_Tree_SyntaxAppend(P, JB_Msg_Copy(S, nil));
			Message* C = SC_Msg_DeclName(S);
			if (C) {
				JB_Tree_SyntaxAppend(SubPrms, JB_Msg_Copy(C, nil));
			}
			S = _Nf2;
		};
		;
	}
	;
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), List);
	JB_MsgPos_Destructor((&_usingf0));
}

Message* SC_Func_CountCallsToParentAlloc(SCFunction* Self, Message* Root) {
	Message* Rz = nil;
	int FoundCount = 0;
	SCClass* C = Self->Cls;
	if (!C) {
		return nil;
	}
	{
		Message* Curr = ((Message*)JB_Ring_First(Root));
		while (Curr) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Curr));
			SCFunction* F = SC_Msg_IsParentConCall(Curr);
			if (F) {
				if (!SC_Func_IsOKConstructorCall(F, C)) {
					JB_Msg_Fail(Curr, JB_LUB[975]);
					return nil;
				}
				if (!Rz) {
					Rz = Curr;
				}
				(++FoundCount);
				if (FoundCount >= 2) {
					JB_Msg_Fail(Curr, JB_LUB[976]);
					return nil;
				}
			}
			Curr = _Nf1;
		};
		;
	}
	;
	return Rz;
}

int SC_Func_CreateTypeCast(SCFunction* Self, SCDecl* MyType, Message* Exp, int Loss) {
	JB_Incr(Exp);
	if (!Exp) {
		JB_EarlyDecr(Exp);
		return kJB_kNeedsTypeCast | Loss;
	}
	if (SC_Func_SyntaxIs(Self, kSC__FunctionType_Disabled)) {
		JB_Msg_Fail(Exp, Self->Description);
		JB_EarlyDecr(Exp);
		return 0;
	}
	while ((JB_Msg_EqualsSyx(Exp, kJB_SyxBra))) {
		JB_SetRef(Exp->Obj, Self->ReturnType);
		JB_SetRef(Exp, ((Message*)JB_Ring_First(Exp)));
		if (JB_Msg_EqualsSyx(Exp, kJB_SyxArg)) {
			JB_SetRef(Exp, ((Message*)JB_Ring_Parent(Exp)));
			break;
		}
	};
	MessagePosition Using = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Exp, (&Using));
	Message* Cst = SC_Func_IsSimpleCast(Self);
	JB_Incr(Cst);
	if (Cst) {
		JB_SetRef(Cst, JB_Msg_Copy(Cst, nil));
		JB_FreeIfDead(SC_Msg_ReplaceWith(Exp, Cst));
		Message* _tmPf0 = ((Message*)JB_Ring_First(Cst));
		JB_Incr(_tmPf0);
		JB_FreeIfDead(SC_Msg_ReplaceWith(_tmPf0, Exp));
		JB_Decr(_tmPf0);
	}
	 else {
		Message* _tmPf1 = JB_Syx_OperatorPlus(kJB_SyxThg, Self->ExportName);
		JB_Incr(_tmPf1);
		JB_SetRef(Cst, SC_Msg_WrapWith((_tmPf1), kJB_SyxFunc, JB_LUB[0]));
		JB_Decr(_tmPf1);
		(JB_Ring_NextSibSet(Exp, Cst));
		Message* _tmPf2 = JB_Msg_Msg(Cst, kJB_SyxPrm, JB_LUB[0]);
		JB_Incr(_tmPf2);
		JB_Tree_SyntaxAppend(_tmPf2, Exp);
		JB_Decr(_tmPf2);
		if (SC_Decl_IsBareStruct(MyType)) {
			SC_Msg_GetAddressOf(Exp, MyType, false);
		}
		Message* _tmPf3 = ((Message*)JB_Ring_Last(Cst));
		JB_Incr(_tmPf3);
		JB_SetRef(_tmPf3->Obj, Self);
		JB_Decr(_tmPf3);
	}
	JB_Decr(Exp);
	JB_SetRef(Cst->Obj, Self->ReturnType);
	JB_EarlyDecr(Cst);
	JB_MsgPos_Destructor((&Using));
	return Loss;
}

Message* SC_Func_DeclAfter(SCFunction* Self, Message* After, SCDecl* Orig, SCDecl* D) {
	Message* Rz = nil;
	Message* Src = Orig->Source;
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Src, (&_usingf0));
	Message* Prop = SC_Decl_DeclToDot(Orig, SC_Func_Self(Self));
	if (SC_Decl_IsCArray(D)) {
		Rz = JB_Syx_Msg(kJB_SyxDot, JB_LUB[822]);
		JB_FreeIfDead(JB_Msg_Msg(Rz, kJB_SyxThg, JB_LUB[823]));
		Message* Prms = JB_Msg_Msg(Rz, kJB_SyxPrm, JB_LUB[0]);
		Message* Brel = JB_Msg_Msg(Prms, kJB_SyxBRel, JB_LUB[32]);
		Message* Acc = JB_Msg_Msg(Brel, kJB_SyxAcc, JB_LUB[0]);
		JB_Tree_SyntaxAppend(Acc, Prop);
		Message* Arr = JB_Msg_Msg(Acc, kJB_SyxArr, JB_LUB[0]);
		JB_FreeIfDead(JB_Msg_Msg(Arr, kJB_SyxNum, JB_LUB[478]));
		JB_Msg_AppendNum(Prms, SC_Decl_CArraySize(D, 1));
	}
	 else if (Orig != D) {
		Rz = JB_Syx_Msg(kJB_SyxRel, JB_LUB[0]);
		Message* Acc = JB_Msg_Msg(Rz, kJB_SyxAcc, JB_LUB[0]);
		Message* Type = JB_Msg_Msg(Acc, kJB_SyxType, JB_LUB[0]);
		Message* Bra = JB_Msg_Msg(Type, kJB_SyxBra, JB_LUB[0]);
		JB_Tree_SyntaxAppend(JB_Msg_Msg(Bra, kJB_SyxBRel, JB_LUB[32]), Prop);
		Message* Brel = JB_Msg_Msg(Type, kJB_SyxBRel, JB_LUB[32]);
		JB_Tree_SyntaxAppend(Brel, SC_Decl_WriteVerySimpleType(D));
		Message* Arr = JB_Msg_Msg(Acc, kJB_SyxArr, JB_LUB[0]);
		JB_FreeIfDead(JB_Msg_Msg(Arr, kJB_SyxNum, JB_LUB[478]));
		JB_FreeIfDead(JB_Msg_Msg(Rz, kJB_SyxOpp, JB_LUB[455]));
		JB_Tree_SyntaxAppend(Rz, SC_Msg_CreateNil(Src));
	}
	 else {
		Message* Def = D->Default;
		if (SC_NilState_SyntaxIs(D->NilDeclared, kSC__NilState_Nilish)) {
			Def = JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[100]);
			JB_SetRef(Def->Obj, SC_TypeNil);
		}
		 else {
			if (!Def) {
				Def = SC_Decl_CreateDefault(D, Src, true);
			}
		}
		Rz = SC_NewEqRelWithMsgMsg(Prop, Def);
	}
	(JB_Ring_NextSibSet(After, Rz));
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Src);
	JB_MsgPos_Destructor((&_usingf0));
	return Rz;
}

void SC_Func_DeclsProtoCleanup(SCFunction* Self, SCClass* fpType, Message* Ch0, bool AssumeSelf, bool Late, Message* Route) {
	SCFunction* Proto = fpType->FuncProto;
	JB_Incr(Proto);
	if (!Proto) {
		JB_Msg_Fail(Ch0, JB_LUB[1991]);
		JB_EarlyDecr(Proto);
		return;
	}
	Message* fParams = JB_Msg_NeedSyxInt(Proto->Source, kJB_SyxPrm, 1);
	JB_Incr(fParams);
	JB_Decr(Proto);
	if (!fParams) {
		JB_EarlyDecr(fParams);
		return;
	}
	Message* P = ((Message*)JB_Ring_Parent(Ch0));
	JB_Incr(P);
	P->Func = kJB_SyxPrm;
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Ch0, (&_usingf0));
		JB_Msg_CopyAllInto(fParams, P);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Ch0);
		JB_MsgPos_Destructor((&_usingf0));
	}
	JB_Decr(fParams);
	if (Route) {
		Message* Nxt = ((Message*)JB_Ring_NextSib(Ch0));
		JB_Incr(Nxt);
		Message* First = ((Message*)JB_Ring_First(Nxt));
		JB_Incr(First);
		JB_Decr(Nxt);
		Message* _tmPf1 = ((Message*)JB_Ring_NextSib(First));
		JB_Incr(_tmPf1);
		if (SC_Msg_OperatorIsThing(_tmPf1, JB_LUB[401])) {
			JB_FreeIfDead(SC_Msg_ReplaceWith(First, Route));
		}
		JB_Decr(First);
		JB_Decr(_tmPf1);
	}
	SC_Func_DeclsProtoCleanUpContainedness(Self, P, Ch0, fpType);
	SCClass* C = Self->Cls;
	JB_Incr(C);
	if (!C) {
		JB_EarlyDecr(C);
		JB_EarlyDecr(P);
		return;
	}
	if (Late) {
		Message* _tmPf2 = ((Message*)JB_Ring_First(P));
		JB_Incr(_tmPf2);
		JB_Tree_Remove(_tmPf2);
		JB_Decr(_tmPf2);
	}
	if (!AssumeSelf) {
		Message* D = JB_Msg_NeedSyx(P, kJB_SyxDecl);
		JB_Incr(D);
		if (D) {
			SCDecl* Decl = SC_ExtractDecl(D, nil, kSC__DeclMode_ProtoParam, 0);
			JB_Incr(Decl);
			if (Decl) {
				if (!SC_Decl_MatchesDecl(Decl, C->TypeNormal)) {
					SC_SCObject_Fail(Self, JB_LUB[1992]);
				}
				if (!(JB_Str_Equals(Decl->Name, JB_LUB[401], true))) {
					SC_SCObject_Fail(Self, JB_LUB[1993]);
				}
				(SC_Decl_NameSet(Decl, JB_LUB[0]));
				JB_Tree_Remove(D);
			}
			JB_Decr(Decl);
		}
		JB_Decr(D);
	}
	JB_Decr(P);
	JB_Decr(C);
}

void SC_Func_DeclsProtoCleanUpContainedness(SCFunction* Self, Message* P, Message* Ch0, SCClass* fpType) {
	{
		Message* S = ((Message*)JB_Ring_First(P));
		while (S) {
			Message* _Nf2 = ((Message*)JB_Ring_NextSib(S));
			if (JB_Msg_EqualsSyx(S, kJB_SyxDecl)) {
				Message* Ty = ((Message*)JB_Ring_First(S));
				if (Ty->Func == kJB_SyxSThg) {
					//using;
					MessagePosition _usingf0 = ((MessagePosition){});
					JB_Msg_SyntaxUsing(S, (&_usingf0));
					if (JB_Msg_EqualsSyx(Ch0, kJB_SyxRel)) {
						JB_Msg_BecomeCopy(Ty, ((Message*)JB_Ring_Last(Ch0)));
					}
					 else {
						SCDecl* Ty2 = SC_Base_RequireContained(fpType, S);
						if (Ty2) {
							(JB_Ring_PrevSibSet(Ty, SC_Decl_WriteType(Ty2, 0, false)));
							JB_Tree_Remove(Ty);
						}
					}
					JB_MsgPos_SyntaxUsingComplete((&_usingf0), S);
					JB_MsgPos_Destructor((&_usingf0));
				}
			}
			S = _Nf2;
		};
		;
	}
	;
	JB_Tree_Remove(Ch0);
}

SCDecl* SC_Func_DeclsProtoTypeAdd(SCFunction* Self, SCClass* fpType) {
	SCDecl* Dcl = SC_Decl_Constructor(nil, fpType);
	JB_Incr(Dcl);
	JB_SetRef(Dcl->Source, Self->Source);
	JB_SetRef(Dcl->IsLookupOnly, Self);
	SC_Comp__NewConst(Dcl);
	(SC_Decl_SyntaxIsSet(Dcl, kSC__SCDeclInfo_CompilerCreated, true));
	JB_SetRef(Self->HasProto, Dcl);
	(SC_Decl_NameSet(Dcl, Self->Name));
	if (Self->Cls) {
		SC_Base_TryAdd(Self->Parent, Self->Source, Dcl, Self->Name);
	}
	JB_SafeDecr(Dcl);
	return Dcl;
}

void SC_Func_DeclsPrototypeClass(SCFunction* Self, Message* Ch0) {
	Message* Ty = Ch0;
	if (JB_Msg_EqualsSyx(Ty, kJB_SyxRel)) {
		Ty = ((Message*)JB_Ring_First(Ty));
	}
	SCModule* P = ((SCModule*)JB_Object_FastAs(Self->Parent, &SCModuleData));
	if (!P) {
		return;
	}
	SCClass* fpType = SC_Base_FindClassMsg(P, Ty, kSC__SCNodeFindMode_WantAType);
	if (!fpType) {
		return;
	}
	Message* Route = nil;
	if (!fpType->FuncProto) {
		SCClass* Task = SC_Base_FindClass(fpType->Modul, JB_LUB[1280], nil, kSC__Base_DontGoUp);
		if (Task) {
			fpType = Task;
			Route = SC_Base_Route(fpType->Modul->Parent, JB_LUB[1280]);
		}
		SCClass* Task_proto = SC_Base_FindClass(fpType->Modul, JB_LUB[1140], nil, kSC__Base_DontGoUp);
		if (Task_proto) {
			fpType = Task_proto;
		}
	}
	SC_Func_DeclsProtoCleanup(Self, fpType, Ch0, false, false, Route);
	SCDecl* Dcl = SC_Func_DeclsProtoTypeAdd(Self, fpType);
	(SC_Decl_SyntaxIsSet(Dcl, kSC__SCDeclInfo_Global, true));
	if (((!SC_Base_IsLibrary(Self))) or ((!SC_SCObject_SyntaxIs(((SCNode*)Self), kSC__SCNodeInfo_LibOnly)))) {
		SC_Decl_AddToGlobs(Dcl);
	}
	 else {
		(SC_Decl_ExportPositionSet(Dcl, 65536 - 8));
	}
}

void SC_Func_DeclsPrototypeInterface(SCFunction* Self, Message* Ch0, SCClass* fpType, bool Late) {
	SC_Func_DeclsProtoCleanup(Self, fpType, Ch0, true, Late, nil);
	if (!Late) {
		JB_FreeIfDead(SC_Func_DeclsProtoTypeAdd(Self, fpType));
	}
}

JB_String* SC_Func_Describe(SCFunction* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, JB_LUB[583]);
	JB_FS_AppendString(Fs, Self->Name);
	JB_FS_AppendByte(Fs, ' ');
	Message* _tmPf0 = ((Message*)JB_Tree_Second(Self->Source));
	JB_Incr(_tmPf0);
	JB_FS_SyntaxAppend(Fs, _tmPf0);
	JB_EarlyDecr(_tmPf0);
	JB_String* _tmPf1 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf1);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf1);
	return _tmPf1;
}

void SC_Func_DescribeParamFail(SCFunction* Self, SCParamArray* Params, int Bad) {
	if (SC_PA_MadeError(Params)) {
		return;
	}
	bool UsesSelf = Params->IsDot and Params->IsNotModule;
	int Num = Bad - UsesSelf;
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	SCDecl* Badarg = ((SCDecl*)JB_Array_Value(Self->Args, Bad - 1));
	JB_Incr(Badarg);
	int RefToFail = 0;
	Message* P = SC_PA_SyntaxAccess(Params, Bad - 1);
	JB_Incr(P);
	if (P) {
		if (UsesSelf and (Bad == 1)) {
			JB_FS_AppendString(Fs, JB_LUB[2050]);
		}
		 else {
			//;
			JB_FS_AppendString(Fs, JB_LUB[2051]);
			JB_FS_AppendInt32(Fs, Num);
			JB_FS_AppendString(Fs, JB_LUB[2052]);
			//;
		}
		SCDecl* Type = SC_TypeOfExpr(P, nil, nil);
		JB_Incr(Type);
		if (Type) {
			JB_FreeIfDead(SC_Decl_RenderTypeName(Type, Fs));
			if (JB_Str_Exists(Type->Name) and (!JB_Str_Equals(Type->Name, JB_LUB[100], false))) {
				JB_FS_AppendByte(Fs, ' ');
				JB_FS_AppendString(Fs, Type->Name);
			}
		}
		 else {
			JB_FS_AppendString(Fs, JB_LUB[2053]);
		}
		if (Badarg) {
			RefToFail = ((int)(Badarg->PointerCount and (SC_Decl_SyntaxIs(Type, kSC__SCDeclInfo_Reference))));
			if ((SC_Decl_SyntaxIs(Badarg, kSC__SCDeclInfo_Reference)) and (SC_Decl_SyntaxIs(Type, kSC__SCDeclInfo_Const))) {
				RefToFail = 2;
			}
		}
		JB_Decr(Type);
	}
	 else {
		JB_SetRef(P, Params->Exp);
		//;
		JB_FS_AppendString(Fs, JB_LUB[2054]);
		JB_FS_AppendInt32(Fs, Num);
		JB_FS_AppendString(Fs, JB_LUB[809]);
		JB_String* _tmPf2 = SC_SCObject_Name(Badarg);
		JB_Incr(_tmPf2);
		JB_FS_AppendString(Fs, _tmPf2);
		JB_Decr(_tmPf2);
		JB_FS_AppendByte(Fs, ')');
		//;
	}
	if (!RefToFail) {
		JB_FS_AppendString(Fs, JB_LUB[2055]);
		JB_FreeIfDead(SC_Decl_RenderTypeName(Badarg, Fs));
	}
	 else if (RefToFail == 1) {
		JB_FS_AppendString(Fs, JB_LUB[2056]);
	}
	 else if (RefToFail == 2) {
		JB_FS_AppendString(Fs, JB_LUB[2057]);
	}
	JB_Decr(Badarg);
	if (true) {
		JB_String* _tmPf3 = JB_FS_SyntaxCast(Fs);
		JB_Incr(_tmPf3);
		JB_Msg_Fail(P, _tmPf3);
		JB_Decr(_tmPf3);
	}
	JB_Decr(P);
	JB_FS_AppendString(Fs, JB_LUB[2058]);
	JB_FreeIfDead(SC_Func_RenderTitle(Self, true, Fs));
	JB_String* _tmPf4 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf4);
	JB_Decr(Fs);
	(JB_Msg_SyntaxProblem(Self->Source, _tmPf4));
	JB_Decr(_tmPf4);
}

void SC_Func_Destructor(SCFunction* Self) {
	//cpp_part;
	JB_Clear(Self->HasProto);
	JB_Clear(Self->ProtoType);
	JB_Clear(Self->ReturnType);
	JB_Clear(Self->IsMacro);
	JB_Clear(Self->LinkTo);
	JB_Clear(Self->Args);
	JB_Clear(Self->Cls);
	JB_Clear(Self->Refs);
	JB_Clear(Self->SavedError);
	JB_Clear(Self->Intrinsic);
	JB_Clear(Self->NextFunc);
	SC_SCBetterNode_Destructor(Self);
}

void SC_Func_DetectIfReached(SCFunction* Self) {
	SCNode* Base = SC__Comp_VisibleFuncs;
	if (!SC_SCObject_IsVisible(Self)) {
		if (!(SC__Options_MakeExec and ((!SC_Func_SyntaxIs(Self, kSC__FunctionType_Disabled))))) {
			return;
		}
		Base = SC__Comp_Interpreter;
	}
	SC_Func_ReachFunc(Self, Base);
}

SCFunction* SC_Func_Disambiguate(SCFunction* Self, Message* Src) {
	if ((!Self) or (!Self->NextFunc)) {
		return Self;
	}
	{
		SCFunction* Curr = Self;
		while (Curr) {
			Message* S = Curr->Source;
			if (JB_Msg_DeepEquals(S, Src, false)) {
				return Curr;
			}
			Message* Ss = ((Message*)JB_Tree_Second(S));
			if (Ss) {
				if (JB_Msg_DeepEquals(Ss, ((Message*)JB_Tree_Second(Src)), false)) {
					return Curr;
				}
			}
			Curr = Curr->NextFunc;
		};
	}
	;
	return Self;
}

void SC_Func_DoLinkToDecl(SCFunction* Self, SCDecl* Decl) {
	if (SC_Decl_SyntaxIs(Decl, kSC__SCDeclInfo_ClassObj)) {
		SCDecl* C = Decl->Contains;
		if (C) {
			SC_Func_DoLinkToNode(Self, C->Type);
		}
	}
	SC_Func_DoLinkToNode(Self, Decl->Type);
	if (SC__Comp_InPerry) {
		if (SC_SCObject_CanLinkFrom(Decl, Self)) {
			JB_Array_SyntaxAppend((({
				Array* _X = Decl->LinkFrom;
				if (_X == nil) {
					_X = (JB_Array_Constructor0(nil));
					JB_SetRef(Decl->LinkFrom, _X);
				}
				 _X;
			})), Self);
		}
	}
}

void SC_Func_DoLinkToNode(SCFunction* Self, SCNode* To) {
	if (SC_SCObject_SyntaxIs(To, kSC__SCNodeInfo_InBuiltDataType)) {
		return;
	}
	if (!SC_SCObject_CanLinkFrom(To, Self)) {
		return;
	}
	if (SC_Base_IsLibrary(To) and ((SC_SCObject_SyntaxIs(To, kSC__SCNodeInfo_LibOnly)) and SC_Base_IsLibrary(Self))) {
		if (SC_Func_SyntaxIs(Self, kSC__FunctionType_LinkInline)) {
			SC_SCObject_Fail(Self, JB_LUB[977]);
		}
		(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_CantInline, true));
	}
	JB_Array_SyntaxAppend((({
		Array* _X = Self->LinkTo;
		if (_X == nil) {
			_X = (JB_Array_Constructor0(nil));
			JB_SetRef(Self->LinkTo, _X);
		}
		 _X;
	})), To);
	if (SC__Comp_InPerry) {
		JB_Array_SyntaxAppend((({
			Array* _X = To->LinkFrom;
			if (_X == nil) {
				_X = (JB_Array_Constructor0(nil));
				JB_SetRef(To->LinkFrom, _X);
			}
			 _X;
		})), Self);
	}
}

void SC_Func_DontWantSameReturnType(SCFunction* Self, SCFunction* F) {
	if (!Self) {
		return;
	}
	if (SC_Decl_MiniMatch(F->ReturnType, Self->ReturnType, 0)) {
		if (true) {
			JB_Msg_Fail(Self->Source, JB_LUB[1942]);
		}
		if (true) {
			JB_Msg_Fail(F->Source, JB_LUB[1943]);
		}
	}
}

bool SC_Func_DoRefs(SCFunction* Self) {
	return (!SC_Func_SyntaxIs(Self, kSC__FunctionType_NotRefCounted));
}

void SC_Func_DotFuncToNormalFunc(SCFunction* Self, Message* Dot) {
	JB_Msg_BecomeStr(Dot, kJB_SyxFunc, JB_LUB[0]);
	Message* First = ((Message*)JB_Ring_First(Dot));
	JB_Incr(First);
	Message* L = ((Message*)JB_Ring_Last(Dot));
	JB_Incr(L);
	JB_SetRef(L->Obj, Self);
	L->Func = kJB_SyxPrm;
	if (JB_Object_FastIsa(First->Obj, &SCModuleData)) {
		JB_Tree_Remove(First);
	}
	 else {
		(JB_Ring_FirstSet(L, First));
	}
	JB_Decr(First);
	JB_Decr(L);
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Dot, (&_usingf0));
		Message* _tmPf1 = JB_Syx_OperatorPlus(kJB_SyxThg, Self->ExportName);
		JB_Incr(_tmPf1);
		(JB_Ring_FirstSet(Dot, _tmPf1));
		JB_Decr(_tmPf1);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Dot);
		JB_MsgPos_Destructor((&_usingf0));
	}
	if (SC_Func_SyntaxIs(Self, kSC__FunctionType_Killer)) {
		SC_Msg_LastInBlock(Dot, kSC__SCBlockage_Quit);
	}
}

bool SC_Func_EqualOrMoreSpecific(SCFunction* Self, SCFunction* F) {
	if (!(Self and F)) {
		return nil;
	}
	if (((bool)(F->ReturnType)) != ((bool)(Self->ReturnType))) {
		return nil;
	}
	if (JB_Array_Size(F->Args) != JB_Array_Size(Self->Args)) {
		return nil;
	}
	SCDecl* R = F->ReturnType;
	if (R) {
		if (!SC_Decl_MatchesDecl(R, Self->ReturnType)) {
			return nil;
		}
	}
	{
		Array* _LoopSrcf2 = Self->Args;
		int _if0 = 0;
		while (true) {
			SCDecl* A = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (A == nil) {
				break;
			}
			int I = _if0;
			if (!SC_Decl_MatchesDecl(((SCDecl*)JB_Array_Value(F->Args, I)), A)) {
				return nil;
			}
			(++_if0);
		};
	}
	;
	return true;
}

JB_String* SC_Func_ExportNameBuilder(SCFunction* Self, JB_String* CppPart) {
	JB_Incr(CppPart);
	JB_String* Rz = JB_LUB[0];
	JB_Incr(Rz);
	if (!JB_Str_Exists(CppPart)) {
		JB_SetRef(CppPart, Self->Name);
		if (Self->IsAssigns and (!(JB_Str_OperatorEndsWith(CppPart, JB_LUB[696])))) {
			JB_SetRef(CppPart, JB_Str_OperatorPlus(CppPart, JB_LUB[697]));
		}
	}
	JB_String* SubSection = JB_LUB[0];
	JB_Incr(SubSection);
	JB_String* AfterSub = JB_LUB[0];
	JB_Incr(AfterSub);
	SCClass* C = Self->Cls;
	JB_Incr(C);
	if (C) {
		JB_SetRef(SubSection, SC_Mod_CppPath(C->Modul));
		JB_SetRef(AfterSub, JB_LUB[385]);
		if ((SC_Func_SyntaxIs(Self, kSC__FunctionType_Constructor)) and (!(JB_Str_ContainsString(CppPart, JB_LUB[698])))) {
			JB_SetRef(CppPart, JB_Str_OperatorPlus(JB_LUB[698], CppPart));
		}
	}
	 else {
		SCNode* L = Self->Parent;
		JB_Incr(L);
		if (JB_Object_FastIsa(L, &SCModuleData)) {
			if (JB_Str_Exists(((SCModule*)L)->CppPart)) {
				JB_SetRef(SubSection, SC_Mod_CppPath(((SCModule*)L)));
				JB_SetRef(AfterSub, JB_LUB[156]);
			}
		}
		JB_Decr(L);
	}
	JB_Decr(C);
	SCImport* P = Self->Project;
	JB_Incr(P);
	if (P) {
		JB_String* Wanted = P->Mod->ExportName;
		JB_Incr(Wanted);
		if (!JB_Str_Equals(Wanted, SubSection, false)) {
			JB_SetRef(Rz, (JB_Str_OperatorPlus(Wanted, JB_LUB[385])));
		}
		JB_Decr(Wanted);
	}
	JB_Decr(P);
	JB_String* _tmPf1 = JB_Str_OperatorPlus(AfterSub, CppPart);
	JB_Incr(_tmPf1);
	JB_Decr(AfterSub);
	JB_Decr(CppPart);
	JB_String* _tmPf0 = JB_Str_OperatorPlus(SubSection, _tmPf1);
	JB_Incr(_tmPf0);
	JB_Decr(SubSection);
	JB_Decr(_tmPf1);
	JB_SetRef(Rz, JB_Str_OperatorPlus(Rz, (_tmPf0)));
	JB_EarlyDecr(_tmPf0);
	JB_SafeDecr(Rz);
	return Rz;
}

FatASM* SC_Func_FatFirst(SCFunction* Self) {
	return SC__Pac_Sh.Start + Self->xC2xB5Start;
}

void SC_Func_FillInDestructor(SCFunction* Self) {
	Message* S = SC_Func_SourceArg(Self);
	if (!S) {
		return;
	}
	SCClass* C = Self->Cls;
	if (!C) {
		return;
	}
	Message* First = SC_Msg_FindDestructor(S);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(S, (&_usingf0));
	{
		Array* _LoopSrcf3 = C->Properties;
		int _if1 = 0;
		while (true) {
			SCDecl* D = ((SCDecl*)JB_Array_Value(_LoopSrcf3, _if1));
			if (D == nil) {
				break;
			}
			if (SC_Decl_IsReffable(D, true)) {
				SC_Msg_AddBefore(S, First, SC_Decl_RefDestructor(D));
			}
			 else {
				SCFunction* Destr = SC_Decl_HasStructDestructor(D);
				if (Destr) {
					Message* Addr = SC_Decl_DeclToAddr(D, SC_Func_Self(Self));
					SC_Msg_AddBefore(S, First, SC_Refs__RefDestructorMsg(Addr, Destr));
				}
			}
			(++_if1);
		};
	}
	;
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), S);
	JB_MsgPos_Destructor((&_usingf0));
}

void SC_Func_FillInMissingConstructorDefaults(SCFunction* Self, Message* After) {
	SCClass* Cls = Self->Cls;
	if (!Cls) {
		return;
	}
	Message* Oof = SC_Func_ConstructorLinePlace(Self);
	if (!Oof) {
		return;
	}
	Array* P = Cls->Properties;
	{
		int _if0 = JB_Array_Size(P) - 1;
		while (true) {
			SCDecl* D = ((SCDecl*)JB_Array_Value(P, _if0));
			if (D == nil) {
				break;
			}
			if (!SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_ASMReached)) {
				if (!SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_PropertyWasConstructed)) {
					JB_FreeIfDead(SC_Func_DeclAfter(Self, After, D, D));
				}
				 else {
					(SC_Decl_SyntaxIsSet(D, kSC__SCDeclInfo_SetTo, true));
				}
			}
			(--_if0);
		};
	}
	;
	while (Cls) {
		{
			Array* _LoopSrcf4 = Cls->Properties;
			int _if2 = 0;
			while (true) {
				SCDecl* D = ((SCDecl*)JB_Array_Value(_LoopSrcf4, _if2));
				if (D == nil) {
					break;
				}
				(SC_Decl_SyntaxIsSet(D, kSC__SCDeclInfo_ASMReached, (!true)));
				(SC_Decl_SyntaxIsSet(D, kSC__SCDeclInfo_PropertyWasConstructed, (!true)));
				(++_if2);
			};
		}
		;
		Cls = Cls->Super;
	};
}

Message* SC_Func_FindCallParents(SCFunction* Self) {
	Message* Rz = nil;
	Message* S = SC_Func_SourceArg(Self);
	if (S) {
		Rz = SC_Func_CountCallsToParentAlloc(Self, S);
	}
	return Rz;
}

Message* SC_Func_FindCppWrapperFunc(SCFunction* Self, Message* Place) {
	{
		Message* Cpp = ((Message*)JB_Ring_First(Place));
		while (Cpp) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Cpp));
			if ((JB_Str_OperatorStarts(Cpp->Name, JB_LUB[443])) and SC_Func_FoundOneCpp(Self, Cpp->Name)) {
				return Cpp;
			}
			Cpp = _Nf1;
		};
		;
	}
	;
	return nil;
}

int SC_Func_FindDepths(SCFunction* Self) {
	int Rz = 0;
	//;
	uint L = Self->LinkDepth;
	if (L) {
		return L;
	}
	Rz = 1;
	{
		Array* _LoopSrcf2 = Self->LinkTo;
		int _if0 = 0;
		while (true) {
			SCNode* F = ((SCNode*)JB_Array_Value(_LoopSrcf2, _if0));
			if (F == nil) {
				break;
			}
			if (JB_Object_FastIsa(F, &SCFunctionData)) {
				if ((F == Self) or ((SCFunction*)F)->DepthFinder) {
					SC_Func_MarkRecursive(Self, ((SCFunction*)F));
				}
				 else if (((SCFunction*)F)->IsCppInBuilt) {
					0;
				}
				 else if (!SC_Func_SyntaxIs(((SCFunction*)F), kSC__FunctionType_Cpp)) {
					((SCFunction*)F)->DepthFinder = Self;
					int D = SC_Func_FindDepths(((SCFunction*)F)) + ((1));
					(Rz = JB_int_OperatorMax(Rz, D));
					((SCFunction*)F)->DepthFinder = nil;
				}
				 else {
					(Rz = JB_int_OperatorMax(Rz, 2));
				}
			}
			(++_if0);
		};
	}
	;
	Self->LinkDepth = Rz;
	return Rz;
}

void SC_Func_FixCnj(SCFunction* Self, Message* Exp) {
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Exp, (&_usingf0));
	SC_Func_FixCnjSub(Self, Exp);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Exp);
	JB_MsgPos_Destructor((&_usingf0));
}

void SC_Func_FixCnjSub(SCFunction* Self, Message* Exp) {
	if (JB_Msg_EqualsSyx(Exp, kJB_SyxARel)) {
		JB_Msg_BecomeStr(Exp, kJB_SyxTRel, JB_LUB[0]);
		JB_Msg_AppendSyx(Exp, kJB_SyxOpp, JB_LUB[459]);
	}
	Message* Ch = ((Message*)JB_Ring_First(Exp));
	JB_Incr(Ch);
	Message* _tmPf1 = ((Message*)JB_Ring_NextSib(Ch));
	JB_Incr(_tmPf1);
	JB_String* Name = _tmPf1->Name;
	JB_Incr(Name);
	JB_Decr(_tmPf1);
	bool CreatesError = ((JB_Str_Equals(Name, JB_LUB[458], false)) or (JB_Str_Equals(Name, JB_LUB[463], false)));
	bool DoesReturn = ((!JB_Str_Equals(Name, JB_LUB[464], false)) and ((!JB_Str_Equals(Name, JB_LUB[463], false)) and (!JB_Str_Equals(Name, JB_LUB[1578], false))));
	if (!(CreatesError or ((JB_Str_Equals(Name, JB_LUB[460], false)) or ((JB_Str_Equals(Name, JB_LUB[459], false)) or ((JB_Str_Equals(Name, JB_LUB[590], false)) or ((JB_Str_Equals(Name, JB_LUB[464], false)) or (JB_Str_Equals(Name, JB_LUB[1578], false)))))))) {
		if (true) {
			JB_Msg_Fail(Exp, JB_LUB[1579]);
		}
		JB_SetRef(Ch->Name, JB_LUB[459]);
		JB_SetRef(Name, JB_LUB[459]);
	}
	Message* Nxt = ((Message*)JB_Ring_NextSib(Ch));
	JB_Incr(Nxt);
	Message* _tmPf2 = ((Message*)JB_Tree_Second(Ch));
	JB_Incr(_tmPf2);
	if (((JB_Msg_EqualsSyx(Ch, kJB_SyxRel))) and ((JB_Msg_OperatorIn(Exp, kJB_SyxArg) or JB_Msg_OperatorIn(Exp, kJB_SyxDecl)) and ((JB_Str_Equals(_tmPf2->Name, JB_LUB[455], false))))) {
		Message* _tmPf3 = ((Message*)JB_Ring_First(Ch));
		JB_Incr(_tmPf3);
		if (!SC_Msg_IsAssignable(_tmPf3)) {
			FastString* _fsf0 = JB_FS_Constructor(nil);
			JB_FS_AppendString(_fsf0, JB_LUB[1580]);
			JB_FS_SyntaxAppend(_fsf0, Ch);
			JB_FS_AppendString(_fsf0, JB_LUB[1581]);
			JB_FS_AppendString(_fsf0, Name);
			JB_FS_AppendString(_fsf0, JB_LUB[537]);
			JB_String* _tmPf4 = JB_FS_GetResult(_fsf0);
			JB_Incr(_tmPf4);
			JB_Msg_Fail(Exp, _tmPf4);
			JB_EarlyDecr(_tmPf4);
			JB_EarlyDecr(_tmPf3);
			JB_EarlyDecr(_tmPf2);
			JB_EarlyDecr(Nxt);
			JB_EarlyDecr(Name);
			JB_EarlyDecr(Ch);
			return;
		}
		JB_Decr(_tmPf3);
		JB_FreeIfDead(SC_Msg_ReplaceWith(Exp, Ch));
		Message* RightSide = ((Message*)JB_Ring_Last(Ch));
		JB_Incr(RightSide);
		Message* Bra = JB_Syx_Msg(kJB_SyxBra, JB_LUB[0]);
		JB_Incr(Bra);
		JB_FreeIfDead(SC_Msg_ReplaceWith(RightSide, Bra));
		JB_Tree_SyntaxAppend(Bra, RightSide);
		JB_Decr(RightSide);
		JB_FreeIfDead(((Message*)JB_Tree_WrapWith(Bra, Exp)));
		Message* _tmPf5 = ((Message*)JB_Ring_First(Bra));
		JB_Incr(_tmPf5);
		JB_FreeIfDead(SC_Msg_ReplaceWith(Bra, _tmPf5));
		JB_Decr(Bra);
		JB_Decr(_tmPf5);
	}
	JB_Decr(_tmPf2);
	if (JB_Str_Equals(Name, JB_LUB[459], false)) {
		JB_SetRef(Nxt->Name, JB_LUB[453]);
		JB_SetRef(Name, JB_LUB[453]);
	}
	JB_Decr(Nxt);
	JB_SetRef(Ch, ((Message*)JB_Ring_First(Exp)));
	JB_Tree_Remove(Ch);
	JB_FreeIfDead(SC_Msg_ReplaceWith(Exp, Ch));
	Message* Thg = nil;
	JB_Incr(Thg);
	Message* Pp = nil;
	JB_Incr(Pp);
	Message* RemoveMe = nil;
	JB_Incr(RemoveMe);
	bool UsePrev = false;
	if ((SC_Msg_OperatorIsBRel(Ch, JB_LUB[1582])) and ((JB_Msg_OperatorIn(Ch, kJB_SyxArg)) and ((({
		Message* _tmPf7 = ((Message*)JB_Ring_First(Ch));
		JB_Incr(_tmPf7);
		bool _tmPf6 = JB_Msg_EqualsSyx(_tmPf7, kJB_SyxThg);
		JB_EarlyDecr(_tmPf7);
		 _tmPf6;
	}))))) {
		Message* _tmPf8 = ((Message*)JB_Ring_First(Ch));
		JB_Incr(_tmPf8);
		JB_SetRef(Thg, JB_Syx_OperatorPlus(kJB_SyxThg, _tmPf8->Name));
		JB_Decr(_tmPf8);
		JB_SetRef(Pp, Ch);
	}
	 else {
		JB_SetRef(Pp, SC_Msg_NiceParent(Ch));
		bool Done = false;
		if (SC_Msg_IsSetRel(Pp) and (({
			Message* _tmPf10 = ((Message*)JB_Ring_First(Pp));
			JB_Incr(_tmPf10);
			bool _tmPf9 = JB_Msg_EqualsSyx(_tmPf10, kJB_SyxThg);
			JB_EarlyDecr(_tmPf10);
			 _tmPf9;
		}))) {
			bool IsDecl = (JB_Msg_OperatorIn(Pp, kJB_SyxDecl));
			if (IsDecl or ((!JB_Str_Equals(Name, JB_LUB[464], false)))) {
				Done = ((bool)1);
				Message* _tmPf11 = ((Message*)JB_Ring_First(Pp));
				JB_Incr(_tmPf11);
				JB_SetRef(Thg, JB_Syx_OperatorPlus(kJB_SyxThg, _tmPf11->Name));
				JB_Decr(_tmPf11);
				if (IsDecl) {
					JB_SetRef(Pp, ((Message*)JB_Ring_Parent(Pp)));
				}
			}
		}
		 else if ((((({
			Message* _tmPf13 = SC_Msg_UnBra(Ch);
			JB_Incr(_tmPf13);
			bool _tmPf12 = JB_Msg_EqualsSyx(_tmPf13, kJB_SyxThg);
			JB_EarlyDecr(_tmPf13);
			 _tmPf12;
		})))) or (((JB_Msg_EqualsSyx(Pp, kJB_SyxArg))) and (!CreatesError))) {
			JB_SetRef(Thg, JB_Msg_Copy(Ch, nil));
			if ((JB_Msg_EqualsSyx(Pp, kJB_SyxArg))) {
				JB_SetRef(RemoveMe, Ch);
			}
			JB_SetRef(Pp, SC_Msg_UpToArg(Ch));
			UsePrev = true;
			Done = ((bool)1);
		}
		if (!Done) {
			JB_SetRef(Pp, SC_Func__TypedTempMoveOut(Ch, JB_LUB[0], nil));
			Message* _tmPf14 = SC_Msg_DeclName(Pp);
			JB_Incr(_tmPf14);
			JB_SetRef(Thg, JB_Syx_OperatorPlus(kJB_SyxThg, _tmPf14->Name));
			JB_Decr(_tmPf14);
		}
	}
	JB_Decr(Ch);
	Message* Arg = JB_Syx_Msg(kJB_SyxArg, JB_LUB[0]);
	JB_Incr(Arg);
	if (CreatesError) {
		Message* _tmPf15 = ((Message*)JB_Ring_First(Exp));
		JB_Incr(_tmPf15);
		Message* L = ((Message*)JB_Ring_NextSib(_tmPf15));
		JB_Incr(L);
		JB_Decr(_tmPf15);
		if ((!JB_Str_Equals(Name, JB_LUB[1583], false))) {
			JB_SetRef(L, SC_Msg_ExpectParamsTransform(L, Exp->Position, Exp, JB_LUB[0]));
		}
		 else {
			if (true) {
				JB_Msg_Fail(Exp, nil);
			}
		}
		JB_Tree_SyntaxAppend(Arg, L);
		JB_Decr(L);
	}
	if ((JB_Str_Equals(Name, JB_LUB[460], false))) {
		JB_Msg_AppendSyx(Arg, kJB_SyxTmp, JB_LUB[1405]);
	}
	if ((JB_Str_Equals(Name, JB_LUB[590], false))) {
		Message* _tmPf16 = SC_Func_SourceArg(Self);
		JB_Incr(_tmPf16);
		if (SC_Msg_WithinLoop(Pp, _tmPf16)) {
			JB_Msg_AppendSyx(Arg, kJB_SyxTmp, JB_LUB[590]);
		}
		JB_Decr(_tmPf16);
	}
	 else if ((JB_Str_Equals(Name, JB_LUB[464], false))) {
		Message* _tmPf17 = SC_Func_SourceArg(Self);
		JB_Incr(_tmPf17);
		if (SC_Msg_WithinLoop(Pp, _tmPf17)) {
			JB_Msg_AppendSyx(Arg, kJB_SyxTmp, JB_LUB[589]);
		}
		JB_Decr(_tmPf17);
	}
	 else if (JB_Str_Equals(Name, JB_LUB[1578], false)) {
		Message* Q = JB_Msg_Msg(Arg, kJB_SyxDot, JB_LUB[1578]);
		JB_Incr(Q);
		JB_Msg_AppendSyx(Q, kJB_SyxThg, JB_LUB[588]);
		JB_Msg_AppendSyx(Q, kJB_SyxPrm, JB_LUB[0]);
		JB_Decr(Q);
	}
	 else if (DoesReturn) {
		Message* _tmPf18 = JB_Msg_Msg(Arg, kJB_SyxTmp, JB_LUB[453]);
		JB_Incr(_tmPf18);
		JB_Msg_AppendSyx(_tmPf18, kJB_SyxQues, JB_LUB[100]);
		JB_Decr(_tmPf18);
	}
	JB_Decr(Name);
	JB_SetRef(Thg, SC_Msg_Negate(Thg));
	Message* If_ = JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[397]);
	JB_Incr(If_);
	JB_Tree_SyntaxAppend(If_, Thg);
	JB_Decr(Thg);
	JB_Tree_SyntaxAppend(If_, Arg);
	JB_Decr(Arg);
	if (UsePrev) {
		(JB_Ring_PrevSibSet(Pp, If_));
	}
	 else {
		(JB_Ring_NextSibSet(Pp, If_));
	}
	JB_Decr(Pp);
	JB_Decr(If_);
	JB_Tree_Remove(RemoveMe);
	JB_Decr(RemoveMe);
}

void SC_Func_FLookupSet(SCFunction* Self, SCNode* Value) {
	if (JB_Object_FastIsa(Value, &SCClassData)) {
		JB_SetRef(Self->Cls, Value);
		Self->Parent = ((SCClass*)Value)->Modul;
	}
	 else {
		Self->Parent = SC_Base_ProjectFix(Value);
	}
	if (SC__Imp_Curr) {
		Self->Project = SC__Imp_Curr;
		return;
	}
	Message* S = Self->Source;
	if (S) {
		SCFile* F = SC_Msg_File(S);
		if (F) {
			Self->Project = F->Proj;
		}
	}
}

bool SC_Func_FoundOneCpp(SCFunction* Self, JB_String* N) {
	if (JB_Str_Equals(N, JB_LUB[92], false)) {
		Self->NoAutoComplete = 1;
		Self->IsCppInBuilt = 2;
		return true;
	}
	if (JB_Str_Equals(N, JB_LUB[93], false)) {
		Self->NoAutoComplete = 1;
		(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_ExternalLib, true));
		return true;
	}
	return false;
}

void SC_Func_FuncParamsLoad(SCFunction* Self) {
	(SC_Func__CurrFuncSet(Self));
	SCImport* Old = SC__Imp_Curr;
	SC_Imp_Use(Self->Project);
	JB_SetRef(Self->ReturnType, nil);
	JB_Array_Clear(Self->Args);
	Message* P = ((Message*)JB_Tree_Second(Self->Source));
	if (P) {
		SC_Func_SubFuncParamsLoad(Self, P);
	}
	SC__Imp_Curr = Old;
}

bool SC_Func_HasCVersion(SCFunction* Self) {
	if (Self->IsCppInBuilt == 2) {
		JB_DoAt(1);
		return false;
	}
	if (SC_Base_IsLibrary(Self)) {
		return true;
	}
	return SC_Func_SyntaxIs(Self, kSC__FunctionType_Wrapper);
}

bool SC_Func_HasProperSpeedieCode(SCFunction* Self) {
	if (SC_Func_SyntaxIs(Self, kSC__FunctionType_Wrapper) != SC_Func_SyntaxIs(Self, kSC__FunctionType_Cpp)) {
		JB_DoAt(1);
	}
	if ((Self->Badness != 0) and (Self->Badness != 128)) {
		return false;
	}
	return (!Self->IsMacro) and (((!SC_Func_SyntaxIs(Self, kSC__FunctionType_Wrapper))) and ((!SC_Func_SyntaxIs(Self, kSC__FunctionType_Disabled))));
}

bool SC_Func_HiderMatch(SCFunction* Self, bool IsAssigns) {
	if (Self and Self->IsAssigns) {
		return IsAssigns;
	}
	return false;
}

void SC_Func_Init_Sub(SCFunction* Self, Message* Node, SCNode* Name_space) {
	Message* Arg = SC_Msg_NormaliseFunc(Node, nil);
	JB_Incr(Arg);
	JB_SetRef(Node->Obj, Self);
	if (Name_space) {
		(SC_Func__CurrFuncSet(Self));
		if (!JB_Msg_SyntaxEquals(Node, JB_LUB[2077], false)) {
			JB_Array_SyntaxAppend(SC__Comp_FuncList, Self);
		}
		(SC_Func_FLookupSet(Self, Name_space));
		SCModule* _tmPf0 = SC_Base_SpaceModule(Name_space, nil);
		JB_Incr(_tmPf0);
		if (!_tmPf0) {
			JB_EarlyDecr(_tmPf0);
			JB_EarlyDecr(Arg);
			return;
		}
		JB_SetRef(Self->Refs, _tmPf0->DefaultRefs);
		JB_Decr(_tmPf0);
		if (SC_SCObject_SyntaxIs(Name_space, kSC__SCNodeInfo_LibOnlyAll)) {
			SC_Func_MakeLibOnly(Self, Node);
		}
		if (SC_SCObject_SyntaxIs(Name_space, kSC__SCNodeInfo_EmbeddedOnly)) {
			(SC_SCObject_SyntaxIsSet(((SCNode*)Self), kSC__SCNodeInfo_EmbeddedOnly, true));
		}
	}
	SC_Func_ParseName(Self, Node);
	if (true) {
		JB_ErrorReceiver* _usingf1 = JB_Rec_SyntaxUsing(SC_ErrorDelayer);
		JB_Incr(_usingf1);
		SC_Func_PreProcessExpects(Self);
		SC_Func_TranStrings(Self);
		JB_Rec_SyntaxUsingComplete(_usingf1, SC_ErrorDelayer);
		JB_Decr(_usingf1);
	}
	SC_Func_PreRead(Self, Arg);
	SC_Func_SetBlindCasts(Self, Name_space);
	if ((JB_Msg_SyntaxEquals(Node, JB_LUB[2078], false))) {
		SC_Func_MakeMacro(Self, Arg);
	}
	JB_Decr(Arg);
}

SCObject* SC_Func_InsertIn(SCFunction* Self, SCNode* Parent, JB_String* Name) {
	JB_SetRef(Self->Name, Name);
	if (JB_Object_FastIsa(Parent, &SCClassData)) {
		JB_SetRef(Self->Cls, Parent);
		Self->Parent = ((SCClass*)Parent)->Modul;
	}
	 else {
		JB_SetRef(Self->Cls, nil);
		Self->Parent = Parent;
	}
	return SC_Base_SyntaxAccessWithStr(Parent, Name);
}

bool SC_Func_IsAllocOrNew(SCFunction* Self) {
	return SC_Func_SyntaxIs(Self, kSC__FunctionType_Constructor);
}

bool SC_Func_IsARealSpdFunc(SCFunction* Self) {
	if ((SC_Func_SyntaxIs(Self, kSC__FunctionType_Wrapper)) or Self->IsMacro) {
		return false;
	}
	(SC_Func__CurrFuncSet(Self));
	return true;
}

bool SC_Func_IsBehaviour(SCFunction* Self) {
	SCDecl* _tmPf0 = Self->HasProto;
	if (!_tmPf0) {
		return nil;
	}
	return SC_Class_IsInterface(_tmPf0->Type);
}

bool SC_Func_IsConstructorOnModule(SCFunction* Self, SCFunction* Old) {
	if (SC_Func_SyntaxIs(Self, kSC__FunctionType_Constructor)) {
		SCNode* P = Old->Parent;
		return P == Self->Cls->Modul;
	}
	return false;
}

void SC_Func_IsCppInBuiltSet(SCFunction* Self, int Value) {
	if (Value and (!Self->IsCppInBuilt)) {
		SC_Func_MakeParamsReal(Self);
	}
	Self->IsCppInBuilt = Value;
}

bool SC_Func_IsOKConstructorCall(SCFunction* Self, SCClass* C) {
	SCClass* Fc = Self->Cls;
	if (Fc == C->Super) {
		return true;
	}
	if (Fc == SC_Class_RealSuper(C)) {
		return true;
	}
	if (SC_Func_SyntaxIs(Self, kSC__FunctionType_Wrapper)) {
		return true;
	}
	return false;
}

bool SC_Func_IsReal(SCFunction* Self) {
	return (Self != nil) and (!Self->IsMacro);
}

Message* SC_Func_IsSimpleCast(SCFunction* Self) {
	if (!Self->Source) {
		JB_Object_Fail(nil);
		return nil;
	}
	Message* Found = ((Message*)JB_Ring_First(JB_Msg_Last(Self->Source, kJB_SyxArg)));
	if (!(Found and (JB_Tree_IsLast(Found) and (SC_Msg_OperatorIsTmp(Found, JB_LUB[453]))))) {
		return nil;
	}
	Found = ((Message*)JB_Ring_First(Found));
	if (!((JB_Tree_IsLast(Found)) and (((JB_Msg_EqualsSyx(Found, kJB_SyxType))) and (SC_Msg_OperatorIsThing(((Message*)JB_Ring_First(Found)), JB_LUB[401]))))) {
		return nil;
	}
	return Found;
}

bool SC_Func_IsUnused(SCFunction* Self) {
	SCImport* P = Self->Project;
	if (P) {
		if (!P->WarnUnusedFuncs) {
			return nil;
		}
	}
	if (Self == SC__Comp_MainFunc) {
		return false;
	}
	SCNode* MR = Self->MyReacher;
	if (MR and (MR != SC__Comp_VisibleFuncs)) {
		return false;
	}
	if (SC_SCObject_IsVisible(Self) and SC_Base_IsLibrary(Self)) {
		return false;
	}
	return ((!SC_Func_SyntaxIs(Self, kSC__FunctionType_ConOrDes))) and (!SC_Func_IsAllocOrNew(Self));
}

SCFunction* SC_Func_Last(SCFunction* Self) {
	SCFunction* Rz = nil;
	Rz = Self;
	while (true) {
		SCFunction* _tmPf0 = Rz->NextFunc;
		if (!_tmPf0) {
			break;
		}
		Rz = _tmPf0;
	};
	return Rz;
}

SCDecl* SC_Func_MacroFix(SCFunction* Self, SCDecl* Contains, SCNode* Name_space, SCParamArray* Incoming) {
	SCDecl* Rz = nil;
	JB_Incr(Rz);
	Message* Orig = Incoming->Exp;
	JB_Incr(Orig);
	if (Orig) {
		Array* R = SC_PA_MacroCopyArgs(Incoming);
		JB_Incr(R);
		JB_Msg_BecomeMacro(Orig, Self->IsMacro, R);
		JB_Decr(R);
		SC_Msg_MacroFixSub(Orig, Contains);
		JB_SetRef(Rz, SC_TypeOfExpr(Orig, Name_space, nil));
		if (!Rz) {
			JB_SetRef(Rz, SC_TypeVoid);
		}
	}
	 else {
	}
	JB_EarlyDecr(Orig);
	JB_SafeDecr(Rz);
	return Rz;
}

void SC_Func_MakeConstructor(SCFunction* Self) {
	(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_Constructor, true));
	if (SC_Base_IsLibrary(Self)) {
		(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_CantInline, true));
	}
}

void SC_Func_MakeLibOnly(SCFunction* Self, Message* Node) {
	if (Self != SC__AC_AnonFn) {
		if (!SC_Base_IsLibrary(Self)) {
			JB_Msg_Fail(Node, JB_LUB[978]);
		}
	}
	Self->NoAutoComplete = 2;
	(SC_SCObject_SyntaxIsSet(((SCNode*)Self), kSC__SCNodeInfo_LibOnly, true));
}

void SC_Func_MakeLinkInline(SCFunction* Self) {
	if (!SC_Base_IsLibrary(Self)) {
		SC_SCObject_Fail(Self, JB_LUB[979]);
	}
	(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_OptInline, true));
	(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_LinkInline, true));
}

void SC_Func_MakeMacro(SCFunction* Self, Message* Arg) {
	Message* C = ((Message*)JB_Ring_First(Arg));
	Message* Prm = ((Message*)JB_Ring_PrevSib(Arg));
	if (!(C and (!((Message*)JB_Ring_NextSib(C))))) {
		SC_SCObject_Fail(Self, JB_LUB[980]);
	}
	if ((JB_Ring_HasChildren(Prm))) {
		JB_Str_Fail(JB_LUB[981]);
	}
	JB_SetRef(Self->IsMacro, JB_Macro__Build(C));
}

void SC_Func_MakeNilChecker(SCFunction* Self, Message* Msg) {
	SC_Func_NilSelff(Self, Msg, kSC__NilState_Optional);
	Self->IsNilChecker = 1;
}

void SC_Func_MakeParamsReal(SCFunction* Self) {
	{
		Array* _LoopSrcf2 = Self->Args;
		int _if0 = 0;
		while (true) {
			SCDecl* A = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (A == nil) {
				break;
			}
			int I = _if0;
			if (SC_Decl_CouldUpgradeToReal(A)) {
				(JB_Array_ValueSet(Self->Args, I, SC_Decl_MakeExistance(A, kSC__NilState_Real, nil)));
			}
			(++_if0);
		};
	}
	;
	SCDecl* R = Self->ReturnType;
	if (R) {
		if (SC_Decl_CouldUpgradeToReal(R)) {
			JB_SetRef(Self->ReturnType, SC_Decl_MakeExistance(R, kSC__NilState_Real, nil));
		}
	}
}

JB_String* SC_Func_MakeProtoClassName(SCFunction* Self, JB_String* Start) {
	JB_String* Rz = JB_LUB[0];
	JB_Incr(Rz);
	JB_SetRef(Rz, Start);
	SCNode* P = Self->Parent;
	while (P) {
		if (JB_Object_FastIsa(P, &SCModuleData)) {
			SCClass* CurrCls = ((SCModule*)P)->Cls;
			if (!CurrCls) {
				break;
			}
			JB_String* _tmPf0 = JB_Str_OperatorPlus(JB_LUB[385], Rz);
			JB_Incr(_tmPf0);
			JB_SetRef(Rz, JB_Str_OperatorPlus(CurrCls->Name, _tmPf0));
			JB_Decr(_tmPf0);
		}
		P = P->Parent;
	};
	if (!Self->ProtoType->IsWrapper) {
		if (!JB_Ind_SyntaxCast(JB_Str_FindByte(Rz, '_', 0, kJB__int_Max))) {
			JB_SetRef(Rz, JB_Str_OperatorPlus(JB_LUB[444], Rz));
		}
	}
	JB_SafeDecr(Rz);
	return Rz;
}

void SC_Func_MarkRecursive(SCFunction* Self, SCFunction* EndAt) {
	SCFunction* S = Self;
	while (true) {
		(SC_Func_SyntaxIsSet(S, kSC__FunctionType_Recursive, true));
		if (S == EndAt) {
			return;
		}
		S = S->DepthFinder;
		if (!((S != nil) and (S != EndAt))) {
			return;
		}
	};
}

SCFunction* SC_Func_MatchImprove(SCFunction* Self, SCParamArray* Incoming) {
	if ((SC_SCObject_SyntaxIs(((SCNode*)Self), kSC__SCNodeInfo_LibOnly)) or ((SC_Func_SyntaxIs(Self, kSC__FunctionType_ExternalLib)) and SC_Options__ModeCake())) {
		SCFunction* Curr = SC_Func__CurrFunc();
		if (Curr and ((!SC_Base_IsLibrary(Curr)) and (Self->Project != Curr->Project))) {
			if (true) {
				JB_Msg_Fail(Incoming->Exp, JB_Str_OperatorPlus(JB_LUB[2079], JB_Str_OperatorPlus(Self->Name, JB_LUB[2080])));
			}
			if (true) {
				JB_Msg_Fail(Self->Source, JB_LUB[2081]);
			}
		}
	}
	SCDecl* Ft = SC_Func_StructReturned(Self);
	if (Ft) {
		SC_PA_StructReturner(Incoming, SC_Decl_AsLocal(Ft), Self);
	}
	 else if (SC_Decl_SyntaxIs(Self->ReturnType, kSC__SCDeclInfo_ReturnedStruct)) {
		if (true) {
			SC_SCObject_Fail(Self, JB_LUB[2082]);
		}
	}
	return Self;
}

bool SC_Func_NeedsLibExport(SCFunction* Self) {
	if (!(Self->MyReacher or SC__Options_MakeExec)) {
		return nil;
	}
	if (!(((!SC_Func_SyntaxIs(Self, kSC__FunctionType_NoExport))) and (!Self->IsMacro))) {
		return nil;
	}
	if (SC_SCObject_SyntaxIs(((SCNode*)Self), kSC__SCNodeInfo_LibOnly)) {
		return nil;
	}
	if (SC_SCObject_SyntaxIs(((SCNode*)Self), kSC__SCNodeInfo_EmbeddedOnly)) {
		return nil;
	}
	return (Self->IsCppInBuilt < 2);
}

bool SC_Func_NeedsStableID(SCFunction* Self) {
	if (SC_SCObject_SyntaxIs(((SCNode*)Self), kSC__SCNodeInfo_EmbeddedOnly)) {
		return nil;
	}
	if (((!Self->IsMacro)) and ((!SC_Func_SyntaxIs(Self, kSC__FunctionType_Disabled)) and (!SC_Func_SyntaxIs(Self, kSC__FunctionType_LinkInline)))) {
		if (SC_SCObject_SyntaxIs(((SCNode*)Self), kSC__SCNodeInfo_LibOnly)) {
		}
		return true;
	}
	return false;
}

void SC_Func_NilSelff(SCFunction* Self, Message* Where, uint /*NilState*/ V) {
	if ((Self->NilSelf)) {
		JB_Msg_Fail(Where, JB_LUB[982]);
		return;
	}
	Self->NilSelf = V;
}

SCFunction* SC_Func_ParamlessConstructor(SCFunction* Self) {
	{
		SCFunction* F = Self;
		while (F) {
			Message* Prm = JB_Msg_NeedSyxInt(F->Source, kJB_SyxPrm, 1);
			Message* Last = ((Message*)JB_Ring_Last(Prm));
			if (!Last) {
				return F;
			}
			if ((JB_Msg_EqualsSyx(Last, kJB_SyxDecl)) and (JB_Tree_SyntaxEquals(Last, 1))) {
				return F;
			}
			F = F->NextFunc;
		};
	}
	;
	return nil;
}

JB_String* SC_Func_ParamUniquer(SCFunction* Self, JB_String* S) {
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, S);
	JB_FS_AppendString(Fs, JB_LUB[668]);
	int First = 0 + (Self->Cls != nil);
	int Last = JB_Array_Size(Self->Args) - 1;
	if (Last < First) {
		JB_FS_AppendByte2(Fs, '0');
	}
	 else {
		{
			IntRange _LoopSrcf2 = JB_int_OperatorTo(First, Last);
			int __Endf0 = _LoopSrcf2[1];
			int I = _LoopSrcf2[0];
			while (I < __Endf0) {
				SCDecl* A = ((SCDecl*)JB_Array_Value(Self->Args, I));
				JB_Incr(A);
				if (A) {
					JB_String* _tmPf3 = JB_Str_TitleCase(A->Type->Modul->CppPart, nil);
					JB_Incr(_tmPf3);
					JB_FS_AppendString(Fs, _tmPf3);
					JB_Decr(_tmPf3);
				}
				JB_Decr(A);
				(++I);
			};
		};
	}
	JB_String* _tmPf4 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf4);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf4);
	return _tmPf4;
}

JB_String* SC_Func_ParentName(SCFunction* Self) {
	SCClass* C = Self->Cls;
	if (C) {
		return C->Name;
	}
	SCNode* Mod = Self->Parent;
	if (JB_Object_FastIsa(Mod, &SCModuleData)) {
		if (!((SCModule*)Mod)->IsImport) {
			return ((SCModule*)Mod)->Name;
		}
	}
	return JB_LUB[0];
}

bool SC_Func_ParseName(SCFunction* Self, Message* Node) {
	JB_String* fType = Node->Name;
	Message* Cname = ((Message*)JB_Ring_First(Node));
	if (!Cname) {
		return nil;
	}
	Cname->Func = kJB_SyxThg;
	JB_SetRef(Self->Name, Cname->Name);
	if (JB_Str_Equals(fType, JB_LUB[1131], false)) {
		SC_Func_MakeLibOnly(Self, Node);
	}
	 else if (JB_Str_Equals(fType, JB_LUB[1132], false)) {
		Self->NoAutoComplete = 2;
	}
	 else if (JB_Str_Equals(fType, JB_LUB[1133], false)) {
		Self->NoAutoComplete = 2;
	}
	 else if (JB_Str_Equals(fType, JB_LUB[1128], false)) {
		SC_Func_MakeLinkInline(Self);
	}
	 else if (JB_Str_Equals(fType, JB_LUB[1134], false)) {
		(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_API, true));
	}
	 else if (JB_Str_Equals(fType, JB_LUB[1135], false)) {
		Self->IsAssigns = 2;
		(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_HidesProperties, true));
	}
	 else if (JB_Str_Equals(fType, JB_LUB[1136], false)) {
		(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_HidesProperties, true));
	}
	if (!Self->Cls) {
		0;
	}
	 else if (JB_Msg_SyntaxEquals(Cname, JB_LUB[1137], true)) {
		SC_Func_MakeConstructor(Self);
	}
	 else if (JB_Msg_SyntaxEquals(Cname, JB_LUB[56], true)) {
		(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_Destructor, true));
	}
	return SC_Msg_TestFuncName(Cname);
}

void SC_Func_PostTrin(SCFunction* Self, Message* S) {
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(S, (&_usingf0));
	Message* Src = JB_Str_ParseJbin(((JB_LUB[1515])), 1073741824);
	JB_SetRef(Self->Intrinsic, Src);
	Message* Fn_name = ((Message*)JB_Ring_First(Src));
	uint T = SC_Decl_Trin(((SCDecl*)JB_Array_Value(Self->Args, 0)));
	JB_SetRef(Fn_name->Name, JB_Str_UpperCase((JB_Str_OperatorPlus(JB_byte_Render(T, nil), JB_Msg_Name(((Message*)JB_Ring_Last(S)))))));
	Message* List = ((Message*)JB_Tree_Second(Src));
	{
		int _LoopSrcf2 = JB_Array_Size(Self->Args);
		int I = 0;
		while (I < _LoopSrcf2) {
			JB_Tree_SyntaxAppend(List, JB_Syx_OperatorPlus(kJB_SyxThg, (JB_Str_OperatorPlusWithInt64(JB_LUB[1516], (I + 1)))));
			(++I);
		};
	}
	;
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), S);
	JB_MsgPos_Destructor((&_usingf0));
}

void SC_Func_PreProcessExpects(SCFunction* Self) {
	Array* List = nil;
	JB_Incr(List);
	{
		Message* _LoopSrcf3 = SC_Func_SourceArg(Self);
		JB_Incr(_LoopSrcf3);
		Message* Ch = _LoopSrcf3;
		JB_Incr(Ch);
		Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(_LoopSrcf3));
		JB_Incr(_afterf1);
		while ((Ch) and (Ch != _afterf1)) {
			Message* _N_f2 = ((Message*)JB_Ring_FlatNext0(Ch));
			JB_Incr(_N_f2);
			if (SC_Msg_NeedsPreprocess(Ch)) {
				if (!JB_Array_SyntaxCast(List)) {
					JB_SetRef(List, JB_Array_Constructor0(nil));
				}
				JB_Array_SyntaxAppend(List, Ch);
			}
			JB_SetRef(Ch, _N_f2);
			JB_Decr(_N_f2);
		};
		JB_Decr(Ch);
		JB_Decr(_afterf1);
		;
		JB_Decr(_LoopSrcf3);
	}
	;
	if (List == nil) {
		JB_EarlyDecr(List);
		return;
	}
	{
		int _if4 = 0;
		while (true) {
			Message* Ch = ((Message*)JB_Array_Value(List, _if4));
			JB_Incr(Ch);
			if (Ch == nil) {
				JB_EarlyDecr(Ch);
				break;
			}
			if ((JB_Msg_EqualsSyx(Ch, kJB_SyxTRel)) or (JB_Msg_EqualsSyx(Ch, kJB_SyxARel))) {
				SC_Func_FixCnj(Self, Ch);
			}
			 else if (JB_Msg_EqualsSyx(Ch, kJB_SyxRel)) {
				SC_RelSetOrExpansion(Ch);
			}
			 else if (!JB_Msg_SyntaxEquals(Ch, JB_LUB[457], false)) {
				SC_Func__Tran_Expect(Self, Ch, nil);
			}
			JB_Decr(Ch);
			(++_if4);
		};
	}
	;
	{
		int _if6 = 0;
		while (true) {
			Message* Ch = ((Message*)JB_Array_Value(List, _if6));
			JB_Incr(Ch);
			if (Ch == nil) {
				JB_EarlyDecr(Ch);
				break;
			}
			if (JB_Msg_SyntaxEquals(Ch, JB_LUB[457], false)) {
				SC_Func__Tran_Using(Self, Ch, nil);
			}
			JB_Decr(Ch);
			(++_if6);
		};
	}
	;
	JB_Decr(List);
}

void SC_Func_PreRead(SCFunction* Self, Message* Arg) {
	Self->NilSelf = 0;
	(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_Disabled, (!true)));
	{
		Message* S = ((Message*)JB_Ring_First(Arg));
		while (S) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(S));
			if (JB_Msg_EqualsSyx(S, kJB_SyxTmp)) {
				DTWrap* Fn = ((DTWrap*)JB_Dict_Value0(SC_FuncPreReader, S->Name));
				if (Fn) {
					(((FP_fnPreReader)JB_Wrap_SyntaxAccess(Fn)))(Self, S);
					JB_Tree_Remove(S);
				}
			}
			S = _Nf1;
		};
		;
	};
}

Message* SC_Func_Prms(SCFunction* Self) {
	return JB_Msg_FindSyx(Self->Source, kJB_SyxPrm);
}

void SC_Func_ProtoExportName(SCFunction* Self) {
	SCClass* Cls = Self->ProtoType;
	if (!Cls) {
		return;
	}
	if (!JB_Str_Exists(Cls->CppClass)) {
		JB_SetRef(Cls->CppClass, SC_Func_MakeProtoClassName(Self, Cls->Name));
	}
}

void SC_Func_Reach(SCFunction* Self) {
	SC_Func_ReachFunc(Self, SC__Comp_VisibleFuncs);
}

void SC_Func_ReachFunc(SCFunction* Self, SCNode* From) {
	//;
	if (!SC_Base_UnReached(Self, From)) {
		return;
	}
	if (SC_Func_Borked(Self)) {
		if (true) {
			JB_Msg_Fail(Self->Source, JB_LUB[1237]);
		}
		if (true) {
			JB_Msg_Fail(From->Source, SC_Base_ReachedName(From));
		}
	}
	Self->MyReacher = From;
	(++SC__Comp_stReachedFunc);
	if (SC_Base_IsLibrary(Self)) {
		(++SC__Comp_stLibFuncs);
	}
	{
		SCClass* _t = Self->Cls;
		if (_t) {
			SC_Class_Reach(_t, Self, nil);
		}
	}
	;
	{
		Array* _LoopSrcf2 = Self->LinkTo;
		int _if0 = 0;
		while (true) {
			SCNode* O = ((SCNode*)JB_Array_Value(_LoopSrcf2, _if0));
			if (O == nil) {
				break;
			}
			if (JB_Object_FastIsa(O, &SCFunctionData)) {
				SC_Func_ReachFuncFromFunc(((SCFunction*)O), Self);
			}
			 else if (JB_Object_FastIsa(O, &SCClassData)) {
				SC_Class_Reach(((SCClass*)O), Self, nil);
			}
			(++_if0);
		};
	};
}

void SC_Func_ReachFuncFromFunc(SCFunction* Self, SCFunction* From) {
	SC_Func_ReachFunc(Self, From);
}

void SC_Func_RefFunc(SCFunction* Self, Message* Prm, Message* After) {
	JB__Tk_Using.Position = After->Position;
	Message* Ref = SC_Refs__RefMsg0(Self->ExportName, SC__Comp_RefIncr);
	(JB_Ring_NextSibSet(After, Ref));
	JB_Tree_SyntaxAppend(((Message*)JB_Ring_Last(Ref)), Prm);
	JB_SetRef(Ref->Obj, Prm->Obj);
	JB__Tk_Using.Position = -1;
}

JB_String* SC_Func_Render(SCFunction* Self, FastString* Fs_in) {
	Message* It = Self->Source;
	if (It) {
		return JB_Msg_Render(It, Fs_in);
	}
	return SC_Func_Describe(Self, Fs_in);
}

JB_String* SC_Func_RenderName(SCFunction* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	JB_String* Pname = SC_Func_ParentName(Self);
	JB_Incr(Pname);
	if (JB_Str_Exists(Pname)) {
		JB_FS_AppendString(Fs, Pname);
		JB_FS_AppendByte2(Fs, '.');
	}
	JB_Decr(Pname);
	JB_FS_AppendString(Fs, Self->Name);
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

JB_String* SC_Func_RenderParams(SCFunction* Self, bool ForErrors, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	JB_FS_AppendByte2(Fs, '(');
	JB_String* Sep = JB_LUB[0];
	JB_Incr(Sep);
	{
		Array* _LoopSrcf2 = Self->Args;
		JB_Incr(_LoopSrcf2);
		int _if0 = 0;
		while (true) {
			SCDecl* A = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			JB_Incr(A);
			if (A == nil) {
				JB_EarlyDecr(A);
				break;
			}
			if (A->Source) {
				JB_FS_AppendString(Fs, Sep);
				JB_SetRef(Sep, JB_LUB[47]);
				if (JB_Msg_ContainsStr(A->Source, JB_LUB[59])) {
					JB_FreeIfDead(SC_Decl_RenderTypeAndName(A, 1, Fs));
				}
				 else {
					JB_FS_SyntaxAppend(Fs, A->Source);
				}
			}
			JB_Decr(A);
			(++_if0);
		};
		JB_Decr(_LoopSrcf2);
	}
	;
	if ((!ForErrors) and Self->ReturnType) {
		JB_FS_AppendString(Fs, Sep);
		JB_FreeIfDead(SC_Decl_Render(Self->ReturnType, Fs));
	}
	JB_Decr(Sep);
	JB_FS_AppendByte2(Fs, ')');
	JB_String* _tmPf3 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf3);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf3);
	return _tmPf3;
}

JB_String* SC_Func_RenderSheBless(SCFunction* Self) {
	JB_String* Rz = JB_LUB[0];
	JB_Incr(Rz);
	Message* A = SC_Func_SourceArg(Self);
	JB_Incr(A);
	if (A) {
		Message* B = JB_Msg_Copy(A, nil);
		JB_Incr(B);
		(SC_Func_SourceArgSet(Self, B));
		{
			Message* S = B;
			JB_Incr(S);
			Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(B));
			JB_Incr(_afterf1);
			while ((S) and (S != _afterf1)) {
				Message* _N_f2 = ((Message*)JB_Ring_FlatNext0(S));
				JB_Incr(_N_f2);
				if (S->Func == kJB_SyxSheb) {
					JB_Tree_Remove(S);
				}
				JB_SetRef(S, _N_f2);
				JB_Decr(_N_f2);
			};
			JB_Decr(S);
			JB_Decr(_afterf1);
			;
		}
		;
		JB_Decr(B);
		JB_SetRef(Rz, SC_Func_Render(Self, nil));
		(SC_Func_SourceArgSet(Self, A));
	}
	JB_EarlyDecr(A);
	JB_SafeDecr(Rz);
	return Rz;
}

JB_String* SC_Func_RenderTitle(SCFunction* Self, bool ForErrors, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	JB_FS_AppendString(Fs, Self->Name);
	if (JB_Array_SyntaxCast(Self->Args) or ((!ForErrors) and Self->ReturnType)) {
		JB_FS_AppendByte(Fs, ' ');
		JB_FreeIfDead(SC_Func_RenderParams(Self, ForErrors, Fs));
	}
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

bool SC_Func_ReturnsObject(SCFunction* Self) {
	SCDecl* R = Self->ReturnType;
	if (R) {
		return SC_Decl_IsObject(R);
	}
	return false;
}

SCDecl* SC_Func_Self(SCFunction* Self) {
	return ((SCDecl*)JB_Array_Value(Self->Args, 0));
}

void SC_Func_SetBlindCasts(SCFunction* Self, SCNode* Name_space) {
	if (Name_space) {
		SCImport* P = Name_space->Project;
		if (P) {
			Self->BlindCasts = P->BlindCast;
		}
	}
	 else {
		SCImport* C = SC__Imp_Curr;
		if (C) {
			Self->BlindCasts = C->BlindCast;
		}
	}
}

Message* SC_Func_SourceArg(SCFunction* Self) {
	Message* Arg = ((Message*)JB_Ring_Last(Self->Source));
	if (JB_Msg_EqualsSyx(Arg, kJB_SyxArg)) {
		return Arg;
	}
	return nil;
}

void SC_Func_SourceArgSet(SCFunction* Self, Message* Value) {
	Message* Arg = ((Message*)JB_Ring_Last(Self->Source));
	if (Arg != Value) {
		if (JB_Msg_EqualsSyx(Arg, kJB_SyxArg)) {
			JB_FreeIfDead(SC_Msg_ReplaceWith(Arg, Value));
		}
	}
}

void SC_Func_StatelessAccumulate(SCFunction* Self) {
	if (!SC_Func_SyntaxIs(Self, kSC__FunctionType_Cpp)) {
		return;
	}
	SCClass* C = Self->Cls;
	if (!(C and SC_Class_SyntaxIs(C, kSC__ClassInfo_Stateless))) {
		return;
	}
	{
		Array* _LoopSrcf2 = Self->Args;
		int _if0 = 0;
		while (true) {
			SCDecl* P = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (P == nil) {
				break;
			}
			if (!SC_Class_SyntaxIs(P->Type, kSC__ClassInfo_Stateless)) {
				return;
			}
			(++_if0);
		};
	}
	;
	(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_Stateless, true));
}

void SC_Func_StoreExport(SCFunction* Self) {
	(JB_Dict_ValueSet(SC__Comp_ExportNames, Self->ExportName, Self));
}

SCDecl* SC_Func_StructReturned(SCFunction* Self) {
	uint P = Self->StructReturnPos;
	if (P) {
		SCDecl* F = ((SCDecl*)JB_Array_Value(Self->Args, P - 1));
		if (SC_Decl_SyntaxIs(F, kSC__SCDeclInfo_IntendedAsReturn)) {
			return F;
		}
	}
	return nil;
}

void SC_Func_SubFuncParamsLoad(SCFunction* Self, Message* P) {
	if (SC_Func_SyntaxIs(Self, kSC__FunctionType_Constructor)) {
		SC_Func_AddConstructorReturn(Self, P);
	}
	Message* Fc = ((Message*)JB_Ring_First(P));
	JB_Incr(Fc);
	if (Fc) {
		if ((Fc->Func == kJB_SyxThg) or ((Fc->Func == kJB_SyxDot) or (Fc->Func == kJB_SyxRel))) {
			SC_Func_DeclsPrototypeClass(Self, Fc);
		}
	}
	JB_Decr(Fc);
	Message* A = SC_Func_SourceArg(Self);
	JB_Incr(A);
	SCArg* Space = SC_Msg_SCArg(A, Self, nil);
	JB_Incr(Space);
	JB_Decr(A);
	if ((JB_Msg_EqualsSyx(P, kJB_SyxList)) or ((JB_Msg_EqualsSyx(P, kJB_SyxBra)) or (JB_Msg_EqualsSyx(P, kJB_SyxPrm)))) {
		P->Func = kJB_SyxPrm;
		SC_Func_CollectDeclsParams(Self, P, Space);
	}
	SC_Func_CollectStats(Self);
	if (Space and (!Self->Cls)) {
		SCNode* L = Self->Parent;
		JB_Incr(L);
		if (JB_Object_FastIsa(L, &SCModuleData)) {
			if (SC_Mod_IsProperModule(((SCModule*)L))) {
				SC_Mod_AddModuleToFunc(((SCModule*)L), Space);
			}
		}
		JB_Decr(L);
	}
	JB_Decr(Space);
	if (Self->FuncInfo) {
		SCDecl* R = Self->ReturnType;
		JB_Incr(R);
		if (R) {
			if (R == R->Type->TypeNormal) {
				JB_SetRef(R, SC_Decl_CopyDecl(R, false));
				JB_SetRef(Self->ReturnType, R);
			}
			R->AllocSource = Self->FuncInfo;
		}
		JB_Decr(R);
	}
}

bool SC_Func_SyntaxIs(SCFunction* Self, FunctionType K) {
	if (Self) {
		return ((bool)(Self->FuncInfo & K));
	}
	return false;
}

void SC_Func_SyntaxIsSet(SCFunction* Self, FunctionType K, bool Value) {
	if (Value) {
		Self->FuncInfo = (Self->FuncInfo | K);
	}
	 else {
		Self->FuncInfo = (Self->FuncInfo & (~K));
	}
}

void SC_Func_Transform(SCFunction* Self) {
	SC_Func_CheckNotBadName(Self);
	if (Self->IsMacro) {
		return;
	}
	(SC_Func__CurrFuncSet(Self));
	SC__Mod_Curr = ((SCModule*)JB_Object_FastAs(Self->Parent, &SCModuleData));
	Self->Badness = 0;
	JB_SetRef(Self->SavedError, nil);
	ErrorMarker StillOK = JB_Rec_Mark(JB_StdErr);
	Message* N = SC_Func_SourceArg(Self);
	if (!N) {
		return;
	}
	SCArg* Space = SC_Msg_SCArg(N, Self, nil);
	if (!Space) {
		return;
	}
	JB_FreeIfDead(SC_Base_ProcessLinkage(Space, N, SC_FuncLinkageTable, SC_Func_SyntaxIs(Self, kSC__FunctionType_Wrapper)));
	if (!SC_Func_SyntaxIs(Self, kSC__FunctionType_Wrapper)) {
		Message* R_z = SC_Func__Tran_Result(Self);
		SC_Func__Tran_All(Self, N, Space);
		if (R_z) {
			SC_Func__Tran_ResultFinish(Self, R_z, Space);
		}
		JB__Tk_Using.Flags = 0;
	}
	if (!JB_ErrorMarker_SyntaxCast(StillOK)) {
		JB_SetRef(Self->SavedError, JB_Rec_LastError(JB_StdErr));
		Self->Badness = (Self->Badness | 1);
	}
	 else {
		SC_Func_CallParents(Self);
		if (SC_Func_CanBuildConstructor(Self)) {
			SC_Func_BuildConstructorDestructor(Self);
			SC_Func__Tran_All(Self, N, Space);
		}
	}
	(SC_Func__CurrFuncSet(nil));
	SC__Mod_Curr = nil;
}

void SC_Func_TranStrings(SCFunction* Self) {
	Message* S = SC_Func_SourceArg(Self);
	JB_Incr(S);
	if (S) {
		if (!SC_Func_SyntaxIs(Self, kSC__FunctionType_Wrapper)) {
			Message* _tmPf0 = ((Message*)JB_Ring_Parent(S));
			JB_Incr(_tmPf0);
			SC_Func__Tran_Strings(_tmPf0, Self);
			JB_Decr(_tmPf0);
		}
	}
	JB_Decr(S);
}

void SC_Func_TryAdd(SCFunction* Self, SCNode* B) {
	SC_Base_TryAdd(B, Self->Source, Self, Self->Name);
}

SCFunction* SC_Func_TryKeepBetter(SCFunction* Self, int OldMatch, SCFunction* F, int Match) {
	if ((OldMatch & kJB_kSuperClassMatch) and (SC_int_IsSimpleOrPointerCast(Match))) {
		return F;
	}
	if ((Match & kJB_kSuperClassMatch) and (SC_int_IsSimpleOrPointerCast(OldMatch))) {
		return Self;
	}
	if ((OldMatch & kJB_kTypeCastBothWays) and (!(Match & kJB_kTypeCastBothWays))) {
		return Self;
	}
	if ((Match & kJB_kTypeCastBothWays) and (!(OldMatch & kJB_kTypeCastBothWays))) {
		return F;
	}
	if ((OldMatch == kJB_kSimpleMatch) and (Match != kJB_kSimpleMatch)) {
		return Self;
	}
	if ((Match == kJB_kSimpleMatch) and (OldMatch != kJB_kSimpleMatch)) {
		return F;
	}
	if (OldMatch < Match) {
		return Self;
	}
	if (Match < OldMatch) {
		return F;
	}
	return nil;
}

bool SC_Func_Update_Source(SCFunction* Self, int Start, JB_String* Text, SCFile* File) {
	bool Rz = false;
	JB__Tk_Using.Position = -1;
	JB__Tk_Using.Flags = 0;
	JB__Tk_Using.Tag = (File->FileNum << 5);
	Message* Source = SC_Str_ParseClean(Text);
	JB_Incr(Source);
	if (Source and (!JB_Msg_EqualsSyx(Source, kJB_SyxTmp))) {
		JB_SetRef(Source, JB_Msg_NeedSyx(Source, kJB_SyxTmp));
	}
	if (Source) {
		SC_Msg_SlidePositions(Source, Start);
		JB_SetRef(Self->Source, Source);
		SC_Func_Cleanupfunc(Self, Source);
		JB__Tk_Using.Flags = kJB__MsgParseFlags_Inserted;
		Array* List = JB_Array_Constructor0(nil);
		JB_Incr(List);
		Rz = SC_Func_UpdateSourceSub(Self, Source, List);
		JB_Decr(List);
		JB_SetRef(Source->Obj, SC_SCObject_Disambiguate(SC__AC_OrigFn, Source));
	}
	JB_Decr(Source);
	JB_ClassData_Restore((&MessageData));
	JB__Tk_Using.Flags = 0;
	JB__Tk_Using.Tag = 0;
	return Rz;
}

bool SC_Func_UpdateSourceSub(SCFunction* Self, Message* Src, Array* List) {
	if ((JB_Msg_EqualsSyx(Src, kJB_SyxTmp)) and (JB_Msg_SyntaxEquals(Src, JB_LUB[11], true))) {
		SC_Msg_MainFix2(Src);
	}
	Message* F = ((Message*)JB_Ring_First(Src));
	if (!F) {
		return nil;
	}
	if (JB_Msg_EqualsSyx(F, kJB_SyxDot)) {
		F->Func = kJB_SyxThg;
		JB_Tree_Clear(F);
	}
	ErrorMarker StillOK = JB_Rec_Mark(JB_StdErr);
	Self->IntPrmCount = 0;
	Self->FuncInfo = 0;
	Self->TmpCounter = 0;
	JB_SetRef(Self->Description, JB_LUB[0]);
	SC_Func_Init_Sub(Self, Src, nil);
	if (!JB_ErrorMarker_SyntaxCast(StillOK)) {
		return nil;
	}
	SC_Func_FuncParamsLoad(Self);
	SC_Func_BeforeTransform(Self);
	SC_Func_Transform(Self);
	SC_nil__ExterminateZergBugs(Self);
	SC_Func_AnalyseRefs(Self, List);
	return true;
}

bool SC_Func_UseCppName(SCFunction* Self, JB_String* CppName) {
	if (!JB_Str_Exists(CppName)) {
		return nil;
	}
	SC_SCBetterNode_SetExportName(Self, CppName, true);
	return true;
}

bool SC_Func_UseExportWrapper(SCFunction* Self, JB_String* CppWrapper) {
	if (JB_Str_Exists(CppWrapper)) {
		(SC_Func_SyntaxIsSet(Self, kSC__FunctionType_Wrapper, true));
		SC_SCBetterNode_SetExportName(Self, CppWrapper, true);
		return true;
	}
	return false;
}

int SC_Func_VisibleArgs(SCFunction* Self) {
	int Rz = 0;
	{
		Array* _LoopSrcf2 = Self->Args;
		int _if0 = 0;
		while (true) {
			SCDecl* S = ((SCDecl*)JB_Array_Value(_LoopSrcf2, _if0));
			if (S == nil) {
				break;
			}
			if (!S->Default) {
				(++Rz);
			}
			(++_if0);
		};
	}
	;
	Rz = (Rz - (Self->Cls != nil));
	return Rz;
}

void SC_Func_WantAs(SCFunction* Self, uint /*NilState*/ NS) {
	SCDecl* Dcl = ((SCDecl*)JB_Array_First(Self->Args));
	if (!(Dcl and (SC_Decl_TypeSuffers(Dcl) and Self->Cls))) {
		JB_Msg_Fail(Self->Source, JB_LUB[983]);
		return;
	}
	Dcl->NilDeclared = NS;
}

JB_String* SC_Func_WrappedName(SCFunction* Self) {
	if (!Self->IsCppInBuilt) {
		return Self->ExportName;
	}
	return JB_Str_OperatorPlus(Self->ExportName, JB_LUB[94]);
}

Message* SC_Func__AlterPostCond(Message* PostCond, Message* IterPostCond, Message* NodeSrc) {
	if (!IterPostCond) {
		return PostCond;
	}
	IterPostCond = JB_Msg_Copy(IterPostCond, NodeSrc);
	if ((!PostCond)) {
		return IterPostCond;
	}
	Message* A = JB_Syx_Msg(kJB_SyxBra, JB_LUB[0]);
	JB_Tree_SyntaxAppend(A, PostCond);
	Message* B = JB_Syx_Msg(kJB_SyxBra, JB_LUB[0]);
	JB_Tree_SyntaxAppend(B, IterPostCond);
	return SC_NewRel(A, B, JB_LUB[465]);
}

Message* SC_Func__ArgToFunc(JB_String* NewName, Message* Params, Message* Arg) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[632]));
	JB_Msg_AppendSyx(Rz, kJB_SyxThg, NewName);
	if ((JB_Msg_EqualsSyx(Params, kJB_SyxPrm))) {
		JB_Tree_SyntaxAppend(Rz, Params);
	}
	 else if ((JB_Msg_EqualsSyx(Params, kJB_SyxThg))) {
		Message* _tmPf0 = JB_Msg_Msg(Rz, kJB_SyxBra, JB_LUB[0]);
		JB_Incr(_tmPf0);
		JB_Tree_SyntaxAppend(_tmPf0, Params);
		JB_Decr(_tmPf0);
	}
	 else {
	}
	JB_Tree_SyntaxAppend(Rz, Arg);
	Rz->Position = Arg->Position;
	JB_SafeDecr(Rz);
	return Rz;
}

bool SC_Func__CanKeepAsSource(Message* List, Message* Arg, SCDecl* D) {
	if (((JB_Msg_EqualsSyx(List, kJB_SyxThg))) and (!SC_Msg_IsVarUseableInLoop(Arg, List->Name))) {
		return true;
	}
	if (JB_Msg_EqualsSyx(List, kJB_SyxNum)) {
		return true;
	}
	if (SC_Decl_IsCArray(D)) {
		return true;
	}
	return false;
}

bool SC_Func__CanKeepAsValue(SCIterator* Iter, Message* Arg, SCDecl* Dcl, Message* Value) {
	if ((!JB_Msg_EqualsSyx(Iter->Value, kJB_SyxThg))) {
		return nil;
	}
	if (!Value) {
		return nil;
	}
	if ((SC_Msg_IsVarUseableInLoop(Arg, Value->Name))) {
		return nil;
	}
	if (SC_Decl_IsCArray(Dcl)) {
		return nil;
	}
	return true;
}

void SC_Func__CurrFuncSet(SCFunction* Value) {
	JB_SetRef(SC__Func__CurrFunc, Value);
	SC__Func__Info = (((FunctionType)JB_Ternary(Value, Value->FuncInfo, nil)));
	if (JB__Flow_Active) {
		JB_Flow__InputLine(JB_LUB[1474], SC_SCObject_Name(Value));
		JB_Flow__InputLine(JB_LUB[1475], SC__Comp_StageName);
	}
}

SCFunction* SC_Func__CurrFunc() {
	return SC__Func__CurrFunc;
}

Message* SC_Func__GetFileString(Message* Msg, JB_String* Name) {
	JB_Incr(Name);
	if (!((JB_Msg_SyntaxEquals(Msg, JB_LUB[600], true)) or (JB_Msg_SyntaxEquals(Msg, JB_LUB[1895], true)))) {
		JB_Msg_Fail(Msg, nil);
		JB_EarlyDecr(Name);
		return nil;
	}
	bool OK = JB_Str_Last(Name, 0) == '?';
	if (OK) {
		JB_SetRef(Name, JB_Str_Shorten(Name, 1));
	}
	JB_String* Data = JB_LUB[0];
	JB_Incr(Data);
	JB_File* F = SC_Comp__InputFile(Name, Msg);
	JB_Incr(F);
	JB_Decr(Name);
	if (F) {
		JB_SetRef(Data, JB_File_ReadAll(F, 134217728, true));
		if (JB_Msg_SyntaxEquals(Msg, JB_LUB[1895], true)) {
			JB_SetRef(Data, JB_ImageHelper__ConvertPNGToVOI(Data, Msg));
		}
		OK = JB_Str_Exists(Data);
	}
	if (OK) {
		JB_Msg_BecomeStr(Msg, kJB_SyxStr, Data);
		(SC__Imp_Recent = JB_int64_OperatorMax(SC__Imp_Recent, JB_File_Modified(F)));
		JB_Tree_Clear(Msg);
		SC_Func__ObjectifyString(Msg);
		JB_EarlyDecr(F);
		JB_EarlyDecr(Data);
		return Msg;
	}
	JB_Decr(Data);
	JB_Decr(F);
	if (true) {
		JB_Msg_Fail(Msg, JB_LUB[874]);
	}
	return nil;
}

bool SC_Func__InBuiltFunc(Message* Self, JB_String* Name) {
	if (!JB_Msg_OperatorIn(Self, kJB_SyxQues)) {
		return nil;
	}
	if (JB_Msg_SyntaxEquals(Self, Name, false)) {
		Message* F = ((Message*)JB_Ring_First(Self));
		if (F) {
			if (true) {
				JB_Msg_Fail(F, nil);
			}
		}
		JB_Msg_BecomeStr(Self, kJB_SyxBra, JB_LUB[0]);
		return true;
	}
	return false;
}

int SC_Func__Init_() {
	{
		Dictionary* _tmPf0 = (JB_Dict_Constructor(nil));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2348], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_CppRefs))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[466], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_For))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[1288], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Swap))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[398], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_While))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[1995], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Description))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[397], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_If))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[223], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Tran_Time))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[577], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Else))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[578], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Else))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2304], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Once))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2138], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Ifn))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[1405], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Debugger))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[1476], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_BreakPoint))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2177], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_TemporalStatements_crash)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2349], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_TestProblem))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2350], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Problem))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2351], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Fails))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2352], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_BlindCasts))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2353], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_DebugAt))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[1130], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Visible))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[695], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Tran_Flow))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2173], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Print))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[1997], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Print))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2354], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Print))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2355], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Print))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[652], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Tran_Log))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2163], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Beep))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[635], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Remove))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[1900], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Remove))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[1243], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Remove))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2356], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_TemporalStatements_alert)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[1286], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_TemporalStatements_break)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2357], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_TemporalStatements_do)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[2358], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_VM_Builder__BuildInstructions))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[590], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__Tran_NotAllowed)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[589], JB_Wrap_ConstructorVoidPtr(nil, ((void*)(&SC_Func__Tran_NotAllowed)))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[1578], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Quit))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[453], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Func__Tran_Return))))));
		(JB_Dict_ValueSet(_tmPf0, JB_LUB[454], JB_Wrap_ConstructorVoidPtr(nil, ((void*)((&SC_Tran_Rejoin))))));
		JB_SetRef(SC__Func_TemporalStatements, _tmPf0);
	}
	;
	return 0;
}

int SC_Func__InitCode_() {
	{
	}
	;
	JB_SetRef(SC__SCStrings_RenderInsides, SC_Str_ParseCleanWipe(JB_LUB[2235]));
	JB_SetRef(SC__SCStrings_RenderNewParams, SC_Str_ParseCleanWipe(JB_LUB[2236]));
	JB_SetRef(SC__SCStrings_RenderFinish, JB_Msg_FindSyxName(SC__SCStrings_RenderInsides, kJB_SyxTmp, JB_LUB[2237], false));
	return 0;
}

bool SC_Func__InType(SCNodeType Ty) {
	SCFunction* Fn = SC_Func__CurrFunc();
	if (Fn) {
		SCClass* Cls = Fn->Cls;
		if (Cls) {
			return SC_SCNodeType_SyntaxIs(Cls->BaseType, Ty);
		}
	}
	return false;
}

JB_String* SC_Func__NameList() {
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	{
		Array* _LoopSrcf2 = SC__Comp_FuncList;
		JB_Incr(_LoopSrcf2);
		int _if0 = 0;
		while (true) {
			SCFunction* Fn = ((SCFunction*)JB_Array_Value(_LoopSrcf2, _if0));
			JB_Incr(Fn);
			if (Fn == nil) {
				JB_EarlyDecr(Fn);
				break;
			}
			JB_FS_AppendString(Fs, Fn->ExportName);
			JB_Decr(Fn);
			JB_FS_AppendByte2(Fs, '\n');
			(++_if0);
		};
		JB_Decr(_LoopSrcf2);
	}
	;
	JB_String* _tmPf3 = JB_FS_SyntaxCast(Fs);
	JB_Incr(_tmPf3);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf3);
	return _tmPf3;
}

SCNode* SC_Func__NeuLibrary(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	if (true) {
		JB_Msg_Fail(Node, JB_LUB[2286]);
	}
	SC__Options_ProjectIsLibrary = true;
	return SC_Func__NeuMain(Node, Name_space, ErrPlace);
}

SCNode* SC_Func__NeuMain(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	SCNode* Rz = nil;
	if (Name_space != SC__Comp_Program) {
		JB_Msg_Fail(Node, JB_LUB[2273]);
		return nil;
	}
	if (SC__Imp_CurrIsManuallyImported) {
		return SC__Comp_Program;
	}
	Message* Fn_src = SC_Msg_MainFix(Node);
	if (Fn_src) {
		Message* App = ((Message*)JB_Ring_First(((Message*)JB_Ring_First(Fn_src))));
		SCModule* M = SC_Comp__FindModuleMsg(App, 0);
		Rz = SC_Func__NewFunc(Fn_src, M, ErrPlace);
		if (JB_Object_FastIsa(Rz, &SCModuleData)) {
			JB_SetRef(SC__Comp_MainFunc, SC_Class__ProcessExtend(Fn_src, false, M));
			JB_Tree_Remove(Fn_src);
		}
	}
	return Rz;
}

SCNode* SC_Func__NeuSyx(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	SCNode* Rz = nil;
	JB_Incr(Rz);
	MessagePosition Using = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Node, (&Using));
	Message* NewNode = SC_Func__Tran_Syx(Node);
	JB_Incr(NewNode);
	if (NewNode) {
		JB_SetRef(Rz, SC_Func__NewHelper(NewNode, Name_space, ErrPlace));
	}
	JB_EarlyDecr(NewNode);
	JB_MsgPos_Destructor((&Using));
	JB_SafeDecr(Rz);
	return Rz;
}

SCNode* SC_Func__NewConstructor(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	JB_SetRef(Node->Name, JB_LUB[632]);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Node, (&_usingf0));
	Message* _tmPf1 = JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[698]);
	JB_Incr(_tmPf1);
	(JB_Ring_FirstSet(Node, _tmPf1));
	JB_Decr(_tmPf1);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Node);
	SCNode* _tmPf2 = SC_Func__NewFunc(Node, Name_space, ErrPlace);
	JB_Incr(_tmPf2);
	JB_MsgPos_Destructor((&_usingf0));
	JB_SafeDecr(_tmPf2);
	return _tmPf2;
}

SCNode* SC_Func__NewCppWrapper(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	SCNode* Rz = nil;
	JB_Incr(Rz);
	Message* Name = JB_Msg_NeedSyx(Node, kJB_SyxThg);
	JB_Incr(Name);
	if (!Name) {
		JB_EarlyDecr(Name);
		JB_EarlyDecr(Rz);
		return nil;
	}
	Message* Prm = ((Message*)JB_Ring_NextSib(Name));
	JB_Incr(Prm);
	if (!Prm) {
		JB_EarlyDecr(Prm);
		JB_EarlyDecr(Name);
		JB_EarlyDecr(Rz);
		return nil;
	}
	if (!JB_Tree_IsLast(Prm)) {
		JB_Msg_Fail(Prm, nil);
		JB_EarlyDecr(Prm);
		JB_EarlyDecr(Name);
		JB_EarlyDecr(Rz);
		return nil;
	}
	JB_Decr(Prm);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Name, (&_usingf0));
	Message* Thg = JB_Syx_OperatorPlus(kJB_SyxThg, Name->Name);
	JB_Incr(Thg);
	bool IsNothing = (JB_Msg_SyntaxEquals(Node, JB_LUB[92], false));
	bool IsLib = (JB_Msg_SyntaxEquals(Node, JB_LUB[93], false));
	JB_SetRef(Node->Name, JB_LUB[632]);
	Message* _tmPf2 = JB_Msg_Msg(Node, kJB_SyxArg, JB_LUB[0]);
	JB_Incr(_tmPf2);
	Message* _tmPf1 = JB_Msg_Msg(_tmPf2, kJB_SyxTmp, JB_LUB[1177]);
	JB_Incr(_tmPf1);
	JB_Decr(_tmPf2);
	JB_Tree_SyntaxAppend(_tmPf1, Thg);
	JB_Decr(Thg);
	JB_Decr(_tmPf1);
	JB_SetRef(Rz, SC_Func__NewFunc(Node, Name_space, ErrPlace));
	if (JB_Object_FastIsa(Rz, &SCFunctionData)) {
		((SCFunction*)Rz)->NoAutoComplete = 1;
		if (IsNothing) {
			(SC_Func_IsCppInBuiltSet(((SCFunction*)Rz), 2));
		}
		((SC_Func_SyntaxIsSet(((SCFunction*)Rz), kSC__FunctionType_ExternalLib, IsLib)));
		SC_Func_MakeParamsReal(((SCFunction*)Rz));
	}
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Name);
	JB_Decr(Name);
	JB_MsgPos_Destructor((&_usingf0));
	JB_SafeDecr(Rz);
	return Rz;
}

SCNode* SC_Func__NewDestructor(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	if (JB_Object_FastIsa(Name_space, &SCClassData)) {
		if ((((SCClass*)Name_space)->IsRole)) {
			JB_Msg_Fail(Node, JB_LUB[2125]);
			return nil;
		}
		JB_SetRef(Node->Name, JB_LUB[632]);
		if (true) {
			MessagePosition _usingf0 = ((MessagePosition){});
			JB_Msg_SyntaxUsing(Node, (&_usingf0));
			Message* _tmPf1 = JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[2126]);
			JB_Incr(_tmPf1);
			(JB_Ring_FirstSet(Node, _tmPf1));
			JB_Decr(_tmPf1);
			JB_MsgPos_SyntaxUsingComplete((&_usingf0), Node);
			JB_MsgPos_Destructor((&_usingf0));
		}
		return SC_Func__NewFunc(Node, ((SCClass*)Name_space), ErrPlace);
	}
	return nil;
}

SCNode* SC_Func__NewFunc(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	if (!Node) {
		return nil;
	}
	Message* Name = ((Message*)JB_Ring_First(Node));
	if (!Name) {
		JB_Msg_Fail(Node, JB_LUB[2115]);
		return nil;
	}
	if (JB_Msg_EqualsSyx(Name, kJB_SyxDot)) {
		return SC_Class__ExtendOneFunc(Node);
	}
	return SC_Func__NewFuncSub(Node, Name_space);
}

SCFunction* SC_Func__NewFuncSub(Message* Node, SCNode* Name_space) {
	SCFunction* Fn = SC_Func_Constructor(nil, Node);
	SC_Func_Init_Sub(Fn, Node, Name_space);
	return Fn;
}

SCNode* SC_Func__NewHelper(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	SCNode* Rz = nil;
	Rz = SC_Func__NewFunc(Node, Name_space, ErrPlace);
	if (Rz) {
		(SC_SCObject_SyntaxIsSet(Rz, kSC__SCNodeInfo_Visible, (!true)));
	}
	return Rz;
}

SCNode* SC_Func__NewHider(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	if (!JB_Object_Isa(Name_space, &SCClassData)) {
		JB_Msg_Fail(ErrPlace, JB_LUB[2127]);
		return nil;
	}
	return SC_Func__NewFunc(Node, Name_space, ErrPlace);
}

SCNode* SC_Func__NewMacro(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	return SC_Func__NewFunc(Node, Name_space, ErrPlace);
}

SCNode* SC_Func__NewProtoType(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	return SC_Func__NewProtoTypeSub(Node, Name_space, ErrPlace, JB_LUB[0]);
}

SCModule* SC_Func__NewProtoTypeSub(Message* Node, SCNode* Parent, Message* ErrPlace, JB_String* ForInterface) {
	JB_Incr(Parent);
	if (JB_Object_FastIsa(Parent, &SCClassData)) {
		if (!JB_Str_Exists(ForInterface)) {
			JB_FreeIfDead(SC_Msg_NormaliseFunc(Node, ((SCClass*)Parent)));
		}
		JB_SetRef(Parent, ((SCClass*)((SCClass*)Parent)->Modul));
	}
	 else {
		if (!SC_Base_ExpectModule(Parent, Node)) {
			JB_EarlyDecr(Parent);
			return nil;
		}
	}
	SCFunction* F = ((SCFunction*)SC_Func__NewFunc(Node, Parent, ErrPlace));
	JB_Incr(F);
	if (!JB_Object_Isa(F, &SCFunctionData)) {
		JB_Msg_Fail(Node, JB_LUB[2128]);
		JB_EarlyDecr(Parent);
		JB_EarlyDecr(F);
		return nil;
	}
	JB_FreeIfDead(((SCFunction*)JB_Array_Pop(SC__Comp_FuncList)));
	MessagePosition Using = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Node, (&Using));
	Message* Tmp = JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[448]);
	JB_Incr(Tmp);
	JB_Msg_AppendSyx(Tmp, kJB_SyxThg, F->Name);
	Message* _tmPf0 = ((Message*)JB_Ring_Last(Node));
	JB_Incr(_tmPf0);
	JB_Tree_SyntaxAppend(Tmp, _tmPf0);
	JB_Decr(_tmPf0);
	SCModule* Modul = SC_Class__DataTypeSub(Tmp, Parent, Node, ForInterface, kSC__SCNodeType_ProtoType);
	JB_Incr(Modul);
	JB_Decr(Tmp);
	if (Modul) {
		SCClass* Clss = Modul->Cls;
		JB_Incr(Clss);
		Clss->BaseType = kSC__SCNodeType_ProtoType;
		(SC_Class_SyntaxIsSet(Clss, kSC__ClassInfo_Builtin, (!true)));
		JB_SetRef(Clss->FuncProto, F);
		Clss->ClsSize = JB_Platform__PointerBytes();
		JB_SetRef(F->ProtoType, Clss);
		JB_Decr(Clss);
		JB_Array_SyntaxAppend(SC__Comp_ProtoTypes, F);
		SC_Base_TryAdd(Parent, Node, Modul, Modul->Name);
		if (!JB_Str_Exists(ForInterface)) {
			JB_SetRef(Modul, SC__Comp_Program);
		}
	}
	JB_Decr(F);
	JB_EarlyDecr(Parent);
	JB_SafeDecr(Modul);
	JB_MsgPos_Destructor((&Using));
	return Modul;
}

SCNode* SC_Func__NewRender(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	SCNode* Rz = nil;
	JB_Incr(Rz);
	SCClass* Cls = SC_Base_IsNormalObject(Name_space);
	JB_Incr(Cls);
	if (SC_Func__Tran_Render(Node, Cls)) {
		JB_SetRef(Rz, SC_Beh__NewActual(Node, Name_space, ErrPlace));
	}
	 else {
		JB_SetRef(Rz, SC_Func__NewFunc(Node, Name_space, ErrPlace));
	}
	JB_Decr(Cls);
	if (Rz) {
		(SC_Func_SyntaxIsSet(((SCFunction*)Rz), kSC__FunctionType_Render, true));
	}
	JB_SafeDecr(Rz);
	return Rz;
}

void SC_Func__ObjectifyString(Message* Func) {
	Func->Func = kJB_SyxSStr;
}

void SC_Func__String_Expand(Message* Msg, SCFunction* Fn) {
	JB_Incr(Msg);
	Message* P = ((Message*)JB_Ring_Parent(Msg));
	JB_Incr(P);
	if (SC_Msg_OperatorIsTmp(P, JB_LUB[1994]) or SC_Msg_OperatorIsTmp(P, JB_LUB[1995])) {
		Msg->Func = kJB_SyxStr;
		JB_EarlyDecr(Msg);
		JB_EarlyDecr(P);
		return;
	}
	bool URL = JB_Msg_OperatorIn(Msg, kJB_SyxURL);
	if (URL) {
		JB_FreeIfDead(SC_Func__GetFileString(P, Msg->Name));
		JB_SetRef(Msg, P);
	}
	if (SC_Func__InBuiltFunc(Msg, JB_LUB[1996])) {
		JB_SetRef(Msg->Name, JB_Str_Digest(Msg->Name));
	}
	 else if (JB_Msg_EqualsSyx(P, kJB_SyxArg)) {
		JB_FreeIfDead(SC_Msg_WrapWith(Msg, kJB_SyxTmp, JB_LUB[1997]));
	}
	JB_Decr(P);
	if (!JB_FreeIfDead(((Message*)JB_Ring_First(Msg)))) {
		SC_Func__ObjectifyString(Msg);
		JB_EarlyDecr(Msg);
		return;
	}
	if (!Fn) {
		JB_EarlyDecr(Msg);
		return;
	}
	Message* Point = SC_Msg_UpToArg(Msg);
	JB_Incr(Point);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Msg, (&_usingf0));
	JB_String* FSName = SC_UniqueTmpVar(Fn, JB_LUB[1239]);
	JB_Incr(FSName);
	Message* Dot = JB_Syx_OperatorPlus(kJB_SyxDot, JB_LUB[688]);
	JB_Incr(Dot);
	JB_Msg_AppendSyx(Dot, kJB_SyxThg, JB_LUB[1998]);
	JB_Msg_AppendSyx(Dot, kJB_SyxEmb, JB_LUB[0]);
	Message* Decl = SC_MakeDecl(JB_LUB[1998], FSName, Dot, kSC__SCDeclInfo_Borrowed);
	JB_Incr(Decl);
	JB_Decr(Dot);
	(JB_Ring_PrevSibSet(Point, Decl));
	Message* Errpos = Msg;
	JB_Incr(Errpos);
	{
		Message* Item = ((Message*)JB_Ring_First(Msg));
		JB_Incr(Item);
		while (Item) {
			Message* _Nf2 = ((Message*)JB_Ring_NextSib(Item));
			JB_Incr(_Nf2);
			Syntax Syx = Item->Func;
			if ((Syx == kJB_SyxEmb) or (Syx == kJB_SyxStr)) {
				if (Syx == kJB_SyxEmb) {
					JB_SetRef(Errpos, Item);
				}
				SC_Func__ObjectifyString(Item);
			}
			JB_SetRef(Item, _Nf2);
			JB_Decr(_Nf2);
		};
		JB_Decr(Item);
		;
	}
	;
	if ((SC__Mod_Curr)) {
		JB_Msg_Fail(Errpos, JB_LUB[1999]);
	}
	{
		Message* Item = ((Message*)JB_Ring_First(Msg));
		JB_Incr(Item);
		while (Item) {
			Message* _Nf4 = ((Message*)JB_Ring_NextSib(Item));
			JB_Incr(_Nf4);
			Message* Dot2 = JB_Syx_OperatorPlus(kJB_SyxDot, JB_LUB[1584]);
			JB_Incr(Dot2);
			JB_Msg_AppendSyx(Dot2, kJB_SyxThg, FSName);
			Message* _tmPf5 = JB_Msg_Msg(Dot2, kJB_SyxPrm, JB_LUB[0]);
			JB_Incr(_tmPf5);
			JB_Tree_SyntaxAppend(_tmPf5, Item);
			JB_Decr(_tmPf5);
			(JB_Ring_PrevSibSet(Point, Dot2));
			JB_Decr(Dot2);
			JB_SetRef(Item, _Nf4);
			JB_Decr(_Nf4);
		};
		JB_Decr(Item);
		;
		JB_Decr(Errpos);
	}
	;
	JB_Decr(Point);
	JB_Msg_BecomeStr(Msg, kJB_SyxDot, JB_LUB[2000]);
	JB_Msg_AppendSyx(Msg, kJB_SyxThg, FSName);
	JB_Decr(FSName);
	JB_Msg_AppendSyx(Msg, kJB_SyxEmb, JB_LUB[0]);
	;
	JB_Decr(Decl);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Msg);
	JB_Decr(Msg);
	JB_MsgPos_Destructor((&_usingf0));
}

Message* SC_Func__TypedTempMoveOut(Message* Msg, JB_String* Name, SCDecl* Type) {
	//cpp_part;
	MessagePosition Using = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Msg, (&Using));
	if (!JB_Str_Exists(Name)) {
		Name = SC_UniqueTmpVar(SC_Msg_MsgOwningFunc(Msg), JB_LUB[1517]);
	}
	Message* Repl = JB_Syx_OperatorPlus(kJB_SyxThg, Name);
	Message* Insert = Msg;
	JB_FreeIfDead(SC_Msg_ReplaceWith(Msg, Repl));
	Message* P = SC_Msg_UpToArg(Repl);
	if ((JB_Msg_EqualsSyx(Msg, kJB_SyxRel))) {
		Insert = JB_Syx_Msg(kJB_SyxBra, JB_LUB[0]);
		JB_Tree_SyntaxAppend(Insert, Msg);
	}
	Message* Dcl = SC_MakeDecl(JB_LUB[0], Name, Insert, kSC__SCDeclInfo_Temp);
	(JB_Ring_PrevSibSet(P, Dcl));
	if (JB_Msg_OperatorIn(Repl, kJB_SyxArg)) {
		JB_Tree_Remove(Repl);
		Repl = nil;
	}
	if (Type) {
		JB_SetRef(Msg->Obj, Type);
	}
	SCDecl* OldDcl = SC_Msg_AsDecl(Msg);
	if (OldDcl) {
		JB_SetRef(Insert->Obj, OldDcl);
		SCDecl* Dcl2 = SC_Decl_CopyDecl(OldDcl, false);
		SC_Decl_AsBody(Dcl2);
		(SC_Decl_SyntaxIsSet(Dcl2, kSC__SCDeclInfo_CompilerCreated, true));
		(SC_Decl_NameSet(Dcl2, Name));
		Message* Relname = ((Message*)JB_Ring_First(((Message*)JB_Ring_Last(Dcl))));
		if (Relname) {
			JB_SetRef(Relname->Obj, Dcl2);
		}
		if (Repl) {
			JB_SetRef(Repl->Obj, Dcl2);
		}
		JB_SetRef(Dcl->Obj, Dcl2);
	}
	JB_MsgPos_Destructor((&Using));
	return Dcl;
}

Message* SC_Func__TempMoveOut(Message* Msg, Message* Place) {
	MessagePosition Using = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Msg, (&Using));
	SCFunction* _tmPf0 = SC_Msg_MsgOwningFunc(Msg);
	JB_Incr(_tmPf0);
	JB_String* Name = SC_UniqueTmpVar(_tmPf0, JB_LUB[1517]);
	JB_Incr(Name);
	JB_Decr(_tmPf0);
	Message* NameThing = JB_Syx_OperatorPlus(kJB_SyxThg, Name);
	JB_Incr(NameThing);
	JB_FreeIfDead(SC_Msg_ReplaceWith(Msg, NameThing));
	Message* Declmsg = SC_MakeDecl(JB_LUB[0], Name, Msg, kSC__SCDeclInfo_Temp);
	JB_Incr(Declmsg);
	JB_Decr(Name);
	(JB_Ring_PrevSibSet(Place, Declmsg));
	SCDecl* D = ((SCDecl*)Declmsg->Obj);
	JB_Incr(D);
	JB_Decr(Declmsg);
	JB_SetRef(NameThing->Obj, D);
	JB_EarlyDecr(D);
	JB_SafeDecr(NameThing);
	JB_MsgPos_Destructor((&Using));
	return NameThing;
}

SCDecl* SC_Func__Tran_AfterRel(Message* Msg, SCNode* Name_space, Message* Side) {
	Message* Exp = ((Message*)JB_Ring_First(Msg));
	JB_Incr(Exp);
	if (JB_Msg_SyntaxEquals(Msg, JB_LUB[96], false)) {
		SCDecl* Ty = SC_TypeOfExpr(Exp, Name_space, Side);
		JB_Incr(Ty);
		if (!Ty) {
			JB_EarlyDecr(Ty);
			JB_EarlyDecr(Exp);
			return nil;
		}
		SCDecl* _tmPf5 = SC_Decl_MakeReal(Ty);
		JB_Incr(_tmPf5);
		JB_EarlyDecr(Ty);
		JB_EarlyDecr(Exp);
		JB_SafeDecr(_tmPf5);
		return _tmPf5;
	}
	if (!((JB_Msg_SyntaxEquals(Msg, JB_LUB[407], false)) or (JB_Msg_SyntaxEquals(Msg, JB_LUB[1582], false)))) {
		JB_Msg_Fail(Msg, nil);
		JB_EarlyDecr(Exp);
		return nil;
	}
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Exp, (&_usingf0));
	Message* Exp_copy = nil;
	JB_Incr(Exp_copy);
	if (!JB_Msg_EqualsSyx(Exp, kJB_SyxThg)) {
		JB_SetRef(Exp_copy, JB_Msg_Copy(Exp, nil));
	}
	SCDecl* Type = SC_TypeOfExpr(Exp, Name_space, nil);
	JB_Incr(Type);
	if (!Type) {
		JB_EarlyDecr(Type);
		JB_EarlyDecr(Exp_copy);
		JB_MsgPos_Destructor((&_usingf0));
		JB_EarlyDecr(Exp);
		return nil;
	}
	(SC_Decl_SyntaxIsSet(Type, kSC__SCDeclInfo_ReadFrom, true));
	if (SC_Decl_SyntaxIs(Type, kSC__SCDeclInfo_Const)) {
		JB_Msg_Fail(Msg, JB_LUB[1210]);
	}
	if (Type->PointerCount > 0) {
		if ((Side)) {
			JB_Msg_Fail(Msg, JB_LUB[1210]);
		}
		SC_Decl_MarkAsAltered(Type);
		SCDecl* _tmPf3 = SC_Decl_CheckMath(Type, Msg);
		JB_Incr(_tmPf3);
		JB_EarlyDecr(Type);
		JB_EarlyDecr(Exp_copy);
		JB_SafeDecr(_tmPf3);
		JB_MsgPos_Destructor((&_usingf0));
		JB_EarlyDecr(Exp);
		return _tmPf3;
	}
	if ((SC_Decl_IsBool(Type))) {
		JB_Msg_Fail(Msg, JB_LUB[1859]);
	}
	int Numc = SC_Class_NumericCount(Type->Type);
	if ((!SC_Class_IsObject(Type->Type)) and ((!Type->HiderFunc) and (Numc <= 1))) {
		SC_Decl_MarkAsAltered(Type);
		if ((Side)) {
			JB_Msg_Fail(Msg, JB_LUB[1210]);
		}
		JB_EarlyDecr(Exp_copy);
		JB_SafeDecr(Type);
		JB_MsgPos_Destructor((&_usingf0));
		JB_EarlyDecr(Exp);
		return Type;
	}
	Message* R = nil;
	JB_Incr(R);
	if (Numc or Type->HiderFunc) {
		Message* _tmPf1 = JB_Syx_OperatorPlus(kJB_SyxNum, JB_LUB[476]);
		JB_Incr(_tmPf1);
		JB_String* _tmPf2 = JB_Str_Range(Msg->Name, 0, 1, false);
		JB_Incr(_tmPf2);
		JB_SetRef(R, SC_NewRel(Exp, _tmPf1, _tmPf2));
		JB_Decr(_tmPf1);
		JB_Decr(_tmPf2);
	}
	 else {
		JB_String* Name = ((JB_StringC*)JB_Ternary((JB_Msg_SyntaxEquals(Msg, JB_LUB[1582], false)), JB_LUB[1860], JB_LUB[1861]));
		JB_Incr(Name);
		JB_SetRef(R, JB_Syx_OperatorPlus(kJB_SyxDot, Name));
		JB_Decr(Name);
		JB_Tree_SyntaxAppend(R, Exp);
		JB_Msg_AppendSyx(R, kJB_SyxEmb, JB_LUB[0]);
	}
	JB_Decr(Type);
	if (!Exp_copy) {
		JB_SetRef(Exp_copy, JB_Msg_Copy(Exp, nil));
	}
	JB_Msg_BecomeStr(Msg, kJB_SyxRel, JB_LUB[0]);
	JB_Tree_SyntaxAppend(Msg, Exp_copy);
	JB_Decr(Exp_copy);
	JB_Msg_AppendSyx(Msg, kJB_SyxOpp, JB_LUB[455]);
	JB_Tree_SyntaxAppend(Msg, R);
	JB_Decr(R);
	JB_SetRef(Msg->Obj, nil);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Exp);
	JB_Decr(Exp);
	SCDecl* _tmPf4 = SC_TypeOfExpr(Msg, Name_space, nil);
	JB_Incr(_tmPf4);
	JB_MsgPos_Destructor((&_usingf0));
	JB_SafeDecr(_tmPf4);
	return _tmPf4;
}

void SC_Func__Tran_All(SCFunction* Fn, Message* S, SCNode* P) {
	if (SC_Rec_TooMany(JB_StdErr)) {
		return;
	}
	Syntax F = S->Func;
	if (F == kJB_SyxArg) {
		Message* Pr = ((Message*)JB_Ring_Parent(S));
		if (!((!JB_Msg_EqualsSyx(Pr, kJB_SyxBra)) and (!JB_Msg_EqualsSyx(Pr, kJB_SyxType)))) {
			return;
		}
	}
	 else if (F == kJB_SyxDecl) {
		Message* Arg = ((Message*)JB_Ring_Parent(S));
		if (!(JB_Msg_OperatorIn(Arg, kJB_SyxBra) or JB_Msg_OperatorIn(Arg, kJB_SyxType))) {
			SC_Msg_CollectFromBody(S, P);
			S = SC_DeclsDefault(((Message*)JB_Ring_Last(S)));
			if (S) {
				SC_Func__Tran_All(Fn, S, P);
			}
		}
		return;
	}
	 else if (F == kJB_SyxArr) {
		SC_Func__Tran_Array(S, P);
	}
	 else if (F == kJB_SyxType) {
		SC_Func__Tran_All(Fn, ((Message*)JB_Ring_First(S)), P);
		return;
	}
	 else if (F == kJB_SyxTmp) {
		if (SC_Func__Tran_Temporal(Fn, S, P) or ((JB_Msg_SyntaxEquals(S, JB_LUB[635], false)))) {
			return;
		}
	}
	 else if (F == kJB_SyxSheb) {
		return;
	}
	 else if (!((F == kJB_SyxThg) or ((F == kJB_SyxOpp) or ((F == kJB_SyxItem) or (F == kJB_SyxPrm))))) {
		JB_FreeIfDead(SC_TypeOfExpr(S, P, nil));
		if (JB_Msg_EqualsSyx(S, kJB_SyxFunc)) {
			SC_FastStringOpts__Optimise(S);
		}
	}
	 else if (F == kJB_SyxUnit) {
		return;
	}
	SC_Func__Tran_All_Final(Fn, S, P, F);
}

void SC_Func__Tran_All_Final(SCFunction* Fn, Message* S, SCNode* P, Syntax F) {
	JB_Incr(P);
	if (S->Func != kJB_SyxSheb) {
		if (((JB_Msg_EqualsSyx(S, kJB_SyxArg))) and (F != kJB_SyxArg)) {
			JB_SetRef(P, SC_Msg_SCArg(S, P, nil));
		}
		Message* Ch = ((Message*)JB_Ring_First(S));
		JB_Incr(Ch);
		while (Ch) {
			if (JB_Msg_SyntaxIs(Ch, kJB__MsgParseFlags_BreakPoint) and JB_Msg_OperatorIn(Ch, kJB_SyxArg)) {
				SC_Func__Tran_BreakPoint(Fn, Ch, P);
			}
			Message* N = ((Message*)JB_Ring_NextSib(Ch));
			JB_Incr(N);
			if ((JB_Msg_EqualsSyx(Ch, kJB_SyxArg))) {
				SCArg* _tmPf0 = SC_Msg_SCArg(Ch, P, S);
				JB_Incr(_tmPf0);
				SC_Func__Tran_All(Fn, Ch, _tmPf0);
				JB_Decr(_tmPf0);
			}
			 else {
				SC_Func__Tran_All(Fn, Ch, P);
			}
			JB_SetRef(Ch, ((Message*)JB_Ring_NextSib(Ch)));
			if ((!Ch) and (N and ((Message*)JB_Ring_Parent(N)))) {
				JB_SetRef(Ch, N);
			}
			JB_Decr(N);
		};
		JB_Decr(Ch);
	}
	JB_Decr(P);
}

void SC_Func__Tran_Array(Message* S, SCNode* Name_space) {
	SCDecl* Type = SC_Msg_AsDecl(S);
	JB_Incr(Type);
	if (!Type) {
		JB_EarlyDecr(Type);
		return;
	}
	Message* Thg = SC_Msg_IsSetIntoVar(S);
	JB_Incr(Thg);
	if ((!Thg)) {
		Message* _tmPf3 = SC_Msg_UpToArg(S);
		JB_Incr(_tmPf3);
		JB_SetRef(Thg, SC_Func__TempMoveOut(S, _tmPf3));
		JB_Decr(_tmPf3);
		SCDecl* Dcl = SC_Msg_AsDecl(Thg);
		JB_Incr(Dcl);
		if (Dcl) {
			SC_Base_TryAdd(Name_space, Thg, Dcl, Thg->Name);
		}
		 else {
			if (true) {
				JB_Msg_Fail(Thg, nil);
			}
		}
		JB_Decr(Dcl);
	}
	Message* P = SC_Msg_NiceParent(S);
	JB_Incr(P);
	Message* Place = SC_Msg_UpToArg(P);
	JB_Incr(Place);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(S, (&_usingf0));
	Message* DotNew = JB_Syx_OperatorPlus(kJB_SyxDot, JB_LUB[688]);
	JB_Incr(DotNew);
	JB_Msg_AppendSyx(DotNew, kJB_SyxThg, Type->Type->Name);
	JB_Decr(Type);
	JB_Msg_AppendSyx(DotNew, kJB_SyxEmb, JB_LUB[0]);
	if (JB_Msg_OperatorIn(P, kJB_SyxDecl)) {
		SCDecl* D = SC_Msg_AsDecl(P);
		JB_Incr(D);
		if (!D) {
			JB_EarlyDecr(D);
			JB_EarlyDecr(DotNew);
			JB_MsgPos_Destructor((&_usingf0));
			JB_EarlyDecr(Place);
			JB_EarlyDecr(P);
			JB_EarlyDecr(Thg);
			return;
		}
		JB_SetRef(D->Default, DotNew);
		JB_Decr(D);
	}
	JB_Decr(P);
	SC_Msg_FixMultiArr(S);
	{
		Message* Item = ((Message*)JB_Ring_First(S));
		JB_Incr(Item);
		while (Item) {
			Message* _Nf2 = ((Message*)JB_Ring_NextSib(Item));
			JB_Incr(_Nf2);
			Message* Rel = nil;
			JB_Incr(Rel);
			if (JB_Msg_EqualsSyx(Item, kJB_SyxItem)) {
				JB_Tree_Remove(Item);
				JB_SetRef(Rel, JB_Syx_Msg(kJB_SyxRel, JB_LUB[0]));
				Message* Acc = JB_Msg_Msg(Rel, kJB_SyxAcc, JB_LUB[0]);
				JB_Incr(Acc);
				JB_Msg_AppendSyx(Acc, kJB_SyxThg, Thg->Name);
				Message* _tmPf4 = JB_Msg_Msg(Acc, kJB_SyxArr, JB_LUB[0]);
				JB_Incr(_tmPf4);
				JB_Decr(Acc);
				Message* _tmPf5 = ((Message*)JB_Ring_First(Item));
				JB_Incr(_tmPf5);
				JB_Tree_SyntaxAppend(_tmPf4, _tmPf5);
				JB_Decr(_tmPf4);
				JB_Decr(_tmPf5);
				JB_Msg_AppendSyx(Rel, kJB_SyxOpp, JB_LUB[455]);
				Message* _tmPf6 = ((Message*)JB_Ring_Last(Item));
				JB_Incr(_tmPf6);
				JB_Tree_SyntaxAppend(Rel, _tmPf6);
				JB_Decr(_tmPf6);
			}
			 else {
				JB_SetRef(Rel, JB_Syx_Msg(kJB_SyxDot, JB_LUB[1584]));
				JB_Msg_AppendSyx(Rel, kJB_SyxThg, Thg->Name);
				Message* _tmPf7 = JB_Msg_Msg(Rel, kJB_SyxPrm, JB_LUB[0]);
				JB_Incr(_tmPf7);
				JB_Tree_SyntaxAppend(_tmPf7, Item);
				JB_Decr(_tmPf7);
			}
			(JB_Ring_NextSibSet(Place, Rel));
			JB_SetRef(Place, Rel);
			JB_FreeIfDead(SC_TypeOfExpr(Rel, Name_space, nil));
			JB_Decr(Rel);
			JB_SetRef(Item, _Nf2);
			JB_Decr(_Nf2);
		};
		JB_Decr(Item);
		;
	}
	;
	JB_Decr(Thg);
	JB_Decr(Place);
	JB_FreeIfDead(SC_TypeOfExpr(DotNew, Name_space, nil));
	SC_Msg_SafeReplaceWith(S, DotNew);
	JB_Decr(DotNew);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), S);
	JB_MsgPos_Destructor((&_usingf0));
}

bool SC_Func__Tran_Beep(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	SC_Msg_MiniTran(Node, Name_space, JB_LUB[588]);
	return false;
}

bool SC_Func__Tran_BlindCasts(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if ((!Fn)) {
		JB_Msg_Fail(Node, JB_LUB[985]);
		return nil;
	}
	Message* Thg = JB_Msg_NeedSyx(Node, kJB_SyxThg);
	JB_Incr(Thg);
	if (Thg) {
		JB_Tree_Remove(Node);
		Fn->BlindCasts = SC_Msg_Blind(Thg);
	}
	JB_EarlyDecr(Thg);
	return false;
}

bool SC_Func__Tran_BreakPoint(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if ((JB_Msg_SyntaxIs(Node, kJB__MsgParseFlags_Inserted) and JB_Msg_SyntaxIs(Node, kJB__MsgParseFlags_BreakPoint)) and ((JB_Msg_EqualsSyx(Node, kJB_SyxTmp)))) {
		return ((bool)SC__Comp_Program);
	}
	(JB_Msg_SyntaxIsSet(Node, kJB__MsgParseFlags_BreakPoint, (!true)));
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Node, (&_usingf0));
		Message* Trap = JB_Syx_Msg(kJB_SyxTmp, JB_LUB[1476]);
		(JB_Msg_SyntaxIsSet(Trap, kJB__MsgParseFlags_BreakPoint, true));
		(SC_Msg_ASMTypeSet(Trap, kSC__ASMType_kDebugger));
		(JB_Ring_PrevSibSet(Node, Trap));
		if (SC_Options__ModeCpp()) {
			SC_Func__Tran_DebugAt(Fn, Trap, Name_space);
		}
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Node);
		JB_MsgPos_Destructor((&_usingf0));
	}
	return ((bool)SC__Comp_Program);
}

bool SC_Func__Tran_CppRefs(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if ((!Fn)) {
		JB_Msg_Fail(Node, JB_LUB[985]);
		return nil;
	}
	JB_SetRef(Fn->Refs, SC_CppRefs_Constructor(nil, Node));
	JB_Tree_Remove(Node);
	return false;
}

bool SC_Func__Tran_DebugAt(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	Message* Ch = ((Message*)JB_Ring_First(Node));
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Node, (&_usingf0));
		JB_Msg_BecomeStr(Node, kJB_SyxFunc, JB_LUB[0]);
		JB_FreeIfDead(JB_Msg_Msg(Node, kJB_SyxThg, JB_LUB[1404]));
		Message* Prm = JB_Msg_Msg(Node, kJB_SyxPrm, JB_LUB[0]);
		if (!Ch) {
			Ch = JB_int_Msg(1);
		}
		JB_Tree_SyntaxAppend(Prm, Ch);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Node);
		JB_MsgPos_Destructor((&_usingf0));
	}
	JB_FreeIfDead(SC_TypeOfExpr(Node, Name_space, nil));
	(SC_Msg_ASMTypeSet(Node, kSC__ASMType_kDebugger));
	return false;
}

bool SC_Func__Tran_Debugger(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if (!SC__Options_TargetDebug) {
		JB_Tree_Remove(Node);
		return false;
	}
	Message* Ch = ((Message*)JB_Ring_First(Node));
	JB_Incr(Ch);
	if (!Ch) {
		JB_SetRef(Node->Name, JB_LUB[1405]);
		(SC_Msg_ASMTypeSet(Node, kSC__ASMType_kDebugger));
		JB_EarlyDecr(Ch);
		return false;
	}
	if (!(((JB_Msg_SyntaxEquals(Node, JB_LUB[1405], false))) and ((!JB_FreeIfDead(((Message*)JB_Ring_NextSib(Ch))))))) {
		JB_Msg_Fail(Node, nil);
		JB_EarlyDecr(Ch);
		return nil;
	}
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Node, (&_usingf0));
		JB_FreeIfDead(SC_Msg_ExpandToBool(Ch, Name_space));
		Message* _tmPf1 = ((Message*)JB_Ring_First(Node));
		JB_Incr(_tmPf1);
		JB_FreeIfDead(SC_Msg_Negate(_tmPf1));
		JB_Decr(_tmPf1);
		JB_SetRef(Node->Name, JB_LUB[397]);
		Message* _tmPf2 = JB_Msg_Msg(Node, kJB_SyxArg, JB_LUB[0]);
		JB_Incr(_tmPf2);
		Message* Trap = JB_Msg_Msg(_tmPf2, kJB_SyxTmp, JB_LUB[1405]);
		JB_Incr(Trap);
		JB_Decr(_tmPf2);
		(SC_Msg_ASMTypeSet(Trap, kSC__ASMType_kDebugger));
		JB_Decr(Trap);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Node);
		JB_MsgPos_Destructor((&_usingf0));
	}
	JB_Decr(Ch);
	SC_Func__Tran_If(Fn, Node, Name_space);
	return false;
}

bool SC_Func__Tran_Description(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if ((!Fn)) {
		JB_Msg_Fail(Node, JB_LUB[985]);
		return nil;
	}
	Message* Str = JB_Msg_NeedSyx(Node, kJB_SyxStr);
	JB_Incr(Str);
	if (Str) {
		if (!SC_Func_SyntaxIs(Fn, kSC__FunctionType_Disabled)) {
			if (((JB_String*)JB_Str_Exists(Fn->Description))) {
				JB_Msg_Fail(Node, JB_LUB[1138]);
			}
			JB_SetRef(Fn->Description, Str->Name);
		}
		JB_Tree_Remove(Node);
	}
	JB_EarlyDecr(Str);
	return false;
}

bool SC_Func__Tran_Else(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	Message* P = ((Message*)JB_Ring_Parent(Node));
	if (!((JB_Msg_EqualsSyx(P, kJB_SyxTmp)) and ((JB_Msg_SyntaxEquals(P, JB_LUB[397], false)) or (JB_Msg_SyntaxEquals(P, JB_LUB[577], false))))) {
		JB_Msg_Fail(Node, JB_LUB[984]);
		return nil;
	}
	return false;
}

bool SC_Func__Tran_Expect(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	Message* Ch = JB_Msg_NeedFirst(Node);
	JB_Incr(Ch);
	if (!Ch) {
		JB_EarlyDecr(Ch);
		return nil;
	}
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Node, (&_usingf0));
	Message* Ch1 = ((Message*)JB_Ring_NextSib(Ch));
	JB_Incr(Ch1);
	JB_String* N = Node->Name;
	JB_Incr(N);
	JB_SetRef(Node->Name, JB_LUB[397]);
	if (JB_Str_Equals(N, JB_LUB[462], false)) {
		JB_SetRef(N, JB_LUB[463]);
		JB_Msg_ExpectLast(Ch, nil);
	}
	bool NewStyle = ((JB_Str_Equals(N, JB_LUB[463], false)) or (JB_Str_Equals(N, JB_LUB[461], false)));
	if (NewStyle and (!Ch1)) {
		JB_SetRef(Ch1, Ch);
		JB_SetRef(Ch, JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[7]));
		(JB_Ring_PrevSibSet(Ch1, Ch));
	}
	if (Name_space) {
		JB_FreeIfDead(SC_TypeOfExpr(Ch, Name_space, nil));
	}
	JB_SetRef(Ch, SC_Msg_Negate(Ch));
	Message* Arg = JB_Msg_Msg(Node, kJB_SyxArg, JB_LUB[0]);
	JB_Incr(Arg);
	if (((JB_Str_Equals(N, JB_LUB[458], false))) or (NewStyle)) {
		Message* _tmPf1 = SC_Msg_ExpectParamsTransform(Ch1, Node->Position, Ch, N);
		JB_Incr(_tmPf1);
		JB_Tree_SyntaxAppend(Arg, _tmPf1);
		JB_Decr(_tmPf1);
	}
	 else if ((JB_Str_Equals(N, JB_LUB[460], false))) {
		JB_Msg_AppendSyx(Arg, kJB_SyxTmp, JB_LUB[1405]);
	}
	JB_Decr(Ch);
	JB_Decr(Ch1);
	if ((!NewStyle)) {
		if (JB_Str_Equals(N, JB_LUB[464], false)) {
			JB_Msg_AppendSyx(Arg, kJB_SyxTmp, JB_LUB[589]);
		}
		 else {
			Message* _tmPf2 = JB_Msg_Msg(Arg, kJB_SyxTmp, JB_LUB[453]);
			JB_Incr(_tmPf2);
			JB_Msg_AppendSyx(_tmPf2, kJB_SyxQues, JB_LUB[100]);
			JB_Decr(_tmPf2);
		}
	}
	JB_Decr(N);
	JB_Decr(Arg);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Node);
	JB_MsgPos_Destructor((&_usingf0));
	return false;
}

bool SC_Func__Tran_Fails(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if ((!Fn)) {
		JB_Msg_Fail(Node, JB_LUB[985]);
		return nil;
	}
	(SC_Msg_ASMTypeSet(Node, kSC__ASMType_kFail));
	Fn->Badness = (Fn->Badness | 128);
	if ((JB_Tree_IsLast(Node))) {
		JB_Msg_Fail(Node, JB_LUB[986]);
		return nil;
	}
	return false;
}

bool SC_Func__Tran_For(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	JB_Incr(Name_space);
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Node, (&_usingf0));
		JB_SetRef(Name_space, SC_Msg_SCArg(Node, Name_space, nil));
		(++SC__Func_InBranch);
		(++SC__Func_InLoop);
		SC_Func__Tran_ForSub(Fn, Node, Name_space);
		SC_Func__Tran_All_Final(Fn, Node, Name_space, kJB_SyxArg);
		(--SC__Func_InBranch);
		(--SC__Func_InLoop);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Node);
		JB_MsgPos_Destructor((&_usingf0));
	}
	JB_EarlyDecr(Name_space);
	return true;
}

void SC_Func__Tran_ForStart(Message* Arg, Message* Index, SCNode* P) {
	Message* Start = SC_Msg_GetMarker(Arg, JB_LUB[1518]);
	JB_Incr(Start);
	if (!Start) {
		JB_EarlyDecr(Start);
		return;
	}
	if ((!Index)) {
		JB_Msg_Fail(Arg, JB_LUB[1519]);
		JB_EarlyDecr(Start);
		return;
	}
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Arg, (&_usingf0));
	JB_String* CondName = SC_UniqueTmpVar(P, JB_LUB[1520]);
	JB_Incr(CondName);
	Message* _tmPf1 = ((Message*)JB_Ring_Parent(Arg));
	JB_Incr(_tmPf1);
	Message* _tmPf3 = JB_Msg_Copy(Index, Arg);
	JB_Incr(_tmPf3);
	Message* _tmPf2 = SC_MakeDecl(JB_LUB[0], CondName, _tmPf3, kSC__SCDeclInfo_Temp);
	JB_Incr(_tmPf2);
	JB_Decr(_tmPf3);
	(JB_Ring_PrevSibSet(_tmPf1, _tmPf2));
	JB_Decr(_tmPf1);
	JB_Decr(_tmPf2);
	Message* IfTest = JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[397]);
	JB_Incr(IfTest);
	Message* Bra = JB_Msg_Msg(IfTest, kJB_SyxBra, JB_LUB[0]);
	JB_Incr(Bra);
	JB_Msg_AppendSyx(IfTest, kJB_SyxArg, JB_LUB[0]);
	Message* Rel = JB_Msg_Msg(Bra, kJB_SyxRel, JB_LUB[0]);
	JB_Incr(Rel);
	JB_Decr(Bra);
	JB_Msg_AppendSyx(Rel, kJB_SyxThg, CondName);
	JB_Decr(CondName);
	JB_Msg_AppendSyx(Rel, kJB_SyxOpp, JB_LUB[1521]);
	Message* _tmPf4 = JB_Msg_Copy(Index, Arg);
	JB_Incr(_tmPf4);
	JB_Tree_SyntaxAppend(Rel, _tmPf4);
	JB_Decr(Rel);
	JB_Decr(_tmPf4);
	(JB_Ring_FirstSet(Arg, IfTest));
	Message* _tmPf5 = ((Message*)JB_Ring_NextSib(IfTest));
	JB_Incr(_tmPf5);
	Message* _tmPf6 = ((Message*)JB_Ring_Last(IfTest));
	JB_Incr(_tmPf6);
	JB_Decr(IfTest);
	SC_Msg_Move(_tmPf5, Start, _tmPf6);
	JB_Decr(_tmPf5);
	JB_Decr(_tmPf6);
	SC_Msg_MakeComment(Start);
	JB_Decr(Start);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Arg);
	JB_MsgPos_Destructor((&_usingf0));
}

bool SC_Func__Tran_ForSub(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	bool Rz = false;
	Message* List = JB_Msg_NeedFirst(Node);
	JB_Incr(List);
	if (!List) {
		JB_EarlyDecr(List);
		return nil;
	}
	int Bad = 0;
	Message* Index = ((Message*)JB_Ring_NextSib(List));
	JB_Incr(Index);
	Message* Arg = nil;
	JB_Incr(Arg);
	if (JB_Msg_EqualsSyx(Index, kJB_SyxArg)) {
		JB_SetRef(Arg, Index);
		JB_SetRef(Index, nil);
	}
	 else {
		if (Index) {
			JB_SetRef(Arg, ((Message*)JB_Ring_NextSib(Index)));
		}
		if (Arg) {
			Bad = (Bad + (!JB_Msg_Expect(Arg, kJB_SyxArg, nil)));
		}
		 else {
			JB_SetRef(Arg, JB_Msg_Msg(Node, kJB_SyxArg, JB_LUB[0]));
		}
	}
	Message* Value = nil;
	JB_Incr(Value);
	JB_String* IterName = JB_LUB[0];
	JB_Incr(IterName);
	JB_SetRef(List, SC_Msg_UnBra(List));
	Message* Scnd = ((Message*)JB_Tree_Second(List));
	JB_Incr(Scnd);
	if ((JB_Msg_EqualsSyx(List, kJB_SyxRel)) and SC_Msg_OperatorIsOpp(Scnd, JB_LUB[2297])) {
		JB_SetRef(Value, ((Message*)JB_Ring_First(List)));
		JB_SetRef(List, JB_Msg_NextOf(Scnd, kJB_SyxNil, nil));
		if (List) {
			JB_SetRef(List, SC_Msg_UnBra(List));
		}
		 else {
			(++Bad);
		}
		if (JB_Msg_EqualsSyx(Value, kJB_SyxDot)) {
			JB_SetRef(IterName, Value->Name);
			JB_SetRef(Value, JB_Msg_NeedSyx(Value, kJB_SyxThg));
			Bad = (Bad + (!Value));
		}
	}
	JB_Decr(Scnd);
	SCIterator* Iter = nil;
	JB_Incr(Iter);
	SCDecl* Dcl = nil;
	JB_Incr(Dcl);
	if (!Bad) {
		JB_SetRef(Dcl, SC_TypeOfExpr(List, Name_space, nil));
		if (!Dcl) {
			JB_Msg_Fail(List, JB_LUB[2298]);
		}
		JB_SetRef(List, SC_Msg_UnBra(List));
	}
	if (Dcl) {
		JB_SetRef(Iter, SC_Decl_GetIteratorAny(Dcl, IterName, Node));
		if (Iter) {
			SC_Iter_Renuqify(Iter, Name_space);
			Message* _tmPf6 = ((Message*)JB_Ring_Parent(Iter->Yield));
			JB_Incr(_tmPf6);
			Bad = (Bad + (!JB_Msg_Expect(_tmPf6, kJB_SyxArg, nil)));
			JB_Decr(_tmPf6);
			if (Index == Arg) {
				JB_SetRef(Index, nil);
			}
			 else if (Index) {
				Bad = (Bad + (!JB_FreeIfDead(JB_Msg_NeedSyx(Index, kJB_SyxThg))));
			}
		}
	}
	JB_Decr(IterName);
	if (!(Dcl and ((!Bad) and (Iter and List)))) {
		JB_EarlyDecr(Dcl);
		JB_EarlyDecr(Iter);
		JB_EarlyDecr(Value);
		JB_EarlyDecr(Arg);
		JB_EarlyDecr(Index);
		JB_EarlyDecr(List);
		return nil;
	}
	JB_Msg_BecomeStr(Node, kJB_SyxArg, JB_LUB[0]);
	if (Index) {
		JB_Tree_Remove(Index);
		JB_SetRef(Index, ((Message*)JB_Ring_First(Index)));
	}
	Message* _tmPf7 = ((Message*)JB_Ring_First(Node));
	JB_Incr(_tmPf7);
	JB_Tree_Remove(_tmPf7);
	JB_Decr(_tmPf7);
	bool CanKeepSource = SC_Func__CanKeepAsSource(List, Arg, Dcl);
	int CanKeepValue = ((int)SC_Func__CanKeepAsValue(Iter, Arg, Dcl, Value));
	Message* ListName = List;
	JB_Incr(ListName);
	if (!CanKeepSource) {
		if (SC_Decl_SyntaxIs(Dcl, kSC__SCDeclInfo_ReturnedStruct)) {
			Message* List_msg = SC_Msg_PrmFuncStructMsg(List);
			JB_Incr(List_msg);
			if (List_msg) {
				JB_SetRef(ListName, ((Message*)JB_Ring_First(List_msg)));
			}
			JB_Decr(List_msg);
		}
		 else {
			JB_String* _tmPf8 = SC_UniqueTmpVar(Name_space, JB_LUB[2299]);
			JB_Incr(_tmPf8);
			JB_SetRef(ListName, JB_Syx_OperatorPlus(kJB_SyxThg, _tmPf8));
			JB_Decr(_tmPf8);
			JB_FreeIfDead(SC_MakeDeclOrRel(Node, ListName, List));
		}
	}
	 else if (SC_Decl_IsCArray(Dcl)) {
		JB_SetRef(ListName, JB_Syx_OperatorPlus(kJB_SyxQues, JB_LUB[57]));
	}
	SC_Iter_RenameSelf(Iter, ListName);
	JB_Decr(ListName);
	if (CanKeepValue) {
		SC_Iter_RenameValue(Iter, Value);
	}
	 else {
		JB_String* _tmPf10 = SC_UniqueTmpVar(Name_space, JB_LUB[638]);
		JB_Incr(_tmPf10);
		Message* _tmPf9 = JB_Syx_OperatorPlus(kJB_SyxThg, _tmPf10);
		JB_Incr(_tmPf9);
		JB_Decr(_tmPf10);
		SC_Iter_RenameValue(Iter, _tmPf9);
		JB_Decr(_tmPf9);
	}
	Message* _tmPf11 = ((Message*)JB_Ring_NextSib(Arg));
	JB_Incr(_tmPf11);
	Message* PostCond = SC_Func__AlterPostCond(_tmPf11, Iter->LoopEndCond, Node);
	JB_Incr(PostCond);
	JB_Decr(_tmPf11);
	Message* Node2 = SC_Iter_MakeWhile(Iter, Arg, PostCond);
	JB_Incr(Node2);
	JB_Decr(PostCond);
	if (!Node2) {
		JB_EarlyDecr(Node2);
		JB_EarlyDecr(Dcl);
		JB_EarlyDecr(Iter);
		JB_EarlyDecr(Value);
		JB_EarlyDecr(Arg);
		JB_EarlyDecr(Index);
		JB_EarlyDecr(List);
		return nil;
	}
	JB_Tree_SyntaxAppend(Node, Node2);
	Message* Iterwhile = Iter->WhileLoop;
	JB_Incr(Iterwhile);
	SC_Msg_CopyAllBefore(Iterwhile, Node2, Node);
	SC_Msg_CopyAllAfter(Iterwhile, Node2, Node);
	JB_Decr(Iterwhile);
	SC_Func__Tran_ForStart(Arg, Iter->Index, Name_space);
	Message* FirstInLoop = ((Message*)JB_Ring_First(Arg));
	JB_Incr(FirstInLoop);
	if ((!FirstInLoop)) {
		JB_SetRef(FirstInLoop, JB_Syx_OperatorPlus(kJB_SyxSheb, JB_LUB[2300]));
		JB_Tree_SyntaxAppend(Arg, FirstInLoop);
	}
	Message* EndLoopMarker = SC_Msg_NeedMarker(Arg, JB_LUB[2237], true);
	JB_Incr(EndLoopMarker);
	SC_Msg_CopyAllAfter(Iter->Yield, EndLoopMarker, Node);
	SC_Msg_CopyAllBeforeInto(Iter->Yield, Arg, Node);
	if (SC_Decl_IsCArray(Dcl)) {
		{
			Message* C = Node;
			JB_Incr(C);
			Message* _afterf1 = ((Message*)JB_Ring_FlatAfter(Node));
			JB_Incr(_afterf1);
			while ((C) and (C != _afterf1)) {
				Message* _N_f2 = ((Message*)JB_Ring_FlatNext0(C));
				JB_Incr(_N_f2);
				if ((JB_Msg_EqualsSyx(C, kJB_SyxQues)) and (JB_Msg_SyntaxEquals(C, JB_LUB[57], false))) {
					Message* _tmPf12 = JB_Msg_Copy(List, nil);
					JB_Incr(_tmPf12);
					JB_FreeIfDead(SC_Msg_ReplaceWith(C, _tmPf12));
					JB_Decr(_tmPf12);
				}
				JB_SetRef(C, _N_f2);
				JB_Decr(_N_f2);
			};
			JB_Decr(C);
			JB_Decr(_afterf1);
			;
		};
	}
	{
		Message* Msg = Arg;
		JB_Incr(Msg);
		Message* _afterf4 = ((Message*)JB_Ring_FlatAfter(Arg));
		JB_Incr(_afterf4);
		while ((Msg) and (Msg != _afterf4)) {
			Message* _N_f5 = ((Message*)JB_Ring_FlatNext0(Msg));
			JB_Incr(_N_f5);
			if ((JB_Msg_EqualsSyx(Msg, kJB_SyxTmp))) {
				if ((JB_Msg_SyntaxEquals(Msg, JB_LUB[466], false)) or (JB_Msg_SyntaxEquals(Msg, JB_LUB[398], false))) {
					JB_SetRef(Msg, ((Message*)JB_Ring_FlatAfter(Msg)));
					JB_EarlyDecr(_N_f5);
					continue;
				}
				 else if ((JB_Msg_SyntaxEquals(Msg, JB_LUB[590], false))) {
					SC_Msg_ExpectEmpty(Msg);
					SC_Msg_CopyAllAfterBefore(Iter->Yield, Msg, Node);
				}
				 else if ((JB_Msg_SyntaxEquals(Msg, JB_LUB[2301], false))) {
					JB_SetRef(Msg->Name, JB_LUB[590]);
					SC_Msg_Next_Index(Msg, Iter, Node2);
					JB_SetRef(Msg, ((Message*)JB_Ring_FlatAfter(Msg)));
					JB_EarlyDecr(_N_f5);
					continue;
				}
			}
			 else if ((JB_Msg_EqualsSyx(Msg, kJB_SyxThg))) {
				if ((CanKeepValue == 1) and (JB_Msg_SyntaxEquals(Msg, Value->Name, false))) {
					JB_FreeIfDead(SC_Msg_ReplaceWith(Msg, Value));
					CanKeepValue = 2;
				}
			}
			 else if ((JB_Msg_EqualsSyx(Msg, kJB_SyxType))) {
				Message* Ty = ((Message*)JB_Ring_Last(Msg));
				JB_Incr(Ty);
				if ((JB_Msg_SyntaxEquals(Ty, JB_LUB[59], false))) {
					if (Dcl->Contains) {
						JB_Msg_BecomeStr(Msg, kJB_SyxBra, JB_LUB[0]);
						JB_SetRef(Msg->Obj, Dcl->Contains);
						JB_Tree_Remove(Ty);
					}
					 else {
						Message* _tmPf13 = ((Message*)JB_Ring_First(Msg));
						JB_Incr(_tmPf13);
						JB_FreeIfDead(SC_Msg_ReplaceWith(Msg, _tmPf13));
						JB_Decr(_tmPf13);
					}
				}
				JB_Decr(Ty);
			}
			JB_SetRef(Msg, _N_f5);
			JB_Decr(_N_f5);
		};
		JB_Decr(Msg);
		JB_Decr(_afterf4);
		;
		JB_Decr(List);
	}
	;
	JB_Decr(Dcl);
	SCArg* P2 = SC_Msg_SCArgNested(Arg, Node, Name_space);
	JB_Incr(P2);
	if (!P2) {
		JB_Tree_Remove(EndLoopMarker);
		if (true) {
			JB_Msg_Fail(Arg, JB_LUB[2302]);
		}
	}
	 else {
		if (Index) {
			Message* It_ind = Iter->Index;
			JB_Incr(It_ind);
			if (It_ind) {
				Message* _tmPf15 = JB_Msg_Copy(It_ind, Index);
				JB_Incr(_tmPf15);
				Message* _tmPf14 = SC_MakeDeclOrRel(Arg, Index, _tmPf15);
				JB_Incr(_tmPf14);
				JB_Decr(_tmPf15);
				(JB_Ring_PrevSibSet(FirstInLoop, _tmPf14));
				JB_Decr(_tmPf14);
			}
			 else {
				if (true) {
					JB_Msg_Fail(Index, JB_LUB[2303]);
				}
			}
			JB_Decr(It_ind);
		}
		if (Value and (!CanKeepValue)) {
			Message* _tmPf17 = JB_Msg_Copy(Iter->Value, Value);
			JB_Incr(_tmPf17);
			Message* _tmPf16 = SC_MakeDeclOrRel(Arg, Value, _tmPf17);
			JB_Incr(_tmPf16);
			JB_Decr(_tmPf17);
			(JB_Ring_PrevSibSet(FirstInLoop, _tmPf16));
			JB_Decr(_tmPf16);
		}
		SC_CollectManyDeclsFromBody(Node, Name_space);
		JB_Tree_Remove(EndLoopMarker);
		Rz = SC_Func__Tran_While(nil, Node2, P2);
	}
	JB_Decr(Index);
	JB_Decr(Arg);
	JB_Decr(Value);
	JB_Decr(Iter);
	JB_Decr(Node2);
	JB_Decr(FirstInLoop);
	JB_Decr(EndLoopMarker);
	JB_EarlyDecr(P2);
	return Rz;
}

bool SC_Func__Tran_FuncTable(Message* Msg) {
	Message* nameMsg = JB_Msg_NeedSyx(Msg, kJB_SyxThg);
	JB_Incr(nameMsg);
	if (!nameMsg) {
		JB_EarlyDecr(nameMsg);
		return nil;
	}
	Message* protoMsg = ((Message*)JB_Ring_NextSib(nameMsg));
	JB_Incr(protoMsg);
	if (!protoMsg) {
		JB_EarlyDecr(protoMsg);
		JB_EarlyDecr(nameMsg);
		return nil;
	}
	if (!((JB_Msg_EqualsSyx(protoMsg, kJB_SyxBra)) or ((JB_Msg_EqualsSyx(protoMsg, kJB_SyxPrm)) or (JB_Msg_EqualsSyx(protoMsg, kJB_SyxList))))) {
		JB_Msg_Fail(protoMsg, nil);
		JB_EarlyDecr(protoMsg);
		JB_EarlyDecr(nameMsg);
		return nil;
	}
	Message* Items = JB_Msg_NextOf(protoMsg, kJB_SyxArg, nil);
	JB_Incr(Items);
	if (!Items) {
		JB_EarlyDecr(Items);
		JB_EarlyDecr(protoMsg);
		JB_EarlyDecr(nameMsg);
		return nil;
	}
	Message* ProtoFirst = ((Message*)JB_Ring_First(protoMsg));
	JB_Incr(ProtoFirst);
	JB_String* Name = nameMsg->Name;
	JB_Incr(Name);
	JB_Decr(nameMsg);
	JB_String* protoName = ProtoFirst->Name;
	JB_Incr(protoName);
	if (true) {
		//using;
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Msg, (&_usingf0));
		if ((!JB_Msg_EqualsSyx(ProtoFirst, kJB_SyxThg))) {
			Message* _tmPf5 = JB_Syx_OperatorPlus(kJB_SyxThg, protoName);
			JB_Incr(_tmPf5);
			JB_FreeIfDead(SC_Msg_ReplaceWith(protoMsg, _tmPf5));
			JB_Decr(_tmPf5);
			JB_SetRef(protoName, JB_Str_OperatorPlus(JB_LUB[1139], Name));
			protoMsg->Func = kJB_SyxPrm;
			Message* protoMsg2 = JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[1140]);
			JB_Incr(protoMsg2);
			JB_Msg_AppendSyx(protoMsg2, kJB_SyxThg, protoName);
			JB_Tree_SyntaxAppend(protoMsg2, protoMsg);
			(JB_Ring_NextSibSet(Msg, protoMsg2));
			JB_Decr(protoMsg2);
		}
		JB_SetRef(Items->Name, JB_LUB[1141]);
		Items->Func = kJB_SyxArr;
		JB_Tree_Clear(Msg);
		Msg->Func = kJB_SyxDecl;
		JB_Msg_AppendSyx(Msg, kJB_SyxEmb, JB_LUB[0]);
		Message* _tmPf7 = JB_Syx_OperatorPlus(kJB_SyxThg, Name);
		JB_Incr(_tmPf7);
		Message* _tmPf6 = SC_NewEqRelWithMsgMsg(_tmPf7, Items);
		JB_Incr(_tmPf6);
		JB_Decr(_tmPf7);
		JB_Tree_SyntaxAppend(Msg, _tmPf6);
		JB_Decr(_tmPf6);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Msg);
		JB_MsgPos_Destructor((&_usingf0));
	}
	{
		Message* _Valuef4 = ((Message*)JB_Ring_First(Items));
		JB_Incr(_Valuef4);
		while (_Valuef4) {
			Message* _Nf3 = ((Message*)JB_Ring_NextSib(_Valuef4));
			JB_Incr(_Nf3);
			Message* I = _Valuef4;
			JB_Incr(I);
			Message* Item_value = ((Message*)JB_Ring_Last(I));
			JB_Incr(Item_value);
			Message* Item_name = ((Message*)JB_Ring_First(I));
			JB_Incr(Item_name);
			Message* Table_name = Item_name;
			JB_Incr(Table_name);
			Message* Sigh = Item_name;
			JB_Incr(Sigh);
			bool ListOK = ((JB_Msg_EqualsSyx(Item_name, kJB_SyxPrm))) and ((JB_Msg_EqualsSyx(I, kJB_SyxItem)));
			if (ListOK) {
				JB_String* _tmPf8 = JB_Msg_FirstName(Item_name);
				JB_Incr(_tmPf8);
				JB_Msg_BecomeStr(I, kJB_SyxTmp, _tmPf8);
				JB_Decr(_tmPf8);
			}
			if ((JB_Msg_EqualsSyx(I, kJB_SyxTmp))) {
				if (JB_Msg_EqualsSyx(Table_name, kJB_SyxPrm)) {
					if ((!ListOK)) {
						JB_Msg_Fail(I, JB_LUB[1142]);
					}
					JB_SetRef(Table_name, ((Message*)JB_Ring_First(Table_name)));
					JB_Tree_Remove(Sigh);
				}
				 else {
					JB_SetRef(Table_name, I);
				}
				JB_SetRef(Item_name, I);
				if ((!Item_value)) {
					JB_Msg_Fail(I, JB_LUB[1143]);
				}
			}
			 else {
				JB_Msg_Expect(I, kJB_SyxItem, nil);
				if (Item_value == Item_name) {
					JB_Msg_Expect(I, kJB_SyxNil, nil);
				}
			}
			Message* ARel = nil;
			JB_Incr(ARel);
			JB_String* NewName = JB_LUB[0];
			JB_Incr(NewName);
			if (SC_Msg_OperatorIsBRel(Item_value, JB_LUB[32])) {
				JB_SetRef(ARel, Item_value);
				JB_SetRef(Item_value, ((Message*)JB_Ring_First(Item_value)));
			}
			while (Item_value) {
				//using;
				MessagePosition _usingf1 = ((MessagePosition){});
				JB_Msg_SyntaxUsing(Item_value, (&_usingf1));
				if ((JB_Msg_EqualsSyx(Item_value, kJB_SyxThg)) or ((JB_Msg_EqualsSyx(Item_value, kJB_SyxDot)) or (JB_Msg_EqualsSyx(Item_value, kJB_SyxBra)))) {
					if (!ARel) {
						JB_SetRef(ARel, JB_Syx_OperatorPlus(kJB_SyxBRel, JB_LUB[32]));
					}
					 else {
						JB_SetRef(ARel, JB_Msg_Copy(ARel, nil));
					}
					Message* _tmPf9 = SC_Msg_UnBra(Item_value);
					JB_Incr(_tmPf9);
					JB_SetRef(Item_value, ((Message*)JB_Tree_WrapWith(_tmPf9, ARel)));
					JB_Decr(_tmPf9);
				}
				 else {
					if ((JB_Msg_EqualsSyx(Item_value, kJB_SyxEmb))) {
						JB_Msg_Fail(Item_value, JB_LUB[1144]);
					}
					if ((!JB_Msg_EqualsSyx(Item_value, kJB_SyxArg))) {
						Message* _tmPf10 = JB_Syx_Msg(kJB_SyxArg, JB_LUB[0]);
						JB_Incr(_tmPf10);
						JB_SetRef(Item_value, ((Message*)JB_Tree_WrapWith(Item_value, _tmPf10)));
						JB_Decr(_tmPf10);
					}
					if (Item_name) {
						if (!JB_Str_Exists(NewName)) {
							JB_String* _tmPf12 = SC_Msg_CollectFuncTableName(Item_name);
							JB_Incr(_tmPf12);
							JB_String* _tmPf11 = JB_Str_OperatorPlus(JB_LUB[385], _tmPf12);
							JB_Incr(_tmPf11);
							JB_Decr(_tmPf12);
							JB_SetRef(NewName, JB_Str_OperatorPlus(Name, _tmPf11));
							JB_Decr(_tmPf11);
							Message* _tmPf13 = SC_Msg_CollectionPlace(Msg);
							JB_Incr(_tmPf13);
							Message* _tmPf15 = JB_Syx_OperatorPlus(kJB_SyxThg, protoName);
							JB_Incr(_tmPf15);
							Message* _tmPf14 = SC_Func__ArgToFunc(NewName, _tmPf15, Item_value);
							JB_Incr(_tmPf14);
							JB_Decr(_tmPf15);
							JB_Tree_SyntaxAppend(_tmPf13, _tmPf14);
							JB_Decr(_tmPf13);
							JB_Decr(_tmPf14);
						}
						Message* _tmPf16 = JB_Msg_Msg(I, kJB_SyxBRel, JB_LUB[32]);
						JB_Incr(_tmPf16);
						JB_Msg_AppendSyx(_tmPf16, kJB_SyxThg, NewName);
						JB_Decr(_tmPf16);
					}
					 else {
						if (true) {
							JB_Msg_Fail(I, JB_LUB[1145]);
						}
					}
				}
				JB_String* Iname = I->Name;
				JB_Incr(Iname);
				if (((JB_Msg_EqualsSyx(I, kJB_SyxTmp))) and Table_name) {
					Message* _tmPf17 = JB_Syx_OperatorPlus(kJB_SyxStr, Table_name->Name);
					JB_Incr(_tmPf17);
					(JB_Ring_FirstSet(I, _tmPf17));
					JB_Decr(_tmPf17);
					JB_Msg_BecomeStr(I, kJB_SyxItem, JB_LUB[0]);
				}
				if (((!JB_Msg_EqualsSyx(Sigh, kJB_SyxPrm))) or JB_Tree_IsLast(Table_name)) {
					JB_EarlyDecr(Iname);
					JB_MsgPos_Destructor((&_usingf1));
					break;
				}
				Message* Newi = JB_Syx_OperatorPlus(kJB_SyxTmp, Iname);
				JB_Incr(Newi);
				JB_Decr(Iname);
				(JB_Ring_PrevSibSet(I, Newi));
				JB_SetRef(I, Newi);
				JB_Decr(Newi);
				JB_MsgPos_SyntaxUsingComplete((&_usingf1), Item_value);
				JB_MsgPos_Destructor((&_usingf1));
			};
			JB_Decr(I);
			JB_Decr(Item_value);
			JB_Decr(Item_name);
			JB_Decr(Table_name);
			JB_Decr(ARel);
			JB_Decr(NewName);
			;
			JB_Decr(Sigh);
			JB_SetRef(_Valuef4, _Nf3);
			JB_Decr(_Nf3);
		};
		JB_Decr(_Valuef4);
		;
		JB_Decr(ProtoFirst);
		JB_Decr(protoMsg);
	}
	;
	JB_Decr(Items);
	JB_Decr(Name);
	JB_EarlyDecr(protoName);
	return false;
}

bool SC_Func__Tran_If(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	(SC_Msg_ASMTypeSet(Node, kSC__ASMType_kIf));
	(++SC__Func_InBranch);
	SC_Func__Tran_IfSub(Node, Name_space);
	SC_Func__Tran_All_Final(Fn, Node, Name_space, kJB_SyxArg);
	(--SC__Func_InBranch);
	return true;
}

bool SC_Func__Tran_Ifn(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	Message* F = JB_Msg_NeedFirst(Node);
	if (F) {
		JB_SetRef(Node->Name, JB_LUB[397]);
		JB_FreeIfDead(SC_Msg_Negate(F));
		SC_Func__Tran_If(Fn, Node, Name_space);
	}
	return false;
}

void SC_Func__Tran_IfSub(Message* Node, SCNode* Name_space) {
	Message* Cond = JB_Msg_NeedFirst(Node);
	if (!Cond) {
		return;
	}
	Message* Arg = ((Message*)JB_Ring_NextSib(Cond));
	if (Arg) {
		if (!JB_Msg_Expect(Arg, kJB_SyxArg, nil)) {
			return;
		}
	}
	 else {
		Arg = JB_Syx_Msg(kJB_SyxArg, JB_LUB[0]);
		if (JB_Msg_SyntaxEquals(Node, JB_LUB[397], false)) {
			JB_Msg_AppendSyx(Arg, kJB_SyxTmp, JB_LUB[1405]);
		}
		(JB_Ring_NextSibSet(Cond, Arg));
	}
	Message* SubTest = ((Message*)JB_Ring_NextSib(Arg));
	if (SubTest) {
		if (!(SC_Msg_OperatorIsTmp(SubTest, JB_LUB[577]) or SC_Msg_OperatorIsTmp(SubTest, JB_LUB[578]))) {
			JB_Msg_Fail(SubTest, nil);
			return;
		}
		JB_Msg_ExpectLast(SubTest, nil);
		if (JB_Msg_SyntaxEquals(SubTest, JB_LUB[577], false)) {
			(SC_Msg_ASMTypeSet(SubTest, kSC__ASMType_kIf));
			SC_Func__Tran_IfSub(SubTest, Name_space);
		}
		 else {
			Message* ElseArg = ((Message*)JB_Ring_First(SubTest));
			if (ElseArg) {
				if (!(!JB_Msg_SyntaxEquals(ElseArg, JB_LUB[397], true))) {
					JB_Msg_Fail(ElseArg, JB_LUB[2274]);
				}
				JB_Msg_Expect(ElseArg, kJB_SyxArg, nil);
			}
			 else {
				JB_FreeIfDead(JB_Msg_Msg(SubTest, kJB_SyxArg, JB_LUB[0]));
			}
		}
	}
	Name_space = SC_Msg_SCArg(Arg, Name_space, nil);
	if (!Name_space) {
		return;
	}
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Node, (&_usingf0));
	Cond = SC_Msg_ExpandToBool(Cond, Name_space);
	if (!Cond) {
		0;
	}
	 else if (SC_Msg_IsAlwaysFalse(Cond)) {
		SC_Msg_ElseNeverFires(Cond);
	}
	 else {
		if (JB_Msg_EqualsSyx(((Message*)JB_Ring_First(Cond)), kJB_SyxArg)) {
			JB_SetRef(SC_Msg_WrapWith(Cond, kJB_SyxBra, JB_LUB[0])->Obj, Cond->Obj);
		}
		SC_Func__Tran_Isa(Node, Name_space);
	}
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Node);
	JB_MsgPos_Destructor((&_usingf0));
}

void SC_Func__Tran_Isa(Message* S, SCNode* P) {
	if ((SC__IsaTester_T.InUse)) {
		JB_Msg_Fail(S, JB_LUB[2259]);
		return;
	}
	SC__IsaTester_T.InUse = true;
	Message* _tmPf1 = ((Message*)JB_Ring_First(S));
	JB_Incr(_tmPf1);
	if (SC_Comp__CollectIsaTests(_tmPf1)) {
		int N = SC__IsaTester_T.Count;
		{
			int I = 0;
			while (I < N) {
				Message* Isa_ = SC__IsaTester_T.Items[I];
				JB_Incr(Isa_);
				Message* _tmPf2 = JB_Msg_FindSyx(S, kJB_SyxArg);
				JB_Incr(_tmPf2);
				SC_Func__Tran_OneIsa(Isa_, _tmPf2, P);
				JB_Decr(Isa_);
				JB_Decr(_tmPf2);
				(++I);
			};
		};
	}
	JB_Decr(_tmPf1);
	SC__IsaTester_T.InUse = false;
	SC__IsaTester_T.Count = 0;
}

bool SC_Func__Tran_NotAllowed(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if (!SC_Msg_ASMType(Node)) {
		if (true) {
			JB_Msg_Fail(Node, nil);
		}
	}
	return false;
}

bool SC_Func__Tran_Once(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	Message* Arg = JB_Msg_NeedSyx(Node, kJB_SyxArg);
	if (!Arg) {
		return nil;
	}
	if (!JB_Msg_ExpectLast(Arg, nil)) {
		return nil;
	}
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Node, (&_usingf0));
		JB_SetRef(Node->Name, JB_LUB[397]);
		JB_String* Name = JB_Str_OperatorPlusWithInt64(JB_LUB[2304], ((++SC__Func_OnceCount)));
		JB_String* Obj = SC_Base_LateAddTemporary(SC__Comp_Program, JB_LUB[159], Name, JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[7]), Node);
		Message* Rel = JB_Syx_OperatorPlus(kJB_SyxRel, JB_LUB[0]);
		JB_Msg_AppendSyx(Rel, kJB_SyxThg, Obj);
		JB_Msg_AppendSyx(Rel, kJB_SyxOpp, JB_LUB[455]);
		JB_Msg_AppendSyx(Rel, kJB_SyxThg, JB_LUB[6]);
		(JB_Ring_FirstSet(Arg, Rel));
		Message* Brel = JB_Syx_OperatorPlus(kJB_SyxBRel, JB_LUB[96]);
		JB_Msg_AppendSyx(Brel, kJB_SyxThg, Obj);
		(JB_Ring_FirstSet(Node, Brel));
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Node);
		JB_MsgPos_Destructor((&_usingf0));
	}
	SC_Func__Tran_If(Fn, Node, Name_space);
	return false;
}

void SC_Func__Tran_OneIsa(Message* Isa_f, Message* Arg, SCNode* Space) {
	if ((!Arg)) {
		return;
	}
	Message* List = ((Message*)JB_Ring_Last(Isa_f));
	JB_Incr(List);
	Message* L = ((Message*)JB_Ring_First(List));
	JB_Incr(L);
	JB_Decr(List);
	Message* R = ((Message*)JB_Ring_NextSib(L));
	JB_Incr(R);
	SCClass* Cls = SC_Msg_ObjCls(R);
	JB_Incr(Cls);
	if ((!Cls)) {
		JB_Msg_Fail(R, JB_LUB[2238]);
		JB_EarlyDecr(Cls);
		JB_EarlyDecr(R);
		JB_EarlyDecr(L);
		return;
	}
	if ((Cls->IsRole)) {
		JB_Msg_Fail(R, JB_LUB[2239]);
		JB_EarlyDecr(Cls);
		JB_EarlyDecr(R);
		JB_EarlyDecr(L);
		return;
	}
	JB_Decr(R);
	SCDecl* OldDecl = SC_Base_LookUpVarDecl(Space, L->Name);
	JB_Incr(OldDecl);
	if (!OldDecl) {
		JB_EarlyDecr(OldDecl);
		JB_EarlyDecr(Cls);
		JB_EarlyDecr(L);
		return;
	}
	SCDecl* NewDecl = SC_Decl_CopyDecl(OldDecl, false);
	JB_Incr(NewDecl);
	(SC_Decl_SyntaxIsSet(NewDecl, kSC__SCDeclInfo_Body, true));
	(SC_Decl_IsTypeImproveSet(NewDecl, true));
	JB_SetRef(NewDecl->IsLookupOnly, OldDecl);
	JB_Decr(OldDecl);
	JB_SetRef(NewDecl->Type, Cls);
	SCDecl* Oldcont = NewDecl->Contains;
	JB_Incr(Oldcont);
	SCDecl* It = Cls->Contained;
	JB_Incr(It);
	JB_Decr(Cls);
	if (It) {
		if ((!Oldcont) or SC_Class_Real_Isa(It->Type, Oldcont->Type)) {
			JB_SetRef(NewDecl->Contains, It);
		}
	}
	JB_Decr(Oldcont);
	JB_Decr(It);
	if (!Space->Access) {
		JB_SetRef(Space->Access, JB_Dict_Constructor(nil));
	}
	JB_String* _tmPf0 = JB_Str_LowerCase(L->Name);
	JB_Incr(_tmPf0);
	JB_Decr(L);
	(JB_Dict_ValueSet(Space->Access, _tmPf0, NewDecl));
	JB_Decr(NewDecl);
	JB_Decr(_tmPf0);
}

bool SC_Func__Tran_Print(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	SC_Func__Tran_PrintSub(Fn, Node, Name_space);
	JB_FreeIfDead(SC_TypeOfExpr(Node, Name_space, nil));
	return false;
}

bool SC_Func__Tran_PrintSub(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Node, (&_usingf0));
		Message* Prm = JB_Syx_Msg(kJB_SyxPrm, JB_LUB[0]);
		JB_Tree_AppendAll(Prm, Node);
		JB_Tree_SyntaxAppend(Node, Prm);
		(JB_Ring_FirstSet(Node, JB_Syx_OperatorPlus(kJB_SyxThg, Node->Name)));
		JB_Msg_BecomeStr(Node, kJB_SyxFunc, JB_LUB[0]);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Node);
		JB_MsgPos_Destructor((&_usingf0));
	}
	return false;
}

bool SC_Func__Tran_Problem(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	Message* Stuff = JB_Msg_NeedFirst(Node);
	JB_Incr(Stuff);
	if (!Stuff) {
		JB_EarlyDecr(Stuff);
		return nil;
	}
	if (!JB_Msg_ExpectLast(Stuff, nil)) {
		JB_EarlyDecr(Stuff);
		return nil;
	}
	if ((!JB_Msg_EqualsSyx(Stuff, kJB_SyxList)) and (!JB_Msg_EqualsSyx(Stuff, kJB_SyxBra))) {
		JB_SetRef(Stuff, SC_Msg_WrapWith(Stuff, kJB_SyxList, JB_LUB[0]));
	}
	if (true) {
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Node, (&_usingf0));
		Stuff->Func = kJB_SyxPrm;
		JB_Msg_BecomeStr(Node, kJB_SyxBra, JB_LUB[0]);
		Message* Dot = JB_Msg_Msg(Node, kJB_SyxDot, JB_LUB[1406]);
		JB_Incr(Dot);
		Message* _tmPf1 = ((Message*)JB_Ring_First(Stuff));
		JB_Incr(_tmPf1);
		JB_Tree_SyntaxAppend(Dot, _tmPf1);
		JB_Decr(_tmPf1);
		JB_Tree_SyntaxAppend(Dot, Stuff);
		JB_Decr(Dot);
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Node);
		JB_MsgPos_Destructor((&_usingf0));
	}
	JB_Decr(Stuff);
	JB_FreeIfDead(SC_TypeOfExpr(Node, Name_space, nil));
	return false;
}

bool SC_Func__Tran_Quit(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	SC_Msg_MiniTran(Node, Name_space, JB_LUB[588]);
	return false;
}

bool SC_Func__Tran_Remove(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	JB_Tree_Remove(Node);
	return false;
}

bool SC_Func__Tran_Render(Message* Msg, SCClass* Cls) {
	MessagePosition Using2 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Msg, (&Using2));
	bool _tmPf0 = SC_Func__Tran_RenderSub(Msg, Cls);
	JB_MsgPos_Destructor((&Using2));
	return _tmPf0;
}

bool SC_Func__Tran_RenderSub(Message* Msg, SCClass* Cls) {
	JB_SetRef(Msg->Name, JB_LUB[632]);
	Message* _tmPf0 = ((Message*)JB_Ring_First(Msg));
	JB_Incr(_tmPf0);
	bool IsPureRender = (!JB_Msg_EqualsSyx(_tmPf0, kJB_SyxThg));
	JB_Decr(_tmPf0);
	if (IsPureRender) {
		Message* _tmPf1 = JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[1238]);
		JB_Incr(_tmPf1);
		(JB_Ring_FirstSet(Msg, _tmPf1));
		JB_Decr(_tmPf1);
		if (Cls) {
			JB_SetRef(Msg->Name, JB_LUB[97]);
		}
	}
	Message* Arg = SC_Msg_NormaliseFunc(Msg, nil);
	JB_Incr(Arg);
	Message* Name = ((Message*)JB_Ring_First(Msg));
	JB_Incr(Name);
	Message* Params = ((Message*)JB_Ring_NextSib(Name));
	JB_Incr(Params);
	JB_Decr(Name);
	if (SC_Msg_IsBehaviour(Msg)) {
		JB_Msg_AppendSyx(Params, kJB_SyxThg, JB_LUB[1098]);
	}
	 else {
		JB_Msg_CopyAllInto(SC__SCStrings_RenderNewParams, Params);
	}
	JB_Decr(Params);
	if (JB_FreeIfDead(JB_Msg_FindNested(Msg, kJB_SyxThg, JB_LUB[1239], false))) {
		SC_Msg_CopyAllBeforeInto(SC__SCStrings_RenderFinish, Arg, Arg);
		SC_Msg_CopyAllAfterInto(SC__SCStrings_RenderFinish, Arg, Arg);
	}
	JB_Decr(Arg);
	if (SC_Msg_IsBehaviour(Msg)) {
		Message* _tmPf2 = ((Message*)JB_Tree_Second(Msg));
		JB_Incr(_tmPf2);
		JB_Tree_Remove(_tmPf2);
		JB_EarlyDecr(_tmPf2);
		return true;
	}
	return false;
}

Message* SC_Func__Tran_Result(SCFunction* F) {
	SCDecl* Type = F->ReturnType;
	if (SC_Decl_SyntaxIs(Type, kSC__SCDeclInfo_ReturnedStruct)) {
		return nil;
	}
	Message* Src = SC_Func_SourceArg(F);
	if (!(Type and (Src and (!(SC_Msg_OperatorIsTmp(((Message*)JB_Ring_Last(Src)), JB_LUB[453])))))) {
		return nil;
	}
	Message* P = ((Message*)JB_Tree_FlatLast(Src));
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(P, (&_usingf0));
	JB__Tk_Using.Position = (JB_Msg_After(P) + 1);
	Message* Ret = SC_Decl_WriteDeclFull(Type, JB_LUB[1477], 0);
	(JB_Ring_FirstSet(Src, Ret));
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), P);
	JB_MsgPos_Destructor((&_usingf0));
	return Ret;
}

void SC_Func__Tran_ResultFinish(SCFunction* F, Message* R_z, SCNode* Space) {
	if (SC_Func_SyntaxIs(F, kSC__FunctionType_Constructor)) {
		if (!SC_Func_ReturnsObject(F)) {
			return;
		}
	}
	Message* Src = SC_Func_SourceArg(F);
	SCDecl* D = SC_Msg_MsgDecl(R_z);
	if (D) {
		(SC_Decl_SyntaxIsSet(D, kSC__SCDeclInfo_CompilerCreated, true));
	}
	bool Used = D and (SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_ReadFrom) or SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_SetTo));
	SC_Msg_StartUsingAfter(Src);
	if (!Used) {
		JB_Tree_Remove(R_z);
	}
	 else if (!SC_Decl_SyntaxIs(D, kSC__SCDeclInfo_SetTo)) {
		SC_Msg_NotNilRZ(R_z, F->ReturnType, Space);
	}
	if (!((SC_SCBlockage_SyntaxIs(SC_Msg_Blocks(Src), kSC__SCBlockage_Return)) or (SC_Msg_OperatorIsTmp(((Message*)JB_Ring_Last(Src)), JB_LUB[453])))) {
		Message* Last = ((Message*)JB_Tree_FlatLast(Src));
		//using;
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Last, (&_usingf0));
		JB__Tk_Using.Position = (JB_Msg_After(Last) + 1);
		Message* Ret = JB_Msg_Msg(Src, kJB_SyxTmp, JB_LUB[453]);
		(SC_Msg_ASMTypeSet(Ret, kSC__ASMType_kReturn));
		if (Used) {
			JB_SetRef(JB_Msg_Msg(Ret, kJB_SyxThg, JB_LUB[1477])->Obj, D);
		}
		 else {
			JB_Tree_SyntaxAppend(Ret, SC_Decl_CreateDefault(F->ReturnType, Src, true));
		}
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Last);
		JB_MsgPos_Destructor((&_usingf0));
	}
}

bool SC_Func__Tran_Return(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if (SC_Msg_ASMType(Node) == kSC__ASMType_kReturn) {
		return nil;
	}
	(SC_Msg_ASMTypeSet(Node, kSC__ASMType_kReturn));
	if ((!Fn)) {
		JB_Msg_Fail(Node, JB_LUB[985]);
		return nil;
	}
	JB_SetRef(Node->Obj, Fn->ReturnType);
	if (!(JB_Tree_IsLast(Node) and (JB_Tree_OperatorIn(Node, SC_Func_SourceArg(Fn))))) {
		if (SC_Func_SyntaxIs(Fn, kSC__FunctionType_ConOrDes)) {
			JB_Msg_Fail(Node, JB_LUB[1968]);
			return nil;
		}
	}
	if (Fn->StructReturnPos) {
		SC_Msg_StructReturnCleanup(Node, Fn, Name_space);
	}
	SC_Func_CheckReturnValue(Fn, Node, Name_space);
	SC_Msg_LastInBlock(Node, kSC__SCBlockage_Return);
	SC_Msg_CheckNotInStatExpr(Node, SC_Func_SourceArg(Fn));
	return false;
}

void SC_Func__Tran_Sdt(Message* Exp) {
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Exp, (&_usingf0));
	Message* F = JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[401]);
	JB_Incr(F);
	F->RangeLength = 1;
	(JB_Ring_FirstSet(Exp, F));
	JB_Decr(F);
	Exp->Func = kJB_SyxDot;
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Exp);
	JB_MsgPos_Destructor((&_usingf0));
}

void SC_Func__Tran_Strings(Message* Start, SCFunction* Fn) {
	{
		Message* Msg = Start;
		Message* _afterf2 = ((Message*)JB_Ring_FlatAfter(Start));
		while ((Msg) and (Msg != _afterf2)) {
			Message* _N_f3 = ((Message*)JB_Ring_FlatNext0(Msg));
			Syntax F = Msg->Func;
			if (F == kJB_SyxStr) {
				//using;
				MessagePosition _usingf0 = ((MessagePosition){});
				JB_Msg_SyntaxUsing(Msg, (&_usingf0));
				SC_Func__String_Expand(Msg, Fn);
				JB_MsgPos_SyntaxUsingComplete((&_usingf0), Msg);
				JB_MsgPos_Destructor((&_usingf0));
			}
			Msg = _N_f3;
		};
		;
	};
}

bool SC_Func__Tran_Swap(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	(SC_Msg_ASMTypeSet(Node, kSC__ASMType_kSwap));
	if ((!JB_Tree_SyntaxEquals(Node, 2))) {
		JB_Msg_Fail(Node, JB_LUB[1960]);
		return nil;
	}
	JB_SetRef(Node->Name, JB_LUB[1289]);
	Message* Ln = ((Message*)JB_Ring_First(Node));
	Message* Rn = ((Message*)JB_Tree_Second(Node));
	SCDecl* Lc = SC_TypeOfExpr(Ln, Name_space, nil);
	SCDecl* Rc = SC_TypeOfExpr(Rn, Name_space, nil);
	if (SC_Decl_AssignabilityCheck(Lc, Ln, Rn, Rc, false) and SC_Decl_AssignabilityCheck(Rc, Rn, Ln, Lc, false)) {
		if (Lc->Type != Rc->Type) {
			JB_Msg_Fail(Node, JB_LUB[1961]);
			return nil;
		}
		SC_Decl_ExpectRelMatch(Lc, Rc, Rn, nil, Node);
		SC_Decl_ExpectRelMatch(Rc, Lc, Ln, nil, Node);
		SC_Func__Tran_PrintSub(Fn, Node, Name_space);
		JB_SetRef(((Message*)JB_Ring_Last(Node))->Obj, SC__Comp_SwapFunc);
		JB_SetRef(Node->Obj, SC_TypeVoidPtr);
		(SC_Msg_ASMTypeSet(Node, kSC__ASMType_kSwap));
	}
	return false;
}

Message* SC_Func__Tran_Syx(Message* Msg) {
	JB_SetRef(Msg->Name, JB_LUB[1131]);
	Message* Name = JB_Msg_NeedSyx(Msg, kJB_SyxThg);
	JB_Incr(Name);
	if (!Name) {
		JB_EarlyDecr(Name);
		return nil;
	}
	Message* Arg = JB_Msg_Last(Msg, kJB_SyxArg);
	JB_Incr(Arg);
	if (!Arg) {
		JB_EarlyDecr(Arg);
		JB_EarlyDecr(Name);
		return nil;
	}
	JB_Decr(Arg);
	if (JB_Msg_Length(Name) > 4) {
		JB_Msg_Fail(Msg, JB_LUB[1585]);
		JB_EarlyDecr(Name);
		return nil;
	}
	Message* _tmPf1 = JB_Msg_FindSyx(Msg, kJB_SyxBra);
	JB_Incr(_tmPf1);
	Message* Params = JB_Msg_NeedSyx(_tmPf1, kJB_SyxThg);
	JB_Incr(Params);
	JB_Decr(_tmPf1);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Msg, (&_usingf0));
	if (!Params) {
		JB_SetRef(Params, JB_Syx_Msg(kJB_SyxThg, JB_LUB[0]));
		Message* B = JB_Syx_Msg(kJB_SyxBra, JB_LUB[0]);
		JB_Incr(B);
		JB_Tree_SyntaxAppend(B, Params);
		(JB_Ring_NextSibSet(Name, B));
		JB_Decr(B);
	}
	JB_String* OldName = Name->Name;
	JB_Incr(OldName);
	JB_String* SyxName = JB_Str_OperatorPlus(JB_LUB[1586], OldName);
	JB_Incr(SyxName);
	JB_SetRef(Name->Name, JB_Str_OperatorPlus(OldName, JB_LUB[156]));
	JB_String* Longname = Params->Name;
	JB_Incr(Longname);
	JB_SetRef(Params->Name, JB_LUB[1587]);
	JB_Decr(Params);
	Message* _tmPf2 = JB_Msg_Ancestor(Msg, kJB_SyxArg);
	JB_Incr(_tmPf2);
	Message* ArgPlace = JB_Msg_Ancestor(_tmPf2, kJB_SyxArg);
	JB_Incr(ArgPlace);
	JB_Decr(_tmPf2);
	JB_Array_SyntaxAppend(SC__Comp_SyxArray, OldName);
	if (!SC_Options__ModeCake()) {
		Message* Dotnew = JB_Msg_Msg(ArgPlace, kJB_SyxDot, JB_LUB[1588]);
		JB_Incr(Dotnew);
		JB_Msg_AppendSyx(Dotnew, kJB_SyxThg, JB_LUB[639]);
		Message* Prm = JB_Msg_Msg(Dotnew, kJB_SyxPrm, JB_LUB[0]);
		JB_Incr(Prm);
		Message* Dot2 = JB_Msg_Msg(Prm, kJB_SyxDot, Name->Name);
		JB_Incr(Dot2);
		JB_Msg_AppendSyx(Dot2, kJB_SyxThg, JB_LUB[1589]);
		JB_Msg_AppendSyx(Dot2, kJB_SyxEmb, JB_LUB[0]);
		JB_Decr(Dot2);
		JB_String* _tmPf3 = JB_Str_LowerCase(OldName);
		JB_Incr(_tmPf3);
		JB_Msg_AppendString(Prm, _tmPf3);
		JB_Decr(_tmPf3);
		JB_Msg_AppendString(Prm, Longname);
		JB_Msg_AppendNum(Prm, SC__Func_SyxID);
		JB_Decr(Prm);
		SC_Base_CollectOne(SC__Comp_Program, Dotnew, true);
		JB_Decr(Dotnew);
	}
	JB_Decr(Name);
	JB_Decr(OldName);
	JB_Decr(Longname);
	JB_Decr(ArgPlace);
	SCDecl* _tmPf4 = SC_Base_AddNumericConst(SC__Comp_Program, SyxName, SC__Func_SyxID, Msg);
	JB_Incr(_tmPf4);
	JB_Decr(SyxName);
	JB_Array_SyntaxAppend(SC__Comp_ActualSyxes, _tmPf4);
	JB_Decr(_tmPf4);
	(++SC__Func_SyxID);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Msg);
	JB_MsgPos_Destructor((&_usingf0));
	return Msg;
}

bool SC_Func__Tran_Temporal(SCFunction* Fn, Message* S, SCNode* Name_space) {
	DTWrap* TmpInt = ((DTWrap*)JB_Dict_Value0(SC__Func_TemporalStatements, S->Name));
	if (TmpInt) {
		return (((FP_TranFunc)JB_Wrap_SyntaxAccess(TmpInt)))(Fn, S, Name_space);
	}
	if (true) {
		JB_Msg_Fail(S, nil);
	}
	return false;
}

bool SC_Func__Tran_TestProblem(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	JB_String* Str = JB_LUB[1146];
	JB_Incr(Str);
	Message* Msg = JB_Msg_NeedSyxOK(Node, kJB_SyxStr, kJB_SyxNil);
	JB_Incr(Msg);
	if (Msg) {
		JB_Msg_ExpectLast(Msg, nil);
		JB_SetRef(Str, Msg->Name);
	}
	JB_Decr(Msg);
	(JB_Msg_SyntaxProblem(Node, Str));
	JB_Decr(Str);
	SC_Msg_MakeComment(Node);
	return true;
}

bool SC_Func__Tran_Using(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	Message* With = JB_Msg_NeedFirst(Node);
	JB_Incr(With);
	if (!With) {
		JB_EarlyDecr(With);
		return nil;
	}
	Message* Start = Node;
	JB_Incr(Start);
	Message* Arg = ((Message*)JB_Ring_NextSib(With));
	JB_Incr(Arg);
	if (Arg) {
		if (!(JB_Msg_Expect(Arg, kJB_SyxArg, nil) and JB_Msg_ExpectLast(Arg, nil))) {
			JB_EarlyDecr(Arg);
			JB_EarlyDecr(Start);
			JB_EarlyDecr(With);
			return nil;
		}
		JB_SetRef(Start, nil);
	}
	 else {
		JB_SetRef(Arg, ((Message*)JB_Ring_Parent(Node)));
	}
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Node, (&_usingf0));
	SCFunction* _tmPf1 = SC_Func__CurrFunc();
	JB_Incr(_tmPf1);
	JB_String* Name = SC_UniqueTmpVar(_tmPf1, JB_LUB[457]);
	JB_Incr(Name);
	JB_Decr(_tmPf1);
	Message* WithFirst = ((Message*)JB_Ring_First(With));
	JB_Incr(WithFirst);
	if (!JB_Msg_EqualsSyx(With, kJB_SyxBra)) {
		JB_SetRef(WithFirst, With);
		JB_FreeIfDead(SC_Msg_WrapWith(With, kJB_SyxBra, JB_LUB[0]));
	}
	JB_Decr(With);
	if (!(((JB_Msg_EqualsSyx(WithFirst, kJB_SyxThg)) or (JB_Msg_EqualsSyx(WithFirst, kJB_SyxNum))) or JB_Msg_IsString(WithFirst))) {
		SCFunction* _tmPf2 = SC_Func__CurrFunc();
		JB_Incr(_tmPf2);
		JB_String* Declname = SC_UniqueTmpVar(_tmPf2, JB_LUB[1522]);
		JB_Incr(Declname);
		JB_Decr(_tmPf2);
		Message* ThgDecl = SC_MakeDecl(JB_LUB[0], Declname, WithFirst, kSC__SCDeclInfo_Temp);
		JB_Incr(ThgDecl);
		Message* WithFirst2 = JB_Syx_OperatorPlus(kJB_SyxThg, Declname);
		JB_Incr(WithFirst2);
		JB_Decr(Declname);
		JB_SetRef(WithFirst2->Obj, WithFirst->Obj);
		JB_SetRef(WithFirst, WithFirst2);
		JB_Decr(WithFirst2);
		JB_Tree_AppendAfter(Arg, ThgDecl, Start);
		JB_SetRef(Start, ThgDecl);
		JB_Decr(ThgDecl);
	}
	Message* UsingObj = JB_Syx_OperatorPlus(kJB_SyxDot, JB_LUB[1523]);
	JB_Incr(UsingObj);
	JB_Tree_SyntaxAppend(UsingObj, WithFirst);
	JB_Msg_AppendSyx(UsingObj, kJB_SyxEmb, JB_LUB[0]);
	Message* Item = JB_Syx_OperatorPlus(kJB_SyxDot, JB_LUB[1524]);
	JB_Incr(Item);
	JB_Msg_AppendSyx(Item, kJB_SyxThg, Name);
	Message* _tmPf3 = JB_Msg_Msg(Item, kJB_SyxPrm, JB_LUB[0]);
	JB_Incr(_tmPf3);
	Message* _tmPf4 = JB_Msg_Copy(WithFirst, nil);
	JB_Incr(_tmPf4);
	JB_Decr(WithFirst);
	JB_Tree_SyntaxAppend(_tmPf3, _tmPf4);
	JB_Decr(_tmPf3);
	JB_Decr(_tmPf4);
	Message* Decl = SC_MakeDecl(JB_LUB[0], Name, UsingObj, 0);
	JB_Incr(Decl);
	JB_Decr(Name);
	JB_Decr(UsingObj);
	JB_Tree_AppendAfter(Arg, Decl, Start);
	JB_Decr(Start);
	JB_Decr(Decl);
	Message* _tmPf5 = SC_Msg_UnReachable(Arg);
	JB_Incr(_tmPf5);
	JB_Tree_AppendBefore(Arg, Item, _tmPf5);
	JB_Decr(Item);
	JB_Decr(_tmPf5);
	if (JB_Tree_OperatorIn(Arg, Node)) {
		JB_SetRef(Node->Name, JB_LUB[397]);
		Message* _tmPf6 = ((Message*)JB_Ring_First(Node));
		JB_Incr(_tmPf6);
		JB_Msg_AppendSyx(_tmPf6, kJB_SyxThg, JB_LUB[6]);
		JB_Decr(_tmPf6);
	}
	 else {
		SC_Msg_MakeComment(Node);
	}
	JB_Decr(Arg);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Node);
	JB_MsgPos_Destructor((&_usingf0));
	return false;
}

bool SC_Func__Tran_Visible(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	if ((!Fn)) {
		JB_Msg_Fail(Node, JB_LUB[985]);
		return nil;
	}
	SC_Base_LoadVisibility(Fn, Node);
	return false;
}

bool SC_Func__Tran_While(SCFunction* Fn, Message* Node, SCNode* Name_space) {
	(++SC__Func_InBranch);
	(++SC__Func_InLoop);
	SC_Func__Tran_WhileSub(Name_space, Node);
	if (Fn) {
		SC_Func__Tran_All_Final(Fn, Node, Name_space, kJB_SyxArg);
	}
	(--SC__Func_InLoop);
	(--SC__Func_InBranch);
	return true;
}

void SC_Func__Tran_WhileSub(SCNode* Name_space, Message* Node) {
	if (SC_Msg_ASMType(Node) == kSC__ASMType_kWhile) {
		return;
	}
	JB_SetRef(Node->Name, JB_LUB[398]);
	(SC_Msg_ASMTypeSet(Node, kSC__ASMType_kWhile));
	Message* Parent = ((Message*)JB_Ring_Parent(Node));
	JB_Incr(Parent);
	if (Parent) {
		(SC_Msg_ASMTypeSet(Parent, ((ASMType)kJB_SyxTril)));
	}
	JB_Decr(Parent);
	Message* Cond = JB_Msg_NeedFirst(Node);
	JB_Incr(Cond);
	if (!Cond) {
		JB_EarlyDecr(Cond);
		return;
	}
	Message* Arg = ((Message*)JB_Ring_NextSib(Cond));
	JB_Incr(Arg);
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Node, (&_usingf0));
	if ((JB_Msg_EqualsSyx(Cond, kJB_SyxArg))) {
		JB_SetRef(Cond, JB_Syx_OperatorPlus(kJB_SyxThg, JB_LUB[6]));
		(JB_Ring_FirstSet(Node, Cond));
		JB_SetRef(Arg, ((Message*)JB_Ring_NextSib(Cond)));
	}
	 else {
		if (!Arg) {
			JB_SetRef(Arg, JB_Msg_GiveArg(Node));
		}
		Message* Decl = ((Message*)JB_Ring_First(Cond));
		JB_Incr(Decl);
		if ((JB_Msg_EqualsSyx(Decl, kJB_SyxDecl))) {
			Cond->Func = kJB_SyxBra;
			JB_SetRef(Cond, JB_Msg_Msg(Cond, kJB_SyxThg, JB_LUB[6]));
			(JB_Ring_FirstSet(Arg, Decl));
			Message* Dname = SC_Msg_DeclName(Decl);
			JB_Incr(Dname);
			if (Dname) {
				Message* _tmPf2 = JB_Msg_Copy(Dname, nil);
				JB_Incr(_tmPf2);
				Message* _tmPf1 = JB_Macro_CallFast(SC__Macros_WhileDecl, _tmPf2, nil);
				JB_Incr(_tmPf1);
				JB_Decr(_tmPf2);
				(JB_Ring_NextSibSet(Decl, _tmPf1));
				JB_Decr(_tmPf1);
			}
			JB_Decr(Dname);
		}
		 else {
			JB_SetRef(Cond, SC_Msg_ExpandToBool(Cond, Name_space));
			if (!Cond) {
				JB_EarlyDecr(Decl);
				JB_MsgPos_Destructor((&_usingf0));
				JB_EarlyDecr(Arg);
				JB_EarlyDecr(Cond);
				return;
			}
		}
		JB_Decr(Decl);
	}
	JB_FreeIfDead(SC_Msg_NeedBra(Cond));
	SC_Msg_CheckContinuesAndExits(Arg);
	SC_Func__Tran_Isa(Node, Name_space);
	Message* ExitCond = ((Message*)JB_Ring_NextSib(Arg));
	JB_Incr(ExitCond);
	if (ExitCond) {
		JB_Tree_Remove(ExitCond);
		JB_SetRef(ExitCond, SC_Msg_Negate(ExitCond));
		Message* Exit = JB_Syx_OperatorPlus(kJB_SyxTmp, JB_LUB[589]);
		JB_Incr(Exit);
		Message* Tmp = JB_Msg_Msg(Arg, kJB_SyxTmp, JB_LUB[397]);
		JB_Incr(Tmp);
		JB_Tree_SyntaxAppend(Tmp, ExitCond);
		Message* _tmPf3 = JB_Msg_Msg(Tmp, kJB_SyxArg, JB_LUB[0]);
		JB_Incr(_tmPf3);
		JB_Decr(Tmp);
		JB_Tree_SyntaxAppend(_tmPf3, Exit);
		JB_Decr(_tmPf3);
		SC_Msg_LoopExit(Exit);
		JB_Decr(Exit);
		JB_SetRef(Cond, ExitCond);
	}
	JB_Decr(Cond);
	JB_Decr(Arg);
	JB_Decr(ExitCond);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Node);
	JB_MsgPos_Destructor((&_usingf0));
}

void SC_Func__TransformAll() {
	Message* Globinits = SC__Comp_AppInitGlobals;
	if (!SC_Msg_HasActualCode(Globinits)) {
		Message* Fn = SC_Msg_find(SC__Comp_AppInitCode, kJB_SyxFunc, kJB_SyxThg, JB_LUB[2214]);
		if (Fn) {
			JB_Tree_Remove(((Message*)JB_Ring_Parent(Fn)));
		}
	}
	SC__Comp_During = kSC__CompilerStage_Transform;
	{
		Array* _LoopSrcf2 = SC__Comp_FuncList;
		int _if0 = 0;
		while (true) {
			SCFunction* F = ((SCFunction*)JB_Array_Value(_LoopSrcf2, _if0));
			if (F == nil) {
				break;
			}
			if (SC_Rec_TooMany(JB_StdErr)) {
				return;
			}
			SC_Func_Transform(F);
			(++_if0);
		};
	};
}


void SC_Mod_AddInterfaceToTable(SCModule* Self, SCClass* TableCls) {
	SCDecl* D = SC_Decl_Constructor(nil, Self->Cls);
	JB_Incr(D);
	D->NilDeclared = kSC__NilState_Real;
	JB_String* _tmPf0 = SC_Str_InterfaceToBehaviour(Self->Name);
	JB_Incr(_tmPf0);
	(SC_Decl_NameSet(D, _tmPf0));
	JB_Decr(_tmPf0);
	JB_Array_SyntaxAppend(TableCls->Properties, D);
	SC_Base_TryAdd(TableCls, Self->Source, D, D->Name);
	JB_Decr(D);
}

void SC_Mod_AddModuleToFunc(SCModule* Self, SCNode* Space) {
	if (!JB_FreeIfDead(SC_Base_SyntaxAccessWithStr(Space, JB_LUB[401]))) {
		Message* _tmPf0 = SC_Base_FuncSrc(Space);
		JB_Incr(_tmPf0);
		SC_Base_TryAdd(Space, _tmPf0, Self, JB_LUB[401]);
		JB_Decr(_tmPf0);
	}
}

bool SC_Mod_AvoidMain(SCModule* Self, Message* C) {
	if (Self != SC__Comp_Program) {
		return nil;
	}
	SCFile* F = SC_Msg_File(C);
	if (F) {
		return (!F->Proj->IsSTDLib);
	}
	return (!(SC__Comp_Project->IsSTDLib));
}

void SC_Mod_BaseDecls(SCModule* Self) {
	SC_CollectDeclsGlobals(Self->Source, Self);
}

Message* SC_Mod_BuildInitArg(SCModule* Self) {
	Message* Rz = nil;
	Message* S = Self->Source;
	if (S) {
		if (true) {
			MessagePosition _usingf0 = ((MessagePosition){});
			JB_Msg_SyntaxUsing(S, (&_usingf0));
			Rz = SC_Mod_BuildInitArgSub(Self);
			JB_MsgPos_SyntaxUsingComplete((&_usingf0), S);
			JB_MsgPos_Destructor((&_usingf0));
		}
	}
	 else {
		Rz = SC_Mod_BuildInitArgSub(Self);
	}
	return Rz;
}

Message* SC_Mod_BuildInitArgSub(SCModule* Self) {
	Message* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, JB_Syx_Msg(kJB_SyxArg, JB_LUB[0]));
	JB_Msg_AppendSyx(Rz, kJB_SyxArg, JB_LUB[0]);
	Message* _tmPf0 = JB_Msg_Msg(Rz, kJB_SyxTmp, JB_LUB[633]);
	JB_Incr(_tmPf0);
	JB_Msg_AppendSyx(_tmPf0, kJB_SyxThg, JB_LUB[634]);
	JB_Decr(_tmPf0);
	Message* Src = Self->Source;
	JB_Incr(Src);
	if (Src) {
		Message* Ig = JB_Msg_Msg(Src, kJB_SyxTmp, JB_LUB[635]);
		JB_Incr(Ig);
		JB_SetRef(Ig->Obj, Self);
		JB_Tree_SyntaxAppend(Ig, Rz);
		JB_Decr(Ig);
	}
	JB_EarlyDecr(Src);
	JB_SafeDecr(Rz);
	return Rz;
}

void SC_Mod_CallInit(SCModule* Self, Message* Src, Message* Dest, JB_String* Fn_name) {
	if (!(Src and (SC_Msg_HasActualCode(Src) and (Self != SC__Comp_Program)))) {
		return;
	}
	{
		Message* S = Src;
		Message* _afterf2 = ((Message*)JB_Ring_FlatAfter(Src));
		while ((S) and (S != _afterf2)) {
			Message* _N_f3 = ((Message*)JB_Ring_FlatNext0(S));
			if (S->Position < 0) {
				S->Position = 0;
			}
			S = _N_f3;
		};
		;
	}
	;
	//using;
	MessagePosition _usingf0 = ((MessagePosition){});
	JB_Msg_SyntaxUsing(Src, (&_usingf0));
	JB_Msg_AppendSyx(Dest, kJB_SyxSheb, JB_Str_OperatorPlus(JB_LUB[636], Self->Name));
	Message* Dot2 = JB_Msg_Msg(Dest, kJB_SyxDot, Fn_name);
	JB_Msg_AppendSyx(Dot2, kJB_SyxThg, Self->Name);
	JB_Msg_AppendSyx(Dot2, kJB_SyxPrm, JB_LUB[0]);
	JB_MsgPos_SyntaxUsingComplete((&_usingf0), Src);
	JB_MsgPos_Destructor((&_usingf0));
}

void SC_Mod_CallOurInits(SCModule* Self, Message* DestVars, Message* DestCode) {
	SC_Mod_CallInit(Self, Self->InitCodeArg, DestCode, JB_LUB[2240]);
	Message* List = ((Message*)JB_Ring_First(Self->InitVarsArg));
	if (List) {
		SC_Mod_InitDeclFixer(Self, List);
		SC_Mod_CallInit(Self, ((Message*)JB_Ring_Parent(List)), DestVars, JB_LUB[2241]);
	}
}

void SC_Mod_CallOurInitsByTheBiggerInitFunc(SCModule* Self) {
	SCModule* P = SC__Comp_Program;
	if (P == Self) {
		SC_Mod_InitDeclFixer(Self, SC__Comp_AppInitGlobals);
	}
	if (SC_Base_IsLibrary(Self)) {
		SC_Mod_CallOurInits(Self, P->InitVarsArg, P->InitCodeArg);
	}
	 else {
		SC_Mod_CallOurInits(Self, SC__Comp_AppInitGlobals, SC__Comp_AppInitCode);
	}
}

SCModule* SC_Mod_Constructor(SCModule* Self) {
	if (Self == nil) {
		Self = ((SCModule*)JB_NewClass(&SCModuleData));
	}
	SC_SCBetterNode_ConstructorWith0(Self);
	Self->Inited = false;
	Self->IsImport = false;
	Self->IsRequiredInterface = false;
	Self->ModuleNum = 0;
	Self->InitAfter = nil;
	JB_Incr2(Self->CppPart, JB_LUB[0]);
	Self->InitCodeArg = nil;
	Self->Cls = nil;
	Self->InitVarsArg = nil;
	Self->Globals = nil;
	JB_Incr2(Self->DefaultRefs, SC_CppRefs_Constructor(nil, nil));
	Array* C = SC__Comp_ModuleList;
	JB_Incr(C);
	if ((C) != nil) {
		JB_Array_SyntaxAppend(SC__Comp_ModuleList, Self);
	}
	JB_EarlyDecr(C);
	return Self;
}

JB_String* SC_Mod_CppPath(SCModule* Self) {
	JB_Incr(Self);
	JB_String* F = Self->CppPart;
	JB_Incr(F);
	while (true) {
		SCNode* P = Self->Parent;
		JB_Incr(P);
		if (JB_Object_FastIsa(P, &SCModuleData)) {
			if (!((SCModule*)P)->IsImport) {
				JB_SetRef(Self, P);
				JB_String* _tmPf0 = JB_Str_OperatorPlus(JB_LUB[385], F);
				JB_Incr(_tmPf0);
				JB_SetRef(F, JB_Str_OperatorPlus(((SCModule*)P)->CppPart, _tmPf0));
				JB_EarlyDecr(_tmPf0);
				JB_EarlyDecr(P);
				continue;
			}
		}
		JB_EarlyDecr(P);
		break;
	};
	JB_EarlyDecr(Self);
	JB_SafeDecr(F);
	return F;
}

void SC_Mod_CreateInitFunc(SCModule* Self) {
	SC__Base_CurrVisibility = true;
	SC__Mod_Curr = Self;
	Message* Arg = Self->InitCodeArg;
	JB_Incr(Arg);
	if (Arg) {
		SC_Mod_CreateInitFuncSub(Self, Arg, JB_LUB[2240]);
	}
	JB_Decr(Arg);
	Message* Arg2 = Self->InitVarsArg;
	JB_Incr(Arg2);
	if (Arg2) {
		SC_Mod_CreateInitFuncSub(Self, Arg2, JB_LUB[2241]);
	}
	JB_Decr(Arg2);
	SC__Mod_Curr = nil;
}

void SC_Mod_CreateInitFuncSub(SCModule* Self, Message* Init, JB_String* Name) {
	JB_String* Type = JB_LUB[2217];
	JB_Incr(Type);
	SCImport* Curr = SC__Imp_Curr;
	JB_Incr(Curr);
	if ((!SC_Base_IsLibrary(Self)) or (Curr and (!Curr->IsSTDLib))) {
		JB_SetRef(Type, JB_LUB[2218]);
	}
	JB_Decr(Curr);
	JB_String* _tmPf1 = JB_Str_Append4(Type, Name, JB_LUB[2219], nil);
	JB_Incr(_tmPf1);
	JB_Decr(Type);
	Message* Msg = SC_Str_ParseClean(_tmPf1);
	JB_Incr(Msg);
	JB_Decr(_tmPf1);
	JB_Tree_SyntaxAppend(Msg, Init);
	SCFunction* Fn = SC_Mod_NewModuleFunc(Self, Msg);
	JB_Incr(Fn);
	JB_Decr(Msg);
	if (Fn) {
		(SC_Func_SyntaxIsSet(Fn, kSC__FunctionType_InitFunc, true));
	}
	JB_Decr(Fn);
}

void SC_Mod_Destructor(SCModule* Self) {
	//cpp_part;
	JB_Clear(Self->InitAfter);
	JB_Clear(Self->DefaultRefs);
	JB_Clear(Self->CppPart);
	JB_Clear(Self->Globals);
	JB_Clear(Self->InitCodeArg);
	JB_Clear(Self->Cls);
	JB_Clear(Self->InitVarsArg);
	SC_SCBetterNode_Destructor(Self);
}

SCObject* SC_Mod_GetTheNewer(SCModule* Self) {
	while (Self) {
		SCObject* O2 = SC_Base_SyntaxAccessWithStr(Self, JB_LUB[688]);
		if (O2) {
			return O2;
		}
		SCClass* Cls = Self->Cls;
		if (!Cls) {
			return nil;
		}
		if (!Cls->IsRole) {
			return nil;
		}
		Self = SC_Mod_SuperMod(Self);
	};
	return nil;
}

void SC_Mod_GlobalsFix(SCModule* Self) {
	FastString* Fs = JB_FS_Constructor(nil);
	JB_Incr(Fs);
	{
		DictionaryReader* _df0 = JB_Dict_Navigate(Self->Access);
		JB_Incr(_df0);
		while (JB_Nav_MoveNext(_df0)) {
			SCDecl* Decl = SC_DictionaryReader_ValueDecl(_df0);
			JB_Incr(Decl);
			if (Decl) {
				SC_Decl_PrefixedName(Decl, Fs, Self);
			}
			JB_Decr(Decl);
		};
		JB_Decr(_df0);
	}
	;
	JB_Decr(Fs);
}

void SC_Mod_InitDeclFixer(SCModule* Self, Message* List) {
	{
		Message* Msg = ((Message*)JB_Ring_First(List));
		while (Msg) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Msg));
			if (SC_Mod_InitRootDecl(Self, Msg)) {
				JB_Tree_Remove(Msg);
			}
			Msg = _Nf1;
		};
		;
	};
}

void SC_Mod_InitDecls(SCModule* Self) {
	Message* A = ((Message*)JB_Ring_First(Self->InitVarsArg));
	if (JB_Ring_HasChildren(A)) {
		SC_CollectDeclsGlobals(A, Self);
	}
	if (Self == SC__Comp_Program) {
		SC_CollectDeclsGlobals(SC__Comp_AppInitGlobals, Self);
	}
}

bool SC_Mod_InitRootDecl(SCModule* Self, Message* DeclMsg) {
	if (DeclMsg->Func != kJB_SyxDecl) {
		return nil;
	}
	Message* Name = SC_Msg_GetDclName(DeclMsg, false);
	if (!Name) {
		return nil;
	}
	SCObject* Decl = SC_Base_LookUpVarRootDecl(Self, Name->Name, Name);
	if (JB_Object_FastIsa(Decl, &SCDeclData)) {
		if (SC_Decl_IsBareStruct(((SCDecl*)Decl))) {
			return true;
		}
		//using;
		MessagePosition _usingf0 = ((MessagePosition){});
		JB_Msg_SyntaxUsing(Name, (&_usingf0));
		Message* P = ((Message*)JB_Ring_Parent(Name));
		Message* NewDefault = ((Message*)JB_Ternary((JB_Msg_EqualsSyx(P, kJB_SyxRel)), ((Message*)JB_Ring_Last(P)), nil));
		if (!NewDefault) {
			if (!SC_Decl_IsNormal(((SCDecl*)Decl))) {
				JB_MsgPos_Destructor((&_usingf0));
				return true;
			}
			NewDefault = SC_Decl_CreateDefault(((SCDecl*)Decl), Name, true);
			if (NewDefault and ((SCDecl*)Decl)->Contains) {
				NewDefault = SC_Decl_WriteTypeCast(((SCDecl*)Decl), NewDefault);
				JB_SetRef(NewDefault->Obj, nil);
			}
		}
		if (NewDefault) {
			if (!SC_Msg_IsNilOrZero(NewDefault)) {
				Syntax Fn = kJB_SyxSDot;
				if (Self == SC__Comp_Program) {
					Fn = kJB_SyxThg;
				}
				(JB_Ring_PrevSibSet(DeclMsg, SC_NewEqRelWithMsgMsg(JB_Syx_OperatorPlus(Fn, Name->Name), NewDefault)));
			}
		}
		JB_MsgPos_SyntaxUsingComplete((&_usingf0), Name);
		JB_MsgPos_Destructor((&_usingf0));
		return true;
	}
	return false;
}

bool SC_Mod_IsProperModule(SCModule* Self) {
	if (!Self->Parent) {
		return nil;
	}
	if ((Self->Parent == SC__Comp_Program) and (Self->Source == nil)) {
		return false;
	}
	return true;
}

void SC_Mod_LoadModule(SCModule* Self, Message* Node) {
	JB_SetRef(Node->Obj, Self);
	Message* NameMsg = ((Message*)JB_Ring_First(Node));
	if (!Self->Cls) {
		JB_Msg_Expect(NameMsg, kJB_SyxThg, nil);
	}
	Message* Arg = NameMsg;
	if (JB_Msg_EqualsSyx(NameMsg, kJB_SyxThg)) {
		JB_SetRef(Self->Name, NameMsg->Name);
		Message* Sub = ((Message*)JB_Ring_NextSib(NameMsg));
		Arg = Sub;
		if ((JB_Msg_EqualsSyx(Sub, kJB_SyxBra))) {
			Arg = ((Message*)JB_Ring_NextSib(Sub));
		}
	}
	JB_Msg_Expect(Arg, kJB_SyxArg, nil);
	if (!JB_Msg_ExpectLast(Arg, nil)) {
		return;
	}
	JB_SetRef(Self->Source, Arg);
	if (SC__Mod_ModuleDepth == 0) {
		SC_Base_TryAdd(SC__Comp_DisamModules, nil, Self, SC_Mod_SafeName(Self));
	}
	(++SC__Mod_ModuleDepth);
	SC_Base_CollectFromNode(Self, Self->Source, SC__Base_CurrVisibility, nil);
	(--SC__Mod_ModuleDepth);
}

void SC_Mod_MoveToInitFunc(SCModule* Self, Message* C) {
	if ((JB_Msg_EqualsSyx(C, kJB_SyxSheb)) or (JB_Msg_EqualsSyx(C, kJB_SyxURL))) {
		JB_Tree_Remove(C);
		return;
	}
	if (!SC_Msg_AllowedMoveToInit(C)) {
		JB_Msg_Fail(C, nil);
		return;
	}
	Message* Dest = nil;
	if (SC_Mod_AvoidMain(Self, C)) {
		if (!JB_Msg_EqualsSyx(C, kJB_SyxDecl)) {
			Dest = SC__Comp_AppInitCode;
		}
		 else {
			Dest = SC__Comp_AppInitGlobals;
		}
	}
	 else if (JB_Msg_EqualsSyx(C, kJB_SyxDecl)) {
		if (SC_Msg_SettingToNil(C)) {
			return;
		}
		Dest = ({
			Message* _X = Self->InitVarsArg;
			if (_X == nil) {
				_X = SC_Mod_BuildInitArg(Self);
				JB_SetRef(Self->InitVarsArg, _X);
			}
			 _X;
		});
		Dest = ((Message*)JB_Ring_First(Dest));
	}
	 else {
		Dest = ({
			Message* _X = Self->InitCodeArg;
			if (_X == nil) {
				_X = SC_Mod_BuildInitArg(Self);
				JB_SetRef(Self->InitCodeArg, _X);
			}
			 _X;
		});
	}
	JB_Tree_SyntaxAppend(Dest, C);
}

SCFunction* SC_Mod_NewModuleFunc(SCModule* Self, Message* Src) {
	SCFunction* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, ((SCFunction*)SC_Func__NewFunc(Src, Self, Src)));
	if (Rz) {
		SC_Base_TryAddBase(Self, Src, Rz);
	}
	JB_SafeDecr(Rz);
	return Rz;
}

SCModule* SC_Mod_OneOrOther(SCModule* Self, SCModule* B, JB_String* Name) {
	if (Self and B) {
		SC_SCObject_NameConflict(Self, B, Name);
	}
	return B;
}

JB_String* SC_Mod_Render(SCModule* Self, FastString* Fs_in) {
	FastString* Fs = JB_FS__FastNew(Fs_in);
	JB_Incr(Fs);
	SCClass* C = Self->Cls;
	JB_Incr(C);
	if (C) {
		JB_FS_AppendString(Fs, JB_LUB[637]);
		JB_FreeIfDead(SC_Class_Render(C, Fs));
	}
	 else {
		JB_FreeIfDead(SC_SCObject_Render(Self, Fs));
	}
	JB_EarlyDecr(C);
	JB_String* _tmPf0 = JB_FS_SmartResult(Fs, Fs_in);
	JB_Incr(_tmPf0);
	JB_EarlyDecr(Fs);
	JB_SafeDecr(_tmPf0);
	return _tmPf0;
}

JB_String* SC_Mod_SafeName(SCModule* Self) {
	JB_String* N = Self->Name;
	if (JB_Str_Exists(N)) {
		return N;
	}
	SCClass* C = Self->Cls;
	if (C) {
		return C->Name;
	}
	return JB_LUB[0];
}

SCModule* SC_Mod_SuperMod(SCModule* Self) {
	SCClass* C = Self->Cls;
	if (C) {
		SCClass* S = C->Super;
		if (S) {
			return S->Modul;
		}
	}
	return nil;
}

bool SC_Mod_TryInit(SCModule* Self, Array* Req) {
	{
		Message* _LoopSrcf2 = Self->InitAfter;
		Message* Name = ((Message*)JB_Ring_First(_LoopSrcf2));
		while (Name) {
			Message* _Nf1 = ((Message*)JB_Ring_NextSib(Name));
			if (!JB_Msg_Expect(Name, kJB_SyxThg, nil)) {
				return nil;
			}
			SCModule* M = SC_Comp__FindModuleMsg(Name, 0);
			if (!(M and M->Inited)) {
				return nil;
			}
			Name = _Nf1;
		};
		;
	}
	;
	Self->Inited = true;
	JB_Array_SyntaxAppend(Req, Self);
	return true;
}

void SC_Mod_Use(SCModule* Self) {
	SC_Base_Use(Self);
	SC__Mod_Curr = Self;
}

SCNode* SC_Mod__ConstantCollector(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	JB_Tree_SyntaxAppend(SC__Comp_ConstantsList, Node);
	if (JB_Object_FastIsa(Name_space, &SCClassData)) {
		JB_SetRef(Node->Obj, ((SCClass*)Name_space)->Modul);
	}
	 else {
		JB_SetRef(Node->Obj, Name_space);
	}
	return SC__Comp_Program;
}

SCNode* SC_Mod__DoInitAfter(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	SCModule* Mod = SC_Base_SpaceModule(Name_space, Node);
	if (!Mod) {
		return nil;
	}
	JB_SetRef(Mod->InitAfter, JB_Msg_NeedSyxOK(Node, kJB_SyxPrm, kJB_SyxBra));
	return SC__Comp_Program;
}

int SC_Mod__Init_() {
	{
	}
	;
	return 0;
}

SCNode* SC_Mod__NeuModule(Message* Node, SCNode* Name_space, Message* ErrPlace) {
	SCModule* M = SC_Mod_Constructor(nil);
	JB_Incr(M);
	M->Project = SC__Imp_Curr;
	M->Parent = SC_Base_ProjectFix(Name_space);
	if (Node) {
		SC_Mod_LoadModule(M, Node);
	}
	JB_SafeDecr(M);
	return M;
}

SCModule* SC_Mod__NewContainer(JB_String* S) {
	SCModule* Rz = nil;
	JB_Incr(Rz);
	JB_SetRef(Rz, SC_Mod_Constructor(nil));
	JB_SetRef(Rz->Name, S);
	SC_Base_TryAdd(SC__Comp_Program, nil, Rz, S);
	JB_SafeDecr(Rz);
	return Rz;
}

SortComparison SC_Mod__Sorter(SCModule* Self, SCModule* B) {
	SCClass* Ca = Self->Cls;
	SCClass* Cb = B->Cls;
	if ((!Ca) or (!Cb)) {
		if (Ca or Cb) {
			return (((SortComparison)(Cb != nil)));
		}
	}
	 else {
		SCNodeType Tt = Ca->BaseType;
		int D = ((int)Cb->BaseType) - ((int)Tt);
		if (D) {
			return ((SortComparison)D);
		}
		D = (Cb->Depth - Ca->Depth);
		if (D) {
			return ((SortComparison)D);
		}
	}
	return ((SortComparison)(JB_Str_Compare(Self->Name, B->Name, false) <= -1));
}

}

// 3549789513985604331 -3327290652217765304