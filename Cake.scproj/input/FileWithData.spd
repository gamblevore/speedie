
class FileWithData (stringshared)
	default NIL
	false NIL
	|string?|   _Data
	|string|	FileName

	render
		opt norefcounts
		fs <~ self|string|
	
	function GetLine (|int| Pos, |string|)
		opt norefcounts
		|| d = .data
		|| Start = d.Find(charset.Line, pos, 0) // or should that be -1? what if pos == 0?
		|| End = d.find(charset.line, pos, int.max)
		return d[Start+1, End]
		
	function Data (|string|)
		opt norefcounts
		return ._Data init .ReadAll
	
	constructor (|string| Path)
		super.constructor(Path)
		.FileName = path.name
		._data = nil

