#!/usr/local/bin/speedie

 
main
	|| Template = app[0].FileData
	|| list = app[1].FileData.Parse
	|| out = app[2].File
	|| fs = FastString()
	fs <~ str1
	for item in list
		|| name = item["name", true].name
		|| subject = item["subject", true].name
		|| email = item["email", true].name
		if name and subject and email
			|| body = template.replaceall(`$name`, name)
			fs <~ "<p><a href=\"mailto:$email?subject=$subject&body=$body\">$email</a>\n</p>\n"
	
	fs <~ StrFinal
	|| str = fs.GetResult
	out.Data = str
	printline str
	
	

|| str1 = `
<html>
<head>
	<title>mailer</title>
	<style>
body, button, input, textarea {
	font-family:	"Helvetica Neue", Verdana, "Trebuchet MS", "Tahoma", sans-serif;
	font-weight:	300;
	line-height:	1.4em;
	color:			#f1f1f1;
	background: 	#414040;
	text-rendering: optimizeLegibility;
}
	</style>
</head>
<body>
<h4>
<center>Mail Links</center>
</h4>
`

|| StrFinal = "</body>\n</html>"

// 
// 
//
//